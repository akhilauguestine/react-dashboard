var uB=Object.defineProperty,sB=Object.defineProperties;var lB=Object.getOwnPropertyDescriptors;var tR=Object.getOwnPropertySymbols;var cB=Object.prototype.hasOwnProperty,fB=Object.prototype.propertyIsEnumerable;var nR=(t,r,a)=>r in t?uB(t,r,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[r]=a,_d=(t,r)=>{for(var a in r||(r={}))cB.call(r,a)&&nR(t,a,r[a]);if(tR)for(var a of tR(r))fB.call(r,a)&&nR(t,a,r[a]);return t},hv=(t,r)=>sB(t,lB(r));var dB=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports);var wj=dB((Cj,gE)=>{const mB=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))l(g);new MutationObserver(g=>{for(const x of g)if(x.type==="childList")for(const D of x.addedNodes)D.tagName==="LINK"&&D.rel==="modulepreload"&&l(D)}).observe(document,{childList:!0,subtree:!0});function a(g){const x={};return g.integrity&&(x.integrity=g.integrity),g.referrerpolicy&&(x.referrerPolicy=g.referrerpolicy),g.crossorigin==="use-credentials"?x.credentials="include":g.crossorigin==="anonymous"?x.credentials="omit":x.credentials="same-origin",x}function l(g){if(g.ep)return;g.ep=!0;const x=a(g);fetch(g.href,x)}};mB();var wo={exports:{}},_i={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pb=Symbol.for("react.element"),hB=Symbol.for("react.portal"),pB=Symbol.for("react.fragment"),gB=Symbol.for("react.strict_mode"),vB=Symbol.for("react.profiler"),yB=Symbol.for("react.provider"),bB=Symbol.for("react.context"),wB=Symbol.for("react.forward_ref"),xB=Symbol.for("react.suspense"),CB=Symbol.for("react.memo"),SB=Symbol.for("react.lazy"),rR=Symbol.iterator;function kB(t){return t===null||typeof t!="object"?null:(t=rR&&t[rR]||t["@@iterator"],typeof t=="function"?t:null)}var qO={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},YO=Object.assign,KO={};function Vv(t,r,a){this.props=t,this.context=r,this.refs=KO,this.updater=a||qO}Vv.prototype.isReactComponent={};Vv.prototype.setState=function(t,r){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,r,"setState")};Vv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function XO(){}XO.prototype=Vv.prototype;function vE(t,r,a){this.props=t,this.context=r,this.refs=KO,this.updater=a||qO}var yE=vE.prototype=new XO;yE.constructor=vE;YO(yE,Vv.prototype);yE.isPureReactComponent=!0;var oR=Array.isArray,GO=Object.prototype.hasOwnProperty,bE={current:null},JO={key:!0,ref:!0,__self:!0,__source:!0};function QO(t,r,a){var l,g={},x=null,D=null;if(r!=null)for(l in r.ref!==void 0&&(D=r.ref),r.key!==void 0&&(x=""+r.key),r)GO.call(r,l)&&!JO.hasOwnProperty(l)&&(g[l]=r[l]);var L=arguments.length-2;if(L===1)g.children=a;else if(1<L){for(var U=Array(L),X=0;X<L;X++)U[X]=arguments[X+2];g.children=U}if(t&&t.defaultProps)for(l in L=t.defaultProps,L)g[l]===void 0&&(g[l]=L[l]);return{$$typeof:pb,type:t,key:x,ref:D,props:g,_owner:bE.current}}function EB(t,r){return{$$typeof:pb,type:t.type,key:r,ref:t.ref,props:t.props,_owner:t._owner}}function wE(t){return typeof t=="object"&&t!==null&&t.$$typeof===pb}function TB(t){var r={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(a){return r[a]})}var iR=/\/+/g;function ES(t,r){return typeof t=="object"&&t!==null&&t.key!=null?TB(""+t.key):r.toString(36)}function Sw(t,r,a,l,g){var x=typeof t;(x==="undefined"||x==="boolean")&&(t=null);var D=!1;if(t===null)D=!0;else switch(x){case"string":case"number":D=!0;break;case"object":switch(t.$$typeof){case pb:case hB:D=!0}}if(D)return D=t,g=g(D),t=l===""?"."+ES(D,0):l,oR(g)?(a="",t!=null&&(a=t.replace(iR,"$&/")+"/"),Sw(g,r,a,"",function(X){return X})):g!=null&&(wE(g)&&(g=EB(g,a+(!g.key||D&&D.key===g.key?"":(""+g.key).replace(iR,"$&/")+"/")+t)),r.push(g)),1;if(D=0,l=l===""?".":l+":",oR(t))for(var L=0;L<t.length;L++){x=t[L];var U=l+ES(x,L);D+=Sw(x,r,a,U,g)}else if(U=kB(t),typeof U=="function")for(t=U.call(t),L=0;!(x=t.next()).done;)x=x.value,U=l+ES(x,L++),D+=Sw(x,r,a,U,g);else if(x==="object")throw r=String(t),Error("Objects are not valid as a React child (found: "+(r==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":r)+"). If you meant to render a collection of children, use an array instead.");return D}function nw(t,r,a){if(t==null)return t;var l=[],g=0;return Sw(t,l,"","",function(x){return r.call(a,x,g++)}),l}function _B(t){if(t._status===-1){var r=t._result;r=r(),r.then(function(a){(t._status===0||t._status===-1)&&(t._status=1,t._result=a)},function(a){(t._status===0||t._status===-1)&&(t._status=2,t._result=a)}),t._status===-1&&(t._status=0,t._result=r)}if(t._status===1)return t._result.default;throw t._result}var al={current:null},kw={transition:null},NB={ReactCurrentDispatcher:al,ReactCurrentBatchConfig:kw,ReactCurrentOwner:bE};_i.Children={map:nw,forEach:function(t,r,a){nw(t,function(){r.apply(this,arguments)},a)},count:function(t){var r=0;return nw(t,function(){r++}),r},toArray:function(t){return nw(t,function(r){return r})||[]},only:function(t){if(!wE(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_i.Component=Vv;_i.Fragment=pB;_i.Profiler=vB;_i.PureComponent=vE;_i.StrictMode=gB;_i.Suspense=xB;_i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NB;_i.cloneElement=function(t,r,a){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var l=YO({},t.props),g=t.key,x=t.ref,D=t._owner;if(r!=null){if(r.ref!==void 0&&(x=r.ref,D=bE.current),r.key!==void 0&&(g=""+r.key),t.type&&t.type.defaultProps)var L=t.type.defaultProps;for(U in r)GO.call(r,U)&&!JO.hasOwnProperty(U)&&(l[U]=r[U]===void 0&&L!==void 0?L[U]:r[U])}var U=arguments.length-2;if(U===1)l.children=a;else if(1<U){L=Array(U);for(var X=0;X<U;X++)L[X]=arguments[X+2];l.children=L}return{$$typeof:pb,type:t.type,key:g,ref:x,props:l,_owner:D}};_i.createContext=function(t){return t={$$typeof:bB,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yB,_context:t},t.Consumer=t};_i.createElement=QO;_i.createFactory=function(t){var r=QO.bind(null,t);return r.type=t,r};_i.createRef=function(){return{current:null}};_i.forwardRef=function(t){return{$$typeof:wB,render:t}};_i.isValidElement=wE;_i.lazy=function(t){return{$$typeof:SB,_payload:{_status:-1,_result:t},_init:_B}};_i.memo=function(t,r){return{$$typeof:CB,type:t,compare:r===void 0?null:r}};_i.startTransition=function(t){var r=kw.transition;kw.transition={};try{t()}finally{kw.transition=r}};_i.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};_i.useCallback=function(t,r){return al.current.useCallback(t,r)};_i.useContext=function(t){return al.current.useContext(t)};_i.useDebugValue=function(){};_i.useDeferredValue=function(t){return al.current.useDeferredValue(t)};_i.useEffect=function(t,r){return al.current.useEffect(t,r)};_i.useId=function(){return al.current.useId()};_i.useImperativeHandle=function(t,r,a){return al.current.useImperativeHandle(t,r,a)};_i.useInsertionEffect=function(t,r){return al.current.useInsertionEffect(t,r)};_i.useLayoutEffect=function(t,r){return al.current.useLayoutEffect(t,r)};_i.useMemo=function(t,r){return al.current.useMemo(t,r)};_i.useReducer=function(t,r,a){return al.current.useReducer(t,r,a)};_i.useRef=function(t){return al.current.useRef(t)};_i.useState=function(t){return al.current.useState(t)};_i.useSyncExternalStore=function(t,r,a){return al.current.useSyncExternalStore(t,r,a)};_i.useTransition=function(){return al.current.useTransition()};_i.version="18.1.0";wo.exports=_i;var Zm=wo.exports,dk={},ZO={exports:{}},Zl={},eP={exports:{}},tP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function r(At,Vt){var qt=At.length;At.push(Vt);e:for(;0<qt;){var yn=qt-1>>>1,Yn=At[yn];if(0<g(Yn,Vt))At[yn]=Vt,At[qt]=Yn,qt=yn;else break e}}function a(At){return At.length===0?null:At[0]}function l(At){if(At.length===0)return null;var Vt=At[0],qt=At.pop();if(qt!==Vt){At[0]=qt;e:for(var yn=0,Yn=At.length,Pn=Yn>>>1;yn<Pn;){var dr=2*(yn+1)-1,Zn=At[dr],Cr=dr+1,er=At[Cr];if(0>g(Zn,qt))Cr<Yn&&0>g(er,Zn)?(At[yn]=er,At[Cr]=qt,yn=Cr):(At[yn]=Zn,At[dr]=qt,yn=dr);else if(Cr<Yn&&0>g(er,qt))At[yn]=er,At[Cr]=qt,yn=Cr;else break e}}return Vt}function g(At,Vt){var qt=At.sortIndex-Vt.sortIndex;return qt!==0?qt:At.id-Vt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var x=performance;t.unstable_now=function(){return x.now()}}else{var D=Date,L=D.now();t.unstable_now=function(){return D.now()-L}}var U=[],X=[],se=1,re=null,ee=3,Me=!1,De=!1,ze=!1,mt=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ve=typeof setImmediate!="undefined"?setImmediate:null;typeof navigator!="undefined"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Ae(At){for(var Vt=a(X);Vt!==null;){if(Vt.callback===null)l(X);else if(Vt.startTime<=At)l(X),Vt.sortIndex=Vt.expirationTime,r(U,Vt);else break;Vt=a(X)}}function Ke(At){if(ze=!1,Ae(At),!De)if(a(U)!==null)De=!0,fe(vt);else{var Vt=a(X);Vt!==null&&jt(Ke,Vt.startTime-At)}}function vt(At,Vt){De=!1,ze&&(ze=!1,G(ut),ut=-1),Me=!0;var qt=ee;try{for(Ae(Vt),re=a(U);re!==null&&(!(re.expirationTime>Vt)||At&&!Le());){var yn=re.callback;if(typeof yn=="function"){re.callback=null,ee=re.priorityLevel;var Yn=yn(re.expirationTime<=Vt);Vt=t.unstable_now(),typeof Yn=="function"?re.callback=Yn:re===a(U)&&l(U),Ae(Vt)}else l(U);re=a(U)}if(re!==null)var Pn=!0;else{var dr=a(X);dr!==null&&jt(Ke,dr.startTime-Vt),Pn=!1}return Pn}finally{re=null,ee=qt,Me=!1}}var Ie=!1,Ce=null,ut=-1,$e=5,Je=-1;function Le(){return!(t.unstable_now()-Je<$e)}function J(){if(Ce!==null){var At=t.unstable_now();Je=At;var Vt=!0;try{Vt=Ce(!0,At)}finally{Vt?Ge():(Ie=!1,Ce=null)}}else Ie=!1}var Ge;if(typeof ve=="function")Ge=function(){ve(J)};else if(typeof MessageChannel!="undefined"){var Ze=new MessageChannel,Wt=Ze.port2;Ze.port1.onmessage=J,Ge=function(){Wt.postMessage(null)}}else Ge=function(){mt(J,0)};function fe(At){Ce=At,Ie||(Ie=!0,Ge())}function jt(At,Vt){ut=mt(function(){At(t.unstable_now())},Vt)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(At){At.callback=null},t.unstable_continueExecution=function(){De||Me||(De=!0,fe(vt))},t.unstable_forceFrameRate=function(At){0>At||125<At?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$e=0<At?Math.floor(1e3/At):5},t.unstable_getCurrentPriorityLevel=function(){return ee},t.unstable_getFirstCallbackNode=function(){return a(U)},t.unstable_next=function(At){switch(ee){case 1:case 2:case 3:var Vt=3;break;default:Vt=ee}var qt=ee;ee=Vt;try{return At()}finally{ee=qt}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(At,Vt){switch(At){case 1:case 2:case 3:case 4:case 5:break;default:At=3}var qt=ee;ee=At;try{return Vt()}finally{ee=qt}},t.unstable_scheduleCallback=function(At,Vt,qt){var yn=t.unstable_now();switch(typeof qt=="object"&&qt!==null?(qt=qt.delay,qt=typeof qt=="number"&&0<qt?yn+qt:yn):qt=yn,At){case 1:var Yn=-1;break;case 2:Yn=250;break;case 5:Yn=1073741823;break;case 4:Yn=1e4;break;default:Yn=5e3}return Yn=qt+Yn,At={id:se++,callback:Vt,priorityLevel:At,startTime:qt,expirationTime:Yn,sortIndex:-1},qt>yn?(At.sortIndex=qt,r(X,At),a(U)===null&&At===a(X)&&(ze?(G(ut),ut=-1):ze=!0,jt(Ke,qt-yn))):(At.sortIndex=Yn,r(U,At),De||Me||(De=!0,fe(vt))),At},t.unstable_shouldYield=Le,t.unstable_wrapCallback=function(At){var Vt=ee;return function(){var qt=ee;ee=Vt;try{return At.apply(this,arguments)}finally{ee=qt}}}})(tP);eP.exports=tP;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nP=wo.exports,Ql=eP.exports;function fr(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,a=1;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rP=new Set,Jy={};function Bp(t,r){Bv(t,r),Bv(t+"Capture",r)}function Bv(t,r){for(Jy[t]=r,t=0;t<r.length;t++)rP.add(r[t])}var Bd=!(typeof window=="undefined"||typeof window.document=="undefined"||typeof window.document.createElement=="undefined"),mk=Object.prototype.hasOwnProperty,RB=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,aR={},uR={};function OB(t){return mk.call(uR,t)?!0:mk.call(aR,t)?!1:RB.test(t)?uR[t]=!0:(aR[t]=!0,!1)}function PB(t,r,a,l){if(a!==null&&a.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:a!==null?!a.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function DB(t,r,a,l){if(r===null||typeof r=="undefined"||PB(t,r,a,l))return!0;if(l)return!1;if(a!==null)switch(a.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function ul(t,r,a,l,g,x,D){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=g,this.mustUseProperty=a,this.propertyName=t,this.type=r,this.sanitizeURL=x,this.removeEmptyString=D}var ws={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ws[t]=new ul(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];ws[r]=new ul(r,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ws[t]=new ul(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ws[t]=new ul(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ws[t]=new ul(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ws[t]=new ul(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ws[t]=new ul(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ws[t]=new ul(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ws[t]=new ul(t,5,!1,t.toLowerCase(),null,!1,!1)});var xE=/[\-:]([a-z])/g;function CE(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(xE,CE);ws[r]=new ul(r,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(xE,CE);ws[r]=new ul(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(xE,CE);ws[r]=new ul(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ws[t]=new ul(t,1,!1,t.toLowerCase(),null,!1,!1)});ws.xlinkHref=new ul("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ws[t]=new ul(t,1,!1,t.toLowerCase(),null,!0,!0)});function SE(t,r,a,l){var g=ws.hasOwnProperty(r)?ws[r]:null;(g!==null?g.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(DB(r,a,g,l)&&(a=null),l||g===null?OB(r)&&(a===null?t.removeAttribute(r):t.setAttribute(r,""+a)):g.mustUseProperty?t[g.propertyName]=a===null?g.type===3?!1:"":a:(r=g.attributeName,l=g.attributeNamespace,a===null?t.removeAttribute(r):(g=g.type,a=g===3||g===4&&a===!0?"":""+a,l?t.setAttributeNS(l,r,a):t.setAttribute(r,a))))}var Hd=nP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rw=Symbol.for("react.element"),yv=Symbol.for("react.portal"),bv=Symbol.for("react.fragment"),kE=Symbol.for("react.strict_mode"),hk=Symbol.for("react.profiler"),oP=Symbol.for("react.provider"),iP=Symbol.for("react.context"),EE=Symbol.for("react.forward_ref"),pk=Symbol.for("react.suspense"),gk=Symbol.for("react.suspense_list"),TE=Symbol.for("react.memo"),Lm=Symbol.for("react.lazy"),aP=Symbol.for("react.offscreen"),sR=Symbol.iterator;function ky(t){return t===null||typeof t!="object"?null:(t=sR&&t[sR]||t["@@iterator"],typeof t=="function"?t:null)}var qa=Object.assign,TS;function By(t){if(TS===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);TS=r&&r[1]||""}return`
`+TS+t}var _S=!1;function NS(t,r){if(!t||_S)return"";_S=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(X){var l=X}Reflect.construct(t,[],r)}else{try{r.call()}catch(X){l=X}t.call(r.prototype)}else{try{throw Error()}catch(X){l=X}t()}}catch(X){if(X&&l&&typeof X.stack=="string"){for(var g=X.stack.split(`
`),x=l.stack.split(`
`),D=g.length-1,L=x.length-1;1<=D&&0<=L&&g[D]!==x[L];)L--;for(;1<=D&&0<=L;D--,L--)if(g[D]!==x[L]){if(D!==1||L!==1)do if(D--,L--,0>L||g[D]!==x[L]){var U=`
`+g[D].replace(" at new "," at ");return t.displayName&&U.includes("<anonymous>")&&(U=U.replace("<anonymous>",t.displayName)),U}while(1<=D&&0<=L);break}}}finally{_S=!1,Error.prepareStackTrace=a}return(t=t?t.displayName||t.name:"")?By(t):""}function AB(t){switch(t.tag){case 5:return By(t.type);case 16:return By("Lazy");case 13:return By("Suspense");case 19:return By("SuspenseList");case 0:case 2:case 15:return t=NS(t.type,!1),t;case 11:return t=NS(t.type.render,!1),t;case 1:return t=NS(t.type,!0),t;default:return""}}function vk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case bv:return"Fragment";case yv:return"Portal";case hk:return"Profiler";case kE:return"StrictMode";case pk:return"Suspense";case gk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case iP:return(t.displayName||"Context")+".Consumer";case oP:return(t._context.displayName||"Context")+".Provider";case EE:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case TE:return r=t.displayName||null,r!==null?r:vk(t.type)||"Memo";case Lm:r=t._payload,t=t._init;try{return vk(t(r))}catch{}}return null}function MB(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vk(r);case 8:return r===kE?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function eh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function uP(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function IB(t){var r=uP(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a!="undefined"&&typeof a.get=="function"&&typeof a.set=="function"){var g=a.get,x=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return g.call(this)},set:function(D){l=""+D,x.call(this,D)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(D){l=""+D},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function ow(t){t._valueTracker||(t._valueTracker=IB(t))}function sP(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=uP(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Hw(t){if(t=t||(typeof document!="undefined"?document:void 0),typeof t=="undefined")return null;try{return t.activeElement||t.body}catch{return t.body}}function yk(t,r){var a=r.checked;return qa({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a!=null?a:t._wrapperState.initialChecked})}function lR(t,r){var a=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;a=eh(r.value!=null?r.value:a),t._wrapperState={initialChecked:l,initialValue:a,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function lP(t,r){r=r.checked,r!=null&&SE(t,"checked",r,!1)}function bk(t,r){lP(t,r);var a=eh(r.value),l=r.type;if(a!=null)l==="number"?(a===0&&t.value===""||t.value!=a)&&(t.value=""+a):t.value!==""+a&&(t.value=""+a);else if(l==="submit"||l==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?wk(t,r.type,a):r.hasOwnProperty("defaultValue")&&wk(t,r.type,eh(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function cR(t,r,a){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,a||r===t.value||(t.value=r),t.defaultValue=r}a=t.name,a!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,a!==""&&(t.name=a)}function wk(t,r,a){(r!=="number"||Hw(t.ownerDocument)!==t)&&(a==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+a&&(t.defaultValue=""+a))}var Ly=Array.isArray;function Ov(t,r,a,l){if(t=t.options,r){r={};for(var g=0;g<a.length;g++)r["$"+a[g]]=!0;for(a=0;a<t.length;a++)g=r.hasOwnProperty("$"+t[a].value),t[a].selected!==g&&(t[a].selected=g),g&&l&&(t[a].defaultSelected=!0)}else{for(a=""+eh(a),r=null,g=0;g<t.length;g++){if(t[g].value===a){t[g].selected=!0,l&&(t[g].defaultSelected=!0);return}r!==null||t[g].disabled||(r=t[g])}r!==null&&(r.selected=!0)}}function xk(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(fr(91));return qa({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fR(t,r){var a=r.value;if(a==null){if(a=r.children,r=r.defaultValue,a!=null){if(r!=null)throw Error(fr(92));if(Ly(a)){if(1<a.length)throw Error(fr(93));a=a[0]}r=a}r==null&&(r=""),a=r}t._wrapperState={initialValue:eh(a)}}function cP(t,r){var a=eh(r.value),l=eh(r.defaultValue);a!=null&&(a=""+a,a!==t.value&&(t.value=a),r.defaultValue==null&&t.defaultValue!==a&&(t.defaultValue=a)),l!=null&&(t.defaultValue=""+l)}function dR(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function fP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ck(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?fP(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var iw,dP=function(t){return typeof MSApp!="undefined"&&MSApp.execUnsafeLocalFunction?function(r,a,l,g){MSApp.execUnsafeLocalFunction(function(){return t(r,a,l,g)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(iw=iw||document.createElement("div"),iw.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=iw.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Qy(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var zy={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BB=["Webkit","ms","Moz","O"];Object.keys(zy).forEach(function(t){BB.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),zy[r]=zy[t]})});function mP(t,r,a){return r==null||typeof r=="boolean"||r===""?"":a||typeof r!="number"||r===0||zy.hasOwnProperty(t)&&zy[t]?(""+r).trim():r+"px"}function hP(t,r){t=t.style;for(var a in r)if(r.hasOwnProperty(a)){var l=a.indexOf("--")===0,g=mP(a,r[a],l);a==="float"&&(a="cssFloat"),l?t.setProperty(a,g):t[a]=g}}var LB=qa({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sk(t,r){if(r){if(LB[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(fr(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(fr(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(fr(61))}if(r.style!=null&&typeof r.style!="object")throw Error(fr(62))}}function kk(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ek=null;function _E(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tk=null,Pv=null,Dv=null;function mR(t){if(t=yb(t)){if(typeof Tk!="function")throw Error(fr(280));var r=t.stateNode;r&&(r=vx(r),Tk(t.stateNode,t.type,r))}}function pP(t){Pv?Dv?Dv.push(t):Dv=[t]:Pv=t}function gP(){if(Pv){var t=Pv,r=Dv;if(Dv=Pv=null,mR(t),r)for(t=0;t<r.length;t++)mR(r[t])}}function vP(t,r){return t(r)}function yP(){}var RS=!1;function bP(t,r,a){if(RS)return t(r,a);RS=!0;try{return vP(t,r,a)}finally{RS=!1,(Pv!==null||Dv!==null)&&(yP(),gP())}}function Zy(t,r){var a=t.stateNode;if(a===null)return null;var l=vx(a);if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(fr(231,r,typeof a));return a}var _k=!1;if(Bd)try{var Ey={};Object.defineProperty(Ey,"passive",{get:function(){_k=!0}}),window.addEventListener("test",Ey,Ey),window.removeEventListener("test",Ey,Ey)}catch{_k=!1}function FB(t,r,a,l,g,x,D,L,U){var X=Array.prototype.slice.call(arguments,3);try{r.apply(a,X)}catch(se){this.onError(se)}}var jy=!1,zw=null,jw=!1,Nk=null,HB={onError:function(t){jy=!0,zw=t}};function zB(t,r,a,l,g,x,D,L,U){jy=!1,zw=null,FB.apply(HB,arguments)}function jB(t,r,a,l,g,x,D,L,U){if(zB.apply(this,arguments),jy){if(jy){var X=zw;jy=!1,zw=null}else throw Error(fr(198));jw||(jw=!0,Nk=X)}}function Lp(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function wP(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function hR(t){if(Lp(t)!==t)throw Error(fr(188))}function WB(t){var r=t.alternate;if(!r){if(r=Lp(t),r===null)throw Error(fr(188));return r!==t?null:t}for(var a=t,l=r;;){var g=a.return;if(g===null)break;var x=g.alternate;if(x===null){if(l=g.return,l!==null){a=l;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===a)return hR(g),t;if(x===l)return hR(g),r;x=x.sibling}throw Error(fr(188))}if(a.return!==l.return)a=g,l=x;else{for(var D=!1,L=g.child;L;){if(L===a){D=!0,a=g,l=x;break}if(L===l){D=!0,l=g,a=x;break}L=L.sibling}if(!D){for(L=x.child;L;){if(L===a){D=!0,a=x,l=g;break}if(L===l){D=!0,l=x,a=g;break}L=L.sibling}if(!D)throw Error(fr(189))}}if(a.alternate!==l)throw Error(fr(190))}if(a.tag!==3)throw Error(fr(188));return a.stateNode.current===a?t:r}function xP(t){return t=WB(t),t!==null?CP(t):null}function CP(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=CP(t);if(r!==null)return r;t=t.sibling}return null}var SP=Ql.unstable_scheduleCallback,pR=Ql.unstable_cancelCallback,UB=Ql.unstable_shouldYield,$B=Ql.unstable_requestPaint,hu=Ql.unstable_now,VB=Ql.unstable_getCurrentPriorityLevel,NE=Ql.unstable_ImmediatePriority,kP=Ql.unstable_UserBlockingPriority,Ww=Ql.unstable_NormalPriority,qB=Ql.unstable_LowPriority,EP=Ql.unstable_IdlePriority,mx=null,td=null;function YB(t){if(td&&typeof td.onCommitFiberRoot=="function")try{td.onCommitFiberRoot(mx,t,void 0,(t.current.flags&128)===128)}catch{}}var bf=Math.clz32?Math.clz32:GB,KB=Math.log,XB=Math.LN2;function GB(t){return t>>>=0,t===0?32:31-(KB(t)/XB|0)|0}var aw=64,uw=4194304;function Fy(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uw(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,g=t.suspendedLanes,x=t.pingedLanes,D=a&268435455;if(D!==0){var L=D&~g;L!==0?l=Fy(L):(x&=D,x!==0&&(l=Fy(x)))}else D=a&~g,D!==0?l=Fy(D):x!==0&&(l=Fy(x));if(l===0)return 0;if(r!==0&&r!==l&&(r&g)===0&&(g=l&-l,x=r&-r,g>=x||g===16&&(x&4194240)!==0))return r;if((l&4)!==0&&(l|=a&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=l;0<r;)a=31-bf(r),g=1<<a,l|=t[a],r&=~g;return l}function JB(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function QB(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,g=t.expirationTimes,x=t.pendingLanes;0<x;){var D=31-bf(x),L=1<<D,U=g[D];U===-1?((L&a)===0||(L&l)!==0)&&(g[D]=JB(L,r)):U<=r&&(t.expiredLanes|=L),x&=~L}}function Rk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function TP(){var t=aw;return aw<<=1,(aw&4194240)===0&&(aw=64),t}function OS(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function gb(t,r,a){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bf(r),t[r]=a}function ZB(t,r){var a=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var l=t.eventTimes;for(t=t.expirationTimes;0<a;){var g=31-bf(a),x=1<<g;r[g]=0,l[g]=-1,t[g]=-1,a&=~x}}function RE(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-bf(a),g=1<<l;g&r|t[l]&r&&(t[l]|=r),a&=~g}}var sa=0;function _P(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var NP,OE,RP,OP,PP,Ok=!1,sw=[],Vm=null,qm=null,Ym=null,eb=new Map,tb=new Map,zm=[],eL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gR(t,r){switch(t){case"focusin":case"focusout":Vm=null;break;case"dragenter":case"dragleave":qm=null;break;case"mouseover":case"mouseout":Ym=null;break;case"pointerover":case"pointerout":eb.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":tb.delete(r.pointerId)}}function Ty(t,r,a,l,g,x){return t===null||t.nativeEvent!==x?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:x,targetContainers:[g]},r!==null&&(r=yb(r),r!==null&&OE(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),t)}function tL(t,r,a,l,g){switch(r){case"focusin":return Vm=Ty(Vm,t,r,a,l,g),!0;case"dragenter":return qm=Ty(qm,t,r,a,l,g),!0;case"mouseover":return Ym=Ty(Ym,t,r,a,l,g),!0;case"pointerover":var x=g.pointerId;return eb.set(x,Ty(eb.get(x)||null,t,r,a,l,g)),!0;case"gotpointercapture":return x=g.pointerId,tb.set(x,Ty(tb.get(x)||null,t,r,a,l,g)),!0}return!1}function DP(t){var r=kp(t.target);if(r!==null){var a=Lp(r);if(a!==null){if(r=a.tag,r===13){if(r=wP(a),r!==null){t.blockedOn=r,PP(t.priority,function(){RP(a)});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ew(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=Pk(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Ek=l,a.target.dispatchEvent(l),Ek=null}else return r=yb(a),r!==null&&OE(r),t.blockedOn=a,!1;r.shift()}return!0}function vR(t,r,a){Ew(t)&&a.delete(r)}function nL(){Ok=!1,Vm!==null&&Ew(Vm)&&(Vm=null),qm!==null&&Ew(qm)&&(qm=null),Ym!==null&&Ew(Ym)&&(Ym=null),eb.forEach(vR),tb.forEach(vR)}function _y(t,r){t.blockedOn===r&&(t.blockedOn=null,Ok||(Ok=!0,Ql.unstable_scheduleCallback(Ql.unstable_NormalPriority,nL)))}function nb(t){function r(g){return _y(g,t)}if(0<sw.length){_y(sw[0],t);for(var a=1;a<sw.length;a++){var l=sw[a];l.blockedOn===t&&(l.blockedOn=null)}}for(Vm!==null&&_y(Vm,t),qm!==null&&_y(qm,t),Ym!==null&&_y(Ym,t),eb.forEach(r),tb.forEach(r),a=0;a<zm.length;a++)l=zm[a],l.blockedOn===t&&(l.blockedOn=null);for(;0<zm.length&&(a=zm[0],a.blockedOn===null);)DP(a),a.blockedOn===null&&zm.shift()}var Av=Hd.ReactCurrentBatchConfig,$w=!0;function rL(t,r,a,l){var g=sa,x=Av.transition;Av.transition=null;try{sa=1,PE(t,r,a,l)}finally{sa=g,Av.transition=x}}function oL(t,r,a,l){var g=sa,x=Av.transition;Av.transition=null;try{sa=4,PE(t,r,a,l)}finally{sa=g,Av.transition=x}}function PE(t,r,a,l){if($w){var g=Pk(t,r,a,l);if(g===null)zS(t,r,l,Vw,a),gR(t,l);else if(tL(g,t,r,a,l))l.stopPropagation();else if(gR(t,l),r&4&&-1<eL.indexOf(t)){for(;g!==null;){var x=yb(g);if(x!==null&&NP(x),x=Pk(t,r,a,l),x===null&&zS(t,r,l,Vw,a),x===g)break;g=x}g!==null&&l.stopPropagation()}else zS(t,r,l,null,a)}}var Vw=null;function Pk(t,r,a,l){if(Vw=null,t=_E(l),t=kp(t),t!==null)if(r=Lp(t),r===null)t=null;else if(a=r.tag,a===13){if(t=wP(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Vw=t,null}function AP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VB()){case NE:return 1;case kP:return 4;case Ww:case qB:return 16;case EP:return 536870912;default:return 16}default:return 16}}var Um=null,DE=null,Tw=null;function MP(){if(Tw)return Tw;var t,r=DE,a=r.length,l,g="value"in Um?Um.value:Um.textContent,x=g.length;for(t=0;t<a&&r[t]===g[t];t++);var D=a-t;for(l=1;l<=D&&r[a-l]===g[x-l];l++);return Tw=g.slice(t,1<l?1-l:void 0)}function _w(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function lw(){return!0}function yR(){return!1}function ec(t){function r(a,l,g,x,D){this._reactName=a,this._targetInst=g,this.type=l,this.nativeEvent=x,this.target=D,this.currentTarget=null;for(var L in t)t.hasOwnProperty(L)&&(a=t[L],this[L]=a?a(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?lw:yR,this.isPropagationStopped=yR,this}return qa(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=lw)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=lw)},persist:function(){},isPersistent:lw}),r}var qv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},AE=ec(qv),vb=qa({},qv,{view:0,detail:0}),iL=ec(vb),PS,DS,Ny,hx=qa({},vb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ME,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ny&&(Ny&&t.type==="mousemove"?(PS=t.screenX-Ny.screenX,DS=t.screenY-Ny.screenY):DS=PS=0,Ny=t),PS)},movementY:function(t){return"movementY"in t?t.movementY:DS}}),bR=ec(hx),aL=qa({},hx,{dataTransfer:0}),uL=ec(aL),sL=qa({},vb,{relatedTarget:0}),AS=ec(sL),lL=qa({},qv,{animationName:0,elapsedTime:0,pseudoElement:0}),cL=ec(lL),fL=qa({},qv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),dL=ec(fL),mL=qa({},qv,{data:0}),wR=ec(mL),hL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vL(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=gL[t])?!!r[t]:!1}function ME(){return vL}var yL=qa({},vb,{key:function(t){if(t.key){var r=hL[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=_w(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?pL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ME,charCode:function(t){return t.type==="keypress"?_w(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_w(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),bL=ec(yL),wL=qa({},hx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xR=ec(wL),xL=qa({},vb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ME}),CL=ec(xL),SL=qa({},qv,{propertyName:0,elapsedTime:0,pseudoElement:0}),kL=ec(SL),EL=qa({},hx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),TL=ec(EL),_L=[9,13,27,32],IE=Bd&&"CompositionEvent"in window,Wy=null;Bd&&"documentMode"in document&&(Wy=document.documentMode);var NL=Bd&&"TextEvent"in window&&!Wy,IP=Bd&&(!IE||Wy&&8<Wy&&11>=Wy),CR=String.fromCharCode(32),SR=!1;function BP(t,r){switch(t){case"keyup":return _L.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LP(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wv=!1;function RL(t,r){switch(t){case"compositionend":return LP(r);case"keypress":return r.which!==32?null:(SR=!0,CR);case"textInput":return t=r.data,t===CR&&SR?null:t;default:return null}}function OL(t,r){if(wv)return t==="compositionend"||!IE&&BP(t,r)?(t=MP(),Tw=DE=Um=null,wv=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return IP&&r.locale!=="ko"?null:r.data;default:return null}}var PL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kR(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!PL[t.type]:r==="textarea"}function FP(t,r,a,l){pP(l),r=qw(r,"onChange"),0<r.length&&(a=new AE("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Uy=null,rb=null;function DL(t){XP(t,0)}function px(t){var r=Sv(t);if(sP(r))return t}function AL(t,r){if(t==="change")return r}var HP=!1;if(Bd){var MS;if(Bd){var IS="oninput"in document;if(!IS){var ER=document.createElement("div");ER.setAttribute("oninput","return;"),IS=typeof ER.oninput=="function"}MS=IS}else MS=!1;HP=MS&&(!document.documentMode||9<document.documentMode)}function TR(){Uy&&(Uy.detachEvent("onpropertychange",zP),rb=Uy=null)}function zP(t){if(t.propertyName==="value"&&px(rb)){var r=[];FP(r,rb,t,_E(t)),bP(DL,r)}}function ML(t,r,a){t==="focusin"?(TR(),Uy=r,rb=a,Uy.attachEvent("onpropertychange",zP)):t==="focusout"&&TR()}function IL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return px(rb)}function BL(t,r){if(t==="click")return px(r)}function LL(t,r){if(t==="input"||t==="change")return px(r)}function FL(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var wf=typeof Object.is=="function"?Object.is:FL;function ob(t,r){if(wf(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var g=a[l];if(!mk.call(r,g)||!wf(t[g],r[g]))return!1}return!0}function _R(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function NR(t,r){var a=_R(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=_R(a)}}function jP(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?jP(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function WP(){for(var t=window,r=Hw();r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Hw(t.document)}return r}function BE(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function HL(t){var r=WP(),a=t.focusedElem,l=t.selectionRange;if(r!==a&&a&&a.ownerDocument&&jP(a.ownerDocument.documentElement,a)){if(l!==null&&BE(a)){if(r=l.start,t=l.end,t===void 0&&(t=r),"selectionStart"in a)a.selectionStart=r,a.selectionEnd=Math.min(t,a.value.length);else if(t=(r=a.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var g=a.textContent.length,x=Math.min(l.start,g);l=l.end===void 0?x:Math.min(l.end,g),!t.extend&&x>l&&(g=l,l=x,x=g),g=NR(a,x);var D=NR(a,l);g&&D&&(t.rangeCount!==1||t.anchorNode!==g.node||t.anchorOffset!==g.offset||t.focusNode!==D.node||t.focusOffset!==D.offset)&&(r=r.createRange(),r.setStart(g.node,g.offset),t.removeAllRanges(),x>l?(t.addRange(r),t.extend(D.node,D.offset)):(r.setEnd(D.node,D.offset),t.addRange(r)))}}for(r=[],t=a;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<r.length;a++)t=r[a],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var zL=Bd&&"documentMode"in document&&11>=document.documentMode,xv=null,Dk=null,$y=null,Ak=!1;function RR(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ak||xv==null||xv!==Hw(l)||(l=xv,"selectionStart"in l&&BE(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$y&&ob($y,l)||($y=l,l=qw(Dk,"onSelect"),0<l.length&&(r=new AE("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=xv)))}function cw(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Cv={animationend:cw("Animation","AnimationEnd"),animationiteration:cw("Animation","AnimationIteration"),animationstart:cw("Animation","AnimationStart"),transitionend:cw("Transition","TransitionEnd")},BS={},UP={};Bd&&(UP=document.createElement("div").style,"AnimationEvent"in window||(delete Cv.animationend.animation,delete Cv.animationiteration.animation,delete Cv.animationstart.animation),"TransitionEvent"in window||delete Cv.transitionend.transition);function gx(t){if(BS[t])return BS[t];if(!Cv[t])return t;var r=Cv[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in UP)return BS[t]=r[a];return t}var $P=gx("animationend"),VP=gx("animationiteration"),qP=gx("animationstart"),YP=gx("transitionend"),KP=new Map,OR="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function rh(t,r){KP.set(t,r),Bp(r,[t])}for(var LS=0;LS<OR.length;LS++){var FS=OR[LS],jL=FS.toLowerCase(),WL=FS[0].toUpperCase()+FS.slice(1);rh(jL,"on"+WL)}rh($P,"onAnimationEnd");rh(VP,"onAnimationIteration");rh(qP,"onAnimationStart");rh("dblclick","onDoubleClick");rh("focusin","onFocus");rh("focusout","onBlur");rh(YP,"onTransitionEnd");Bv("onMouseEnter",["mouseout","mouseover"]);Bv("onMouseLeave",["mouseout","mouseover"]);Bv("onPointerEnter",["pointerout","pointerover"]);Bv("onPointerLeave",["pointerout","pointerover"]);Bp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UL=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hy));function PR(t,r,a){var l=t.type||"unknown-event";t.currentTarget=a,jB(l,r,void 0,t),t.currentTarget=null}function XP(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],g=l.event;l=l.listeners;e:{var x=void 0;if(r)for(var D=l.length-1;0<=D;D--){var L=l[D],U=L.instance,X=L.currentTarget;if(L=L.listener,U!==x&&g.isPropagationStopped())break e;PR(g,L,X),x=U}else for(D=0;D<l.length;D++){if(L=l[D],U=L.instance,X=L.currentTarget,L=L.listener,U!==x&&g.isPropagationStopped())break e;PR(g,L,X),x=U}}}if(jw)throw t=Nk,jw=!1,Nk=null,t}function Ra(t,r){var a=r[Fk];a===void 0&&(a=r[Fk]=new Set);var l=t+"__bubble";a.has(l)||(GP(r,t,2,!1),a.add(l))}function HS(t,r,a){var l=0;r&&(l|=4),GP(a,t,l,r)}var fw="_reactListening"+Math.random().toString(36).slice(2);function ib(t){if(!t[fw]){t[fw]=!0,rP.forEach(function(a){a!=="selectionchange"&&(UL.has(a)||HS(a,!1,t),HS(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[fw]||(r[fw]=!0,HS("selectionchange",!1,r))}}function GP(t,r,a,l){switch(AP(r)){case 1:var g=rL;break;case 4:g=oL;break;default:g=PE}a=g.bind(null,r,a,t),g=void 0,!_k||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),l?g!==void 0?t.addEventListener(r,a,{capture:!0,passive:g}):t.addEventListener(r,a,!0):g!==void 0?t.addEventListener(r,a,{passive:g}):t.addEventListener(r,a,!1)}function zS(t,r,a,l,g){var x=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var D=l.tag;if(D===3||D===4){var L=l.stateNode.containerInfo;if(L===g||L.nodeType===8&&L.parentNode===g)break;if(D===4)for(D=l.return;D!==null;){var U=D.tag;if((U===3||U===4)&&(U=D.stateNode.containerInfo,U===g||U.nodeType===8&&U.parentNode===g))return;D=D.return}for(;L!==null;){if(D=kp(L),D===null)return;if(U=D.tag,U===5||U===6){l=x=D;continue e}L=L.parentNode}}l=l.return}bP(function(){var X=x,se=_E(a),re=[];e:{var ee=KP.get(t);if(ee!==void 0){var Me=AE,De=t;switch(t){case"keypress":if(_w(a)===0)break e;case"keydown":case"keyup":Me=bL;break;case"focusin":De="focus",Me=AS;break;case"focusout":De="blur",Me=AS;break;case"beforeblur":case"afterblur":Me=AS;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=bR;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=uL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=CL;break;case $P:case VP:case qP:Me=cL;break;case YP:Me=kL;break;case"scroll":Me=iL;break;case"wheel":Me=TL;break;case"copy":case"cut":case"paste":Me=dL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=xR}var ze=(r&4)!==0,mt=!ze&&t==="scroll",G=ze?ee!==null?ee+"Capture":null:ee;ze=[];for(var ve=X,Ae;ve!==null;){Ae=ve;var Ke=Ae.stateNode;if(Ae.tag===5&&Ke!==null&&(Ae=Ke,G!==null&&(Ke=Zy(ve,G),Ke!=null&&ze.push(ab(ve,Ke,Ae)))),mt)break;ve=ve.return}0<ze.length&&(ee=new Me(ee,De,null,a,se),re.push({event:ee,listeners:ze}))}}if((r&7)===0){e:{if(ee=t==="mouseover"||t==="pointerover",Me=t==="mouseout"||t==="pointerout",ee&&a!==Ek&&(De=a.relatedTarget||a.fromElement)&&(kp(De)||De[Ld]))break e;if((Me||ee)&&(ee=se.window===se?se:(ee=se.ownerDocument)?ee.defaultView||ee.parentWindow:window,Me?(De=a.relatedTarget||a.toElement,Me=X,De=De?kp(De):null,De!==null&&(mt=Lp(De),De!==mt||De.tag!==5&&De.tag!==6)&&(De=null)):(Me=null,De=X),Me!==De)){if(ze=bR,Ke="onMouseLeave",G="onMouseEnter",ve="mouse",(t==="pointerout"||t==="pointerover")&&(ze=xR,Ke="onPointerLeave",G="onPointerEnter",ve="pointer"),mt=Me==null?ee:Sv(Me),Ae=De==null?ee:Sv(De),ee=new ze(Ke,ve+"leave",Me,a,se),ee.target=mt,ee.relatedTarget=Ae,Ke=null,kp(se)===X&&(ze=new ze(G,ve+"enter",De,a,se),ze.target=Ae,ze.relatedTarget=mt,Ke=ze),mt=Ke,Me&&De)t:{for(ze=Me,G=De,ve=0,Ae=ze;Ae;Ae=pv(Ae))ve++;for(Ae=0,Ke=G;Ke;Ke=pv(Ke))Ae++;for(;0<ve-Ae;)ze=pv(ze),ve--;for(;0<Ae-ve;)G=pv(G),Ae--;for(;ve--;){if(ze===G||G!==null&&ze===G.alternate)break t;ze=pv(ze),G=pv(G)}ze=null}else ze=null;Me!==null&&DR(re,ee,Me,ze,!1),De!==null&&mt!==null&&DR(re,mt,De,ze,!0)}}e:{if(ee=X?Sv(X):window,Me=ee.nodeName&&ee.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ee.type==="file")var vt=AL;else if(kR(ee))if(HP)vt=LL;else{vt=IL;var Ie=ML}else(Me=ee.nodeName)&&Me.toLowerCase()==="input"&&(ee.type==="checkbox"||ee.type==="radio")&&(vt=BL);if(vt&&(vt=vt(t,X))){FP(re,vt,a,se);break e}Ie&&Ie(t,ee,X),t==="focusout"&&(Ie=ee._wrapperState)&&Ie.controlled&&ee.type==="number"&&wk(ee,"number",ee.value)}switch(Ie=X?Sv(X):window,t){case"focusin":(kR(Ie)||Ie.contentEditable==="true")&&(xv=Ie,Dk=X,$y=null);break;case"focusout":$y=Dk=xv=null;break;case"mousedown":Ak=!0;break;case"contextmenu":case"mouseup":case"dragend":Ak=!1,RR(re,a,se);break;case"selectionchange":if(zL)break;case"keydown":case"keyup":RR(re,a,se)}var Ce;if(IE)e:{switch(t){case"compositionstart":var ut="onCompositionStart";break e;case"compositionend":ut="onCompositionEnd";break e;case"compositionupdate":ut="onCompositionUpdate";break e}ut=void 0}else wv?BP(t,a)&&(ut="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ut="onCompositionStart");ut&&(IP&&a.locale!=="ko"&&(wv||ut!=="onCompositionStart"?ut==="onCompositionEnd"&&wv&&(Ce=MP()):(Um=se,DE="value"in Um?Um.value:Um.textContent,wv=!0)),Ie=qw(X,ut),0<Ie.length&&(ut=new wR(ut,t,null,a,se),re.push({event:ut,listeners:Ie}),Ce?ut.data=Ce:(Ce=LP(a),Ce!==null&&(ut.data=Ce)))),(Ce=NL?RL(t,a):OL(t,a))&&(X=qw(X,"onBeforeInput"),0<X.length&&(se=new wR("onBeforeInput","beforeinput",null,a,se),re.push({event:se,listeners:X}),se.data=Ce))}XP(re,r)})}function ab(t,r,a){return{instance:t,listener:r,currentTarget:a}}function qw(t,r){for(var a=r+"Capture",l=[];t!==null;){var g=t,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=Zy(t,a),x!=null&&l.unshift(ab(t,x,g)),x=Zy(t,r),x!=null&&l.push(ab(t,x,g))),t=t.return}return l}function pv(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function DR(t,r,a,l,g){for(var x=r._reactName,D=[];a!==null&&a!==l;){var L=a,U=L.alternate,X=L.stateNode;if(U!==null&&U===l)break;L.tag===5&&X!==null&&(L=X,g?(U=Zy(a,x),U!=null&&D.unshift(ab(a,U,L))):g||(U=Zy(a,x),U!=null&&D.push(ab(a,U,L)))),a=a.return}D.length!==0&&t.push({event:r,listeners:D})}var $L=/\r\n?/g,VL=/\u0000|\uFFFD/g;function AR(t){return(typeof t=="string"?t:""+t).replace($L,`
`).replace(VL,"")}function dw(t,r,a){if(r=AR(r),AR(t)!==r&&a)throw Error(fr(425))}function Yw(){}var Mk=null,Ik=null;function Bk(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Lk=typeof setTimeout=="function"?setTimeout:void 0,qL=typeof clearTimeout=="function"?clearTimeout:void 0,MR=typeof Promise=="function"?Promise:void 0,YL=typeof queueMicrotask=="function"?queueMicrotask:typeof MR!="undefined"?function(t){return MR.resolve(null).then(t).catch(KL)}:Lk;function KL(t){setTimeout(function(){throw t})}function jS(t,r){var a=r,l=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(l===0){t.removeChild(g),nb(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=g}while(a);nb(r)}function Pd(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function IR(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}var Yv=Math.random().toString(36).slice(2),Zf="__reactFiber$"+Yv,ub="__reactProps$"+Yv,Ld="__reactContainer$"+Yv,Fk="__reactEvents$"+Yv,XL="__reactListeners$"+Yv,GL="__reactHandles$"+Yv;function kp(t){var r=t[Zf];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Ld]||a[Zf]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=IR(t);t!==null;){if(a=t[Zf])return a;t=IR(t)}return r}t=a,a=t.parentNode}return null}function yb(t){return t=t[Zf]||t[Ld],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sv(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(fr(33))}function vx(t){return t[ub]||null}var Hk=[],kv=-1;function oh(t){return{current:t}}function Oa(t){0>kv||(t.current=Hk[kv],Hk[kv]=null,kv--)}function Ta(t,r){kv++,Hk[kv]=t.current,t.current=r}var th={},Ws=oh(th),Tl=oh(!1),Op=th;function Lv(t,r){var a=t.type.contextTypes;if(!a)return th;var l=t.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in a)g[x]=r[x];return l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=g),g}function _l(t){return t=t.childContextTypes,t!=null}function Kw(){Oa(Tl),Oa(Ws)}function BR(t,r,a){if(Ws.current!==th)throw Error(fr(168));Ta(Ws,r),Ta(Tl,a)}function JP(t,r,a){var l=t.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return a;l=l.getChildContext();for(var g in l)if(!(g in r))throw Error(fr(108,MB(t)||"Unknown",g));return qa({},a,l)}function Xw(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||th,Op=Ws.current,Ta(Ws,t),Ta(Tl,Tl.current),!0}function LR(t,r,a){var l=t.stateNode;if(!l)throw Error(fr(169));a?(t=JP(t,r,Op),l.__reactInternalMemoizedMergedChildContext=t,Oa(Tl),Oa(Ws),Ta(Ws,t)):Oa(Tl),Ta(Tl,a)}var Od=null,yx=!1,WS=!1;function QP(t){Od===null?Od=[t]:Od.push(t)}function JL(t){yx=!0,QP(t)}function ih(){if(!WS&&Od!==null){WS=!0;var t=0,r=sa;try{var a=Od;for(sa=1;t<a.length;t++){var l=a[t];do l=l(!0);while(l!==null)}Od=null,yx=!1}catch(g){throw Od!==null&&(Od=Od.slice(t+1)),SP(NE,ih),g}finally{sa=r,WS=!1}}return null}var QL=Hd.ReactCurrentBatchConfig;function pf(t,r){if(t&&t.defaultProps){r=qa({},r),t=t.defaultProps;for(var a in t)r[a]===void 0&&(r[a]=t[a]);return r}return r}var Gw=oh(null),Jw=null,Ev=null,LE=null;function FE(){LE=Ev=Jw=null}function HE(t){var r=Gw.current;Oa(Gw),t._currentValue=r}function zk(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Mv(t,r){Jw=t,LE=Ev=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&r)!==0&&(El=!0),t.firstContext=null)}function Rc(t){var r=t._currentValue;if(LE!==t)if(t={context:t,memoizedValue:r,next:null},Ev===null){if(Jw===null)throw Error(fr(308));Ev=t,Jw.dependencies={lanes:0,firstContext:t}}else Ev=Ev.next=t;return r}var yf=null,Fm=!1;function zE(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZP(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Md(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function Km(t,r){var a=t.updateQueue;a!==null&&(a=a.shared,WD(t)?(t=a.interleaved,t===null?(r.next=r,yf===null?yf=[a]:yf.push(a)):(r.next=t.next,t.next=r),a.interleaved=r):(t=a.pending,t===null?r.next=r:(r.next=t.next,t.next=r),a.pending=r))}function Nw(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194240)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,RE(t,a)}}function FR(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var g=null,x=null;if(a=a.firstBaseUpdate,a!==null){do{var D={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};x===null?g=x=D:x=x.next=D,a=a.next}while(a!==null);x===null?g=x=r:x=x.next=r}else g=x=r;a={baseState:l.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:l.shared,effects:l.effects},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}function Qw(t,r,a,l){var g=t.updateQueue;Fm=!1;var x=g.firstBaseUpdate,D=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var U=L,X=U.next;U.next=null,D===null?x=X:D.next=X,D=U;var se=t.alternate;se!==null&&(se=se.updateQueue,L=se.lastBaseUpdate,L!==D&&(L===null?se.firstBaseUpdate=X:L.next=X,se.lastBaseUpdate=U))}if(x!==null){var re=g.baseState;D=0,se=X=U=null,L=x;do{var ee=L.lane,Me=L.eventTime;if((l&ee)===ee){se!==null&&(se=se.next={eventTime:Me,lane:0,tag:L.tag,payload:L.payload,callback:L.callback,next:null});e:{var De=t,ze=L;switch(ee=r,Me=a,ze.tag){case 1:if(De=ze.payload,typeof De=="function"){re=De.call(Me,re,ee);break e}re=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ze.payload,ee=typeof De=="function"?De.call(Me,re,ee):De,ee==null)break e;re=qa({},re,ee);break e;case 2:Fm=!0}}L.callback!==null&&L.lane!==0&&(t.flags|=64,ee=g.effects,ee===null?g.effects=[L]:ee.push(L))}else Me={eventTime:Me,lane:ee,tag:L.tag,payload:L.payload,callback:L.callback,next:null},se===null?(X=se=Me,U=re):se=se.next=Me,D|=ee;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ee=L,L=ee.next,ee.next=null,g.lastBaseUpdate=ee,g.shared.pending=null}}while(1);if(se===null&&(U=re),g.baseState=U,g.firstBaseUpdate=X,g.lastBaseUpdate=se,r=g.shared.interleaved,r!==null){g=r;do D|=g.lane,g=g.next;while(g!==r)}else x===null&&(g.shared.lanes=0);Ap|=D,t.lanes=D,t.memoizedState=re}}function HR(t,r,a){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var l=t[r],g=l.callback;if(g!==null){if(l.callback=null,l=a,typeof g!="function")throw Error(fr(191,g));g.call(l)}}}var eD=new nP.Component().refs;function jk(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:qa({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bx={isMounted:function(t){return(t=t._reactInternals)?Lp(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=il(),g=Gm(t),x=Md(l,g);x.payload=r,a!=null&&(x.callback=a),Km(t,x),r=Nc(t,g,l),r!==null&&Nw(r,t,g)},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=il(),g=Gm(t),x=Md(l,g);x.tag=1,x.payload=r,a!=null&&(x.callback=a),Km(t,x),r=Nc(t,g,l),r!==null&&Nw(r,t,g)},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=il(),l=Gm(t),g=Md(a,l);g.tag=2,r!=null&&(g.callback=r),Km(t,g),r=Nc(t,l,a),r!==null&&Nw(r,t,l)}};function zR(t,r,a,l,g,x,D){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,x,D):r.prototype&&r.prototype.isPureReactComponent?!ob(a,l)||!ob(g,x):!0}function tD(t,r,a){var l=!1,g=th,x=r.contextType;return typeof x=="object"&&x!==null?x=Rc(x):(g=_l(r)?Op:Ws.current,l=r.contextTypes,x=(l=l!=null)?Lv(t,g):th),r=new r(a,x),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=bx,t.stateNode=r,r._reactInternals=t,l&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=g,t.__reactInternalMemoizedMaskedChildContext=x),r}function jR(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&bx.enqueueReplaceState(r,r.state,null)}function Wk(t,r,a,l){var g=t.stateNode;g.props=a,g.state=t.memoizedState,g.refs=eD,zE(t);var x=r.contextType;typeof x=="object"&&x!==null?g.context=Rc(x):(x=_l(r)?Op:Ws.current,g.context=Lv(t,x)),g.state=t.memoizedState,x=r.getDerivedStateFromProps,typeof x=="function"&&(jk(t,r,x,a),g.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(r=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),r!==g.state&&bx.enqueueReplaceState(g,g.state,null),Qw(t,a,g,l),g.state=t.memoizedState),typeof g.componentDidMount=="function"&&(t.flags|=4194308)}var Tv=[],_v=0,Zw=null,ex=0,kc=[],Ec=0,Pp=null,Dd=1,Ad="";function Cp(t,r){Tv[_v++]=ex,Tv[_v++]=Zw,Zw=t,ex=r}function nD(t,r,a){kc[Ec++]=Dd,kc[Ec++]=Ad,kc[Ec++]=Pp,Pp=t;var l=Dd;t=Ad;var g=32-bf(l)-1;l&=~(1<<g),a+=1;var x=32-bf(r)+g;if(30<x){var D=g-g%5;x=(l&(1<<D)-1).toString(32),l>>=D,g-=D,Dd=1<<32-bf(r)+g|a<<g|l,Ad=x+t}else Dd=1<<x|a<<g|l,Ad=t}function jE(t){t.return!==null&&(Cp(t,1),nD(t,1,0))}function WE(t){for(;t===Zw;)Zw=Tv[--_v],Tv[_v]=null,ex=Tv[--_v],Tv[_v]=null;for(;t===Pp;)Pp=kc[--Ec],kc[Ec]=null,Ad=kc[--Ec],kc[Ec]=null,Dd=kc[--Ec],kc[Ec]=null}var Jl=null,kl=null,La=!1,vf=null;function rD(t,r){var a=Tc(5,null,null,0);a.elementType="DELETED",a.stateNode=r,a.return=t,r=t.deletions,r===null?(t.deletions=[a],t.flags|=16):r.push(a)}function WR(t,r){switch(t.tag){case 5:var a=t.type;return r=r.nodeType!==1||a.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,Jl=t,kl=Pd(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,Jl=t,kl=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(a=Pp!==null?{id:Dd,overflow:Ad}:null,t.memoizedState={dehydrated:r,treeContext:a,retryLane:1073741824},a=Tc(18,null,null,0),a.stateNode=r,a.return=t,t.child=a,Jl=t,kl=null,!0):!1;default:return!1}}function Uk(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $k(t){if(La){var r=kl;if(r){var a=r;if(!WR(t,r)){if(Uk(t))throw Error(fr(418));r=Pd(a.nextSibling);var l=Jl;r&&WR(t,r)?rD(l,a):(t.flags=t.flags&-4097|2,La=!1,Jl=t)}}else{if(Uk(t))throw Error(fr(418));t.flags=t.flags&-4097|2,La=!1,Jl=t}}}function UR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Jl=t}function Ry(t){if(t!==Jl)return!1;if(!La)return UR(t),La=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!Bk(t.type,t.memoizedProps)),r&&(r=kl)){if(Uk(t)){for(t=kl;t;)t=Pd(t.nextSibling);throw Error(fr(418))}for(;r;)rD(t,r),r=Pd(r.nextSibling)}if(UR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(fr(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"){if(r===0){kl=Pd(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++}t=t.nextSibling}kl=null}}else kl=Jl?Pd(t.stateNode.nextSibling):null;return!0}function Fv(){kl=Jl=null,La=!1}function UE(t){vf===null?vf=[t]:vf.push(t)}function Oy(t,r,a){if(t=a.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(fr(309));var l=a.stateNode}if(!l)throw Error(fr(147,t));var g=l,x=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===x?r.ref:(r=function(D){var L=g.refs;L===eD&&(L=g.refs={}),D===null?delete L[x]:L[x]=D},r._stringRef=x,r)}if(typeof t!="string")throw Error(fr(284));if(!a._owner)throw Error(fr(290,t))}return t}function mw(t,r){throw t=Object.prototype.toString.call(r),Error(fr(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function $R(t){var r=t._init;return r(t._payload)}function oD(t){function r(G,ve){if(t){var Ae=G.deletions;Ae===null?(G.deletions=[ve],G.flags|=16):Ae.push(ve)}}function a(G,ve){if(!t)return null;for(;ve!==null;)r(G,ve),ve=ve.sibling;return null}function l(G,ve){for(G=new Map;ve!==null;)ve.key!==null?G.set(ve.key,ve):G.set(ve.index,ve),ve=ve.sibling;return G}function g(G,ve){return G=nh(G,ve),G.index=0,G.sibling=null,G}function x(G,ve,Ae){return G.index=Ae,t?(Ae=G.alternate,Ae!==null?(Ae=Ae.index,Ae<ve?(G.flags|=2,ve):Ae):(G.flags|=2,ve)):(G.flags|=1048576,ve)}function D(G){return t&&G.alternate===null&&(G.flags|=2),G}function L(G,ve,Ae,Ke){return ve===null||ve.tag!==6?(ve=KS(Ae,G.mode,Ke),ve.return=G,ve):(ve=g(ve,Ae),ve.return=G,ve)}function U(G,ve,Ae,Ke){var vt=Ae.type;return vt===bv?se(G,ve,Ae.props.children,Ke,Ae.key):ve!==null&&(ve.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Lm&&$R(vt)===ve.type)?(Ke=g(ve,Ae.props),Ke.ref=Oy(G,ve,Ae),Ke.return=G,Ke):(Ke=Aw(Ae.type,Ae.key,Ae.props,null,G.mode,Ke),Ke.ref=Oy(G,ve,Ae),Ke.return=G,Ke)}function X(G,ve,Ae,Ke){return ve===null||ve.tag!==4||ve.stateNode.containerInfo!==Ae.containerInfo||ve.stateNode.implementation!==Ae.implementation?(ve=XS(Ae,G.mode,Ke),ve.return=G,ve):(ve=g(ve,Ae.children||[]),ve.return=G,ve)}function se(G,ve,Ae,Ke,vt){return ve===null||ve.tag!==7?(ve=Rp(Ae,G.mode,Ke,vt),ve.return=G,ve):(ve=g(ve,Ae),ve.return=G,ve)}function re(G,ve,Ae){if(typeof ve=="string"&&ve!==""||typeof ve=="number")return ve=KS(""+ve,G.mode,Ae),ve.return=G,ve;if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case rw:return Ae=Aw(ve.type,ve.key,ve.props,null,G.mode,Ae),Ae.ref=Oy(G,null,ve),Ae.return=G,Ae;case yv:return ve=XS(ve,G.mode,Ae),ve.return=G,ve;case Lm:var Ke=ve._init;return re(G,Ke(ve._payload),Ae)}if(Ly(ve)||ky(ve))return ve=Rp(ve,G.mode,Ae,null),ve.return=G,ve;mw(G,ve)}return null}function ee(G,ve,Ae,Ke){var vt=ve!==null?ve.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return vt!==null?null:L(G,ve,""+Ae,Ke);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case rw:return Ae.key===vt?U(G,ve,Ae,Ke):null;case yv:return Ae.key===vt?X(G,ve,Ae,Ke):null;case Lm:return vt=Ae._init,ee(G,ve,vt(Ae._payload),Ke)}if(Ly(Ae)||ky(Ae))return vt!==null?null:se(G,ve,Ae,Ke,null);mw(G,Ae)}return null}function Me(G,ve,Ae,Ke,vt){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number")return G=G.get(Ae)||null,L(ve,G,""+Ke,vt);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case rw:return G=G.get(Ke.key===null?Ae:Ke.key)||null,U(ve,G,Ke,vt);case yv:return G=G.get(Ke.key===null?Ae:Ke.key)||null,X(ve,G,Ke,vt);case Lm:var Ie=Ke._init;return Me(G,ve,Ae,Ie(Ke._payload),vt)}if(Ly(Ke)||ky(Ke))return G=G.get(Ae)||null,se(ve,G,Ke,vt,null);mw(ve,Ke)}return null}function De(G,ve,Ae,Ke){for(var vt=null,Ie=null,Ce=ve,ut=ve=0,$e=null;Ce!==null&&ut<Ae.length;ut++){Ce.index>ut?($e=Ce,Ce=null):$e=Ce.sibling;var Je=ee(G,Ce,Ae[ut],Ke);if(Je===null){Ce===null&&(Ce=$e);break}t&&Ce&&Je.alternate===null&&r(G,Ce),ve=x(Je,ve,ut),Ie===null?vt=Je:Ie.sibling=Je,Ie=Je,Ce=$e}if(ut===Ae.length)return a(G,Ce),La&&Cp(G,ut),vt;if(Ce===null){for(;ut<Ae.length;ut++)Ce=re(G,Ae[ut],Ke),Ce!==null&&(ve=x(Ce,ve,ut),Ie===null?vt=Ce:Ie.sibling=Ce,Ie=Ce);return La&&Cp(G,ut),vt}for(Ce=l(G,Ce);ut<Ae.length;ut++)$e=Me(Ce,G,ut,Ae[ut],Ke),$e!==null&&(t&&$e.alternate!==null&&Ce.delete($e.key===null?ut:$e.key),ve=x($e,ve,ut),Ie===null?vt=$e:Ie.sibling=$e,Ie=$e);return t&&Ce.forEach(function(Le){return r(G,Le)}),La&&Cp(G,ut),vt}function ze(G,ve,Ae,Ke){var vt=ky(Ae);if(typeof vt!="function")throw Error(fr(150));if(Ae=vt.call(Ae),Ae==null)throw Error(fr(151));for(var Ie=vt=null,Ce=ve,ut=ve=0,$e=null,Je=Ae.next();Ce!==null&&!Je.done;ut++,Je=Ae.next()){Ce.index>ut?($e=Ce,Ce=null):$e=Ce.sibling;var Le=ee(G,Ce,Je.value,Ke);if(Le===null){Ce===null&&(Ce=$e);break}t&&Ce&&Le.alternate===null&&r(G,Ce),ve=x(Le,ve,ut),Ie===null?vt=Le:Ie.sibling=Le,Ie=Le,Ce=$e}if(Je.done)return a(G,Ce),La&&Cp(G,ut),vt;if(Ce===null){for(;!Je.done;ut++,Je=Ae.next())Je=re(G,Je.value,Ke),Je!==null&&(ve=x(Je,ve,ut),Ie===null?vt=Je:Ie.sibling=Je,Ie=Je);return La&&Cp(G,ut),vt}for(Ce=l(G,Ce);!Je.done;ut++,Je=Ae.next())Je=Me(Ce,G,ut,Je.value,Ke),Je!==null&&(t&&Je.alternate!==null&&Ce.delete(Je.key===null?ut:Je.key),ve=x(Je,ve,ut),Ie===null?vt=Je:Ie.sibling=Je,Ie=Je);return t&&Ce.forEach(function(J){return r(G,J)}),La&&Cp(G,ut),vt}function mt(G,ve,Ae,Ke){if(typeof Ae=="object"&&Ae!==null&&Ae.type===bv&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case rw:e:{for(var vt=Ae.key,Ie=ve;Ie!==null;){if(Ie.key===vt){if(vt=Ae.type,vt===bv){if(Ie.tag===7){a(G,Ie.sibling),ve=g(Ie,Ae.props.children),ve.return=G,G=ve;break e}}else if(Ie.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===Lm&&$R(vt)===Ie.type){a(G,Ie.sibling),ve=g(Ie,Ae.props),ve.ref=Oy(G,Ie,Ae),ve.return=G,G=ve;break e}a(G,Ie);break}else r(G,Ie);Ie=Ie.sibling}Ae.type===bv?(ve=Rp(Ae.props.children,G.mode,Ke,Ae.key),ve.return=G,G=ve):(Ke=Aw(Ae.type,Ae.key,Ae.props,null,G.mode,Ke),Ke.ref=Oy(G,ve,Ae),Ke.return=G,G=Ke)}return D(G);case yv:e:{for(Ie=Ae.key;ve!==null;){if(ve.key===Ie)if(ve.tag===4&&ve.stateNode.containerInfo===Ae.containerInfo&&ve.stateNode.implementation===Ae.implementation){a(G,ve.sibling),ve=g(ve,Ae.children||[]),ve.return=G,G=ve;break e}else{a(G,ve);break}else r(G,ve);ve=ve.sibling}ve=XS(Ae,G.mode,Ke),ve.return=G,G=ve}return D(G);case Lm:return Ie=Ae._init,mt(G,ve,Ie(Ae._payload),Ke)}if(Ly(Ae))return De(G,ve,Ae,Ke);if(ky(Ae))return ze(G,ve,Ae,Ke);mw(G,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,ve!==null&&ve.tag===6?(a(G,ve.sibling),ve=g(ve,Ae),ve.return=G,G=ve):(a(G,ve),ve=KS(Ae,G.mode,Ke),ve.return=G,G=ve),D(G)):a(G,ve)}return mt}var Hv=oD(!0),iD=oD(!1),bb={},nd=oh(bb),sb=oh(bb),lb=oh(bb);function Ep(t){if(t===bb)throw Error(fr(174));return t}function $E(t,r){switch(Ta(lb,r),Ta(sb,t),Ta(nd,bb),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:Ck(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=Ck(r,t)}Oa(nd),Ta(nd,r)}function zv(){Oa(nd),Oa(sb),Oa(lb)}function aD(t){Ep(lb.current);var r=Ep(nd.current),a=Ck(r,t.type);r!==a&&(Ta(sb,t),Ta(nd,a))}function VE(t){sb.current===t&&(Oa(nd),Oa(sb))}var $a=oh(0);function tx(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var US=[];function qE(){for(var t=0;t<US.length;t++)US[t]._workInProgressVersionPrimary=null;US.length=0}var Rw=Hd.ReactCurrentDispatcher,$S=Hd.ReactCurrentBatchConfig,Dp=0,Va=null,Vu=null,is=null,nx=!1,Vy=!1,cb=0,ZL=0;function Hs(){throw Error(fr(321))}function YE(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!wf(t[a],r[a]))return!1;return!0}function KE(t,r,a,l,g,x){if(Dp=x,Va=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Rw.current=t===null||t.memoizedState===null?r3:o3,t=a(l,g),Vy){x=0;do{if(Vy=!1,cb=0,25<=x)throw Error(fr(301));x+=1,is=Vu=null,r.updateQueue=null,Rw.current=i3,t=a(l,g)}while(Vy)}if(Rw.current=rx,r=Vu!==null&&Vu.next!==null,Dp=0,is=Vu=Va=null,nx=!1,r)throw Error(fr(300));return t}function XE(){var t=cb!==0;return cb=0,t}function Qf(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return is===null?Va.memoizedState=is=t:is=is.next=t,is}function Oc(){if(Vu===null){var t=Va.alternate;t=t!==null?t.memoizedState:null}else t=Vu.next;var r=is===null?Va.memoizedState:is.next;if(r!==null)is=r,Vu=t;else{if(t===null)throw Error(fr(310));Vu=t,t={memoizedState:Vu.memoizedState,baseState:Vu.baseState,baseQueue:Vu.baseQueue,queue:Vu.queue,next:null},is===null?Va.memoizedState=is=t:is=is.next=t}return is}function fb(t,r){return typeof r=="function"?r(t):r}function VS(t){var r=Oc(),a=r.queue;if(a===null)throw Error(fr(311));a.lastRenderedReducer=t;var l=Vu,g=l.baseQueue,x=a.pending;if(x!==null){if(g!==null){var D=g.next;g.next=x.next,x.next=D}l.baseQueue=g=x,a.pending=null}if(g!==null){x=g.next,l=l.baseState;var L=D=null,U=null,X=x;do{var se=X.lane;if((Dp&se)===se)U!==null&&(U=U.next={lane:0,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null}),l=X.hasEagerState?X.eagerState:t(l,X.action);else{var re={lane:se,action:X.action,hasEagerState:X.hasEagerState,eagerState:X.eagerState,next:null};U===null?(L=U=re,D=l):U=U.next=re,Va.lanes|=se,Ap|=se}X=X.next}while(X!==null&&X!==x);U===null?D=l:U.next=L,wf(l,r.memoizedState)||(El=!0),r.memoizedState=l,r.baseState=D,r.baseQueue=U,a.lastRenderedState=l}if(t=a.interleaved,t!==null){g=t;do x=g.lane,Va.lanes|=x,Ap|=x,g=g.next;while(g!==t)}else g===null&&(a.lanes=0);return[r.memoizedState,a.dispatch]}function qS(t){var r=Oc(),a=r.queue;if(a===null)throw Error(fr(311));a.lastRenderedReducer=t;var l=a.dispatch,g=a.pending,x=r.memoizedState;if(g!==null){a.pending=null;var D=g=g.next;do x=t(x,D.action),D=D.next;while(D!==g);wf(x,r.memoizedState)||(El=!0),r.memoizedState=x,r.baseQueue===null&&(r.baseState=x),a.lastRenderedState=x}return[x,l]}function uD(){}function sD(t,r){var a=Va,l=Oc(),g=r(),x=!wf(l.memoizedState,g);if(x&&(l.memoizedState=g,El=!0),l=l.queue,GE(fD.bind(null,a,l,t),[t]),l.getSnapshot!==r||x||is!==null&&is.memoizedState.tag&1){if(a.flags|=2048,db(9,cD.bind(null,a,l,g,r),void 0,null),Yu===null)throw Error(fr(349));(Dp&30)!==0||lD(a,r,g)}return g}function lD(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Va.updateQueue,r===null?(r={lastEffect:null,stores:null},Va.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function cD(t,r,a,l){r.value=a,r.getSnapshot=l,dD(r)&&Nc(t,1,-1)}function fD(t,r,a){return a(function(){dD(r)&&Nc(t,1,-1)})}function dD(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!wf(t,a)}catch{return!0}}function VR(t){var r=Qf();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:fb,lastRenderedState:t},r.queue=t,t=t.dispatch=n3.bind(null,Va,t),[r.memoizedState,t]}function db(t,r,a,l){return t={tag:t,create:r,destroy:a,deps:l,next:null},r=Va.updateQueue,r===null?(r={lastEffect:null,stores:null},Va.updateQueue=r,r.lastEffect=t.next=t):(a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t)),t}function mD(){return Oc().memoizedState}function Ow(t,r,a,l){var g=Qf();Va.flags|=t,g.memoizedState=db(1|r,a,void 0,l===void 0?null:l)}function wx(t,r,a,l){var g=Oc();l=l===void 0?null:l;var x=void 0;if(Vu!==null){var D=Vu.memoizedState;if(x=D.destroy,l!==null&&YE(l,D.deps)){g.memoizedState=db(r,a,x,l);return}}Va.flags|=t,g.memoizedState=db(1|r,a,x,l)}function qR(t,r){return Ow(8390656,8,t,r)}function GE(t,r){return wx(2048,8,t,r)}function hD(t,r){return wx(4,2,t,r)}function pD(t,r){return wx(4,4,t,r)}function gD(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function vD(t,r,a){return a=a!=null?a.concat([t]):null,wx(4,4,gD.bind(null,r,t),a)}function JE(){}function yD(t,r){var a=Oc();r=r===void 0?null:r;var l=a.memoizedState;return l!==null&&r!==null&&YE(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function bD(t,r){var a=Oc();r=r===void 0?null:r;var l=a.memoizedState;return l!==null&&r!==null&&YE(r,l[1])?l[0]:(t=t(),a.memoizedState=[t,r],t)}function wD(t,r,a){return(Dp&21)===0?(t.baseState&&(t.baseState=!1,El=!0),t.memoizedState=a):(wf(a,r)||(a=TP(),Va.lanes|=a,Ap|=a,t.baseState=!0),r)}function e3(t,r){var a=sa;sa=a!==0&&4>a?a:4,t(!0);var l=$S.transition;$S.transition={};try{t(!1),r()}finally{sa=a,$S.transition=l}}function xD(){return Oc().memoizedState}function t3(t,r,a){var l=Gm(t);a={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null},CD(t)?SD(r,a):(kD(t,r,a),a=il(),t=Nc(t,l,a),t!==null&&ED(t,r,l))}function n3(t,r,a){var l=Gm(t),g={lane:l,action:a,hasEagerState:!1,eagerState:null,next:null};if(CD(t))SD(r,g);else{kD(t,r,g);var x=t.alternate;if(t.lanes===0&&(x===null||x.lanes===0)&&(x=r.lastRenderedReducer,x!==null))try{var D=r.lastRenderedState,L=x(D,a);if(g.hasEagerState=!0,g.eagerState=L,wf(L,D))return}catch{}finally{}a=il(),t=Nc(t,l,a),t!==null&&ED(t,r,l)}}function CD(t){var r=t.alternate;return t===Va||r!==null&&r===Va}function SD(t,r){Vy=nx=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function kD(t,r,a){WD(t)?(t=r.interleaved,t===null?(a.next=a,yf===null?yf=[r]:yf.push(r)):(a.next=t.next,t.next=a),r.interleaved=a):(t=r.pending,t===null?a.next=a:(a.next=t.next,t.next=a),r.pending=a)}function ED(t,r,a){if((a&4194240)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,RE(t,a)}}var rx={readContext:Rc,useCallback:Hs,useContext:Hs,useEffect:Hs,useImperativeHandle:Hs,useInsertionEffect:Hs,useLayoutEffect:Hs,useMemo:Hs,useReducer:Hs,useRef:Hs,useState:Hs,useDebugValue:Hs,useDeferredValue:Hs,useTransition:Hs,useMutableSource:Hs,useSyncExternalStore:Hs,useId:Hs,unstable_isNewReconciler:!1},r3={readContext:Rc,useCallback:function(t,r){return Qf().memoizedState=[t,r===void 0?null:r],t},useContext:Rc,useEffect:qR,useImperativeHandle:function(t,r,a){return a=a!=null?a.concat([t]):null,Ow(4194308,4,gD.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ow(4194308,4,t,r)},useInsertionEffect:function(t,r){return Ow(4,2,t,r)},useMemo:function(t,r){var a=Qf();return r=r===void 0?null:r,t=t(),a.memoizedState=[t,r],t},useReducer:function(t,r,a){var l=Qf();return r=a!==void 0?a(r):r,l.memoizedState=l.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},l.queue=t,t=t.dispatch=t3.bind(null,Va,t),[l.memoizedState,t]},useRef:function(t){var r=Qf();return t={current:t},r.memoizedState=t},useState:VR,useDebugValue:JE,useDeferredValue:function(t){return Qf().memoizedState=t},useTransition:function(){var t=VR(!1),r=t[0];return t=e3.bind(null,t[1]),Qf().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,a){var l=Va,g=Qf();if(La){if(a===void 0)throw Error(fr(407));a=a()}else{if(a=r(),Yu===null)throw Error(fr(349));(Dp&30)!==0||lD(l,r,a)}g.memoizedState=a;var x={value:a,getSnapshot:r};return g.queue=x,qR(fD.bind(null,l,x,t),[t]),l.flags|=2048,db(9,cD.bind(null,l,x,a,r),void 0,null),a},useId:function(){var t=Qf(),r=Yu.identifierPrefix;if(La){var a=Ad,l=Dd;a=(l&~(1<<32-bf(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=cb++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=ZL++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},o3={readContext:Rc,useCallback:yD,useContext:Rc,useEffect:GE,useImperativeHandle:vD,useInsertionEffect:hD,useLayoutEffect:pD,useMemo:bD,useReducer:VS,useRef:mD,useState:function(){return VS(fb)},useDebugValue:JE,useDeferredValue:function(t){var r=Oc();return wD(r,Vu.memoizedState,t)},useTransition:function(){var t=VS(fb)[0],r=Oc().memoizedState;return[t,r]},useMutableSource:uD,useSyncExternalStore:sD,useId:xD,unstable_isNewReconciler:!1},i3={readContext:Rc,useCallback:yD,useContext:Rc,useEffect:GE,useImperativeHandle:vD,useInsertionEffect:hD,useLayoutEffect:pD,useMemo:bD,useReducer:qS,useRef:mD,useState:function(){return qS(fb)},useDebugValue:JE,useDeferredValue:function(t){var r=Oc();return Vu===null?r.memoizedState=t:wD(r,Vu.memoizedState,t)},useTransition:function(){var t=qS(fb)[0],r=Oc().memoizedState;return[t,r]},useMutableSource:uD,useSyncExternalStore:sD,useId:xD,unstable_isNewReconciler:!1};function QE(t,r){try{var a="",l=r;do a+=AB(l),l=l.return;while(l);var g=a}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:t,source:r,stack:g}}function Vk(t,r){try{console.error(r.value)}catch(a){setTimeout(function(){throw a})}}var a3=typeof WeakMap=="function"?WeakMap:Map;function TD(t,r,a){a=Md(-1,a),a.tag=3,a.payload={element:null};var l=r.value;return a.callback=function(){ix||(ix=!0,eE=l),Vk(t,r)},a}function _D(t,r,a){a=Md(-1,a),a.tag=3;var l=t.type.getDerivedStateFromError;if(typeof l=="function"){var g=r.value;a.payload=function(){return l(g)},a.callback=function(){Vk(t,r)}}var x=t.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(a.callback=function(){Vk(t,r),typeof l!="function"&&(Xm===null?Xm=new Set([this]):Xm.add(this));var D=r.stack;this.componentDidCatch(r.value,{componentStack:D!==null?D:""})}),a}function YR(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new a3;var g=new Set;l.set(r,g)}else g=l.get(r),g===void 0&&(g=new Set,l.set(r,g));g.has(a)||(g.add(a),t=b3.bind(null,t,r,a),r.then(t,t))}function KR(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function XR(t,r,a,l,g){return(t.mode&1)===0?(t===r?t.flags|=65536:(t.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(r=Md(-1,1),r.tag=2,Km(a,r))),a.lanes|=1),t):(t.flags|=65536,t.lanes=g,t)}var ND,qk,RD,OD;ND=function(t,r){for(var a=r.child;a!==null;){if(a.tag===5||a.tag===6)t.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return;a=a.return}a.sibling.return=a.return,a=a.sibling}};qk=function(){};RD=function(t,r,a,l){var g=t.memoizedProps;if(g!==l){t=r.stateNode,Ep(nd.current);var x=null;switch(a){case"input":g=yk(t,g),l=yk(t,l),x=[];break;case"select":g=qa({},g,{value:void 0}),l=qa({},l,{value:void 0}),x=[];break;case"textarea":g=xk(t,g),l=xk(t,l),x=[];break;default:typeof g.onClick!="function"&&typeof l.onClick=="function"&&(t.onclick=Yw)}Sk(a,l);var D;a=null;for(X in g)if(!l.hasOwnProperty(X)&&g.hasOwnProperty(X)&&g[X]!=null)if(X==="style"){var L=g[X];for(D in L)L.hasOwnProperty(D)&&(a||(a={}),a[D]="")}else X!=="dangerouslySetInnerHTML"&&X!=="children"&&X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&X!=="autoFocus"&&(Jy.hasOwnProperty(X)?x||(x=[]):(x=x||[]).push(X,null));for(X in l){var U=l[X];if(L=g!=null?g[X]:void 0,l.hasOwnProperty(X)&&U!==L&&(U!=null||L!=null))if(X==="style")if(L){for(D in L)!L.hasOwnProperty(D)||U&&U.hasOwnProperty(D)||(a||(a={}),a[D]="");for(D in U)U.hasOwnProperty(D)&&L[D]!==U[D]&&(a||(a={}),a[D]=U[D])}else a||(x||(x=[]),x.push(X,a)),a=U;else X==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,L=L?L.__html:void 0,U!=null&&L!==U&&(x=x||[]).push(X,U)):X==="children"?typeof U!="string"&&typeof U!="number"||(x=x||[]).push(X,""+U):X!=="suppressContentEditableWarning"&&X!=="suppressHydrationWarning"&&(Jy.hasOwnProperty(X)?(U!=null&&X==="onScroll"&&Ra("scroll",t),x||L===U||(x=[])):(x=x||[]).push(X,U))}a&&(x=x||[]).push("style",a);var X=x;(r.updateQueue=X)&&(r.flags|=4)}};OD=function(t,r,a,l){a!==l&&(r.flags|=4)};function Py(t,r){if(!La)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function zs(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var g=t.child;g!==null;)a|=g.lanes|g.childLanes,l|=g.subtreeFlags&14680064,l|=g.flags&14680064,g.return=t,g=g.sibling;else for(g=t.child;g!==null;)a|=g.lanes|g.childLanes,l|=g.subtreeFlags,l|=g.flags,g.return=t,g=g.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function u3(t,r,a){var l=r.pendingProps;switch(WE(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(r),null;case 1:return _l(r.type)&&Kw(),zs(r),null;case 3:return l=r.stateNode,zv(),Oa(Tl),Oa(Ws),qE(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(t===null||t.child===null)&&(Ry(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,vf!==null&&(rE(vf),vf=null))),qk(t,r),zs(r),null;case 5:VE(r);var g=Ep(lb.current);if(a=r.type,t!==null&&r.stateNode!=null)RD(t,r,a,l,g),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(fr(166));return zs(r),null}if(t=Ep(nd.current),Ry(r)){l=r.stateNode,a=r.type;var x=r.memoizedProps;switch(l[Zf]=r,l[ub]=x,t=(r.mode&1)!==0,a){case"dialog":Ra("cancel",l),Ra("close",l);break;case"iframe":case"object":case"embed":Ra("load",l);break;case"video":case"audio":for(g=0;g<Hy.length;g++)Ra(Hy[g],l);break;case"source":Ra("error",l);break;case"img":case"image":case"link":Ra("error",l),Ra("load",l);break;case"details":Ra("toggle",l);break;case"input":lR(l,x),Ra("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!x.multiple},Ra("invalid",l);break;case"textarea":fR(l,x),Ra("invalid",l)}Sk(a,x),g=null;for(var D in x)if(x.hasOwnProperty(D)){var L=x[D];D==="children"?typeof L=="string"?l.textContent!==L&&(x.suppressHydrationWarning!==!0&&dw(l.textContent,L,t),g=["children",L]):typeof L=="number"&&l.textContent!==""+L&&(x.suppressHydrationWarning!==!0&&dw(l.textContent,L,t),g=["children",""+L]):Jy.hasOwnProperty(D)&&L!=null&&D==="onScroll"&&Ra("scroll",l)}switch(a){case"input":ow(l),cR(l,x,!0);break;case"textarea":ow(l),dR(l);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(l.onclick=Yw)}l=g,r.updateQueue=l,l!==null&&(r.flags|=4)}else{D=g.nodeType===9?g:g.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=fP(a)),t==="http://www.w3.org/1999/xhtml"?a==="script"?(t=D.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof l.is=="string"?t=D.createElement(a,{is:l.is}):(t=D.createElement(a),a==="select"&&(D=t,l.multiple?D.multiple=!0:l.size&&(D.size=l.size))):t=D.createElementNS(t,a),t[Zf]=r,t[ub]=l,ND(t,r,!1,!1),r.stateNode=t;e:{switch(D=kk(a,l),a){case"dialog":Ra("cancel",t),Ra("close",t),g=l;break;case"iframe":case"object":case"embed":Ra("load",t),g=l;break;case"video":case"audio":for(g=0;g<Hy.length;g++)Ra(Hy[g],t);g=l;break;case"source":Ra("error",t),g=l;break;case"img":case"image":case"link":Ra("error",t),Ra("load",t),g=l;break;case"details":Ra("toggle",t),g=l;break;case"input":lR(t,l),g=yk(t,l),Ra("invalid",t);break;case"option":g=l;break;case"select":t._wrapperState={wasMultiple:!!l.multiple},g=qa({},l,{value:void 0}),Ra("invalid",t);break;case"textarea":fR(t,l),g=xk(t,l),Ra("invalid",t);break;default:g=l}Sk(a,g),L=g;for(x in L)if(L.hasOwnProperty(x)){var U=L[x];x==="style"?hP(t,U):x==="dangerouslySetInnerHTML"?(U=U?U.__html:void 0,U!=null&&dP(t,U)):x==="children"?typeof U=="string"?(a!=="textarea"||U!=="")&&Qy(t,U):typeof U=="number"&&Qy(t,""+U):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Jy.hasOwnProperty(x)?U!=null&&x==="onScroll"&&Ra("scroll",t):U!=null&&SE(t,x,U,D))}switch(a){case"input":ow(t),cR(t,l,!1);break;case"textarea":ow(t),dR(t);break;case"option":l.value!=null&&t.setAttribute("value",""+eh(l.value));break;case"select":t.multiple=!!l.multiple,x=l.value,x!=null?Ov(t,!!l.multiple,x,!1):l.defaultValue!=null&&Ov(t,!!l.multiple,l.defaultValue,!0);break;default:typeof g.onClick=="function"&&(t.onclick=Yw)}switch(a){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return zs(r),null;case 6:if(t&&r.stateNode!=null)OD(t,r,t.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(fr(166));if(a=Ep(lb.current),Ep(nd.current),Ry(r)){if(l=r.stateNode,a=r.memoizedProps,l[Zf]=r,(x=l.nodeValue!==a)&&(t=Jl,t!==null))switch(t.tag){case 3:dw(l.nodeValue,a,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&dw(l.nodeValue,a,(t.mode&1)!==0)}x&&(r.flags|=4)}else l=(a.nodeType===9?a:a.ownerDocument).createTextNode(l),l[Zf]=r,r.stateNode=l}return zs(r),null;case 13:if(Oa($a),l=r.memoizedState,La&&kl!==null&&(r.mode&1)!==0&&(r.flags&128)===0){for(l=kl;l;)l=Pd(l.nextSibling);return Fv(),r.flags|=98560,r}if(l!==null&&l.dehydrated!==null){if(l=Ry(r),t===null){if(!l)throw Error(fr(318));if(l=r.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(fr(317));l[Zf]=r}else Fv(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;return zs(r),null}return vf!==null&&(rE(vf),vf=null),(r.flags&128)!==0?(r.lanes=a,r):(l=l!==null,a=!1,t===null?Ry(r):a=t.memoizedState!==null,l!==a&&l&&(r.child.flags|=8192,(r.mode&1)!==0&&(t===null||($a.current&1)!==0?qu===0&&(qu=3):oT())),r.updateQueue!==null&&(r.flags|=4),zs(r),null);case 4:return zv(),qk(t,r),t===null&&ib(r.stateNode.containerInfo),zs(r),null;case 10:return HE(r.type._context),zs(r),null;case 17:return _l(r.type)&&Kw(),zs(r),null;case 19:if(Oa($a),x=r.memoizedState,x===null)return zs(r),null;if(l=(r.flags&128)!==0,D=x.rendering,D===null)if(l)Py(x,!1);else{if(qu!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(D=tx(t),D!==null){for(r.flags|=128,Py(x,!1),l=D.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=a,a=r.child;a!==null;)x=a,t=l,x.flags&=14680066,D=x.alternate,D===null?(x.childLanes=0,x.lanes=t,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=D.childLanes,x.lanes=D.lanes,x.child=D.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=D.memoizedProps,x.memoizedState=D.memoizedState,x.updateQueue=D.updateQueue,x.type=D.type,t=D.dependencies,x.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),a=a.sibling;return Ta($a,$a.current&1|2),r.child}t=t.sibling}x.tail!==null&&hu()>jv&&(r.flags|=128,l=!0,Py(x,!1),r.lanes=4194304)}else{if(!l)if(t=tx(D),t!==null){if(r.flags|=128,l=!0,a=t.updateQueue,a!==null&&(r.updateQueue=a,r.flags|=4),Py(x,!0),x.tail===null&&x.tailMode==="hidden"&&!D.alternate&&!La)return zs(r),null}else 2*hu()-x.renderingStartTime>jv&&a!==1073741824&&(r.flags|=128,l=!0,Py(x,!1),r.lanes=4194304);x.isBackwards?(D.sibling=r.child,r.child=D):(a=x.last,a!==null?a.sibling=D:r.child=D,x.last=D)}return x.tail!==null?(r=x.tail,x.rendering=r,x.tail=r.sibling,x.renderingStartTime=hu(),r.sibling=null,a=$a.current,Ta($a,l?a&1|2:a&1),r):(zs(r),null);case 22:case 23:return rT(),l=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==l&&(r.flags|=8192),l&&(r.mode&1)!==0?(Gl&1073741824)!==0&&(zs(r),r.subtreeFlags&6&&(r.flags|=8192)):zs(r),null;case 24:return null;case 25:return null}throw Error(fr(156,r.tag))}var s3=Hd.ReactCurrentOwner,El=!1;function ol(t,r,a,l){r.child=t===null?iD(r,null,a,l):Hv(r,t.child,a,l)}function GR(t,r,a,l,g){a=a.render;var x=r.ref;return Mv(r,g),l=KE(t,r,a,l,x,g),a=XE(),t!==null&&!El?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~g,Fd(t,r,g)):(La&&a&&jE(r),r.flags|=1,ol(t,r,l,g),r.child)}function JR(t,r,a,l,g){if(t===null){var x=a.type;return typeof x=="function"&&!iT(x)&&x.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(r.tag=15,r.type=x,PD(t,r,x,l,g)):(t=Aw(a.type,null,l,r,r.mode,g),t.ref=r.ref,t.return=r,r.child=t)}if(x=t.child,(t.lanes&g)===0){var D=x.memoizedProps;if(a=a.compare,a=a!==null?a:ob,a(D,l)&&t.ref===r.ref)return Fd(t,r,g)}return r.flags|=1,t=nh(x,l),t.ref=r.ref,t.return=r,r.child=t}function PD(t,r,a,l,g){if(t!==null){var x=t.memoizedProps;if(ob(x,l)&&t.ref===r.ref)if(El=!1,r.pendingProps=l=x,(t.lanes&g)!==0)(t.flags&131072)!==0&&(El=!0);else return r.lanes=t.lanes,Fd(t,r,g)}return Yk(t,r,a,l,g)}function DD(t,r,a){var l=r.pendingProps,g=l.children,x=t!==null?t.memoizedState:null;if(l.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ta(Rv,Gl),Gl|=a;else if((a&1073741824)!==0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=x!==null?x.baseLanes:a,Ta(Rv,Gl),Gl|=l;else return t=x!==null?x.baseLanes|a:a,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,Ta(Rv,Gl),Gl|=t,null;else x!==null?(l=x.baseLanes|a,r.memoizedState=null):l=a,Ta(Rv,Gl),Gl|=l;return ol(t,r,g,a),r.child}function AD(t,r){var a=r.ref;(t===null&&a!==null||t!==null&&t.ref!==a)&&(r.flags|=512,r.flags|=2097152)}function Yk(t,r,a,l,g){var x=_l(a)?Op:Ws.current;return x=Lv(r,x),Mv(r,g),a=KE(t,r,a,l,x,g),l=XE(),t!==null&&!El?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~g,Fd(t,r,g)):(La&&l&&jE(r),r.flags|=1,ol(t,r,a,g),r.child)}function QR(t,r,a,l,g){if(_l(a)){var x=!0;Xw(r)}else x=!1;if(Mv(r,g),r.stateNode===null)t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),tD(r,a,l),Wk(r,a,l,g),l=!0;else if(t===null){var D=r.stateNode,L=r.memoizedProps;D.props=L;var U=D.context,X=a.contextType;typeof X=="object"&&X!==null?X=Rc(X):(X=_l(a)?Op:Ws.current,X=Lv(r,X));var se=a.getDerivedStateFromProps,re=typeof se=="function"||typeof D.getSnapshotBeforeUpdate=="function";re||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(L!==l||U!==X)&&jR(r,D,l,X),Fm=!1;var ee=r.memoizedState;D.state=ee,Qw(r,l,D,g),U=r.memoizedState,L!==l||ee!==U||Tl.current||Fm?(typeof se=="function"&&(jk(r,a,se,l),U=r.memoizedState),(L=Fm||zR(r,a,L,l,ee,U,X))?(re||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(r.flags|=4194308)):(typeof D.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=U),D.props=l,D.state=U,D.context=X,l=L):(typeof D.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{D=r.stateNode,ZP(t,r),L=r.memoizedProps,X=r.type===r.elementType?L:pf(r.type,L),D.props=X,re=r.pendingProps,ee=D.context,U=a.contextType,typeof U=="object"&&U!==null?U=Rc(U):(U=_l(a)?Op:Ws.current,U=Lv(r,U));var Me=a.getDerivedStateFromProps;(se=typeof Me=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(L!==re||ee!==U)&&jR(r,D,l,U),Fm=!1,ee=r.memoizedState,D.state=ee,Qw(r,l,D,g);var De=r.memoizedState;L!==re||ee!==De||Tl.current||Fm?(typeof Me=="function"&&(jk(r,a,Me,l),De=r.memoizedState),(X=Fm||zR(r,a,X,l,ee,De,U)||!1)?(se||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(l,De,U),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(l,De,U)),typeof D.componentDidUpdate=="function"&&(r.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof D.componentDidUpdate!="function"||L===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=De),D.props=l,D.state=De,D.context=U,l=X):(typeof D.componentDidUpdate!="function"||L===t.memoizedProps&&ee===t.memoizedState||(r.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||L===t.memoizedProps&&ee===t.memoizedState||(r.flags|=1024),l=!1)}return Kk(t,r,a,l,x,g)}function Kk(t,r,a,l,g,x){AD(t,r);var D=(r.flags&128)!==0;if(!l&&!D)return g&&LR(r,a,!1),Fd(t,r,x);l=r.stateNode,s3.current=r;var L=D&&typeof a.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,t!==null&&D?(r.child=Hv(r,t.child,null,x),r.child=Hv(r,null,L,x)):ol(t,r,L,x),r.memoizedState=l.state,g&&LR(r,a,!0),r.child}function MD(t){var r=t.stateNode;r.pendingContext?BR(t,r.pendingContext,r.pendingContext!==r.context):r.context&&BR(t,r.context,!1),$E(t,r.containerInfo)}function ZR(t,r,a,l,g){return Fv(),UE(g),r.flags|=256,ol(t,r,a,l),r.child}var hw={dehydrated:null,treeContext:null,retryLane:0};function pw(t){return{baseLanes:t,cachePool:null,transitions:null}}function eO(t,r){return{baseLanes:t.baseLanes|r,cachePool:null,transitions:t.transitions}}function ID(t,r,a){var l=r.pendingProps,g=$a.current,x=!1,D=(r.flags&128)!==0,L;if((L=D)||(L=t!==null&&t.memoizedState===null?!1:(g&2)!==0),L?(x=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(g|=1),Ta($a,g&1),t===null)return $k(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((r.mode&1)===0?r.lanes=1:t.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(g=l.children,t=l.fallback,x?(l=r.mode,x=r.child,g={mode:"hidden",children:g},(l&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=g):x=sx(g,l,0,null),t=Rp(t,l,a,null),x.return=r,t.return=r,x.sibling=t,r.child=x,r.child.memoizedState=pw(a),r.memoizedState=hw,t):Xk(r,g));if(g=t.memoizedState,g!==null){if(L=g.dehydrated,L!==null){if(D)return r.flags&256?(r.flags&=-257,gw(t,r,a,Error(fr(422)))):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(x=l.fallback,g=r.mode,l=sx({mode:"visible",children:l.children},g,0,null),x=Rp(x,g,a,null),x.flags|=2,l.return=r,x.return=r,l.sibling=x,r.child=l,(r.mode&1)!==0&&Hv(r,t.child,null,a),r.child.memoizedState=pw(a),r.memoizedState=hw,x);if((r.mode&1)===0)r=gw(t,r,a,null);else if(L.data==="$!")r=gw(t,r,a,Error(fr(419)));else if(l=(a&t.childLanes)!==0,El||l){if(l=Yu,l!==null){switch(a&-a){case 4:x=2;break;case 16:x=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:x=32;break;case 536870912:x=268435456;break;default:x=0}l=(x&(l.suspendedLanes|a))!==0?0:x,l!==0&&l!==g.retryLane&&(g.retryLane=l,Nc(t,l,-1))}oT(),r=gw(t,r,a,Error(fr(421)))}else L.data==="$?"?(r.flags|=128,r.child=t.child,r=w3.bind(null,t),L._reactRetry=r,r=null):(a=g.treeContext,kl=Pd(L.nextSibling),Jl=r,La=!0,vf=null,a!==null&&(kc[Ec++]=Dd,kc[Ec++]=Ad,kc[Ec++]=Pp,Dd=a.id,Ad=a.overflow,Pp=r),r=Xk(r,r.pendingProps.children),r.flags|=4096);return r}return x?(l=nO(t,r,l.children,l.fallback,a),x=r.child,g=t.child.memoizedState,x.memoizedState=g===null?pw(a):eO(g,a),x.childLanes=t.childLanes&~a,r.memoizedState=hw,l):(a=tO(t,r,l.children,a),r.memoizedState=null,a)}return x?(l=nO(t,r,l.children,l.fallback,a),x=r.child,g=t.child.memoizedState,x.memoizedState=g===null?pw(a):eO(g,a),x.childLanes=t.childLanes&~a,r.memoizedState=hw,l):(a=tO(t,r,l.children,a),r.memoizedState=null,a)}function Xk(t,r){return r=sx({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function tO(t,r,a,l){var g=t.child;return t=g.sibling,a=nh(g,{mode:"visible",children:a}),(r.mode&1)===0&&(a.lanes=l),a.return=r,a.sibling=null,t!==null&&(l=r.deletions,l===null?(r.deletions=[t],r.flags|=16):l.push(t)),r.child=a}function nO(t,r,a,l,g){var x=r.mode;t=t.child;var D=t.sibling,L={mode:"hidden",children:a};return(x&1)===0&&r.child!==t?(a=r.child,a.childLanes=0,a.pendingProps=L,r.deletions=null):(a=nh(t,L),a.subtreeFlags=t.subtreeFlags&14680064),D!==null?l=nh(D,l):(l=Rp(l,x,g,null),l.flags|=2),l.return=r,a.return=r,a.sibling=l,r.child=a,l}function gw(t,r,a,l){return l!==null&&UE(l),Hv(r,t.child,null,a),t=Xk(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function rO(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),zk(t.return,r,a)}function YS(t,r,a,l,g){var x=t.memoizedState;x===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:g}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=l,x.tail=a,x.tailMode=g)}function BD(t,r,a){var l=r.pendingProps,g=l.revealOrder,x=l.tail;if(ol(t,r,l.children,a),l=$a.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&rO(t,a,r);else if(t.tag===19)rO(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}if(Ta($a,l),(r.mode&1)===0)r.memoizedState=null;else switch(g){case"forwards":for(a=r.child,g=null;a!==null;)t=a.alternate,t!==null&&tx(t)===null&&(g=a),a=a.sibling;a=g,a===null?(g=r.child,r.child=null):(g=a.sibling,a.sibling=null),YS(r,!1,g,a,x);break;case"backwards":for(a=null,g=r.child,r.child=null;g!==null;){if(t=g.alternate,t!==null&&tx(t)===null){r.child=g;break}t=g.sibling,g.sibling=a,a=g,g=t}YS(r,!0,a,null,x);break;case"together":YS(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Fd(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Ap|=r.lanes,(a&r.childLanes)===0)return null;if(t!==null&&r.child!==t.child)throw Error(fr(153));if(r.child!==null){for(t=r.child,a=nh(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=nh(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function l3(t,r,a){switch(r.tag){case 3:MD(r),Fv();break;case 5:aD(r);break;case 1:_l(r.type)&&Xw(r);break;case 4:$E(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,g=r.memoizedProps.value;Ta(Gw,l._currentValue),l._currentValue=g;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ta($a,$a.current&1),r.flags|=128,null):(a&r.child.childLanes)!==0?ID(t,r,a):(Ta($a,$a.current&1),t=Fd(t,r,a),t!==null?t.sibling:null);Ta($a,$a.current&1);break;case 19:if(l=(a&r.childLanes)!==0,(t.flags&128)!==0){if(l)return BD(t,r,a);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ta($a,$a.current),l)break;return null;case 22:case 23:return r.lanes=0,DD(t,r,a)}return Fd(t,r,a)}function c3(t,r){switch(WE(r),r.tag){case 1:return _l(r.type)&&Kw(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return zv(),Oa(Tl),Oa(Ws),qE(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 5:return VE(r),null;case 13:if(Oa($a),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(fr(340));Fv()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return Oa($a),null;case 4:return zv(),null;case 10:return HE(r.type._context),null;case 22:case 23:return rT(),null;case 24:return null;default:return null}}var vw=!1,js=!1,f3=typeof WeakSet=="function"?WeakSet:Set,io=null;function Nv(t,r){var a=t.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(l){eu(t,r,l)}else a.current=null}function Gk(t,r,a){try{a()}catch(l){eu(t,r,l)}}var oO=!1;function d3(t,r){if(Mk=$w,t=WP(),BE(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var g=l.anchorOffset,x=l.focusNode;l=l.focusOffset;try{a.nodeType,x.nodeType}catch{a=null;break e}var D=0,L=-1,U=-1,X=0,se=0,re=t,ee=null;t:for(;;){for(var Me;re!==a||g!==0&&re.nodeType!==3||(L=D+g),re!==x||l!==0&&re.nodeType!==3||(U=D+l),re.nodeType===3&&(D+=re.nodeValue.length),(Me=re.firstChild)!==null;)ee=re,re=Me;for(;;){if(re===t)break t;if(ee===a&&++X===g&&(L=D),ee===x&&++se===l&&(U=D),(Me=re.nextSibling)!==null)break;re=ee,ee=re.parentNode}re=Me}a=L===-1||U===-1?null:{start:L,end:U}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ik={focusedElem:t,selectionRange:a},$w=!1,io=r;io!==null;)if(r=io,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,io=t;else for(;io!==null;){r=io;try{var De=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(De!==null){var ze=De.memoizedProps,mt=De.memoizedState,G=r.stateNode,ve=G.getSnapshotBeforeUpdate(r.elementType===r.type?ze:pf(r.type,ze),mt);G.__reactInternalSnapshotBeforeUpdate=ve}break;case 3:var Ae=r.stateNode.containerInfo;if(Ae.nodeType===1)Ae.textContent="";else if(Ae.nodeType===9){var Ke=Ae.body;Ke!=null&&(Ke.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(fr(163))}}catch(vt){eu(r,r.return,vt)}if(t=r.sibling,t!==null){t.return=r.return,io=t;break}io=r.return}return De=oO,oO=!1,De}function qy(t,r,a){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var g=l=l.next;do{if((g.tag&t)===t){var x=g.destroy;g.destroy=void 0,x!==void 0&&Gk(r,a,x)}g=g.next}while(g!==l)}}function xx(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&t)===t){var l=a.create;a.destroy=l()}a=a.next}while(a!==r)}}function Jk(t){var r=t.ref;if(r!==null){var a=t.stateNode;switch(t.tag){case 5:t=a;break;default:t=a}typeof r=="function"?r(t):r.current=t}}function LD(t){var r=t.alternate;r!==null&&(t.alternate=null,LD(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[Zf],delete r[ub],delete r[Fk],delete r[XL],delete r[GL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FD(t){return t.tag===5||t.tag===3||t.tag===4}function iO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FD(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Qk(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Yw));else if(l!==4&&(t=t.child,t!==null))for(Qk(t,r,a),t=t.sibling;t!==null;)Qk(t,r,a),t=t.sibling}function Zk(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(t=t.child,t!==null))for(Zk(t,r,a),t=t.sibling;t!==null;)Zk(t,r,a),t=t.sibling}var ys=null,gf=!1;function Bm(t,r,a){for(a=a.child;a!==null;)HD(t,r,a),a=a.sibling}function HD(t,r,a){if(td&&typeof td.onCommitFiberUnmount=="function")try{td.onCommitFiberUnmount(mx,a)}catch{}switch(a.tag){case 5:js||Nv(a,r);case 6:var l=ys,g=gf;ys=null,Bm(t,r,a),ys=l,gf=g,ys!==null&&(gf?(t=ys,a=a.stateNode,t.nodeType===8?t.parentNode.removeChild(a):t.removeChild(a)):ys.removeChild(a.stateNode));break;case 18:ys!==null&&(gf?(t=ys,a=a.stateNode,t.nodeType===8?jS(t.parentNode,a):t.nodeType===1&&jS(t,a),nb(t)):jS(ys,a.stateNode));break;case 4:l=ys,g=gf,ys=a.stateNode.containerInfo,gf=!0,Bm(t,r,a),ys=l,gf=g;break;case 0:case 11:case 14:case 15:if(!js&&(l=a.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){g=l=l.next;do{var x=g,D=x.destroy;x=x.tag,D!==void 0&&((x&2)!==0||(x&4)!==0)&&Gk(a,r,D),g=g.next}while(g!==l)}Bm(t,r,a);break;case 1:if(!js&&(Nv(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=a.memoizedProps,l.state=a.memoizedState,l.componentWillUnmount()}catch(L){eu(a,r,L)}Bm(t,r,a);break;case 21:Bm(t,r,a);break;case 22:a.mode&1?(js=(l=js)||a.memoizedState!==null,Bm(t,r,a),js=l):Bm(t,r,a);break;default:Bm(t,r,a)}}function aO(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var a=t.stateNode;a===null&&(a=t.stateNode=new f3),r.forEach(function(l){var g=x3.bind(null,t,l);a.has(l)||(a.add(l),l.then(g,g))})}}function mf(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var g=a[l];try{var x=t,D=r,L=D;e:for(;L!==null;){switch(L.tag){case 5:ys=L.stateNode,gf=!1;break e;case 3:ys=L.stateNode.containerInfo,gf=!0;break e;case 4:ys=L.stateNode.containerInfo,gf=!0;break e}L=L.return}if(ys===null)throw Error(fr(160));HD(x,D,g),ys=null,gf=!1;var U=g.alternate;U!==null&&(U.return=null),g.return=null}catch(X){eu(g,r,X)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)zD(r,t),r=r.sibling}function zD(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mf(r,t),Jf(t),l&4){try{qy(3,t,t.return),xx(3,t)}catch(De){eu(t,t.return,De)}try{qy(5,t,t.return)}catch(De){eu(t,t.return,De)}}break;case 1:mf(r,t),Jf(t),l&512&&a!==null&&Nv(a,a.return);break;case 5:if(mf(r,t),Jf(t),l&512&&a!==null&&Nv(a,a.return),t.flags&32){var g=t.stateNode;try{Qy(g,"")}catch(De){eu(t,t.return,De)}}if(l&4&&(g=t.stateNode,g!=null)){var x=t.memoizedProps,D=a!==null?a.memoizedProps:x,L=t.type,U=t.updateQueue;if(t.updateQueue=null,U!==null)try{L==="input"&&x.type==="radio"&&x.name!=null&&lP(g,x),kk(L,D);var X=kk(L,x);for(D=0;D<U.length;D+=2){var se=U[D],re=U[D+1];se==="style"?hP(g,re):se==="dangerouslySetInnerHTML"?dP(g,re):se==="children"?Qy(g,re):SE(g,se,re,X)}switch(L){case"input":bk(g,x);break;case"textarea":cP(g,x);break;case"select":var ee=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var Me=x.value;Me!=null?Ov(g,!!x.multiple,Me,!1):ee!==!!x.multiple&&(x.defaultValue!=null?Ov(g,!!x.multiple,x.defaultValue,!0):Ov(g,!!x.multiple,x.multiple?[]:"",!1))}g[ub]=x}catch(De){eu(t,t.return,De)}}break;case 6:if(mf(r,t),Jf(t),l&4){if(t.stateNode===null)throw Error(fr(162));X=t.stateNode,se=t.memoizedProps;try{X.nodeValue=se}catch(De){eu(t,t.return,De)}}break;case 3:if(mf(r,t),Jf(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{nb(r.containerInfo)}catch(De){eu(t,t.return,De)}break;case 4:mf(r,t),Jf(t);break;case 13:mf(r,t),Jf(t),X=t.child,X.flags&8192&&X.memoizedState!==null&&(X.alternate===null||X.alternate.memoizedState===null)&&(tT=hu()),l&4&&aO(t);break;case 22:if(X=a!==null&&a.memoizedState!==null,t.mode&1?(js=(se=js)||X,mf(r,t),js=se):mf(r,t),Jf(t),l&8192){se=t.memoizedState!==null;e:for(re=null,ee=t;;){if(ee.tag===5){if(re===null){re=ee;try{g=ee.stateNode,se?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(L=ee.stateNode,U=ee.memoizedProps.style,D=U!=null&&U.hasOwnProperty("display")?U.display:null,L.style.display=mP("display",D))}catch(De){eu(t,t.return,De)}}}else if(ee.tag===6){if(re===null)try{ee.stateNode.nodeValue=se?"":ee.memoizedProps}catch(De){eu(t,t.return,De)}}else if((ee.tag!==22&&ee.tag!==23||ee.memoizedState===null||ee===t)&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===t)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===t)break e;re===ee&&(re=null),ee=ee.return}re===ee&&(re=null),ee.sibling.return=ee.return,ee=ee.sibling}if(se&&!X&&(t.mode&1)!==0)for(io=t,t=t.child;t!==null;){for(X=io=t;io!==null;){switch(se=io,re=se.child,se.tag){case 0:case 11:case 14:case 15:qy(4,se,se.return);break;case 1:if(Nv(se,se.return),x=se.stateNode,typeof x.componentWillUnmount=="function"){ee=se,Me=se.return;try{g=ee,x.props=g.memoizedProps,x.state=g.memoizedState,x.componentWillUnmount()}catch(De){eu(ee,Me,De)}}break;case 5:Nv(se,se.return);break;case 22:if(se.memoizedState!==null){sO(X);continue}}re!==null?(re.return=se,io=re):sO(X)}t=t.sibling}}break;case 19:mf(r,t),Jf(t),l&4&&aO(t);break;case 21:break;default:mf(r,t),Jf(t)}}function Jf(t){var r=t.flags;if(r&2){try{e:{for(var a=t.return;a!==null;){if(FD(a)){var l=a;break e}a=a.return}throw Error(fr(160))}switch(l.tag){case 5:var g=l.stateNode;l.flags&32&&(Qy(g,""),l.flags&=-33);var x=iO(t);Zk(t,x,g);break;case 3:case 4:var D=l.stateNode.containerInfo,L=iO(t);Qk(t,L,D);break;default:throw Error(fr(161))}}catch(U){eu(t,t.return,U)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function m3(t,r,a){io=t,jD(t)}function jD(t,r,a){for(var l=(t.mode&1)!==0;io!==null;){var g=io,x=g.child;if(g.tag===22&&l){var D=g.memoizedState!==null||vw;if(!D){var L=g.alternate,U=L!==null&&L.memoizedState!==null||js;L=vw;var X=js;if(vw=D,(js=U)&&!X)for(io=g;io!==null;)D=io,U=D.child,D.tag===22&&D.memoizedState!==null?lO(g):U!==null?(U.return=D,io=U):lO(g);for(;x!==null;)io=x,jD(x),x=x.sibling;io=g,vw=L,js=X}uO(t)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,io=x):uO(t)}}function uO(t){for(;io!==null;){var r=io;if((r.flags&8772)!==0){var a=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:js||xx(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!js)if(a===null)l.componentDidMount();else{var g=r.elementType===r.type?a.memoizedProps:pf(r.type,a.memoizedProps);l.componentDidUpdate(g,a.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var x=r.updateQueue;x!==null&&HR(r,x,l);break;case 3:var D=r.updateQueue;if(D!==null){if(a=null,r.child!==null)switch(r.child.tag){case 5:a=r.child.stateNode;break;case 1:a=r.child.stateNode}HR(r,D,a)}break;case 5:var L=r.stateNode;if(a===null&&r.flags&4){a=L;var U=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":U.autoFocus&&a.focus();break;case"img":U.src&&(a.src=U.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var X=r.alternate;if(X!==null){var se=X.memoizedState;if(se!==null){var re=se.dehydrated;re!==null&&nb(re)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(fr(163))}js||r.flags&512&&Jk(r)}catch(ee){eu(r,r.return,ee)}}if(r===t){io=null;break}if(a=r.sibling,a!==null){a.return=r.return,io=a;break}io=r.return}}function sO(t){for(;io!==null;){var r=io;if(r===t){io=null;break}var a=r.sibling;if(a!==null){a.return=r.return,io=a;break}io=r.return}}function lO(t){for(;io!==null;){var r=io;try{switch(r.tag){case 0:case 11:case 15:var a=r.return;try{xx(4,r)}catch(U){eu(r,a,U)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var g=r.return;try{l.componentDidMount()}catch(U){eu(r,g,U)}}var x=r.return;try{Jk(r)}catch(U){eu(r,x,U)}break;case 5:var D=r.return;try{Jk(r)}catch(U){eu(r,D,U)}}}catch(U){eu(r,r.return,U)}if(r===t){io=null;break}var L=r.sibling;if(L!==null){L.return=r.return,io=L;break}io=r.return}}var h3=Math.ceil,ox=Hd.ReactCurrentDispatcher,ZE=Hd.ReactCurrentOwner,_c=Hd.ReactCurrentBatchConfig,Fi=0,Yu=null,Pu=null,bs=0,Gl=0,Rv=oh(0),qu=0,mb=null,Ap=0,Cx=0,eT=0,Yy=null,Sl=null,tT=0,jv=1/0,Rd=null,ix=!1,eE=null,Xm=null,yw=!1,$m=null,ax=0,Ky=0,tE=null,Pw=-1,Dw=0;function il(){return(Fi&6)!==0?hu():Pw!==-1?Pw:Pw=hu()}function Gm(t){return(t.mode&1)===0?1:(Fi&2)!==0&&bs!==0?bs&-bs:QL.transition!==null?(Dw===0&&(Dw=TP()),Dw):(t=sa,t!==0||(t=window.event,t=t===void 0?16:AP(t.type)),t)}function Nc(t,r,a){if(50<Ky)throw Ky=0,tE=null,Error(fr(185));var l=Sx(t,r);return l===null?null:(gb(l,r,a),((Fi&2)===0||l!==Yu)&&(l===Yu&&((Fi&2)===0&&(Cx|=r),qu===4&&jm(l,bs)),Nl(l,a),r===1&&Fi===0&&(t.mode&1)===0&&(jv=hu()+500,yx&&ih())),l)}function Sx(t,r){t.lanes|=r;var a=t.alternate;for(a!==null&&(a.lanes|=r),a=t,t=t.return;t!==null;)t.childLanes|=r,a=t.alternate,a!==null&&(a.childLanes|=r),a=t,t=t.return;return a.tag===3?a.stateNode:null}function WD(t){return(Yu!==null||yf!==null)&&(t.mode&1)!==0&&(Fi&2)===0}function Nl(t,r){var a=t.callbackNode;QB(t,r);var l=Uw(t,t===Yu?bs:0);if(l===0)a!==null&&pR(a),t.callbackNode=null,t.callbackPriority=0;else if(r=l&-l,t.callbackPriority!==r){if(a!=null&&pR(a),r===1)t.tag===0?JL(cO.bind(null,t)):QP(cO.bind(null,t)),YL(function(){Fi===0&&ih()}),a=null;else{switch(_P(l)){case 1:a=NE;break;case 4:a=kP;break;case 16:a=Ww;break;case 536870912:a=EP;break;default:a=Ww}a=GD(a,UD.bind(null,t))}t.callbackPriority=r,t.callbackNode=a}}function UD(t,r){if(Pw=-1,Dw=0,(Fi&6)!==0)throw Error(fr(327));var a=t.callbackNode;if(Iv()&&t.callbackNode!==a)return null;var l=Uw(t,t===Yu?bs:0);if(l===0)return null;if((l&30)!==0||(l&t.expiredLanes)!==0||r)r=ux(t,l);else{r=l;var g=Fi;Fi|=2;var x=VD();(Yu!==t||bs!==r)&&(Rd=null,jv=hu()+500,Np(t,r));do try{v3();break}catch(L){$D(t,L)}while(1);FE(),ox.current=x,Fi=g,Pu!==null?r=0:(Yu=null,bs=0,r=qu)}if(r!==0){if(r===2&&(g=Rk(t),g!==0&&(l=g,r=nE(t,g))),r===1)throw a=mb,Np(t,0),jm(t,l),Nl(t,hu()),a;if(r===6)jm(t,l);else{if(g=t.current.alternate,(l&30)===0&&!p3(g)&&(r=ux(t,l),r===2&&(x=Rk(t),x!==0&&(l=x,r=nE(t,x))),r===1))throw a=mb,Np(t,0),jm(t,l),Nl(t,hu()),a;switch(t.finishedWork=g,t.finishedLanes=l,r){case 0:case 1:throw Error(fr(345));case 2:Sp(t,Sl,Rd);break;case 3:if(jm(t,l),(l&130023424)===l&&(r=tT+500-hu(),10<r)){if(Uw(t,0)!==0)break;if(g=t.suspendedLanes,(g&l)!==l){il(),t.pingedLanes|=t.suspendedLanes&g;break}t.timeoutHandle=Lk(Sp.bind(null,t,Sl,Rd),r);break}Sp(t,Sl,Rd);break;case 4:if(jm(t,l),(l&4194240)===l)break;for(r=t.eventTimes,g=-1;0<l;){var D=31-bf(l);x=1<<D,D=r[D],D>g&&(g=D),l&=~x}if(l=g,l=hu()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*h3(l/1960))-l,10<l){t.timeoutHandle=Lk(Sp.bind(null,t,Sl,Rd),l);break}Sp(t,Sl,Rd);break;case 5:Sp(t,Sl,Rd);break;default:throw Error(fr(329))}}}return Nl(t,hu()),t.callbackNode===a?UD.bind(null,t):null}function nE(t,r){var a=Yy;return t.current.memoizedState.isDehydrated&&(Np(t,r).flags|=256),t=ux(t,r),t!==2&&(r=Sl,Sl=a,r!==null&&rE(r)),t}function rE(t){Sl===null?Sl=t:Sl.push.apply(Sl,t)}function p3(t){for(var r=t;;){if(r.flags&16384){var a=r.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var l=0;l<a.length;l++){var g=a[l],x=g.getSnapshot;g=g.value;try{if(!wf(x(),g))return!1}catch{return!1}}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function jm(t,r){for(r&=~eT,r&=~Cx,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var a=31-bf(r),l=1<<a;t[a]=-1,r&=~l}}function cO(t){if((Fi&6)!==0)throw Error(fr(327));Iv();var r=Uw(t,0);if((r&1)===0)return Nl(t,hu()),null;var a=ux(t,r);if(t.tag!==0&&a===2){var l=Rk(t);l!==0&&(r=l,a=nE(t,l))}if(a===1)throw a=mb,Np(t,0),jm(t,r),Nl(t,hu()),a;if(a===6)throw Error(fr(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Sp(t,Sl,Rd),Nl(t,hu()),null}function nT(t,r){var a=Fi;Fi|=1;try{return t(r)}finally{Fi=a,Fi===0&&(jv=hu()+500,yx&&ih())}}function Mp(t){$m!==null&&$m.tag===0&&(Fi&6)===0&&Iv();var r=Fi;Fi|=1;var a=_c.transition,l=sa;try{if(_c.transition=null,sa=1,t)return t()}finally{sa=l,_c.transition=a,Fi=r,(Fi&6)===0&&ih()}}function rT(){Gl=Rv.current,Oa(Rv)}function Np(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;if(a!==-1&&(t.timeoutHandle=-1,qL(a)),Pu!==null)for(a=Pu.return;a!==null;){var l=a;switch(WE(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Kw();break;case 3:zv(),Oa(Tl),Oa(Ws),qE();break;case 5:VE(l);break;case 4:zv();break;case 13:Oa($a);break;case 19:Oa($a);break;case 10:HE(l.type._context);break;case 22:case 23:rT()}a=a.return}if(Yu=t,Pu=t=nh(t.current,null),bs=Gl=r,qu=0,mb=null,eT=Cx=Ap=0,Sl=Yy=null,yf!==null){for(r=0;r<yf.length;r++)if(a=yf[r],l=a.interleaved,l!==null){a.interleaved=null;var g=l.next,x=a.pending;if(x!==null){var D=x.next;x.next=g,l.next=D}a.pending=l}yf=null}return t}function $D(t,r){do{var a=Pu;try{if(FE(),Rw.current=rx,nx){for(var l=Va.memoizedState;l!==null;){var g=l.queue;g!==null&&(g.pending=null),l=l.next}nx=!1}if(Dp=0,is=Vu=Va=null,Vy=!1,cb=0,ZE.current=null,a===null||a.return===null){qu=1,mb=r,Pu=null;break}e:{var x=t,D=a.return,L=a,U=r;if(r=bs,L.flags|=32768,U!==null&&typeof U=="object"&&typeof U.then=="function"){var X=U,se=L,re=se.tag;if((se.mode&1)===0&&(re===0||re===11||re===15)){var ee=se.alternate;ee?(se.updateQueue=ee.updateQueue,se.memoizedState=ee.memoizedState,se.lanes=ee.lanes):(se.updateQueue=null,se.memoizedState=null)}var Me=KR(D);if(Me!==null){Me.flags&=-257,XR(Me,D,L,x,r),Me.mode&1&&YR(x,X,r),r=Me,U=X;var De=r.updateQueue;if(De===null){var ze=new Set;ze.add(U),r.updateQueue=ze}else De.add(U);break e}else{if((r&1)===0){YR(x,X,r),oT();break e}U=Error(fr(426))}}else if(La&&L.mode&1){var mt=KR(D);if(mt!==null){(mt.flags&65536)===0&&(mt.flags|=256),XR(mt,D,L,x,r),UE(U);break e}}x=U,qu!==4&&(qu=2),Yy===null?Yy=[x]:Yy.push(x),U=QE(U,L),L=D;do{switch(L.tag){case 3:L.flags|=65536,r&=-r,L.lanes|=r;var G=TD(L,U,r);FR(L,G);break e;case 1:x=U;var ve=L.type,Ae=L.stateNode;if((L.flags&128)===0&&(typeof ve.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Xm===null||!Xm.has(Ae)))){L.flags|=65536,r&=-r,L.lanes|=r;var Ke=_D(L,x,r);FR(L,Ke);break e}}L=L.return}while(L!==null)}YD(a)}catch(vt){r=vt,Pu===a&&a!==null&&(Pu=a=a.return);continue}break}while(1)}function VD(){var t=ox.current;return ox.current=rx,t===null?rx:t}function oT(){(qu===0||qu===3||qu===2)&&(qu=4),Yu===null||(Ap&268435455)===0&&(Cx&268435455)===0||jm(Yu,bs)}function ux(t,r){var a=Fi;Fi|=2;var l=VD();(Yu!==t||bs!==r)&&(Rd=null,Np(t,r));do try{g3();break}catch(g){$D(t,g)}while(1);if(FE(),Fi=a,ox.current=l,Pu!==null)throw Error(fr(261));return Yu=null,bs=0,qu}function g3(){for(;Pu!==null;)qD(Pu)}function v3(){for(;Pu!==null&&!UB();)qD(Pu)}function qD(t){var r=XD(t.alternate,t,Gl);t.memoizedProps=t.pendingProps,r===null?YD(t):Pu=r,ZE.current=null}function YD(t){var r=t;do{var a=r.alternate;if(t=r.return,(r.flags&32768)===0){if(a=u3(a,r,Gl),a!==null){Pu=a;return}}else{if(a=c3(a,r),a!==null){a.flags&=32767,Pu=a;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qu=6,Pu=null;return}}if(r=r.sibling,r!==null){Pu=r;return}Pu=r=t}while(r!==null);qu===0&&(qu=5)}function Sp(t,r,a){var l=sa,g=_c.transition;try{_c.transition=null,sa=1,y3(t,r,a,l)}finally{_c.transition=g,sa=l}return null}function y3(t,r,a,l){do Iv();while($m!==null);if((Fi&6)!==0)throw Error(fr(327));a=t.finishedWork;var g=t.finishedLanes;if(a===null)return null;if(t.finishedWork=null,t.finishedLanes=0,a===t.current)throw Error(fr(177));t.callbackNode=null,t.callbackPriority=0;var x=a.lanes|a.childLanes;if(ZB(t,x),t===Yu&&(Pu=Yu=null,bs=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||yw||(yw=!0,GD(Ww,function(){return Iv(),null})),x=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||x){x=_c.transition,_c.transition=null;var D=sa;sa=1;var L=Fi;Fi|=4,ZE.current=null,d3(t,a),zD(a,t),HL(Ik),$w=!!Mk,Ik=Mk=null,t.current=a,m3(a),$B(),Fi=L,sa=D,_c.transition=x}else t.current=a;if(yw&&(yw=!1,$m=t,ax=g),x=t.pendingLanes,x===0&&(Xm=null),YB(a.stateNode),Nl(t,hu()),r!==null)for(l=t.onRecoverableError,a=0;a<r.length;a++)l(r[a]);if(ix)throw ix=!1,t=eE,eE=null,t;return(ax&1)!==0&&t.tag!==0&&Iv(),x=t.pendingLanes,(x&1)!==0?t===tE?Ky++:(Ky=0,tE=t):Ky=0,ih(),null}function Iv(){if($m!==null){var t=_P(ax),r=_c.transition,a=sa;try{if(_c.transition=null,sa=16>t?16:t,$m===null)var l=!1;else{if(t=$m,$m=null,ax=0,(Fi&6)!==0)throw Error(fr(331));var g=Fi;for(Fi|=4,io=t.current;io!==null;){var x=io,D=x.child;if((io.flags&16)!==0){var L=x.deletions;if(L!==null){for(var U=0;U<L.length;U++){var X=L[U];for(io=X;io!==null;){var se=io;switch(se.tag){case 0:case 11:case 15:qy(8,se,x)}var re=se.child;if(re!==null)re.return=se,io=re;else for(;io!==null;){se=io;var ee=se.sibling,Me=se.return;if(LD(se),se===X){io=null;break}if(ee!==null){ee.return=Me,io=ee;break}io=Me}}}var De=x.alternate;if(De!==null){var ze=De.child;if(ze!==null){De.child=null;do{var mt=ze.sibling;ze.sibling=null,ze=mt}while(ze!==null)}}io=x}}if((x.subtreeFlags&2064)!==0&&D!==null)D.return=x,io=D;else e:for(;io!==null;){if(x=io,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:qy(9,x,x.return)}var G=x.sibling;if(G!==null){G.return=x.return,io=G;break e}io=x.return}}var ve=t.current;for(io=ve;io!==null;){D=io;var Ae=D.child;if((D.subtreeFlags&2064)!==0&&Ae!==null)Ae.return=D,io=Ae;else e:for(D=ve;io!==null;){if(L=io,(L.flags&2048)!==0)try{switch(L.tag){case 0:case 11:case 15:xx(9,L)}}catch(vt){eu(L,L.return,vt)}if(L===D){io=null;break e}var Ke=L.sibling;if(Ke!==null){Ke.return=L.return,io=Ke;break e}io=L.return}}if(Fi=g,ih(),td&&typeof td.onPostCommitFiberRoot=="function")try{td.onPostCommitFiberRoot(mx,t)}catch{}l=!0}return l}finally{sa=a,_c.transition=r}}return!1}function fO(t,r,a){r=QE(a,r),r=TD(t,r,1),Km(t,r),r=il(),t=Sx(t,1),t!==null&&(gb(t,1,r),Nl(t,r))}function eu(t,r,a){if(t.tag===3)fO(t,t,a);else for(;r!==null;){if(r.tag===3){fO(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Xm===null||!Xm.has(l))){t=QE(a,t),t=_D(r,t,1),Km(r,t),t=il(),r=Sx(r,1),r!==null&&(gb(r,1,t),Nl(r,t));break}}r=r.return}}function b3(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),r=il(),t.pingedLanes|=t.suspendedLanes&a,Yu===t&&(bs&a)===a&&(qu===4||qu===3&&(bs&130023424)===bs&&500>hu()-tT?Np(t,0):eT|=a),Nl(t,r)}function KD(t,r){r===0&&((t.mode&1)===0?r=1:(r=uw,uw<<=1,(uw&130023424)===0&&(uw=4194304)));var a=il();t=Sx(t,r),t!==null&&(gb(t,r,a),Nl(t,a))}function w3(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),KD(t,a)}function x3(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,g=t.memoizedState;g!==null&&(a=g.retryLane);break;case 19:l=t.stateNode;break;default:throw Error(fr(314))}l!==null&&l.delete(r),KD(t,a)}var XD;XD=function(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps||Tl.current)El=!0;else{if((t.lanes&a)===0&&(r.flags&128)===0)return El=!1,l3(t,r,a);El=(t.flags&131072)!==0}else El=!1,La&&(r.flags&1048576)!==0&&nD(r,ex,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps;var g=Lv(r,Ws.current);Mv(r,a),g=KE(null,r,l,t,g,a);var x=XE();return r.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,_l(l)?(x=!0,Xw(r)):x=!1,r.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,zE(r),g.updater=bx,r.stateNode=g,g._reactInternals=r,Wk(r,l,t,a),r=Kk(null,r,l,!0,x,a)):(r.tag=0,La&&x&&jE(r),ol(null,r,g,a),r=r.child),r;case 16:l=r.elementType;e:{switch(t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),t=r.pendingProps,g=l._init,l=g(l._payload),r.type=l,g=r.tag=S3(l),t=pf(l,t),g){case 0:r=Yk(null,r,l,t,a);break e;case 1:r=QR(null,r,l,t,a);break e;case 11:r=GR(null,r,l,t,a);break e;case 14:r=JR(null,r,l,pf(l.type,t),a);break e}throw Error(fr(306,l,""))}return r;case 0:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:pf(l,g),Yk(t,r,l,g,a);case 1:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:pf(l,g),QR(t,r,l,g,a);case 3:e:{if(MD(r),t===null)throw Error(fr(387));l=r.pendingProps,x=r.memoizedState,g=x.element,ZP(t,r),Qw(r,l,null,a);var D=r.memoizedState;if(l=D.element,x.isDehydrated)if(x={element:l,isDehydrated:!1,cache:D.cache,pendingSuspenseBoundaries:D.pendingSuspenseBoundaries,transitions:D.transitions},r.updateQueue.baseState=x,r.memoizedState=x,r.flags&256){g=Error(fr(423)),r=ZR(t,r,l,a,g);break e}else if(l!==g){g=Error(fr(424)),r=ZR(t,r,l,a,g);break e}else for(kl=Pd(r.stateNode.containerInfo.firstChild),Jl=r,La=!0,vf=null,a=iD(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Fv(),l===g){r=Fd(t,r,a);break e}ol(t,r,l,a)}r=r.child}return r;case 5:return aD(r),t===null&&$k(r),l=r.type,g=r.pendingProps,x=t!==null?t.memoizedProps:null,D=g.children,Bk(l,g)?D=null:x!==null&&Bk(l,x)&&(r.flags|=32),AD(t,r),ol(t,r,D,a),r.child;case 6:return t===null&&$k(r),null;case 13:return ID(t,r,a);case 4:return $E(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=Hv(r,null,l,a):ol(t,r,l,a),r.child;case 11:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:pf(l,g),GR(t,r,l,g,a);case 7:return ol(t,r,r.pendingProps,a),r.child;case 8:return ol(t,r,r.pendingProps.children,a),r.child;case 12:return ol(t,r,r.pendingProps.children,a),r.child;case 10:e:{if(l=r.type._context,g=r.pendingProps,x=r.memoizedProps,D=g.value,Ta(Gw,l._currentValue),l._currentValue=D,x!==null)if(wf(x.value,D)){if(x.children===g.children&&!Tl.current){r=Fd(t,r,a);break e}}else for(x=r.child,x!==null&&(x.return=r);x!==null;){var L=x.dependencies;if(L!==null){D=x.child;for(var U=L.firstContext;U!==null;){if(U.context===l){if(x.tag===1){U=Md(-1,a&-a),U.tag=2;var X=x.updateQueue;if(X!==null){X=X.shared;var se=X.pending;se===null?U.next=U:(U.next=se.next,se.next=U),X.pending=U}}x.lanes|=a,U=x.alternate,U!==null&&(U.lanes|=a),zk(x.return,a,r),L.lanes|=a;break}U=U.next}}else if(x.tag===10)D=x.type===r.type?null:x.child;else if(x.tag===18){if(D=x.return,D===null)throw Error(fr(341));D.lanes|=a,L=D.alternate,L!==null&&(L.lanes|=a),zk(D,a,r),D=x.sibling}else D=x.child;if(D!==null)D.return=x;else for(D=x;D!==null;){if(D===r){D=null;break}if(x=D.sibling,x!==null){x.return=D.return,D=x;break}D=D.return}x=D}ol(t,r,g.children,a),r=r.child}return r;case 9:return g=r.type,l=r.pendingProps.children,Mv(r,a),g=Rc(g),l=l(g),r.flags|=1,ol(t,r,l,a),r.child;case 14:return l=r.type,g=pf(l,r.pendingProps),g=pf(l.type,g),JR(t,r,l,g,a);case 15:return PD(t,r,r.type,r.pendingProps,a);case 17:return l=r.type,g=r.pendingProps,g=r.elementType===l?g:pf(l,g),t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2),r.tag=1,_l(l)?(t=!0,Xw(r)):t=!1,Mv(r,a),tD(r,l,g),Wk(r,l,g,a),Kk(null,r,l,!0,t,a);case 19:return BD(t,r,a);case 22:return DD(t,r,a)}throw Error(fr(156,r.tag))};function GD(t,r){return SP(t,r)}function C3(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tc(t,r,a,l){return new C3(t,r,a,l)}function iT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function S3(t){if(typeof t=="function")return iT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===EE)return 11;if(t===TE)return 14}return 2}function nh(t,r){var a=t.alternate;return a===null?(a=Tc(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&14680064,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a}function Aw(t,r,a,l,g,x){var D=2;if(l=t,typeof t=="function")iT(t)&&(D=1);else if(typeof t=="string")D=5;else e:switch(t){case bv:return Rp(a.children,g,x,r);case kE:D=8,g|=8;break;case hk:return t=Tc(12,a,r,g|2),t.elementType=hk,t.lanes=x,t;case pk:return t=Tc(13,a,r,g),t.elementType=pk,t.lanes=x,t;case gk:return t=Tc(19,a,r,g),t.elementType=gk,t.lanes=x,t;case aP:return sx(a,g,x,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oP:D=10;break e;case iP:D=9;break e;case EE:D=11;break e;case TE:D=14;break e;case Lm:D=16,l=null;break e}throw Error(fr(130,t==null?t:typeof t,""))}return r=Tc(D,a,r,g),r.elementType=t,r.type=l,r.lanes=x,r}function Rp(t,r,a,l){return t=Tc(7,t,l,r),t.lanes=a,t}function sx(t,r,a,l){return t=Tc(22,t,l,r),t.elementType=aP,t.lanes=a,t.stateNode={},t}function KS(t,r,a){return t=Tc(6,t,null,r),t.lanes=a,t}function XS(t,r,a){return r=Tc(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function k3(t,r,a,l,g){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=OS(0),this.expirationTimes=OS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OS(0),this.identifierPrefix=l,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function aT(t,r,a,l,g,x,D,L,U){return t=new k3(t,r,a,L,U),r===1?(r=1,x===!0&&(r|=8)):r=0,x=Tc(3,null,null,r),t.current=x,x.stateNode=t,x.memoizedState={element:l,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},zE(x),t}function E3(t,r,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:yv,key:l==null?null:""+l,children:t,containerInfo:r,implementation:a}}function JD(t){if(!t)return th;t=t._reactInternals;e:{if(Lp(t)!==t||t.tag!==1)throw Error(fr(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(_l(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(fr(171))}if(t.tag===1){var a=t.type;if(_l(a))return JP(t,a,r)}return r}function QD(t,r,a,l,g,x,D,L,U){return t=aT(a,l,!0,t,g,x,D,L,U),t.context=JD(null),a=t.current,l=il(),g=Gm(a),x=Md(l,g),x.callback=r!=null?r:null,Km(a,x),t.current.lanes=g,gb(t,g,l),Nl(t,l),t}function kx(t,r,a,l){var g=r.current,x=il(),D=Gm(g);return a=JD(a),r.context===null?r.context=a:r.pendingContext=a,r=Md(x,D),r.payload={element:t},l=l===void 0?null:l,l!==null&&(r.callback=l),Km(g,r),t=Nc(g,D,x),t!==null&&Nw(t,g,D),D}function lx(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dO(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function uT(t,r){dO(t,r),(t=t.alternate)&&dO(t,r)}function T3(){return null}var ZD=typeof reportError=="function"?reportError:function(t){console.error(t)};function sT(t){this._internalRoot=t}Ex.prototype.render=sT.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(fr(409));kx(t,r,null,null)};Ex.prototype.unmount=sT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Mp(function(){kx(null,t,null,null)}),r[Ld]=null}};function Ex(t){this._internalRoot=t}Ex.prototype.unstable_scheduleHydration=function(t){if(t){var r=OP();t={blockedOn:null,target:t,priority:r};for(var a=0;a<zm.length&&r!==0&&r<zm[a].priority;a++);zm.splice(a,0,t),a===0&&DP(t)}};function lT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Tx(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mO(){}function _3(t,r,a,l,g){if(g){if(typeof l=="function"){var x=l;l=function(){var X=lx(D);x.call(X)}}var D=QD(r,l,t,0,null,!1,!1,"",mO);return t._reactRootContainer=D,t[Ld]=D.current,ib(t.nodeType===8?t.parentNode:t),Mp(),D}for(;g=t.lastChild;)t.removeChild(g);if(typeof l=="function"){var L=l;l=function(){var X=lx(U);L.call(X)}}var U=aT(t,0,!1,null,null,!1,!1,"",mO);return t._reactRootContainer=U,t[Ld]=U.current,ib(t.nodeType===8?t.parentNode:t),Mp(function(){kx(r,U,a,l)}),U}function _x(t,r,a,l,g){var x=a._reactRootContainer;if(x){var D=x;if(typeof g=="function"){var L=g;g=function(){var U=lx(D);L.call(U)}}kx(r,D,t,g)}else D=_3(a,r,t,g,l);return lx(D)}NP=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var a=Fy(r.pendingLanes);a!==0&&(RE(r,a|1),Nl(r,hu()),(Fi&6)===0&&(jv=hu()+500,ih()))}break;case 13:var l=il();Mp(function(){return Nc(t,1,l)}),uT(t,1)}};OE=function(t){if(t.tag===13){var r=il();Nc(t,134217728,r),uT(t,134217728)}};RP=function(t){if(t.tag===13){var r=il(),a=Gm(t);Nc(t,a,r),uT(t,a)}};OP=function(){return sa};PP=function(t,r){var a=sa;try{return sa=t,r()}finally{sa=a}};Tk=function(t,r,a){switch(r){case"input":if(bk(t,a),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var g=vx(l);if(!g)throw Error(fr(90));sP(l),bk(l,g)}}}break;case"textarea":cP(t,a);break;case"select":r=a.value,r!=null&&Ov(t,!!a.multiple,r,!1)}};vP=nT;yP=Mp;var N3={usingClientEntryPoint:!1,Events:[yb,Sv,vx,pP,gP,nT]},Dy={findFiberByHostInstance:kp,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},R3={bundleType:Dy.bundleType,version:Dy.version,rendererPackageName:Dy.rendererPackageName,rendererConfig:Dy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hd.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=xP(t),t===null?null:t.stateNode},findFiberByHostInstance:Dy.findFiberByHostInstance||T3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!="undefined"){var bw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bw.isDisabled&&bw.supportsFiber)try{mx=bw.inject(R3),td=bw}catch{}}Zl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N3;Zl.createPortal=function(t,r){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lT(r))throw Error(fr(200));return E3(t,r,null,a)};Zl.createRoot=function(t,r){if(!lT(t))throw Error(fr(299));var a=!1,l="",g=ZD;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(g=r.onRecoverableError)),r=aT(t,1,!1,null,null,a,!1,l,g),t[Ld]=r.current,ib(t.nodeType===8?t.parentNode:t),new sT(r)};Zl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(fr(188)):(t=Object.keys(t).join(","),Error(fr(268,t)));return t=xP(r),t=t===null?null:t.stateNode,t};Zl.flushSync=function(t){return Mp(t)};Zl.hydrate=function(t,r,a){if(!Tx(r))throw Error(fr(200));return _x(null,t,r,!0,a)};Zl.hydrateRoot=function(t,r,a){if(!lT(t))throw Error(fr(405));var l=a!=null&&a.hydratedSources||null,g=!1,x="",D=ZD;if(a!=null&&(a.unstable_strictMode===!0&&(g=!0),a.identifierPrefix!==void 0&&(x=a.identifierPrefix),a.onRecoverableError!==void 0&&(D=a.onRecoverableError)),r=QD(r,null,t,1,a!=null?a:null,g,!1,x,D),t[Ld]=r.current,ib(t),l)for(t=0;t<l.length;t++)a=l[t],g=a._getVersion,g=g(a._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[a,g]:r.mutableSourceEagerHydrationData.push(a,g);return new Ex(r)};Zl.render=function(t,r,a){if(!Tx(r))throw Error(fr(200));return _x(null,t,r,!1,a)};Zl.unmountComponentAtNode=function(t){if(!Tx(t))throw Error(fr(40));return t._reactRootContainer?(Mp(function(){_x(null,null,t,!1,function(){t._reactRootContainer=null,t[Ld]=null})}),!0):!1};Zl.unstable_batchedUpdates=nT;Zl.unstable_renderSubtreeIntoContainer=function(t,r,a,l){if(!Tx(a))throw Error(fr(200));if(t==null||t._reactInternals===void 0)throw Error(fr(38));return _x(t,r,a,!1,l)};Zl.version="18.1.0-next-22edb9f77-20220426";function eA(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__=="undefined"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eA)}catch(t){console.error(t)}}eA(),ZO.exports=Zl;var hO=ZO.exports;dk.createRoot=hO.createRoot,dk.hydrateRoot=hO.hydrateRoot;function cx(){return cx=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},cx.apply(this,arguments)}var Tp;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tp||(Tp={}));var pO=function(t){return t},gO="beforeunload",O3="popstate";function P3(t){t===void 0&&(t={});var r=t,a=r.window,l=a===void 0?document.defaultView:a,g=l.history;function x(){var Ce=l.location,ut=Ce.pathname,$e=Ce.search,Je=Ce.hash,Le=g.state||{};return[Le.idx,pO({pathname:ut,search:$e,hash:Je,state:Le.usr||null,key:Le.key||"default"})]}var D=null;function L(){if(D)Me.call(D),D=null;else{var Ce=Tp.Pop,ut=x(),$e=ut[0],Je=ut[1];if(Me.length){if($e!=null){var Le=se-$e;Le&&(D={action:Ce,location:Je,retry:function(){vt(Le*-1)}},vt(Le))}}else ve(Ce)}}l.addEventListener(O3,L);var U=Tp.Pop,X=x(),se=X[0],re=X[1],ee=yO(),Me=yO();se==null&&(se=0,g.replaceState(cx({},g.state,{idx:se}),""));function De(Ce){return typeof Ce=="string"?Ce:oE(Ce)}function ze(Ce,ut){return ut===void 0&&(ut=null),pO(cx({pathname:re.pathname,hash:"",search:""},typeof Ce=="string"?Fp(Ce):Ce,{state:ut,key:D3()}))}function mt(Ce,ut){return[{usr:Ce.state,key:Ce.key,idx:ut},De(Ce)]}function G(Ce,ut,$e){return!Me.length||(Me.call({action:Ce,location:ut,retry:$e}),!1)}function ve(Ce){U=Ce;var ut=x();se=ut[0],re=ut[1],ee.call({action:U,location:re})}function Ae(Ce,ut){var $e=Tp.Push,Je=ze(Ce,ut);function Le(){Ae(Ce,ut)}if(G($e,Je,Le)){var J=mt(Je,se+1),Ge=J[0],Ze=J[1];try{g.pushState(Ge,"",Ze)}catch{l.location.assign(Ze)}ve($e)}}function Ke(Ce,ut){var $e=Tp.Replace,Je=ze(Ce,ut);function Le(){Ke(Ce,ut)}if(G($e,Je,Le)){var J=mt(Je,se),Ge=J[0],Ze=J[1];g.replaceState(Ge,"",Ze),ve($e)}}function vt(Ce){g.go(Ce)}var Ie={get action(){return U},get location(){return re},createHref:De,push:Ae,replace:Ke,go:vt,back:function(){vt(-1)},forward:function(){vt(1)},listen:function(ut){return ee.push(ut)},block:function(ut){var $e=Me.push(ut);return Me.length===1&&l.addEventListener(gO,vO),function(){$e(),Me.length||l.removeEventListener(gO,vO)}}};return Ie}function vO(t){t.preventDefault(),t.returnValue=""}function yO(){var t=[];return{get length(){return t.length},push:function(a){return t.push(a),function(){t=t.filter(function(l){return l!==a})}},call:function(a){t.forEach(function(l){return l&&l(a)})}}}function D3(){return Math.random().toString(36).substr(2,8)}function oE(t){var r=t.pathname,a=r===void 0?"/":r,l=t.search,g=l===void 0?"":l,x=t.hash,D=x===void 0?"":x;return g&&g!=="?"&&(a+=g.charAt(0)==="?"?g:"?"+g),D&&D!=="#"&&(a+=D.charAt(0)==="#"?D:"#"+D),a}function Fp(t){var r={};if(t){var a=t.indexOf("#");a>=0&&(r.hash=t.substr(a),t=t.substr(0,a));var l=t.indexOf("?");l>=0&&(r.search=t.substr(l),t=t.substr(0,l)),t&&(r.pathname=t)}return r}/**
 * React Router v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const cT=wo.exports.createContext(null),fT=wo.exports.createContext(null),Nx=wo.exports.createContext({outlet:null,matches:[]});function xf(t,r){if(!t)throw new Error(r)}function A3(t,r,a){a===void 0&&(a="/");let l=typeof r=="string"?Fp(r):r,g=rA(l.pathname||"/",a);if(g==null)return null;let x=tA(t);M3(x);let D=null;for(let L=0;D==null&&L<x.length;++L)D=U3(x[L],g);return D}function tA(t,r,a,l){return r===void 0&&(r=[]),a===void 0&&(a=[]),l===void 0&&(l=""),t.forEach((g,x)=>{let D={relativePath:g.path||"",caseSensitive:g.caseSensitive===!0,childrenIndex:x,route:g};D.relativePath.startsWith("/")&&(D.relativePath.startsWith(l)||xf(!1),D.relativePath=D.relativePath.slice(l.length));let L=Jm([l,D.relativePath]),U=a.concat(D);g.children&&g.children.length>0&&(g.index===!0&&xf(!1),tA(g.children,r,U,L)),!(g.path==null&&!g.index)&&r.push({path:L,score:j3(L,g.index),routesMeta:U})}),r}function M3(t){t.sort((r,a)=>r.score!==a.score?a.score-r.score:W3(r.routesMeta.map(l=>l.childrenIndex),a.routesMeta.map(l=>l.childrenIndex)))}const I3=/^:\w+$/,B3=3,L3=2,F3=1,H3=10,z3=-2,bO=t=>t==="*";function j3(t,r){let a=t.split("/"),l=a.length;return a.some(bO)&&(l+=z3),r&&(l+=L3),a.filter(g=>!bO(g)).reduce((g,x)=>g+(I3.test(x)?B3:x===""?F3:H3),l)}function W3(t,r){return t.length===r.length&&t.slice(0,-1).every((l,g)=>l===r[g])?t[t.length-1]-r[r.length-1]:0}function U3(t,r){let{routesMeta:a}=t,l={},g="/",x=[];for(let D=0;D<a.length;++D){let L=a[D],U=D===a.length-1,X=g==="/"?r:r.slice(g.length)||"/",se=$3({path:L.relativePath,caseSensitive:L.caseSensitive,end:U},X);if(!se)return null;Object.assign(l,se.params);let re=L.route;x.push({params:l,pathname:Jm([g,se.pathname]),pathnameBase:oA(Jm([g,se.pathnameBase])),route:re}),se.pathnameBase!=="/"&&(g=Jm([g,se.pathnameBase]))}return x}function $3(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,l]=V3(t.path,t.caseSensitive,t.end),g=r.match(a);if(!g)return null;let x=g[0],D=x.replace(/(.)\/+$/,"$1"),L=g.slice(1);return{params:l.reduce((X,se,re)=>{if(se==="*"){let ee=L[re]||"";D=x.slice(0,x.length-ee.length).replace(/(.)\/+$/,"$1")}return X[se]=q3(L[re]||""),X},{}),pathname:x,pathnameBase:D,pattern:t}}function V3(t,r,a){r===void 0&&(r=!1),a===void 0&&(a=!0);let l=[],g="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(D,L)=>(l.push(L),"([^\\/]+)"));return t.endsWith("*")?(l.push("*"),g+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):g+=a?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)",[new RegExp(g,r?void 0:"i"),l]}function q3(t,r){try{return decodeURIComponent(t)}catch{return t}}function Y3(t,r){r===void 0&&(r="/");let{pathname:a,search:l="",hash:g=""}=typeof t=="string"?Fp(t):t;return{pathname:a?a.startsWith("/")?a:K3(a,r):r,search:G3(l),hash:J3(g)}}function K3(t,r){let a=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(g=>{g===".."?a.length>1&&a.pop():g!=="."&&a.push(g)}),a.length>1?a.join("/"):"/"}function nA(t,r,a){let l=typeof t=="string"?Fp(t):t,g=t===""||l.pathname===""?"/":l.pathname,x;if(g==null)x=a;else{let L=r.length-1;if(g.startsWith("..")){let U=g.split("/");for(;U[0]==="..";)U.shift(),L-=1;l.pathname=U.join("/")}x=L>=0?r[L]:"/"}let D=Y3(l,x);return g&&g!=="/"&&g.endsWith("/")&&!D.pathname.endsWith("/")&&(D.pathname+="/"),D}function X3(t){return t===""||t.pathname===""?"/":typeof t=="string"?Fp(t).pathname:t.pathname}function rA(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let a=t.charAt(r.length);return a&&a!=="/"?null:t.slice(r.length)||"/"}const Jm=t=>t.join("/").replace(/\/\/+/g,"/"),oA=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),G3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,J3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Q3(t){Kv()||xf(!1);let{basename:r,navigator:a}=wo.exports.useContext(cT),{hash:l,pathname:g,search:x}=iA(t),D=g;if(r!=="/"){let L=X3(t),U=L!=null&&L.endsWith("/");D=g==="/"?r+(U?"/":""):Jm([r,g])}return a.createHref({pathname:D,search:x,hash:l})}function Kv(){return wo.exports.useContext(fT)!=null}function ah(){return Kv()||xf(!1),wo.exports.useContext(fT).location}function wb(){Kv()||xf(!1);let{basename:t,navigator:r}=wo.exports.useContext(cT),{matches:a}=wo.exports.useContext(Nx),{pathname:l}=ah(),g=JSON.stringify(a.map(L=>L.pathnameBase)),x=wo.exports.useRef(!1);return wo.exports.useEffect(()=>{x.current=!0}),wo.exports.useCallback(function(L,U){if(U===void 0&&(U={}),!x.current)return;if(typeof L=="number"){r.go(L);return}let X=nA(L,JSON.parse(g),l);t!=="/"&&(X.pathname=Jm([t,X.pathname])),(U.replace?r.replace:r.push)(X,U.state)},[t,r,g,l])}function iA(t){let{matches:r}=wo.exports.useContext(Nx),{pathname:a}=ah(),l=JSON.stringify(r.map(g=>g.pathnameBase));return wo.exports.useMemo(()=>nA(t,JSON.parse(l),a),[t,l,a])}function Z3(t,r){Kv()||xf(!1);let{matches:a}=wo.exports.useContext(Nx),l=a[a.length-1],g=l?l.params:{};l&&l.pathname;let x=l?l.pathnameBase:"/";l&&l.route;let D=ah(),L;if(r){var U;let ee=typeof r=="string"?Fp(r):r;x==="/"||((U=ee.pathname)==null?void 0:U.startsWith(x))||xf(!1),L=ee}else L=D;let X=L.pathname||"/",se=x==="/"?X:X.slice(x.length)||"/",re=A3(t,{pathname:se});return eF(re&&re.map(ee=>Object.assign({},ee,{params:Object.assign({},g,ee.params),pathname:Jm([x,ee.pathname]),pathnameBase:ee.pathnameBase==="/"?x:Jm([x,ee.pathnameBase])})),a)}function eF(t,r){return r===void 0&&(r=[]),t==null?null:t.reduceRight((a,l,g)=>wo.exports.createElement(Nx.Provider,{children:l.route.element!==void 0?l.route.element:a,value:{outlet:a,matches:r.concat(t.slice(0,g+1))}}),null)}function tF(t){let{to:r,replace:a,state:l}=t;Kv()||xf(!1);let g=wb();return wo.exports.useEffect(()=>{g(r,{replace:a,state:l})}),null}function Wm(t){xf(!1)}function nF(t){let{basename:r="/",children:a=null,location:l,navigationType:g=Tp.Pop,navigator:x,static:D=!1}=t;Kv()&&xf(!1);let L=oA(r),U=wo.exports.useMemo(()=>({basename:L,navigator:x,static:D}),[L,x,D]);typeof l=="string"&&(l=Fp(l));let{pathname:X="/",search:se="",hash:re="",state:ee=null,key:Me="default"}=l,De=wo.exports.useMemo(()=>{let ze=rA(X,L);return ze==null?null:{pathname:ze,search:se,hash:re,state:ee,key:Me}},[L,X,se,re,ee,Me]);return De==null?null:wo.exports.createElement(cT.Provider,{value:U},wo.exports.createElement(fT.Provider,{children:a,value:{location:De,navigationType:g}}))}function aA(t){let{children:r,location:a}=t;return Z3(iE(r),a)}function iE(t){let r=[];return wo.exports.Children.forEach(t,a=>{if(!wo.exports.isValidElement(a))return;if(a.type===wo.exports.Fragment){r.push.apply(r,iE(a.props.children));return}a.type!==Wm&&xf(!1);let l={caseSensitive:a.props.caseSensitive,element:a.props.element,index:a.props.index,path:a.props.path};a.props.children&&(l.children=iE(a.props.children)),r.push(l)}),r}/**
 * React Router DOM v6.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aE(){return aE=Object.assign||function(t){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},aE.apply(this,arguments)}function rF(t,r){if(t==null)return{};var a={},l=Object.keys(t),g,x;for(x=0;x<l.length;x++)g=l[x],!(r.indexOf(g)>=0)&&(a[g]=t[g]);return a}const oF=["onClick","reloadDocument","replace","state","target","to"];function iF(t){let{basename:r,children:a,window:l}=t,g=wo.exports.useRef();g.current==null&&(g.current=P3({window:l}));let x=g.current,[D,L]=wo.exports.useState({action:x.action,location:x.location});return wo.exports.useLayoutEffect(()=>x.listen(L),[x]),wo.exports.createElement(nF,{basename:r,children:a,location:D.location,navigationType:D.action,navigator:x})}function aF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const $u=wo.exports.forwardRef(function(r,a){let{onClick:l,reloadDocument:g,replace:x=!1,state:D,target:L,to:U}=r,X=rF(r,oF),se=Q3(U),re=uF(U,{replace:x,state:D,target:L});function ee(Me){l&&l(Me),!Me.defaultPrevented&&!g&&re(Me)}return wo.exports.createElement("a",aE({},X,{href:se,onClick:ee,ref:a,target:L}))});function uF(t,r){let{target:a,replace:l,state:g}=r===void 0?{}:r,x=wb(),D=ah(),L=iA(t);return wo.exports.useCallback(U=>{if(U.button===0&&(!a||a==="_self")&&!aF(U)){U.preventDefault();let X=!!l||oE(D)===oE(L);x(t,{replace:X,state:g})}},[D,x,L,l,g,a,t])}function dT(t){let r=wo.exports.useRef(GS(t)),a=ah(),l=wo.exports.useMemo(()=>{let D=GS(a.search);for(let L of r.current.keys())D.has(L)||r.current.getAll(L).forEach(U=>{D.append(L,U)});return D},[a.search]),g=wb(),x=wo.exports.useCallback((D,L)=>{g("?"+GS(D),L)},[g]);return[l,x]}function GS(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((r,a)=>{let l=t[a];return r.concat(Array.isArray(l)?l.map(g=>[a,g]):[[a,l]])},[]))}const Xy=/^[a-z0-9]+(-[a-z0-9]+)*$/,ed=Object.freeze({left:0,top:0,width:16,height:16,rotate:0,vFlip:!1,hFlip:!1});function mT(t){return _d(_d({},ed),t)}const Rx=(t,r,a,l="")=>{const g=t.split(":");if(t.slice(0,1)==="@"){if(g.length<2||g.length>3)return null;l=g.shift().slice(1)}if(g.length>3||!g.length)return null;if(g.length>1){const L=g.pop(),U=g.pop(),X={provider:g.length>0?g[0]:l,prefix:U,name:L};return r&&!Gy(X)?null:X}const x=g[0],D=x.split("-");if(D.length>1){const L={provider:l,prefix:D.shift(),name:D.join("-")};return r&&!Gy(L)?null:L}if(a&&l===""){const L={provider:l,prefix:"",name:x};return r&&!Gy(L,a)?null:L}return null},Gy=(t,r)=>t?!!((t.provider===""||t.provider.match(Xy))&&(r&&t.prefix===""||t.prefix.match(Xy))&&t.name.match(Xy)):!1;function sF(t,r){const a=_d({},t);for(const l in ed){const g=l;if(r[g]!==void 0){const x=r[g];if(a[g]===void 0){a[g]=x;continue}switch(g){case"rotate":a[g]=(a[g]+x)%4;break;case"hFlip":case"vFlip":a[g]=x!==a[g];break;default:a[g]=x}}}return a}function wO(t,r,a=!1){function l(x,D){if(t.icons[x]!==void 0)return Object.assign({},t.icons[x]);if(D>5)return null;const L=t.aliases;if(L&&L[x]!==void 0){const X=L[x],se=l(X.parent,D+1);return se&&sF(se,X)}const U=t.chars;return!D&&U&&U[x]!==void 0?l(U[x],D+1):null}const g=l(r,0);if(g)for(const x in ed)g[x]===void 0&&t[x]!==void 0&&(g[x]=t[x]);return g&&a?mT(g):g}function lF(t){for(const r in ed)if(t[r]!==void 0)return!0;return!1}function uA(t,r,a){a=a||{};const l=[];if(typeof t!="object"||typeof t.icons!="object")return l;t.not_found instanceof Array&&t.not_found.forEach(D=>{r(D,null),l.push(D)});const g=t.icons;Object.keys(g).forEach(D=>{const L=wO(t,D,!0);L&&(r(D,L),l.push(D))});const x=a.aliases||"all";if(x!=="none"&&typeof t.aliases=="object"){const D=t.aliases;Object.keys(D).forEach(L=>{if(x==="variations"&&lF(D[L]))return;const U=wO(t,L,!0);U&&(r(L,U),l.push(L))})}return l}const uE={provider:"string",aliases:"object",not_found:"object"};for(const t in ed)uE[t]=typeof ed[t];function sA(t){if(typeof t!="object"||t===null)return null;const r=t;if(typeof r.prefix!="string"||!t.icons||typeof t.icons!="object")return null;for(const g in uE)if(t[g]!==void 0&&typeof t[g]!==uE[g])return null;const a=r.icons;for(const g in a){const x=a[g];if(!g.match(Xy)||typeof x.body!="string")return null;for(const D in ed)if(x[D]!==void 0&&typeof x[D]!=typeof ed[D])return null}const l=r.aliases;if(l)for(const g in l){const x=l[g],D=x.parent;if(!g.match(Xy)||typeof D!="string"||!a[D]&&!l[D])return null;for(const L in ed)if(x[L]!==void 0&&typeof x[L]!=typeof ed[L])return null}return r}const cF=1;let Mw=Object.create(null);try{const t=window||self;t&&t._iconifyStorage.version===cF&&(Mw=t._iconifyStorage.storage)}catch{}function fF(t,r){return{provider:t,prefix:r,icons:Object.create(null),missing:Object.create(null)}}function Hp(t,r){Mw[t]===void 0&&(Mw[t]=Object.create(null));const a=Mw[t];return a[r]===void 0&&(a[r]=fF(t,r)),a[r]}function hT(t,r){if(!sA(r))return[];const a=Date.now();return uA(r,(l,g)=>{g?t.icons[l]=g:t.missing[l]=a})}function dF(t,r,a){try{if(typeof a.body=="string")return t.icons[r]=Object.freeze(mT(a)),!0}catch{}return!1}function mF(t,r){const a=t.icons[r];return a===void 0?null:a}let hb=!1;function lA(t){return typeof t=="boolean"&&(hb=t),hb}function hF(t){const r=typeof t=="string"?Rx(t,!0,hb):t;return r?mF(Hp(r.provider,r.prefix),r.name):null}function pF(t,r){const a=Rx(t,!0,hb);if(!a)return!1;const l=Hp(a.provider,a.prefix);return dF(l,a.name,r)}function gF(t,r){if(typeof t!="object")return!1;if(typeof r!="string"&&(r=typeof t.provider=="string"?t.provider:""),hb&&r===""&&(typeof t.prefix!="string"||t.prefix==="")){let l=!1;return sA(t)&&(t.prefix="",uA(t,(g,x)=>{x&&pF(g,x)&&(l=!0)})),l}if(typeof t.prefix!="string"||!Gy({provider:r,prefix:t.prefix,name:"a"}))return!1;const a=Hp(r,t.prefix);return!!hT(a,t)}const cA=Object.freeze({inline:!1,width:null,height:null,hAlign:"center",vAlign:"middle",slice:!1,hFlip:!1,vFlip:!1,rotate:0});function vF(t,r){const a={};for(const l in t){const g=l;if(a[g]=t[g],r[g]===void 0)continue;const x=r[g];switch(g){case"inline":case"slice":typeof x=="boolean"&&(a[g]=x);break;case"hFlip":case"vFlip":x===!0&&(a[g]=!a[g]);break;case"hAlign":case"vAlign":typeof x=="string"&&x!==""&&(a[g]=x);break;case"width":case"height":(typeof x=="string"&&x!==""||typeof x=="number"&&x||x===null)&&(a[g]=x);break;case"rotate":typeof x=="number"&&(a[g]+=x);break}}return a}const yF=/(-?[0-9.]*[0-9]+[0-9.]*)/g,bF=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function JS(t,r,a){if(r===1)return t;if(a=a===void 0?100:a,typeof t=="number")return Math.ceil(t*r*a)/a;if(typeof t!="string")return t;const l=t.split(yF);if(l===null||!l.length)return t;const g=[];let x=l.shift(),D=bF.test(x);for(;;){if(D){const L=parseFloat(x);isNaN(L)?g.push(x):g.push(Math.ceil(L*r*a)/a)}else g.push(x);if(x=l.shift(),x===void 0)return g.join("");D=!D}}function wF(t){let r="";switch(t.hAlign){case"left":r+="xMin";break;case"right":r+="xMax";break;default:r+="xMid"}switch(t.vAlign){case"top":r+="YMin";break;case"bottom":r+="YMax";break;default:r+="YMid"}return r+=t.slice?" slice":" meet",r}function xF(t,r){const a={left:t.left,top:t.top,width:t.width,height:t.height};let l=t.body;[t,r].forEach(L=>{const U=[],X=L.hFlip,se=L.vFlip;let re=L.rotate;X?se?re+=2:(U.push("translate("+(a.width+a.left).toString()+" "+(0-a.top).toString()+")"),U.push("scale(-1 1)"),a.top=a.left=0):se&&(U.push("translate("+(0-a.left).toString()+" "+(a.height+a.top).toString()+")"),U.push("scale(1 -1)"),a.top=a.left=0);let ee;switch(re<0&&(re-=Math.floor(re/4)*4),re=re%4,re){case 1:ee=a.height/2+a.top,U.unshift("rotate(90 "+ee.toString()+" "+ee.toString()+")");break;case 2:U.unshift("rotate(180 "+(a.width/2+a.left).toString()+" "+(a.height/2+a.top).toString()+")");break;case 3:ee=a.width/2+a.left,U.unshift("rotate(-90 "+ee.toString()+" "+ee.toString()+")");break}re%2===1&&((a.left!==0||a.top!==0)&&(ee=a.left,a.left=a.top,a.top=ee),a.width!==a.height&&(ee=a.width,a.width=a.height,a.height=ee)),U.length&&(l='<g transform="'+U.join(" ")+'">'+l+"</g>")});let g,x;r.width===null&&r.height===null?(x="1em",g=JS(x,a.width/a.height)):r.width!==null&&r.height!==null?(g=r.width,x=r.height):r.height!==null?(x=r.height,g=JS(x,a.width/a.height)):(g=r.width,x=JS(g,a.height/a.width)),g==="auto"&&(g=a.width),x==="auto"&&(x=a.height),g=typeof g=="string"?g:g.toString()+"",x=typeof x=="string"?x:x.toString()+"";const D={attributes:{width:g,height:x,preserveAspectRatio:wF(r),viewBox:a.left.toString()+" "+a.top.toString()+" "+a.width.toString()+" "+a.height.toString()},body:l};return r.inline&&(D.inline=!0),D}const CF=/\sid="(\S+)"/g,SF="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let kF=0;function EF(t,r=SF){const a=[];let l;for(;l=CF.exec(t);)a.push(l[1]);return a.length&&a.forEach(g=>{const x=typeof r=="function"?r(g):r+(kF++).toString(),D=g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");t=t.replace(new RegExp('([#;"])('+D+')([")]|\\.[a-z])',"g"),"$1"+x+"$3")}),t}const sE=Object.create(null);function TF(t,r){sE[t]=r}function lE(t){return sE[t]||sE[""]}function pT(t){let r;if(typeof t.resources=="string")r=[t.resources];else if(r=t.resources,!(r instanceof Array)||!r.length)return null;return{resources:r,path:t.path===void 0?"/":t.path,maxURL:t.maxURL?t.maxURL:500,rotate:t.rotate?t.rotate:750,timeout:t.timeout?t.timeout:5e3,random:t.random===!0,index:t.index?t.index:0,dataAfterTimeout:t.dataAfterTimeout!==!1}}const gT=Object.create(null),Ay=["https://api.simplesvg.com","https://api.unisvg.com"],Iw=[];for(;Ay.length>0;)Ay.length===1||Math.random()>.5?Iw.push(Ay.shift()):Iw.push(Ay.pop());gT[""]=pT({resources:["https://api.iconify.design"].concat(Iw)});function _F(t,r){const a=pT(r);return a===null?!1:(gT[t]=a,!0)}function vT(t){return gT[t]}const fA=(t,r)=>{let a=t,l=a.indexOf("?")!==-1;function g(x){switch(typeof x){case"boolean":return x?"true":"false";case"number":return encodeURIComponent(x);case"string":return encodeURIComponent(x);default:throw new Error("Invalid parameter")}}return Object.keys(r).forEach(x=>{let D;try{D=g(r[x])}catch{return}a+=(l?"&":"?")+encodeURIComponent(x)+"="+D,l=!0}),a},dA={},Bw={},NF=()=>{let t;try{if(t=fetch,typeof t=="function")return t}catch{}return null};let xO=NF();function RF(t,r){const a=vT(t);if(!a)return 0;let l;if(!a.maxURL)l=0;else{let x=0;a.resources.forEach(L=>{x=Math.max(x,L.length)});const D=fA(r+".json",{icons:""});l=a.maxURL-x-a.path.length-D.length}const g=t+":"+r;return Bw[t]=a.path,dA[g]=l,l}function OF(t){return t===404}const PF=(t,r,a)=>{const l=[];let g=dA[r];g===void 0&&(g=RF(t,r));const x="icons";let D={type:x,provider:t,prefix:r,icons:[]},L=0;return a.forEach((U,X)=>{L+=U.length+1,L>=g&&X>0&&(l.push(D),D={type:x,provider:t,prefix:r,icons:[]},L=U.length),D.icons.push(U)}),l.push(D),l};function DF(t){if(typeof t=="string"){if(Bw[t]===void 0){const r=vT(t);if(!r)return"/";Bw[t]=r.path}return Bw[t]}return"/"}const AF=(t,r,a)=>{if(!xO){a("abort",424);return}let l=DF(r.provider);switch(r.type){case"icons":{const x=r.prefix,L=r.icons.join(",");l+=fA(x+".json",{icons:L});break}case"custom":{const x=r.uri;l+=x.slice(0,1)==="/"?x.slice(1):x;break}default:a("abort",400);return}let g=503;xO(t+l).then(x=>{const D=x.status;if(D!==200){setTimeout(()=>{a(OF(D)?"abort":"next",D)});return}return g=501,x.json()}).then(x=>{if(typeof x!="object"||x===null){setTimeout(()=>{a("next",g)});return}setTimeout(()=>{a("success",x)})}).catch(()=>{a("next",g)})},MF={prepare:PF,send:AF};function IF(t){const r={loaded:[],missing:[],pending:[]},a=Object.create(null);t.sort((g,x)=>g.provider!==x.provider?g.provider.localeCompare(x.provider):g.prefix!==x.prefix?g.prefix.localeCompare(x.prefix):g.name.localeCompare(x.name));let l={provider:"",prefix:"",name:""};return t.forEach(g=>{if(l.name===g.name&&l.prefix===g.prefix&&l.provider===g.provider)return;l=g;const x=g.provider,D=g.prefix,L=g.name;a[x]===void 0&&(a[x]=Object.create(null));const U=a[x];U[D]===void 0&&(U[D]=Hp(x,D));const X=U[D];let se;X.icons[L]!==void 0?se=r.loaded:D===""||X.missing[L]!==void 0?se=r.missing:se=r.pending;const re={provider:x,prefix:D,name:L};se.push(re)}),r}const Qm=Object.create(null),QS=Object.create(null);function mA(t,r){t.forEach(a=>{const l=a.provider;if(Qm[l]===void 0)return;const g=Qm[l],x=a.prefix,D=g[x];D&&(g[x]=D.filter(L=>L.id!==r))})}function BF(t,r){QS[t]===void 0&&(QS[t]=Object.create(null));const a=QS[t];a[r]||(a[r]=!0,setTimeout(()=>{if(a[r]=!1,Qm[t]===void 0||Qm[t][r]===void 0)return;const l=Qm[t][r].slice(0);if(!l.length)return;const g=Hp(t,r);let x=!1;l.forEach(D=>{const L=D.icons,U=L.pending.length;L.pending=L.pending.filter(X=>{if(X.prefix!==r)return!0;const se=X.name;if(g.icons[se]!==void 0)L.loaded.push({provider:t,prefix:r,name:se});else if(g.missing[se]!==void 0)L.missing.push({provider:t,prefix:r,name:se});else return x=!0,!0;return!1}),L.pending.length!==U&&(x||mA([{provider:t,prefix:r}],D.id),D.callback(L.loaded.slice(0),L.missing.slice(0),L.pending.slice(0),D.abort))})}))}let LF=0;function FF(t,r,a){const l=LF++,g=mA.bind(null,a,l);if(!r.pending.length)return g;const x={id:l,icons:r,callback:t,abort:g};return a.forEach(D=>{const L=D.provider,U=D.prefix;Qm[L]===void 0&&(Qm[L]=Object.create(null));const X=Qm[L];X[U]===void 0&&(X[U]=[]),X[U].push(x)}),g}function HF(t,r=!0,a=!1){const l=[];return t.forEach(g=>{const x=typeof g=="string"?Rx(g,!1,a):g;(!r||Gy(x,a))&&l.push({provider:x.provider,prefix:x.prefix,name:x.name})}),l}var CO={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function zF(t,r,a,l){const g=t.resources.length,x=t.random?Math.floor(Math.random()*g):t.index;let D;if(t.random){let Ie=t.resources.slice(0);for(D=[];Ie.length>1;){const Ce=Math.floor(Math.random()*Ie.length);D.push(Ie[Ce]),Ie=Ie.slice(0,Ce).concat(Ie.slice(Ce+1))}D=D.concat(Ie)}else D=t.resources.slice(x).concat(t.resources.slice(0,x));const L=Date.now();let U="pending",X=0,se,re=null,ee=[],Me=[];typeof l=="function"&&Me.push(l);function De(){re&&(clearTimeout(re),re=null)}function ze(){U==="pending"&&(U="aborted"),De(),ee.forEach(Ie=>{Ie.status==="pending"&&(Ie.status="aborted")}),ee=[]}function mt(Ie,Ce){Ce&&(Me=[]),typeof Ie=="function"&&Me.push(Ie)}function G(){return{startTime:L,payload:r,status:U,queriesSent:X,queriesPending:ee.length,subscribe:mt,abort:ze}}function ve(){U="failed",Me.forEach(Ie=>{Ie(void 0,se)})}function Ae(){ee.forEach(Ie=>{Ie.status==="pending"&&(Ie.status="aborted")}),ee=[]}function Ke(Ie,Ce,ut){const $e=Ce!=="success";switch(ee=ee.filter(Je=>Je!==Ie),U){case"pending":break;case"failed":if($e||!t.dataAfterTimeout)return;break;default:return}if(Ce==="abort"){se=ut,ve();return}if($e){se=ut,ee.length||(D.length?vt():ve());return}if(De(),Ae(),!t.random){const Je=t.resources.indexOf(Ie.resource);Je!==-1&&Je!==t.index&&(t.index=Je)}U="completed",Me.forEach(Je=>{Je(ut)})}function vt(){if(U!=="pending")return;De();const Ie=D.shift();if(Ie===void 0){if(ee.length){re=setTimeout(()=>{De(),U==="pending"&&(Ae(),ve())},t.timeout);return}ve();return}const Ce={status:"pending",resource:Ie,callback:(ut,$e)=>{Ke(Ce,ut,$e)}};ee.push(Ce),X++,re=setTimeout(vt,t.rotate),a(Ie,r,Ce.callback)}return setTimeout(vt),G}function jF(t){if(typeof t!="object"||typeof t.resources!="object"||!(t.resources instanceof Array)||!t.resources.length)throw new Error("Invalid Reduncancy configuration");const r=Object.create(null);let a;for(a in CO)t[a]!==void 0?r[a]=t[a]:r[a]=CO[a];return r}function hA(t){const r=jF(t);let a=[];function l(){a=a.filter(L=>L().status==="pending")}function g(L,U,X){const se=zF(r,L,U,(re,ee)=>{l(),X&&X(re,ee)});return a.push(se),se}function x(L){const U=a.find(X=>L(X));return U!==void 0?U:null}return{query:g,find:x,setIndex:L=>{r.index=L},getIndex:()=>r.index,cleanup:l}}function SO(){}const ZS=Object.create(null);function WF(t){if(ZS[t]===void 0){const r=vT(t);if(!r)return;const a=hA(r),l={config:r,redundancy:a};ZS[t]=l}return ZS[t]}function UF(t,r,a){let l,g;if(typeof t=="string"){const x=lE(t);if(!x)return a(void 0,424),SO;g=x.send;const D=WF(t);D&&(l=D.redundancy)}else{const x=pT(t);if(x){l=hA(x);const D=t.resources?t.resources[0]:"",L=lE(D);L&&(g=L.send)}}return!l||!g?(a(void 0,424),SO):l.query(r,g,a)().abort}const cE={};function kO(){}const _p=Object.create(null),ek=Object.create(null),tk=Object.create(null),nk=Object.create(null);function $F(t,r){tk[t]===void 0&&(tk[t]=Object.create(null));const a=tk[t];a[r]||(a[r]=!0,setTimeout(()=>{a[r]=!1,BF(t,r)}))}const EO=Object.create(null);function VF(t,r,a){function l(){const L=(t===""?"":"@"+t+":")+r,U=Math.floor(Date.now()/6e4);EO[L]<U&&(EO[L]=U,console.error('Unable to retrieve icons for "'+L+'" because API is not configured properly.'))}ek[t]===void 0&&(ek[t]=Object.create(null));const g=ek[t];nk[t]===void 0&&(nk[t]=Object.create(null));const x=nk[t];_p[t]===void 0&&(_p[t]=Object.create(null));const D=_p[t];g[r]===void 0?g[r]=a:g[r]=g[r].concat(a).sort(),x[r]||(x[r]=!0,setTimeout(()=>{x[r]=!1;const L=g[r];delete g[r];const U=lE(t);if(!U){l();return}U.prepare(t,r,L).forEach(se=>{UF(t,se,(re,ee)=>{const Me=Hp(t,r);if(typeof re!="object"){if(ee!==404)return;const De=Date.now();se.icons.forEach(ze=>{Me.missing[ze]=De})}else try{const De=hT(Me,re);if(!De.length)return;const ze=D[r];De.forEach(mt=>{delete ze[mt]}),cE.store&&cE.store(t,re)}catch(De){console.error(De)}$F(t,r)})})}))}const qF=(t,r)=>{const a=HF(t,!0,lA()),l=IF(a);if(!l.pending.length){let X=!0;return r&&setTimeout(()=>{X&&r(l.loaded,l.missing,l.pending,kO)}),()=>{X=!1}}const g=Object.create(null),x=[];let D,L;l.pending.forEach(X=>{const se=X.provider,re=X.prefix;if(re===L&&se===D)return;D=se,L=re,x.push({provider:se,prefix:re}),_p[se]===void 0&&(_p[se]=Object.create(null));const ee=_p[se];ee[re]===void 0&&(ee[re]=Object.create(null)),g[se]===void 0&&(g[se]=Object.create(null));const Me=g[se];Me[re]===void 0&&(Me[re]=[])});const U=Date.now();return l.pending.forEach(X=>{const se=X.provider,re=X.prefix,ee=X.name,Me=_p[se][re];Me[ee]===void 0&&(Me[ee]=U,g[se][re].push(ee))}),x.forEach(X=>{const se=X.provider,re=X.prefix;g[se][re].length&&VF(se,re,g[se][re])}),r?FF(r,l,x):kO},pA="iconify2",xb="iconify",gA=xb+"-count",vA=xb+"-version",yA=36e5,YF=168,yT={local:!0,session:!0};let fE=!1;const bA={local:0,session:0},wA={local:[],session:[]};let ww=typeof window=="undefined"?{}:window;function xA(t){const r=t+"Storage";try{if(ww&&ww[r]&&typeof ww[r].length=="number")return ww[r]}catch{}return yT[t]=!1,null}function bT(t,r,a){try{return t.setItem(gA,a.toString()),bA[r]=a,!0}catch{return!1}}function CA(t){const r=t.getItem(gA);if(r){const a=parseInt(r);return a||0}return 0}function KF(t,r){try{t.setItem(vA,pA)}catch{}bT(t,r,0)}function XF(t){try{const r=CA(t);for(let a=0;a<r;a++)t.removeItem(xb+a.toString())}catch{}}const SA=()=>{if(fE)return;fE=!0;const t=Math.floor(Date.now()/yA)-YF;function r(a){const l=xA(a);if(!l)return;const g=x=>{const D=xb+x.toString(),L=l.getItem(D);if(typeof L!="string")return!1;let U=!0;try{const X=JSON.parse(L);if(typeof X!="object"||typeof X.cached!="number"||X.cached<t||typeof X.provider!="string"||typeof X.data!="object"||typeof X.data.prefix!="string")U=!1;else{const se=X.provider,re=X.data.prefix,ee=Hp(se,re);U=hT(ee,X.data).length>0}}catch{U=!1}return U||l.removeItem(D),U};try{const x=l.getItem(vA);if(x!==pA){x&&XF(l),KF(l,a);return}let D=CA(l);for(let L=D-1;L>=0;L--)g(L)||(L===D-1?D--:wA[a].push(L));bT(l,a,D)}catch{}}for(const a in yT)r(a)},GF=(t,r)=>{fE||SA();function a(l){if(!yT[l])return!1;const g=xA(l);if(!g)return!1;let x=wA[l].shift();if(x===void 0&&(x=bA[l],!bT(g,l,x+1)))return!1;try{const D={cached:Math.floor(Date.now()/yA),provider:t,data:r};g.setItem(xb+x.toString(),JSON.stringify(D))}catch{return!1}return!0}!Object.keys(r.icons).length||(r.not_found&&(r=Object.assign({},r),delete r.not_found),a("local")||a("session"))},kA=/[\s,]+/;function JF(t,r){r.split(kA).forEach(a=>{switch(a.trim()){case"horizontal":t.hFlip=!0;break;case"vertical":t.vFlip=!0;break}})}function QF(t,r){r.split(kA).forEach(a=>{const l=a.trim();switch(l){case"left":case"center":case"right":t.hAlign=l;break;case"top":case"middle":case"bottom":t.vAlign=l;break;case"slice":case"crop":t.slice=!0;break;case"meet":t.slice=!1}})}function ZF(t,r=0){const a=t.replace(/^-?[0-9.]*/,"");function l(g){for(;g<0;)g+=4;return g%4}if(a===""){const g=parseInt(t);return isNaN(g)?0:l(g)}else if(a!==t){let g=0;switch(a){case"%":g=25;break;case"deg":g=90}if(g){let x=parseFloat(t.slice(0,t.length-a.length));return isNaN(x)?0:(x=x/g,x%1===0?l(x):0)}}return r}const eH={xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img",style:{}},tH=hv(_d({},cA),{inline:!0}),nH=(t,r,a,l)=>{const g=a?tH:cA,x=vF(g,r),D=typeof r.style=="object"&&r.style!==null?r.style:{},L=hv(_d({},eH),{ref:l,style:D});for(let re in r){const ee=r[re];if(ee!==void 0)switch(re){case"icon":case"style":case"children":case"onLoad":case"_ref":case"_inline":break;case"inline":case"hFlip":case"vFlip":x[re]=ee===!0||ee==="true"||ee===1;break;case"flip":typeof ee=="string"&&JF(x,ee);break;case"align":typeof ee=="string"&&QF(x,ee);break;case"color":D.color=ee;break;case"rotate":typeof ee=="string"?x[re]=ZF(ee):typeof ee=="number"&&(x[re]=ee);break;case"ariaHidden":case"aria-hidden":ee!==!0&&ee!=="true"&&delete L["aria-hidden"];break;default:g[re]===void 0&&(L[re]=ee)}}const U=xF(t,x);let X=0,se=r.id;typeof se=="string"&&(se=se.replace(/-/g,"_")),L.dangerouslySetInnerHTML={__html:EF(U.body,se?()=>se+"ID"+X++:"iconifyReact")};for(let re in U.attributes)L[re]=U.attributes[re];return U.inline&&D.verticalAlign===void 0&&(D.verticalAlign="-0.125em"),Zm.createElement("svg",L)};lA(!0);TF("",MF);if(typeof document!="undefined"&&typeof window!="undefined"){cE.store=GF,SA();const t=window;if(t.IconifyPreload!==void 0){const r=t.IconifyPreload,a="Invalid IconifyPreload syntax.";typeof r=="object"&&r!==null&&(r instanceof Array?r:[r]).forEach(l=>{try{(typeof l!="object"||l===null||l instanceof Array||typeof l.icons!="object"||typeof l.prefix!="string"||!gF(l))&&console.error(a)}catch{console.error(a)}})}if(t.IconifyProviders!==void 0){const r=t.IconifyProviders;if(typeof r=="object"&&r!==null)for(let a in r){const l="IconifyProviders["+a+"] is invalid.";try{const g=r[a];if(typeof g!="object"||!g||g.resources===void 0)continue;_F(a,g)||console.error(l)}catch{console.error(l)}}}}class EA extends Zm.Component{constructor(r){super(r),this.state={icon:null}}_abortLoading(){this._loading&&(this._loading.abort(),this._loading=null)}_setData(r){this.state.icon!==r&&this.setState({icon:r})}_checkIcon(r){const a=this.state,l=this.props.icon;if(typeof l=="object"&&l!==null&&typeof l.body=="string"){this._icon="",this._abortLoading(),(r||a.icon===null)&&this._setData({data:mT(l)});return}let g;if(typeof l!="string"||(g=Rx(l,!1,!0))===null){this._abortLoading(),this._setData(null);return}const x=hF(g);if(x===null){(!this._loading||this._loading.name!==l)&&(this._abortLoading(),this._icon="",this._setData(null),this._loading={name:l,abort:qF([g],this._checkIcon.bind(this,!1))});return}if(this._icon!==l||a.icon===null){this._abortLoading(),this._icon=l;const D=["iconify"];g.prefix!==""&&D.push("iconify--"+g.prefix),g.provider!==""&&D.push("iconify--"+g.provider),this._setData({data:x,classes:D}),this.props.onLoad&&this.props.onLoad(l)}}componentDidMount(){this._checkIcon(!1)}componentDidUpdate(r){r.icon!==this.props.icon&&this._checkIcon(!0)}componentWillUnmount(){this._abortLoading()}render(){const r=this.props,a=this.state.icon;if(a===null)return r.children?r.children:Zm.createElement("span",{});let l=r;return a.classes&&(l=hv(_d({},r),{className:(typeof r.className=="string"?r.className+" ":"")+a.classes.join(" ")})),nH(a.data,l,r._inline,r._ref)}}const rH=Zm.forwardRef(function(r,a){const l=hv(_d({},r),{_ref:a,_inline:!1});return Zm.createElement(EA,l)});Zm.forwardRef(function(r,a){const l=hv(_d({},r),{_ref:a,_inline:!0});return Zm.createElement(EA,l)});var Ox={exports:{}},Px={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oH=wo.exports,iH=Symbol.for("react.element"),aH=Symbol.for("react.fragment"),uH=Object.prototype.hasOwnProperty,sH=oH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lH={key:!0,ref:!0,__self:!0,__source:!0};function TA(t,r,a){var l,g={},x=null,D=null;a!==void 0&&(x=""+a),r.key!==void 0&&(x=""+r.key),r.ref!==void 0&&(D=r.ref);for(l in r)uH.call(r,l)&&!lH.hasOwnProperty(l)&&(g[l]=r[l]);if(t&&t.defaultProps)for(l in r=t.defaultProps,r)g[l]===void 0&&(g[l]=r[l]);return{$$typeof:iH,type:t,key:x,ref:D,props:g,_owner:sH.current}}Px.Fragment=aH;Px.jsx=TA;Px.jsxs=TA;Ox.exports=Px;const _t=Ox.exports.jsx,ao=Ox.exports.jsxs,zd=Ox.exports.Fragment;function as(t){return _t(rH,{icon:t.title,className:"sc-admin-icon__"+t.class,style:{color:t.color,fontSize:t.size}})}var _A={exports:{}};/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(t){(function(){var r={}.hasOwnProperty;function a(){for(var l=[],g=0;g<arguments.length;g++){var x=arguments[g];if(!!x){var D=typeof x;if(D==="string"||D==="number")l.push(x);else if(Array.isArray(x)){if(x.length){var L=a.apply(null,x);L&&l.push(L)}}else if(D==="object")if(x.toString===Object.prototype.toString)for(var U in x)r.call(x,U)&&x[U]&&l.push(U);else l.push(x.toString())}}return l.join(" ")}t.exports?(a.default=a,t.exports=a):window.classNames=a})()})(_A);var My=_A.exports;const xw=(t,r)=>{let a=r-t+1;return Array.from({length:a},(l,g)=>g+t)},cH=({totalCount:t,pageSize:r,siblingCount:a=1,currentPage:l})=>wo.exports.useMemo(()=>{const x=Math.ceil(t/r);if(a+5>=x)return xw(1,x);const L=Math.max(l-a,1),U=Math.min(l+a,x),X=L>2,se=U<x-2,re=1,ee=x;if(!X&&se){let Me=3+2*a;return[...xw(1,Me),DOTS,x]}if(X&&!se){let Me=3+2*a,De=xw(x-Me+1,x);return[re,DOTS,...De]}if(X&&se){let Me=xw(L,U);return[re,DOTS,...Me,DOTS,ee]}},[t,r,a,l]),NA=t=>{const{onPageChange:r,totalCount:a,siblingCount:l=1,currentPage:g,pageSize:x,className:D}=t,L=cH({currentPage:g,totalCount:a,siblingCount:l,pageSize:x});if(g===0||L.length<2)return null;const U=Math.ceil(a/x),X=()=>{g!=1&&g!=2&&r(1)},se=()=>{g!=1&&r(g-1)},re=()=>{g!=U&&r(g+1)},ee=()=>{g!=U&&g!=U-1&&r(U)};let Me=L[L.length-1];return ao("ul",{className:My("pagination-container",{[D]:D}),children:[ao("li",{className:"item-count",children:[a," items"]}),_t("li",{className:My("pagination-item",{disabled:g===1||g==2}),onClick:X,children:"\xAB"}),_t("li",{className:My("pagination-item",{disabled:g===1}),onClick:se,children:"\u2039"}),ao("li",{className:"item-count",children:[g," of ",U]}),_t("li",{className:My("pagination-item",{disabled:g===Me}),onClick:re,children:"\u203A"}),_t("li",{className:My("pagination-item",{disabled:g===Me||g==Me-1}),onClick:ee,children:"\xBB"})]})};var TO=[{id:1,first_name:"Homepage",last_name:"au",email:"a@gm.co",phone:"900",a1:"Homepage",a2:"au",a3:"a@gm.co",a4:"900"},{id:2,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:3,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:4,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:5,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:6,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:7,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:8,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:9,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:10,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:11,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:12,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:13,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:14,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:15,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:16,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:17,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:18,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:19,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:20,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"},{id:21,first_name:"2Homepage",last_name:"2au",email:"2a@gm.co",phone:"2900",a1:"2Homepage",a2:"2au",a3:"2a@gm.co",a4:"2900"}];let rk=10;function fH(){const[t,r]=wo.exports.useState(1),a=wo.exports.useMemo(()=>{const l=(t-1)*rk,g=l+rk;return TO.slice(l,g)},[t]);return ao(zd,{children:[_t("h1",{children:"Dashboard"}),_t("div",{className:"content__dashboard-container",children:ao("div",{className:"content__dashboard-wrap",children:[_t("div",{className:"content__dashboard-header",children:_t("h2",{className:"content__dashboard-title",children:"Content Requests"})}),ao("div",{className:"content__dashboard-content",children:[ao("table",{children:[_t("thead",{children:ao("tr",{children:[_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=ID",children:[_t("span",{children:"ID"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=post_type",children:[_t("span",{children:"Content Type"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=post_title",children:[_t("span",{children:"Title"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=post_status",children:[_t("span",{children:"Status"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{children:"Public Author"}),_t("th",{children:"Requestor"}),_t("th",{children:"Approver"}),_t("th",{children:"Publisher"}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=post_date",children:[_t("span",{children:"Publish Date"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=post_modified",children:[_t("span",{children:"Request Date"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{children:"Action"})]})}),_t("tbody",{children:a.map((l,g)=>ao("tr",{children:[_t("td",{children:l.id}),_t("td",{children:l.first_name}),_t("td",{children:l.last_name}),_t("td",{children:l.email}),_t("td",{children:l.phone}),_t("td",{children:l.a1}),_t("td",{children:l.a2}),_t("td",{children:l.a3}),_t("td",{children:l.a4}),_t("td",{children:l.a1}),_t("td",{children:l.a2})]},g))})]}),_t("div",{className:"content__pagination-bottom",children:_t(NA,{currentPage:t,totalCount:TO.length,pageSize:rk,onPageChange:l=>r(l)})})]})]})})]})}function Id(t){return _t($u,{to:t.url,className:t.class?"sc-admin-link__"+t.class:"",children:t.title})}var wT={exports:{}},RA=function(r,a){return function(){for(var g=new Array(arguments.length),x=0;x<g.length;x++)g[x]=arguments[x];return r.apply(a,g)}},dH=RA,xT=Object.prototype.toString,CT=function(t){return function(r){var a=xT.call(r);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())}}(Object.create(null));function zp(t){return t=t.toLowerCase(),function(a){return CT(a)===t}}function ST(t){return Array.isArray(t)}function fx(t){return typeof t=="undefined"}function mH(t){return t!==null&&!fx(t)&&t.constructor!==null&&!fx(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var OA=zp("ArrayBuffer");function hH(t){var r;return typeof ArrayBuffer!="undefined"&&ArrayBuffer.isView?r=ArrayBuffer.isView(t):r=t&&t.buffer&&OA(t.buffer),r}function pH(t){return typeof t=="string"}function gH(t){return typeof t=="number"}function PA(t){return t!==null&&typeof t=="object"}function Lw(t){if(CT(t)!=="object")return!1;var r=Object.getPrototypeOf(t);return r===null||r===Object.prototype}var vH=zp("Date"),yH=zp("File"),bH=zp("Blob"),wH=zp("FileList");function kT(t){return xT.call(t)==="[object Function]"}function xH(t){return PA(t)&&kT(t.pipe)}function CH(t){var r="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||xT.call(t)===r||kT(t.toString)&&t.toString()===r)}var SH=zp("URLSearchParams");function kH(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function EH(){return typeof navigator!="undefined"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window!="undefined"&&typeof document!="undefined"}function ET(t,r){if(!(t===null||typeof t=="undefined"))if(typeof t!="object"&&(t=[t]),ST(t))for(var a=0,l=t.length;a<l;a++)r.call(null,t[a],a,t);else for(var g in t)Object.prototype.hasOwnProperty.call(t,g)&&r.call(null,t[g],g,t)}function dE(){var t={};function r(g,x){Lw(t[x])&&Lw(g)?t[x]=dE(t[x],g):Lw(g)?t[x]=dE({},g):ST(g)?t[x]=g.slice():t[x]=g}for(var a=0,l=arguments.length;a<l;a++)ET(arguments[a],r);return t}function TH(t,r,a){return ET(r,function(g,x){a&&typeof g=="function"?t[x]=dH(g,a):t[x]=g}),t}function _H(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function NH(t,r,a,l){t.prototype=Object.create(r.prototype,l),t.prototype.constructor=t,a&&Object.assign(t.prototype,a)}function RH(t,r,a){var l,g,x,D={};r=r||{};do{for(l=Object.getOwnPropertyNames(t),g=l.length;g-- >0;)x=l[g],D[x]||(r[x]=t[x],D[x]=!0);t=Object.getPrototypeOf(t)}while(t&&(!a||a(t,r))&&t!==Object.prototype);return r}function OH(t,r,a){t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=r.length;var l=t.indexOf(r,a);return l!==-1&&l===a}function PH(t){if(!t)return null;var r=t.length;if(fx(r))return null;for(var a=new Array(r);r-- >0;)a[r]=t[r];return a}var DH=function(t){return function(r){return t&&r instanceof t}}(typeof Uint8Array!="undefined"&&Object.getPrototypeOf(Uint8Array)),xs={isArray:ST,isArrayBuffer:OA,isBuffer:mH,isFormData:CH,isArrayBufferView:hH,isString:pH,isNumber:gH,isObject:PA,isPlainObject:Lw,isUndefined:fx,isDate:vH,isFile:yH,isBlob:bH,isFunction:kT,isStream:xH,isURLSearchParams:SH,isStandardBrowserEnv:EH,forEach:ET,merge:dE,extend:TH,trim:kH,stripBOM:_H,inherits:NH,toFlatObject:RH,kindOf:CT,kindOfTest:zp,endsWith:OH,toArray:PH,isTypedArray:DH,isFileList:wH},gv=xs;function _O(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var DA=function(r,a,l){if(!a)return r;var g;if(l)g=l(a);else if(gv.isURLSearchParams(a))g=a.toString();else{var x=[];gv.forEach(a,function(U,X){U===null||typeof U=="undefined"||(gv.isArray(U)?X=X+"[]":U=[U],gv.forEach(U,function(re){gv.isDate(re)?re=re.toISOString():gv.isObject(re)&&(re=JSON.stringify(re)),x.push(_O(X)+"="+_O(re))}))}),g=x.join("&")}if(g){var D=r.indexOf("#");D!==-1&&(r=r.slice(0,D)),r+=(r.indexOf("?")===-1?"?":"&")+g}return r},AH=xs;function Dx(){this.handlers=[]}Dx.prototype.use=function(r,a,l){return this.handlers.push({fulfilled:r,rejected:a,synchronous:l?l.synchronous:!1,runWhen:l?l.runWhen:null}),this.handlers.length-1};Dx.prototype.eject=function(r){this.handlers[r]&&(this.handlers[r]=null)};Dx.prototype.forEach=function(r){AH.forEach(this.handlers,function(l){l!==null&&r(l)})};var MH=Dx,IH=xs,BH=function(r,a){IH.forEach(r,function(g,x){x!==a&&x.toUpperCase()===a.toUpperCase()&&(r[a]=g,delete r[x])})},AA=xs;function Wv(t,r,a,l,g){Error.call(this),this.message=t,this.name="AxiosError",r&&(this.code=r),a&&(this.config=a),l&&(this.request=l),g&&(this.response=g)}AA.inherits(Wv,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var MA=Wv.prototype,IA={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){IA[t]={value:t}});Object.defineProperties(Wv,IA);Object.defineProperty(MA,"isAxiosError",{value:!0});Wv.from=function(t,r,a,l,g,x){var D=Object.create(MA);return AA.toFlatObject(t,D,function(U){return U!==Error.prototype}),Wv.call(D,t.message,r,a,l,g),D.name=t.name,x&&Object.assign(D,x),D};var Xv=Wv,BA={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},hf=xs;function LH(t,r){r=r||new FormData;var a=[];function l(x){return x===null?"":hf.isDate(x)?x.toISOString():hf.isArrayBuffer(x)||hf.isTypedArray(x)?typeof Blob=="function"?new Blob([x]):Buffer.from(x):x}function g(x,D){if(hf.isPlainObject(x)||hf.isArray(x)){if(a.indexOf(x)!==-1)throw Error("Circular reference detected in "+D);a.push(x),hf.forEach(x,function(U,X){if(!hf.isUndefined(U)){var se=D?D+"."+X:X,re;if(U&&!D&&typeof U=="object"){if(hf.endsWith(X,"{}"))U=JSON.stringify(U);else if(hf.endsWith(X,"[]")&&(re=hf.toArray(U))){re.forEach(function(ee){!hf.isUndefined(ee)&&r.append(se,l(ee))});return}}g(U,se)}}),a.pop()}else r.append(D,l(x))}return g(t),r}var LA=LH,ok=Xv,FH=function(r,a,l){var g=l.config.validateStatus;!l.status||!g||g(l.status)?r(l):a(new ok("Request failed with status code "+l.status,[ok.ERR_BAD_REQUEST,ok.ERR_BAD_RESPONSE][Math.floor(l.status/100)-4],l.config,l.request,l))},Cw=xs,HH=Cw.isStandardBrowserEnv()?function(){return{write:function(a,l,g,x,D,L){var U=[];U.push(a+"="+encodeURIComponent(l)),Cw.isNumber(g)&&U.push("expires="+new Date(g).toGMTString()),Cw.isString(x)&&U.push("path="+x),Cw.isString(D)&&U.push("domain="+D),L===!0&&U.push("secure"),document.cookie=U.join("; ")},read:function(a){var l=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return l?decodeURIComponent(l[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),zH=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)},jH=function(r,a){return a?r.replace(/\/+$/,"")+"/"+a.replace(/^\/+/,""):r},WH=zH,UH=jH,FA=function(r,a){return r&&!WH(a)?UH(r,a):a},ik=xs,$H=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],VH=function(r){var a={},l,g,x;return r&&ik.forEach(r.split(`
`),function(L){if(x=L.indexOf(":"),l=ik.trim(L.substr(0,x)).toLowerCase(),g=ik.trim(L.substr(x+1)),l){if(a[l]&&$H.indexOf(l)>=0)return;l==="set-cookie"?a[l]=(a[l]?a[l]:[]).concat([g]):a[l]=a[l]?a[l]+", "+g:g}}),a},NO=xs,qH=NO.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a"),l;function g(x){var D=x;return r&&(a.setAttribute("href",D),D=a.href),a.setAttribute("href",D),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return l=g(window.location.href),function(D){var L=NO.isString(D)?g(D):D;return L.protocol===l.protocol&&L.host===l.host}}():function(){return function(){return!0}}(),mE=Xv,YH=xs;function HA(t){mE.call(this,t==null?"canceled":t,mE.ERR_CANCELED),this.name="CanceledError"}YH.inherits(HA,mE,{__CANCEL__:!0});var Ax=HA,KH=function(r){var a=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return a&&a[1]||""},Iy=xs,XH=FH,GH=HH,JH=DA,QH=FA,ZH=VH,ez=qH,tz=BA,Nd=Xv,nz=Ax,rz=KH,RO=function(r){return new Promise(function(l,g){var x=r.data,D=r.headers,L=r.responseType,U;function X(){r.cancelToken&&r.cancelToken.unsubscribe(U),r.signal&&r.signal.removeEventListener("abort",U)}Iy.isFormData(x)&&Iy.isStandardBrowserEnv()&&delete D["Content-Type"];var se=new XMLHttpRequest;if(r.auth){var re=r.auth.username||"",ee=r.auth.password?unescape(encodeURIComponent(r.auth.password)):"";D.Authorization="Basic "+btoa(re+":"+ee)}var Me=QH(r.baseURL,r.url);se.open(r.method.toUpperCase(),JH(Me,r.params,r.paramsSerializer),!0),se.timeout=r.timeout;function De(){if(!!se){var G="getAllResponseHeaders"in se?ZH(se.getAllResponseHeaders()):null,ve=!L||L==="text"||L==="json"?se.responseText:se.response,Ae={data:ve,status:se.status,statusText:se.statusText,headers:G,config:r,request:se};XH(function(vt){l(vt),X()},function(vt){g(vt),X()},Ae),se=null}}if("onloadend"in se?se.onloadend=De:se.onreadystatechange=function(){!se||se.readyState!==4||se.status===0&&!(se.responseURL&&se.responseURL.indexOf("file:")===0)||setTimeout(De)},se.onabort=function(){!se||(g(new Nd("Request aborted",Nd.ECONNABORTED,r,se)),se=null)},se.onerror=function(){g(new Nd("Network Error",Nd.ERR_NETWORK,r,se,se)),se=null},se.ontimeout=function(){var ve=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded",Ae=r.transitional||tz;r.timeoutErrorMessage&&(ve=r.timeoutErrorMessage),g(new Nd(ve,Ae.clarifyTimeoutError?Nd.ETIMEDOUT:Nd.ECONNABORTED,r,se)),se=null},Iy.isStandardBrowserEnv()){var ze=(r.withCredentials||ez(Me))&&r.xsrfCookieName?GH.read(r.xsrfCookieName):void 0;ze&&(D[r.xsrfHeaderName]=ze)}"setRequestHeader"in se&&Iy.forEach(D,function(ve,Ae){typeof x=="undefined"&&Ae.toLowerCase()==="content-type"?delete D[Ae]:se.setRequestHeader(Ae,ve)}),Iy.isUndefined(r.withCredentials)||(se.withCredentials=!!r.withCredentials),L&&L!=="json"&&(se.responseType=r.responseType),typeof r.onDownloadProgress=="function"&&se.addEventListener("progress",r.onDownloadProgress),typeof r.onUploadProgress=="function"&&se.upload&&se.upload.addEventListener("progress",r.onUploadProgress),(r.cancelToken||r.signal)&&(U=function(G){!se||(g(!G||G&&G.type?new nz:G),se.abort(),se=null)},r.cancelToken&&r.cancelToken.subscribe(U),r.signal&&(r.signal.aborted?U():r.signal.addEventListener("abort",U))),x||(x=null);var mt=rz(Me);if(mt&&["http","https","file"].indexOf(mt)===-1){g(new Nd("Unsupported protocol "+mt+":",Nd.ERR_BAD_REQUEST,r));return}se.send(x)})},oz=null,os=xs,OO=BH,PO=Xv,iz=BA,az=LA,uz={"Content-Type":"application/x-www-form-urlencoded"};function DO(t,r){!os.isUndefined(t)&&os.isUndefined(t["Content-Type"])&&(t["Content-Type"]=r)}function sz(){var t;return(typeof XMLHttpRequest!="undefined"||typeof process!="undefined"&&Object.prototype.toString.call(process)==="[object process]")&&(t=RO),t}function lz(t,r,a){if(os.isString(t))try{return(r||JSON.parse)(t),os.trim(t)}catch(l){if(l.name!=="SyntaxError")throw l}return(a||JSON.stringify)(t)}var Mx={transitional:iz,adapter:sz(),transformRequest:[function(r,a){if(OO(a,"Accept"),OO(a,"Content-Type"),os.isFormData(r)||os.isArrayBuffer(r)||os.isBuffer(r)||os.isStream(r)||os.isFile(r)||os.isBlob(r))return r;if(os.isArrayBufferView(r))return r.buffer;if(os.isURLSearchParams(r))return DO(a,"application/x-www-form-urlencoded;charset=utf-8"),r.toString();var l=os.isObject(r),g=a&&a["Content-Type"],x;if((x=os.isFileList(r))||l&&g==="multipart/form-data"){var D=this.env&&this.env.FormData;return az(x?{"files[]":r}:r,D&&new D)}else if(l||g==="application/json")return DO(a,"application/json"),lz(r);return r}],transformResponse:[function(r){var a=this.transitional||Mx.transitional,l=a&&a.silentJSONParsing,g=a&&a.forcedJSONParsing,x=!l&&this.responseType==="json";if(x||g&&os.isString(r)&&r.length)try{return JSON.parse(r)}catch(D){if(x)throw D.name==="SyntaxError"?PO.from(D,PO.ERR_BAD_RESPONSE,this,null,this.response):D}return r}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:oz},validateStatus:function(r){return r>=200&&r<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};os.forEach(["delete","get","head"],function(r){Mx.headers[r]={}});os.forEach(["post","put","patch"],function(r){Mx.headers[r]=os.merge(uz)});var TT=Mx,cz=xs,fz=TT,dz=function(r,a,l){var g=this||fz;return cz.forEach(l,function(D){r=D.call(g,r,a)}),r},zA=function(r){return!!(r&&r.__CANCEL__)},AO=xs,ak=dz,mz=zA,hz=TT,pz=Ax;function uk(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new pz}var gz=function(r){uk(r),r.headers=r.headers||{},r.data=ak.call(r,r.data,r.headers,r.transformRequest),r.headers=AO.merge(r.headers.common||{},r.headers[r.method]||{},r.headers),AO.forEach(["delete","get","head","post","put","patch","common"],function(g){delete r.headers[g]});var a=r.adapter||hz.adapter;return a(r).then(function(g){return uk(r),g.data=ak.call(r,g.data,g.headers,r.transformResponse),g},function(g){return mz(g)||(uk(r),g&&g.response&&(g.response.data=ak.call(r,g.response.data,g.response.headers,r.transformResponse))),Promise.reject(g)})},Xl=xs,jA=function(r,a){a=a||{};var l={};function g(se,re){return Xl.isPlainObject(se)&&Xl.isPlainObject(re)?Xl.merge(se,re):Xl.isPlainObject(re)?Xl.merge({},re):Xl.isArray(re)?re.slice():re}function x(se){if(Xl.isUndefined(a[se])){if(!Xl.isUndefined(r[se]))return g(void 0,r[se])}else return g(r[se],a[se])}function D(se){if(!Xl.isUndefined(a[se]))return g(void 0,a[se])}function L(se){if(Xl.isUndefined(a[se])){if(!Xl.isUndefined(r[se]))return g(void 0,r[se])}else return g(void 0,a[se])}function U(se){if(se in a)return g(r[se],a[se]);if(se in r)return g(void 0,r[se])}var X={url:D,method:D,data:D,baseURL:L,transformRequest:L,transformResponse:L,paramsSerializer:L,timeout:L,timeoutMessage:L,withCredentials:L,adapter:L,responseType:L,xsrfCookieName:L,xsrfHeaderName:L,onUploadProgress:L,onDownloadProgress:L,decompress:L,maxContentLength:L,maxBodyLength:L,beforeRedirect:L,transport:L,httpAgent:L,httpsAgent:L,cancelToken:L,socketPath:L,responseEncoding:L,validateStatus:U};return Xl.forEach(Object.keys(r).concat(Object.keys(a)),function(re){var ee=X[re]||x,Me=ee(re);Xl.isUndefined(Me)&&ee!==U||(l[re]=Me)}),l},WA={version:"0.27.2"},vz=WA.version,Hm=Xv,_T={};["object","boolean","number","function","string","symbol"].forEach(function(t,r){_T[t]=function(l){return typeof l===t||"a"+(r<1?"n ":" ")+t}});var MO={};_T.transitional=function(r,a,l){function g(x,D){return"[Axios v"+vz+"] Transitional option '"+x+"'"+D+(l?". "+l:"")}return function(x,D,L){if(r===!1)throw new Hm(g(D," has been removed"+(a?" in "+a:"")),Hm.ERR_DEPRECATED);return a&&!MO[D]&&(MO[D]=!0,console.warn(g(D," has been deprecated since v"+a+" and will be removed in the near future"))),r?r(x,D,L):!0}};function yz(t,r,a){if(typeof t!="object")throw new Hm("options must be an object",Hm.ERR_BAD_OPTION_VALUE);for(var l=Object.keys(t),g=l.length;g-- >0;){var x=l[g],D=r[x];if(D){var L=t[x],U=L===void 0||D(L,x,t);if(U!==!0)throw new Hm("option "+x+" must be "+U,Hm.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Hm("Unknown option "+x,Hm.ERR_BAD_OPTION)}}var bz={assertOptions:yz,validators:_T},UA=xs,wz=DA,IO=MH,BO=gz,Ix=jA,xz=FA,$A=bz,vv=$A.validators;function Uv(t){this.defaults=t,this.interceptors={request:new IO,response:new IO}}Uv.prototype.request=function(r,a){typeof r=="string"?(a=a||{},a.url=r):a=r||{},a=Ix(this.defaults,a),a.method?a.method=a.method.toLowerCase():this.defaults.method?a.method=this.defaults.method.toLowerCase():a.method="get";var l=a.transitional;l!==void 0&&$A.assertOptions(l,{silentJSONParsing:vv.transitional(vv.boolean),forcedJSONParsing:vv.transitional(vv.boolean),clarifyTimeoutError:vv.transitional(vv.boolean)},!1);var g=[],x=!0;this.interceptors.request.forEach(function(Me){typeof Me.runWhen=="function"&&Me.runWhen(a)===!1||(x=x&&Me.synchronous,g.unshift(Me.fulfilled,Me.rejected))});var D=[];this.interceptors.response.forEach(function(Me){D.push(Me.fulfilled,Me.rejected)});var L;if(!x){var U=[BO,void 0];for(Array.prototype.unshift.apply(U,g),U=U.concat(D),L=Promise.resolve(a);U.length;)L=L.then(U.shift(),U.shift());return L}for(var X=a;g.length;){var se=g.shift(),re=g.shift();try{X=se(X)}catch(ee){re(ee);break}}try{L=BO(X)}catch(ee){return Promise.reject(ee)}for(;D.length;)L=L.then(D.shift(),D.shift());return L};Uv.prototype.getUri=function(r){r=Ix(this.defaults,r);var a=xz(r.baseURL,r.url);return wz(a,r.params,r.paramsSerializer)};UA.forEach(["delete","get","head","options"],function(r){Uv.prototype[r]=function(a,l){return this.request(Ix(l||{},{method:r,url:a,data:(l||{}).data}))}});UA.forEach(["post","put","patch"],function(r){function a(l){return function(x,D,L){return this.request(Ix(L||{},{method:r,headers:l?{"Content-Type":"multipart/form-data"}:{},url:x,data:D}))}}Uv.prototype[r]=a(),Uv.prototype[r+"Form"]=a(!0)});var Cz=Uv,Sz=Ax;function $v(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(g){r=g});var a=this;this.promise.then(function(l){if(!!a._listeners){var g,x=a._listeners.length;for(g=0;g<x;g++)a._listeners[g](l);a._listeners=null}}),this.promise.then=function(l){var g,x=new Promise(function(D){a.subscribe(D),g=D}).then(l);return x.cancel=function(){a.unsubscribe(g)},x},t(function(g){a.reason||(a.reason=new Sz(g),r(a.reason))})}$v.prototype.throwIfRequested=function(){if(this.reason)throw this.reason};$v.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]};$v.prototype.unsubscribe=function(r){if(!!this._listeners){var a=this._listeners.indexOf(r);a!==-1&&this._listeners.splice(a,1)}};$v.source=function(){var r,a=new $v(function(g){r=g});return{token:a,cancel:r}};var kz=$v,Ez=function(r){return function(l){return r.apply(null,l)}},Tz=xs,_z=function(r){return Tz.isObject(r)&&r.isAxiosError===!0},LO=xs,Nz=RA,Fw=Cz,Rz=jA,Oz=TT;function VA(t){var r=new Fw(t),a=Nz(Fw.prototype.request,r);return LO.extend(a,Fw.prototype,r),LO.extend(a,r),a.create=function(g){return VA(Rz(t,g))},a}var Rl=VA(Oz);Rl.Axios=Fw;Rl.CanceledError=Ax;Rl.CancelToken=kz;Rl.isCancel=zA;Rl.VERSION=WA.version;Rl.toFormData=LA;Rl.AxiosError=Xv;Rl.Cancel=Rl.CanceledError;Rl.all=function(r){return Promise.all(r)};Rl.spread=Ez;Rl.isAxiosError=_z;wT.exports=Rl;wT.exports.default=Rl;var Ip=wT.exports;const Pz=t=>{const[r,a]=wo.exports.useState([]);return wo.exports.useEffect(()=>{Ip.get("http://localhost:4000/posts/get-postlist/"+t).then(({data:l})=>{a(l)}).catch(l=>{console.log(l)})},[t]),r};let sk=4;function Dz(t){let r=Pz(t.type);r.sort(function(U,X){return U.post_id-X.post_id});let a=-1,l=[{}],g=0;for(let[U,X,se]of Object.entries(r))g!=X.post_id&&(g=X.post_id,a=a+1,l[a]={id:X.post_id}),X.meta_key=="post-type"&&(l[a].type=X.meta_value),X.meta_key=="post-title"&&(l[a].title=X.meta_value);console.log(l);const[x,D]=wo.exports.useState(1),L=wo.exports.useMemo(()=>{const U=(x-1)*sk,X=U+sk;return l.slice(U,X)},[x,l]);return ao(zd,{children:[ao("div",{children:[_t(Id,{title:"Dashboard",url:"/",class:"breadcrumb"})," \xBB ",_t(Id,{title:t.title,url:"/dashboard/edit?post_type="+t.type,class:"breadcrumb"})]}),_t("h1",{className:"content__heading-inline",children:t.title}),_t(Id,{title:"Add New",url:"/dashboard/post-new?post_type="+t.type,class:"green-hollow-white"}),_t("hr",{}),ao("ul",{className:"content__filter-buttons",children:[ao("li",{children:[ao($u,{to:"/dashboard/edit?post_type=accordian&all_posts=1",children:["All ",_t("span",{children:"(39)"})]})," |"]}),ao("li",{children:[ao($u,{to:"/dashboard/edit?post_type=accordian&all_posts=1",children:["Mine ",_t("span",{children:"(3)"})]})," |"]}),ao("li",{children:[ao($u,{to:"/dashboard/edit?post_type=accordian&all_posts=1",children:["Published ",_t("span",{children:"(36)"})]})," |"]}),ao("li",{children:[ao($u,{to:"/dashboard/edit?post_type=accordian&all_posts=1",children:["Drafts ",_t("span",{children:"(3)"})]})," |"]}),ao("li",{children:[ao($u,{to:"/dashboard/edit?post_type=accordian&all_posts=1",children:["Edit Draft ",_t("span",{children:"(2)"})]})," |"]})]}),_t("div",{className:"content__search-box",children:_t("input",{placeholder:"Enter Post Title"})}),_t("hr",{}),ao("div",{className:"content__filter-wrapper",children:[_t("div",{className:"content__filter-actions",children:"Apply"}),_t(NA,{currentPage:x,totalCount:l.length,pageSize:sk,onPageChange:U=>D(U)})]}),_t("div",{className:"content__edit",children:ao("table",{children:[_t("thead",{children:ao("tr",{children:[_t("th",{className:"check-column",children:_t("input",{type:"checkbox"})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=ID",children:[_t("span",{children:"Title"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=ID",children:[_t("span",{children:"Requestor"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=ID",children:[_t("span",{children:"Approver"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=ID",children:[_t("span",{children:"Publisher"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{className:"sortable",children:ao($u,{to:"dashboard/?orderby=ID",children:[_t("span",{children:"Date"}),_t("span",{className:"sorting-indicator",children:_t(as,{title:"dashicons:arrow-down",class:"arrow-sort"})})]})}),_t("th",{children:"Actions"}),_t("th",{children:"Tasks"})]})}),_t("tbody",{children:L.map((U,X)=>ao("tr",{children:[_t("td",{className:"check-column",children:_t("input",{type:"checkbox"})}),_t("td",{className:"post-title",children:_t($u,{to:"/dashboard/post?post="+U.id,children:U.title})}),_t("td",{children:U.type}),_t("td",{children:U.type}),_t("td",{children:U.type}),_t("td",{children:U.type}),_t("td",{children:U.a2}),_t("td",{children:U.a3})]},X))})]})})]})}function Az(){return _t(zd,{children:_t("h1",{children:"My Sites"})})}var Mz="/react-dashboard/assets/logo.9ea4f4da.png";function Iz(){return _t("div",{className:"adminbar",children:ao("div",{className:"adminbar__wrapper",children:[ao("ul",{children:[_t("li",{children:_t("a",{href:"https://sc.com/sg",className:"adminbar__logo",children:_t("img",{src:Mz,alt:"React",className:"adminbar__logo-img"})})}),_t("li",{className:"adminbar__env",children:_t("div",{className:"adminbar__env-wrapper",children:_t("span",{children:"dev"})})}),_t("li",{children:ao("a",{href:"https://sc.com/sg",children:[_t(as,{title:"dashicons:admin-multisite",class:"dashboard-header"}),"My Sites"]})}),_t("li",{children:ao("a",{href:"https://sc.com/sg",children:[_t(as,{title:"dashicons:admin-home",class:"dashboard-header"}),"Standard Chartered Singapore"]})}),_t("li",{children:ao("a",{href:"https://sc.com/sg",children:[_t(as,{title:"dashicons:admin-comments",class:"dashboard-header"}),"538"]})}),_t("li",{children:ao("a",{href:"https://sc.com/sg",children:[_t(as,{title:"dashicons:plus",class:"dashboard-header"}),"New"]})})]}),_t("ul",{className:"adminbar__profile-main",children:_t("li",{children:ao("a",{href:"https://sc.com/sg",className:"adminbar__title adminbar__profile",children:[_t(as,{title:"dashicons:admin-users",class:"dashboard-header"}),"Akhil"]})})})]})})}var Bz=[{postType:"accordian",show_in_menu:"sc-content-types",labels:[{singular:"Accordian",plural:"Accordians"}],meta_box:[{title:"Accordians",id:"content-section",fields:[{id:"acc-title",name:"Accordian Title",type:"text"},{id:"label1",name:"Label",type:"text-area"}]},{title:"Acc",id:"content-section",fields:[{id:"acc-titl",name:"Accordian Title",type:"text"},{id:"labe1",name:"Labe",type:"text-area"}]}]}],Lz=Object.freeze(Object.defineProperty({__proto__:null,default:Bz},Symbol.toStringTag,{value:"Module"})),Fz=[{postType:"accordion-content",show_in_menu:"sc-content-types",labels:[{singular:"Accordion Content",plural:"Accordion Contents"}],meta_box:[{title:"Accordion Content",id:"content-section",fields:[{id:"content-1",name:"Content 1",type:"wysiwyg",options:[{tinymce:[{toolbar1:"subscript, superscript, bold, italic"}]}]},{id:"content-2",name:"Content 2",type:"wysiwyg",options:[{tinymce:[{toolbar1:"subscript, superscript, bold, italic, table, numlist, bullist, link, media, underline"}]}]}]}]}],Hz=Object.freeze(Object.defineProperty({__proto__:null,default:Fz},Symbol.toStringTag,{value:"Module"})),zz=[{postType:"feature",show_in_menu:"sc-content-types",labels:[{singular:"Feature",plural:"Features"}],fields:[{type:"text",id:"accordian_title"}]}],jz=Object.freeze(Object.defineProperty({__proto__:null,default:zz},Symbol.toStringTag,{value:"Module"})),Wz=[{postType:"product-benefits",show_in_menu:"sc-content-types",labels:[{singular:"Product Benefit",plural:"Product Benefits"}],fields:[{type:"text",id:"benefit_title"}]}],Uz=Object.freeze(Object.defineProperty({__proto__:null,default:Wz},Symbol.toStringTag,{value:"Module"})),$z=[{posttype:"dashboard",title:"Dashboard",title_singular:"dashboard",url:"/dashboard",icon:"dashicons:dashboard",subtitles:[{posttype:"dashboard",parenttype:"dashboard",title:"Home",title_singular:"Home",url:"/dashboard"},{posttype:"my-sites",parenttype:"dashboard",title:"My Sites",title_singular:"My Site",url:"/dashboard/my-sites"}]},{posttype:"page",title:"Pages",url:"/dashboard/edit?post_type=page",icon:"dashicons:text-page",subtitles:[{posttype:"page",parenttype:"page",title:"Pages",title_singular:"Page",url:"/dashboard/edit?post_type=page"},{posttype:"sc-lb-template",parenttype:"page",title:"Templates",title_singular:"Template",url:"/dashboard/edit?post_type=sc-lb-template"}]}];function NT(){const t=$z,r={"../../plugins/accordian.json":Lz,"../../plugins/accordion-content.json":Hz,"../../plugins/feature.json":jz,"../../plugins/product-benefits.json":Uz},a={};for(const U in r)a[U.replace(/(\.\/|\.json)/g,"")]=r[U].default;const l=JSON.parse(JSON.stringify(a)),g={posttype:"contenttype",title:"Content Types",url:"empty",icon:"fa-file",subtitles:[]};let x=[],D=0;for(let[U,X]of Object.entries(l))x[D]=X[0].postType,D++;return g.url="/dashboard/edit?post_type="+x[0],Object.values(l).map((U,X)=>{if(U[0].show_in_menu==="sc-content-types")g.subtitles[X]={posttype:U[0].postType,parenttype:"contenttype",title:U[0].labels[0].plural,title_singular:U[0].labels[0].singular,url:"/dashboard/edit?post_type="+U[0].postType};else return 0}),t.push(g),t.filter((U,X,se)=>X===se.findIndex(re=>re.title===U.title&&re.url===U.url))}let FO;NT();function Vz(){const[t]=dT(),a=ah().pathname.split("/"),l=a[a.length-1];return FO=t.get("post_type")?t.get("post_type"):l,FO}const qA=t=>{const[r,a]=wo.exports.useState([]);return wo.exports.useEffect(()=>{t&&fetch("../../../src/plugins/"+t+".json",{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(function(l){return l.json()}).then(function(l){a(l)})},[t]),r};function qz(){const t=NT(),r=Vz();return _t(zd,{children:_t("div",{className:"sidebar",children:_t("div",{className:"sidebar__wrapper",id:"scroll",children:t.map((a,l)=>{let g;for(let[x,D]of Object.entries(a.subtitles))D.posttype==r&&D.parenttype==a.posttype&&(g="active");return _t("ul",{className:"sidebar__menu-wrap",children:ao("li",{className:g||"",children:[ao($u,{to:a.url,className:"sidebar__menu-top",children:[_t(as,{title:a.icon,class:"sidebar-icon"}),_t("div",{children:a.title})]}),_t("ul",{className:"sidebar__submenu-wrap",children:a.subtitles.map((x,D)=>_t("li",{className:x.posttype==r?"active":"",children:_t(Id,{title:a.title=="Content Types"||a.title=="Pages"?"All - "+x.title:x.title,url:x.url,class:"sidebar__sub-menu"})},D))})]})},l)})})})})}function Yz({field:t,fieldChanged:r,value:a}){return _t(zd,{children:_t("div",{className:"fieldset__text",children:ao("div",{className:"fieldset__text-wrapper",children:[_t("div",{className:"fieldset__label-wrap",children:_t("label",{children:t.name})}),_t("div",{className:"fieldset__field-wrap",children:_t("input",{type:"text",className:"regular-text",name:t.id,id:t.id,defaultValue:a,onChange:l=>{r(t.id,l.target.value)}})})]})})})}var cr={exports:{}},Kz="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Xz=Kz,Gz=Xz;function YA(){}function KA(){}KA.resetWarningCache=YA;var Jz=function(){function t(l,g,x,D,L,U){if(U!==Gz){var X=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw X.name="Invariant Violation",X}}t.isRequired=t;function r(){return t}var a={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:r,element:t,elementType:t,instanceOf:r,node:t,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:KA,resetWarningCache:YA};return a.PropTypes=a,a};cr.exports=Jz();var hE=globalThis&&globalThis.__assign||function(){return hE=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},hE.apply(this,arguments)},XA={onActivate:cr.exports.func,onAddUndo:cr.exports.func,onBeforeAddUndo:cr.exports.func,onBeforeExecCommand:cr.exports.func,onBeforeGetContent:cr.exports.func,onBeforeRenderUI:cr.exports.func,onBeforeSetContent:cr.exports.func,onBeforePaste:cr.exports.func,onBlur:cr.exports.func,onChange:cr.exports.func,onClearUndos:cr.exports.func,onClick:cr.exports.func,onContextMenu:cr.exports.func,onCopy:cr.exports.func,onCut:cr.exports.func,onDblclick:cr.exports.func,onDeactivate:cr.exports.func,onDirty:cr.exports.func,onDrag:cr.exports.func,onDragDrop:cr.exports.func,onDragEnd:cr.exports.func,onDragGesture:cr.exports.func,onDragOver:cr.exports.func,onDrop:cr.exports.func,onExecCommand:cr.exports.func,onFocus:cr.exports.func,onFocusIn:cr.exports.func,onFocusOut:cr.exports.func,onGetContent:cr.exports.func,onHide:cr.exports.func,onInit:cr.exports.func,onKeyDown:cr.exports.func,onKeyPress:cr.exports.func,onKeyUp:cr.exports.func,onLoadContent:cr.exports.func,onMouseDown:cr.exports.func,onMouseEnter:cr.exports.func,onMouseLeave:cr.exports.func,onMouseMove:cr.exports.func,onMouseOut:cr.exports.func,onMouseOver:cr.exports.func,onMouseUp:cr.exports.func,onNodeChange:cr.exports.func,onObjectResizeStart:cr.exports.func,onObjectResized:cr.exports.func,onObjectSelected:cr.exports.func,onPaste:cr.exports.func,onPostProcess:cr.exports.func,onPostRender:cr.exports.func,onPreProcess:cr.exports.func,onProgressState:cr.exports.func,onRedo:cr.exports.func,onRemove:cr.exports.func,onReset:cr.exports.func,onSaveContent:cr.exports.func,onSelectionChange:cr.exports.func,onSetAttrib:cr.exports.func,onSetContent:cr.exports.func,onShow:cr.exports.func,onSubmit:cr.exports.func,onUndo:cr.exports.func,onVisualAid:cr.exports.func,onSkinLoadError:cr.exports.func,onThemeLoadError:cr.exports.func,onModelLoadError:cr.exports.func,onPluginLoadError:cr.exports.func,onIconsLoadError:cr.exports.func,onLanguageLoadError:cr.exports.func},Qz=hE({apiKey:cr.exports.string,id:cr.exports.string,inline:cr.exports.bool,init:cr.exports.object,initialValue:cr.exports.string,onEditorChange:cr.exports.func,value:cr.exports.string,tagName:cr.exports.string,cloudChannel:cr.exports.string,plugins:cr.exports.oneOfType([cr.exports.string,cr.exports.array]),toolbar:cr.exports.oneOfType([cr.exports.string,cr.exports.array]),disabled:cr.exports.bool,textareaName:cr.exports.string,tinymceScriptSrc:cr.exports.string,rollback:cr.exports.oneOfType([cr.exports.number,cr.exports.oneOf([!1])]),scriptLoading:cr.exports.shape({async:cr.exports.bool,defer:cr.exports.bool,delay:cr.exports.number})},XA),lk=function(t){return typeof t=="function"},HO=function(t){return t in XA},zO=function(t){return t.substr(2)},Zz=function(t,r,a,l,g,x,D){var L=Object.keys(g).filter(HO),U=Object.keys(x).filter(HO),X=L.filter(function(re){return x[re]===void 0}),se=U.filter(function(re){return g[re]===void 0});X.forEach(function(re){var ee=zO(re),Me=D[ee];a(ee,Me),delete D[ee]}),se.forEach(function(re){var ee=l(t,re),Me=zO(re);D[Me]=ee,r(Me,ee)})},ej=function(t,r,a,l,g){return Zz(g,t.on.bind(t),t.off.bind(t),function(x,D){return function(L){var U;return(U=x(D))===null||U===void 0?void 0:U(L,t)}},r,a,l)},jO=0,GA=function(t){var r=Date.now(),a=Math.floor(Math.random()*1e9);return jO++,t+"_"+a+jO+String(r)},WO=function(t){return t!==null&&(t.tagName.toLowerCase()==="textarea"||t.tagName.toLowerCase()==="input")},UO=function(t){return typeof t=="undefined"||t===""?[]:Array.isArray(t)?t:t.split(" ")},tj=function(t,r){return UO(t).concat(UO(r))},nj=function(){return window.InputEvent&&typeof InputEvent.prototype.getTargetRanges=="function"},rj=function(t){if(!("isConnected"in Node.prototype)){for(var r=t,a=t.parentNode;a!=null;)r=a,a=r.parentNode;return r===t.ownerDocument}return t.isConnected},$O=function(t,r){t!==void 0&&(t.mode!=null&&typeof t.mode=="object"&&typeof t.mode.set=="function"?t.mode.set(r):t.setMode(r))},VO=function(){return{listeners:[],scriptId:GA("tiny-script"),scriptLoading:!1,scriptLoaded:!1}},oj=function(){var t=VO(),r=function(g,x,D,L,U,X){var se=x.createElement("script");se.referrerPolicy="origin",se.type="application/javascript",se.id=g,se.src=D,se.async=L,se.defer=U;var re=function(){se.removeEventListener("load",re),X()};se.addEventListener("load",re),x.head&&x.head.appendChild(se)},a=function(g,x,D,L,U,X){var se=function(){return r(t.scriptId,g,x,D,L,function(){t.listeners.forEach(function(re){return re()}),t.scriptLoaded=!0})};t.scriptLoaded?X():(t.listeners.push(X),t.scriptLoading||(t.scriptLoading=!0,U>0?setTimeout(se,U):se()))},l=function(){t=VO()};return{load:a,reinitialize:l}},ij=oj(),aj=function(){return typeof window!="undefined"?window:global},pE=function(){var t=aj();return t&&t.tinymce?t.tinymce:null},uj=globalThis&&globalThis.__extends||function(){var t=function(r,a){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,g){l.__proto__=g}||function(l,g){for(var x in g)Object.prototype.hasOwnProperty.call(g,x)&&(l[x]=g[x])},t(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");t(r,a);function l(){this.constructor=r}r.prototype=a===null?Object.create(a):(l.prototype=a.prototype,new l)}}(),dx=globalThis&&globalThis.__assign||function(){return dx=Object.assign||function(t){for(var r,a=1,l=arguments.length;a<l;a++){r=arguments[a];for(var g in r)Object.prototype.hasOwnProperty.call(r,g)&&(t[g]=r[g])}return t},dx.apply(this,arguments)},ck=function(){var t,r,a;return!((a=(r=(t=pE())===null||t===void 0?void 0:t.Env)===null||r===void 0?void 0:r.browser)===null||a===void 0)&&a.isIE()?"change keyup compositionend setcontent":"change input compositionend setcontent"},fk=function(){return nj()?"beforeinput SelectionChange":"SelectionChange"},sj=function(t){uj(r,t);function r(a){var l=this,g,x,D;return l=t.call(this,a)||this,l.rollbackTimer=void 0,l.valueCursor=void 0,l.rollbackChange=function(){var L=l.editor,U=l.props.value;L&&U&&U!==l.currentContent&&L.undoManager.ignore(function(){if(L.setContent(U),l.valueCursor&&(!l.inline||L.hasFocus()))try{L.selection.moveToBookmark(l.valueCursor)}catch{}}),l.rollbackTimer=void 0},l.handleBeforeInput=function(L){if(l.props.value!==void 0&&l.props.value===l.currentContent&&l.editor&&(!l.inline||l.editor.hasFocus))try{l.valueCursor=l.editor.selection.getBookmark(3)}catch{}},l.handleBeforeInputSpecial=function(L){(L.key==="Enter"||L.key==="Backspace"||L.key==="Delete")&&l.handleBeforeInput(L)},l.handleEditorChange=function(L){var U=l.editor;if(U&&U.initialized){var X=U.getContent();l.props.value!==void 0&&l.props.value!==X&&l.props.rollback!==!1&&(l.rollbackTimer||(l.rollbackTimer=window.setTimeout(l.rollbackChange,typeof l.props.rollback=="number"?l.props.rollback:200))),X!==l.currentContent&&(l.currentContent=X,lk(l.props.onEditorChange)&&l.props.onEditorChange(X,U))}},l.handleEditorChangeSpecial=function(L){(L.key==="Backspace"||L.key==="Delete")&&l.handleEditorChange(L)},l.initialise=function(L){var U,X,se;L===void 0&&(L=0);var re=l.elementRef.current;if(!!re){if(!rj(re)){if(L===0)setTimeout(function(){return l.initialise(1)},1);else if(L<100)setTimeout(function(){return l.initialise(L+1)},100);else throw new Error("tinymce can only be initialised when in a document");return}var ee=pE();if(!ee)throw new Error("tinymce should have been loaded into global scope");var Me=dx(dx({},l.props.init),{selector:void 0,target:re,readonly:l.props.disabled,inline:l.inline,plugins:tj((U=l.props.init)===null||U===void 0?void 0:U.plugins,l.props.plugins),toolbar:(X=l.props.toolbar)!==null&&X!==void 0?X:(se=l.props.init)===null||se===void 0?void 0:se.toolbar,setup:function(De){l.editor=De,l.bindHandlers({}),l.inline&&!WO(re)&&De.once("PostRender",function(ze){De.setContent(l.getInitialValue(),{no_events:!0})}),l.props.init&&lk(l.props.init.setup)&&l.props.init.setup(De)},init_instance_callback:function(De){var ze,mt,G=l.getInitialValue();l.currentContent=(ze=l.currentContent)!==null&&ze!==void 0?ze:De.getContent(),l.currentContent!==G&&(l.currentContent=G,De.setContent(G),De.undoManager.clear(),De.undoManager.add(),De.setDirty(!1));var ve=(mt=l.props.disabled)!==null&&mt!==void 0?mt:!1;$O(l.editor,ve?"readonly":"design"),l.props.init&&lk(l.props.init.init_instance_callback)&&l.props.init.init_instance_callback(De)}});l.inline||(re.style.visibility=""),WO(re)&&(re.value=l.getInitialValue()),ee.init(Me)}},l.id=l.props.id||GA("tiny-react"),l.elementRef=wo.exports.createRef(),l.inline=(D=(g=l.props.inline)!==null&&g!==void 0?g:(x=l.props.init)===null||x===void 0?void 0:x.inline)!==null&&D!==void 0?D:!1,l.boundHandlers={},l}return r.prototype.componentDidUpdate=function(a){var l=this,g,x;if(this.rollbackTimer&&(clearTimeout(this.rollbackTimer),this.rollbackTimer=void 0),this.editor&&(this.bindHandlers(a),this.editor.initialized)){if(this.currentContent=(g=this.currentContent)!==null&&g!==void 0?g:this.editor.getContent(),typeof this.props.initialValue=="string"&&this.props.initialValue!==a.initialValue)this.editor.setContent(this.props.initialValue),this.editor.undoManager.clear(),this.editor.undoManager.add(),this.editor.setDirty(!1);else if(typeof this.props.value=="string"&&this.props.value!==this.currentContent){var D=this.editor;D.undoManager.transact(function(){var U;if(!l.inline||D.hasFocus())try{U=D.selection.getBookmark(3)}catch{}var X=l.valueCursor;if(D.setContent(l.props.value),!l.inline||D.hasFocus())for(var se=0,re=[U,X];se<re.length;se++){var ee=re[se];if(ee)try{D.selection.moveToBookmark(ee),l.valueCursor=ee;break}catch{}}})}if(this.props.disabled!==a.disabled){var L=(x=this.props.disabled)!==null&&x!==void 0?x:!1;$O(this.editor,L?"readonly":"design")}}},r.prototype.componentDidMount=function(){var a,l,g,x,D,L;pE()!==null?this.initialise():this.elementRef.current&&this.elementRef.current.ownerDocument&&ij.load(this.elementRef.current.ownerDocument,this.getScriptSrc(),(l=(a=this.props.scriptLoading)===null||a===void 0?void 0:a.async)!==null&&l!==void 0?l:!1,(x=(g=this.props.scriptLoading)===null||g===void 0?void 0:g.defer)!==null&&x!==void 0?x:!1,(L=(D=this.props.scriptLoading)===null||D===void 0?void 0:D.delay)!==null&&L!==void 0?L:0,this.initialise)},r.prototype.componentWillUnmount=function(){var a=this,l=this.editor;l&&(l.off(ck(),this.handleEditorChange),l.off(fk(),this.handleBeforeInput),l.off("keypress",this.handleEditorChangeSpecial),l.off("keydown",this.handleBeforeInputSpecial),l.off("NewBlock",this.handleEditorChange),Object.keys(this.boundHandlers).forEach(function(g){l.off(g,a.boundHandlers[g])}),this.boundHandlers={},l.remove(),this.editor=void 0)},r.prototype.render=function(){return this.inline?this.renderInline():this.renderIframe()},r.prototype.renderInline=function(){var a=this.props.tagName,l=a===void 0?"div":a;return wo.exports.createElement(l,{ref:this.elementRef,id:this.id})},r.prototype.renderIframe=function(){return wo.exports.createElement("textarea",{ref:this.elementRef,style:{visibility:"hidden"},name:this.props.textareaName,id:this.id})},r.prototype.getScriptSrc=function(){if(typeof this.props.tinymceScriptSrc=="string")return this.props.tinymceScriptSrc;var a=this.props.cloudChannel,l=this.props.apiKey?this.props.apiKey:"no-api-key";return"https://cdn.tiny.cloud/1/".concat(l,"/tinymce/").concat(a,"/tinymce.min.js")},r.prototype.getInitialValue=function(){return typeof this.props.initialValue=="string"?this.props.initialValue:typeof this.props.value=="string"?this.props.value:""},r.prototype.bindHandlers=function(a){var l=this;if(this.editor!==void 0){ej(this.editor,a,this.props,this.boundHandlers,function(L){return l.props[L]});var g=function(L){return L.onEditorChange!==void 0||L.value!==void 0},x=g(a),D=g(this.props);!x&&D?(this.editor.on(ck(),this.handleEditorChange),this.editor.on(fk(),this.handleBeforeInput),this.editor.on("keydown",this.handleBeforeInputSpecial),this.editor.on("keyup",this.handleEditorChangeSpecial),this.editor.on("NewBlock",this.handleEditorChange)):x&&!D&&(this.editor.off(ck(),this.handleEditorChange),this.editor.off(fk(),this.handleBeforeInput),this.editor.off("keydown",this.handleBeforeInputSpecial),this.editor.off("keyup",this.handleEditorChangeSpecial),this.editor.off("NewBlock",this.handleEditorChange))}},r.propTypes=Qz,r.defaultProps={cloudChannel:"6"},r}(wo.exports.Component);(function(t){var r=function(){},a=function(e,n){return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return e(n.apply(null,o))}},l=function(e){return function(){return e}},g=function(e){return e};function x(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var h=n.concat(i);return e.apply(null,h)}}var D,L,U,X,se,re,ee,Me,De,ze,mt,G,ve,Ae,Ke,vt,Ie=function(e){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return!e.apply(null,n)}},Ce=l(!1),ut=l(!0),$e=function(){return Je},Je=(D=function(e){return e.isNone()},X={fold:function(e,n){return e()},is:Ce,isSome:Ce,isNone:ut,getOr:U=function(e){return e},getOrThunk:L=function(e){return e()},getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:U,orThunk:L,map:$e,each:r,bind:$e,exists:Ce,forall:ut,filter:$e,equals:D,equals_:D,toArray:function(){return[]},toString:l("none()")},Object.freeze&&Object.freeze(X),X),Le=function(e){var n=l(e),o=function(){return s},i=function(h){return h(e)},s={fold:function(h,w){return w(e)},is:function(h){return e===h},isSome:ut,isNone:Ce,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:o,orThunk:o,map:function(h){return Le(h(e))},each:function(h){h(e)},bind:i,exists:i,forall:i,filter:function(h){return h(e)?s:Je},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(h){return h.is(e)},equals_:function(h,w){return h.fold(Ce,function(C){return w(e,C)})}};return s},J={some:Le,none:$e,from:function(e){return e==null?Je:Le(e)}},Ge=function(e){return function(n){return function(o){if(o===null)return"null";var i=typeof o;return i==="object"&&(Array.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="Array")?"array":i==="object"&&(String.prototype.isPrototypeOf(o)||o.constructor&&o.constructor.name==="String")?"string":i}(n)===e}},Ze=Ge("string"),Wt=Ge("object"),fe=Ge("array"),jt=Ge("null"),At=Ge("boolean"),Vt=Ge("function"),qt=Ge("number"),yn=Array.prototype.slice,Yn=Array.prototype.indexOf,Pn=Array.prototype.push,dr=function(e,n){return Yn.call(e,n)},Zn=function(e,n){return-1<dr(e,n)},Cr=function(e,n){for(var o=0,i=e.length;o<i;o++)if(n(e[o],o))return!0;return!1},er=function(e,n){for(var o=e.length,i=new Array(o),s=0;s<o;s++){var h=e[s];i[s]=n(h,s)}return i},Qt=function(e,n){for(var o=0,i=e.length;o<i;o++)n(e[o],o)},Te=function(e,n){for(var o=[],i=[],s=0,h=e.length;s<h;s++){var w=e[s];(n(w,s)?o:i).push(w)}return{pass:o,fail:i}},qe=function(e,n){for(var o=[],i=0,s=e.length;i<s;i++){var h=e[i];n(h,i)&&o.push(h)}return o},Rt=function(e,n,o){return Qt(e,function(i){o=n(o,i)}),o},Kt=function(e,n){for(var o=0,i=e.length;o<i;o++){var s=e[o];if(n(s,o))return J.some(s)}return J.none()},mn=function(e,n){for(var o=0,i=e.length;o<i;o++)if(n(e[o],o))return J.some(o);return J.none()},xn=function(e,n){return function(o){for(var i=[],s=0,h=o.length;s<h;++s){if(!fe(o[s]))throw new Error("Arr.flatten item "+s+" was not an array, input: "+o);Pn.apply(i,o[s])}return i}(er(e,n))},Un=function(e,n){for(var o=0,i=e.length;o<i;++o)if(n(e[o],o)!==!0)return!1;return!0},Or=function(e,n){return qe(e,function(o){return!Zn(n,o)})},Jn=function(e){return e.length===0?J.none():J.some(e[0])},Jr=function(e){return e.length===0?J.none():J.some(e[e.length-1])},co=Vt(Array.from)?Array.from:function(e){return yn.call(e)},eo=typeof t.window!="undefined"?t.window:Function("return this;")(),Ao=function(e,n){return function(o,i){for(var s=i!=null?i:eo,h=0;h<o.length&&s!==void 0&&s!==null;++h)s=s[o[h]];return s}(e.split("."),n)},qr={getOrDie:function(e,n){var o=Ao(e,n);if(o==null)throw new Error(e+" not available on this browser");return o}},it=function(){return qr.getOrDie("URL")},Fn={createObjectURL:function(e){return it().createObjectURL(e)},revokeObjectURL:function(e){it().revokeObjectURL(e)}},Wn=t.navigator,Tn=Wn.userAgent,or=function(e){return"matchMedia"in t.window&&t.matchMedia(e).matches};G=/Android/.test(Tn),re=(re=!(se=/WebKit/.test(Tn))&&/MSIE/gi.test(Tn)&&/Explorer/gi.test(Wn.appName))&&/MSIE (\w+)\./.exec(Tn)[1],ee=Tn.indexOf("Trident/")!==-1&&(Tn.indexOf("rv:")!==-1||Wn.appName.indexOf("Netscape")!==-1)&&11,Me=Tn.indexOf("Edge/")!==-1&&!re&&!ee&&12,re=re||ee||Me,De=!se&&!ee&&/Gecko/.test(Tn),ze=Tn.indexOf("Mac")!==-1,mt=/(iPad|iPhone)/.test(Tn),ve="FormData"in t.window&&"FileReader"in t.window&&"URL"in t.window&&!!Fn.createObjectURL,Ae=or("only screen and (max-device-width: 480px)")&&(G||mt),Ke=or("only screen and (min-width: 800px)")&&(G||mt),vt=Tn.indexOf("Windows Phone")!==-1,Me&&(se=!1);var Kr,Dn={opera:!1,webkit:se,ie:re,gecko:De,mac:ze,iOS:mt,android:G,contentEditable:!mt||ve||534<=parseInt(Tn.match(/AppleWebKit\/(\d*)/)[1],10),transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:re!==8,range:t.window.getSelection&&"Range"in t.window,documentMode:re&&!Me?t.document.documentMode||7:10,fileApi:ve,ceFalse:re===!1||8<re,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:re===!1||11<re,desktop:!Ae&&!Ke,windowsPhone:vt},yo=window.Promise?window.Promise:function(){function e(O,M){return function(){O.apply(M,arguments)}}var n=Array.isArray||function(O){return Object.prototype.toString.call(O)==="[object Array]"},o=function(O){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof O!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],N(O,e(h,this),e(w,this))},i=o.immediateFn||typeof setImmediate=="function"&&setImmediate||function(O){setTimeout(O,1)};function s(O){var M=this;this._state!==null?i(function(){var F=M._state?O.onFulfilled:O.onRejected;if(F!==null){var te;try{te=F(M._value)}catch(Y){return void O.reject(Y)}O.resolve(te)}else(M._state?O.resolve:O.reject)(M._value)}):this._deferreds.push(O)}function h(O){try{if(O===this)throw new TypeError("A promise cannot be resolved with itself.");if(O&&(typeof O=="object"||typeof O=="function")){var M=O.then;if(typeof M=="function")return void N(e(M,O),e(h,this),e(w,this))}this._state=!0,this._value=O,C.call(this)}catch(F){w.call(this,F)}}function w(O){this._state=!1,this._value=O,C.call(this)}function C(){for(var O=0,M=this._deferreds.length;O<M;O++)s.call(this,this._deferreds[O]);this._deferreds=null}function k(O,M,F,te){this.onFulfilled=typeof O=="function"?O:null,this.onRejected=typeof M=="function"?M:null,this.resolve=F,this.reject=te}function N(O,M,F){var te=!1;try{O(function(Y){te||(te=!0,M(Y))},function(Y){te||(te=!0,F(Y))})}catch(Y){if(te)return;te=!0,F(Y)}}return o.prototype.catch=function(O){return this.then(null,O)},o.prototype.then=function(O,M){var F=this;return new o(function(te,Y){s.call(F,new k(O,M,te,Y))})},o.all=function(){var O=Array.prototype.slice.call(arguments.length===1&&n(arguments[0])?arguments[0]:arguments);return new o(function(M,F){if(O.length===0)return M([]);var te=O.length;function Y(q,Z){try{if(Z&&(typeof Z=="object"||typeof Z=="function")){var le=Z.then;if(typeof le=="function")return void le.call(Z,function(xe){Y(q,xe)},F)}O[q]=Z,--te==0&&M(O)}catch(xe){F(xe)}}for(var ae=0;ae<O.length;ae++)Y(ae,O[ae])})},o.resolve=function(O){return O&&typeof O=="object"&&O.constructor===o?O:new o(function(M){M(O)})},o.reject=function(O){return new o(function(M,F){F(O)})},o.race=function(O){return new o(function(M,F){for(var te=0,Y=O.length;te<Y;te++)O[te].then(M,F)})},o}(),Ho=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},Wo=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},Xo=function(e,n){var o,i;return(i=function(){var s=arguments;clearTimeout(o),o=Ho(function(){e.apply(this,s)},n)}).stop=function(){clearTimeout(o)},i},Qr={requestAnimationFrame:function(e,n){Kr?Kr.then(e):Kr=new yo(function(o){n||(n=t.document.body),function(i,s){var h,w=t.window.requestAnimationFrame,C=["ms","moz","webkit"];for(h=0;h<C.length&&!w;h++)w=t.window[C[h]+"RequestAnimationFrame"];w||(w=function(k){t.window.setTimeout(k,0)}),w(i,s)}(o,n)}).then(e)},setTimeout:Ho,setInterval:Wo,setEditorTimeout:function(e,n,o){return Ho(function(){e.removed||n()},o)},setEditorInterval:function(e,n,o){var i;return i=Wo(function(){e.removed?clearInterval(i):n()},o)},debounce:Xo,throttle:Xo,clearInterval:function(e){return clearInterval(e)},clearTimeout:function(e){return clearTimeout(e)}},kr=/^(?:mouse|contextmenu)|click/,sn={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},qo=function(){return!1},wr=function(){return!0},Bn=function(e,n,o,i){e.addEventListener?e.addEventListener(n,o,i||!1):e.attachEvent&&e.attachEvent("on"+n,o)},Zo=function(e,n,o,i){e.removeEventListener?e.removeEventListener(n,o,i||!1):e.detachEvent&&e.detachEvent("on"+n,o)},Xe=function(e,n){var o,i,s=n||{};for(o in e)sn[o]||(s[o]=e[o]);if(s.target||(s.target=s.srcElement||t.document),Dn.experimentalShadowDom&&(s.target=function(k,N){if(k.composedPath){var O=k.composedPath();if(O&&0<O.length)return O[0]}return N}(e,s.target)),e&&kr.test(e.type)&&e.pageX===void 0&&e.clientX!==void 0){var h=s.target.ownerDocument||t.document,w=h.documentElement,C=h.body;s.pageX=e.clientX+(w&&w.scrollLeft||C&&C.scrollLeft||0)-(w&&w.clientLeft||C&&C.clientLeft||0),s.pageY=e.clientY+(w&&w.scrollTop||C&&C.scrollTop||0)-(w&&w.clientTop||C&&C.clientTop||0)}return s.preventDefault=function(){s.isDefaultPrevented=wr,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},s.stopPropagation=function(){s.isPropagationStopped=wr,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},!(s.stopImmediatePropagation=function(){s.isImmediatePropagationStopped=wr,s.stopPropagation()})==((i=s).isDefaultPrevented===wr||i.isDefaultPrevented===qo)&&(s.isDefaultPrevented=qo,s.isPropagationStopped=qo,s.isImmediatePropagationStopped=qo),typeof s.metaKey=="undefined"&&(s.metaKey=!1),s},zt=function(e,n,o){var i=e.document,s={type:"ready"};if(o.domLoaded)n(s);else{var h=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},w=function(){o.domLoaded||(o.domLoaded=!0,n(s))},C=function(){h()&&(Zo(i,"readystatechange",C),w())},k=function(){try{i.documentElement.doScroll("left")}catch{return void Qr.setTimeout(k)}w()};!i.addEventListener||Dn.ie&&Dn.ie<11?(Bn(i,"readystatechange",C),i.documentElement.doScroll&&e.self===e.top&&k()):h()?w():Bn(e,"DOMContentLoaded",w),Bn(e,"load",w)}},xt=function(){var e,n,o,i,s,h=this,w={};n="mce-data-"+(+new Date).toString(32),i="onmouseenter"in t.document.documentElement,o="onfocusin"in t.document.documentElement,s={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,h.domLoaded=!1,h.events=w;var C=function(k,N){var O,M,F,te,Y=w[N];if(O=Y&&Y[k.type]){for(M=0,F=O.length;M<F;M++)if((te=O[M])&&te.func.call(te.scope,k)===!1&&k.preventDefault(),k.isImmediatePropagationStopped())return}};h.bind=function(k,N,O,M){var F,te,Y,ae,q,Z,le,xe=t.window,Ne=function(ge){C(Xe(ge||xe.event),F)};if(k&&k.nodeType!==3&&k.nodeType!==8){for(k[n]?F=k[n]:(F=e++,k[n]=F,w[F]={}),M=M||k,Y=(N=N.split(" ")).length;Y--;)Z=Ne,q=le=!1,(ae=N[Y])==="DOMContentLoaded"&&(ae="ready"),h.domLoaded&&ae==="ready"&&k.readyState==="complete"?O.call(M,Xe({type:ae})):(i||(q=s[ae])&&(Z=function(ge){var He,Mt;if(He=ge.currentTarget,(Mt=ge.relatedTarget)&&He.contains)Mt=He.contains(Mt);else for(;Mt&&Mt!==He;)Mt=Mt.parentNode;Mt||((ge=Xe(ge||xe.event)).type=ge.type==="mouseout"?"mouseleave":"mouseenter",ge.target=He,C(ge,F))}),o||ae!=="focusin"&&ae!=="focusout"||(le=!0,q=ae==="focusin"?"focus":"blur",Z=function(ge){(ge=Xe(ge||xe.event)).type=ge.type==="focus"?"focusin":"focusout",C(ge,F)}),(te=w[F][ae])?ae==="ready"&&h.domLoaded?O({type:ae}):te.push({func:O,scope:M}):(w[F][ae]=te=[{func:O,scope:M}],te.fakeName=q,te.capture=le,te.nativeHandler=Z,ae==="ready"?zt(k,Z,h):Bn(k,q||ae,Z,le)));return k=te=0,O}},h.unbind=function(k,N,O){var M,F,te,Y,ae,q;if(!k||k.nodeType===3||k.nodeType===8)return h;if(M=k[n]){if(q=w[M],N){for(te=(N=N.split(" ")).length;te--;)if(F=q[ae=N[te]]){if(O){for(Y=F.length;Y--;)if(F[Y].func===O){var Z=F.nativeHandler,le=F.fakeName,xe=F.capture;(F=F.slice(0,Y).concat(F.slice(Y+1))).nativeHandler=Z,F.fakeName=le,F.capture=xe,q[ae]=F}}O&&F.length!==0||(delete q[ae],Zo(k,F.fakeName||ae,F.nativeHandler,F.capture))}}else{for(ae in q)F=q[ae],Zo(k,F.fakeName||ae,F.nativeHandler,F.capture);q={}}for(ae in q)return h;delete w[M];try{delete k[n]}catch{k[n]=null}}return h},h.fire=function(k,N,O){var M;if(!k||k.nodeType===3||k.nodeType===8)return h;for((O=Xe(null,O)).type=N,O.target=k;(M=k[n])&&C(O,M),(k=k.parentNode||k.ownerDocument||k.defaultView||k.parentWindow)&&!O.isPropagationStopped(););return h},h.clean=function(k){var N,O,M=h.unbind;if(!k||k.nodeType===3||k.nodeType===8)return h;if(k[n]&&M(k),k.getElementsByTagName||(k=k.document),k&&k.getElementsByTagName)for(M(k),N=(O=k.getElementsByTagName("*")).length;N--;)(k=O[N])[n]&&M(k);return h},h.destroy=function(){w={}},h.cancel=function(k){return k&&(k.preventDefault(),k.stopImmediatePropagation()),!1}};xt.Event=new xt,xt.Event.bind(t.window,"ready",function(){});var Jt,kt,yt,lr,mr,Ur,uo,Eo,Vr,lo,Mo,ai,Ee,gt,Pt,tn,bn,ir,Cn="sizzle"+-new Date,$r=t.window.document,To=0,ui=0,Pi=$i(),ci=$i(),Xi=$i(),Ui=function(e,n){return e===n&&(Mo=!0),0},ma="undefined",Ya={}.hasOwnProperty,si=[],Fa=si.pop,pu=si.push,di=si.push,Ha=si.slice,oe=si.indexOf||function(e){for(var n=0,o=this.length;n<o;n++)if(this[n]===e)return n;return-1},Fe="[\\x20\\t\\r\\n\\f]",ft="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",dt="\\["+Fe+"*("+ft+")(?:"+Fe+"*([*^$|!~]?=)"+Fe+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+ft+"))|)"+Fe+"*\\]",Ft=":("+ft+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+dt+")*)|.*)\\)|)",Bt=new RegExp("^"+Fe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Fe+"+$","g"),ur=new RegExp("^"+Fe+"*,"+Fe+"*"),Zt=new RegExp("^"+Fe+"*([>+~]|"+Fe+")"+Fe+"*"),Hn=new RegExp("="+Fe+`*([^\\]'"]*?)`+Fe+"*\\]","g"),Kn=new RegExp(Ft),_n=new RegExp("^"+ft+"$"),gn={ID:new RegExp("^#("+ft+")"),CLASS:new RegExp("^\\.("+ft+")"),TAG:new RegExp("^("+ft+"|[*])"),ATTR:new RegExp("^"+dt),PSEUDO:new RegExp("^"+Ft),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Fe+"*(even|odd|(([+-]|)(\\d*)n|)"+Fe+"*(?:([+-]|)"+Fe+"*(\\d+)|))"+Fe+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Fe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Fe+"*((?:-\\d)?\\d*)"+Fe+"*\\)|)(?=[^-]|$)","i")},zn=/^(?:input|select|textarea|button)$/i,Qn=/^h\d$/i,Nn=/^[^{]+\{\s*\[native \w/,xr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Hr=/[+~]/,Yr=/'|\\/g,Er=new RegExp("\\\\([\\da-f]{1,6}"+Fe+"?|("+Fe+")|.)","ig"),ei=function(e,n,o){var i="0x"+n-65536;return i!=i||o?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{di.apply(si=Ha.call($r.childNodes),$r.childNodes),si[$r.childNodes.length].nodeType}catch{di={apply:si.length?function(n,o){pu.apply(n,Ha.call(o))}:function(n,o){for(var i=n.length,s=0;n[i++]=o[s++];);n.length=i-1}}}var fo=function(e,n,o,i){var s,h,w,C,k,N,O,M,F,te;if((n?n.ownerDocument||n:$r)!==Ee&&ai(n),o=o||[],!e||typeof e!="string")return o;if((C=(n=n||Ee).nodeType)!==1&&C!==9)return[];if(Pt&&!i){if(s=xr.exec(e))if(w=s[1]){if(C===9){if(!(h=n.getElementById(w))||!h.parentNode)return o;if(h.id===w)return o.push(h),o}else if(n.ownerDocument&&(h=n.ownerDocument.getElementById(w))&&ir(n,h)&&h.id===w)return o.push(h),o}else{if(s[2])return di.apply(o,n.getElementsByTagName(e)),o;if((w=s[3])&&kt.getElementsByClassName)return di.apply(o,n.getElementsByClassName(w)),o}if(kt.qsa&&(!tn||!tn.test(e))){if(M=O=Cn,F=n,te=C===9&&e,C===1&&n.nodeName.toLowerCase()!=="object"){for(N=Ur(e),(O=n.getAttribute("id"))?M=O.replace(Yr,"\\$&"):n.setAttribute("id",M),M="[id='"+M+"'] ",k=N.length;k--;)N[k]=M+On(N[k]);F=Hr.test(e)&&Dt(n.parentNode)||n,te=N.join(",")}if(te)try{return di.apply(o,F.querySelectorAll(te)),o}catch{}finally{O||n.removeAttribute("id")}}}return Eo(e.replace(Bt,"$1"),n,o,i)};function $i(){var e=[];return function n(o,i){return e.push(o+" ")>yt.cacheLength&&delete n[e.shift()],n[o+" "]=i}}function ye(e){return e[Cn]=!0,e}function Re(e,n){var o=n&&e,i=o&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||1<<31)-(~e.sourceIndex||1<<31);if(i)return i;if(o){for(;o=o.nextSibling;)if(o===n)return-1}return e?1:-1}function tt(e){return function(n){return n.nodeName.toLowerCase()==="input"&&n.type===e}}function bt(e){return function(n){var o=n.nodeName.toLowerCase();return(o==="input"||o==="button")&&n.type===e}}function Ot(e){return ye(function(n){return n=+n,ye(function(o,i){for(var s,h=e([],o.length,n),w=h.length;w--;)o[s=h[w]]&&(o[s]=!(i[s]=o[s]))})})}function Dt(e){return e&&typeof e.getElementsByTagName!==ma&&e}for(Jt in kt=fo.support={},mr=fo.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return!!n&&n.nodeName!=="HTML"},ai=fo.setDocument=function(e){var n,o=e?e.ownerDocument||e:$r,i=o.defaultView;return o!==Ee&&o.nodeType===9&&o.documentElement?(gt=(Ee=o).documentElement,Pt=!mr(o),i&&i!==function(s){try{return s.top}catch{}return null}(i)&&(i.addEventListener?i.addEventListener("unload",function(){ai()},!1):i.attachEvent&&i.attachEvent("onunload",function(){ai()})),kt.attributes=!0,kt.getElementsByTagName=!0,kt.getElementsByClassName=Nn.test(o.getElementsByClassName),kt.getById=!0,yt.find.ID=function(s,h){if(typeof h.getElementById!==ma&&Pt){var w=h.getElementById(s);return w&&w.parentNode?[w]:[]}},yt.filter.ID=function(s){var h=s.replace(Er,ei);return function(w){return w.getAttribute("id")===h}},yt.find.TAG=kt.getElementsByTagName?function(s,h){if(typeof h.getElementsByTagName!==ma)return h.getElementsByTagName(s)}:function(s,h){var w,C=[],k=0,N=h.getElementsByTagName(s);if(s==="*"){for(;w=N[k++];)w.nodeType===1&&C.push(w);return C}return N},yt.find.CLASS=kt.getElementsByClassName&&function(s,h){if(Pt)return h.getElementsByClassName(s)},bn=[],tn=[],kt.disconnectedMatch=!0,tn=tn.length&&new RegExp(tn.join("|")),bn=bn.length&&new RegExp(bn.join("|")),n=Nn.test(gt.compareDocumentPosition),ir=n||Nn.test(gt.contains)?function(s,h){var w=s.nodeType===9?s.documentElement:s,C=h&&h.parentNode;return s===C||!(!C||C.nodeType!==1||!(w.contains?w.contains(C):s.compareDocumentPosition&&16&s.compareDocumentPosition(C)))}:function(s,h){if(h){for(;h=h.parentNode;)if(h===s)return!0}return!1},Ui=n?function(s,h){if(s===h)return Mo=!0,0;var w=!s.compareDocumentPosition-!h.compareDocumentPosition;return w||(1&(w=(s.ownerDocument||s)===(h.ownerDocument||h)?s.compareDocumentPosition(h):1)||!kt.sortDetached&&h.compareDocumentPosition(s)===w?s===o||s.ownerDocument===$r&&ir($r,s)?-1:h===o||h.ownerDocument===$r&&ir($r,h)?1:lo?oe.call(lo,s)-oe.call(lo,h):0:4&w?-1:1)}:function(s,h){if(s===h)return Mo=!0,0;var w,C=0,k=s.parentNode,N=h.parentNode,O=[s],M=[h];if(!k||!N)return s===o?-1:h===o?1:k?-1:N?1:lo?oe.call(lo,s)-oe.call(lo,h):0;if(k===N)return Re(s,h);for(w=s;w=w.parentNode;)O.unshift(w);for(w=h;w=w.parentNode;)M.unshift(w);for(;O[C]===M[C];)C++;return C?Re(O[C],M[C]):O[C]===$r?-1:M[C]===$r?1:0},o):Ee},fo.matches=function(e,n){return fo(e,null,null,n)},fo.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Ee&&ai(e),n=n.replace(Hn,"='$1']"),kt.matchesSelector&&Pt&&(!bn||!bn.test(n))&&(!tn||!tn.test(n)))try{var o=(void 0).call(e,n);if(o||kt.disconnectedMatch||e.document&&e.document.nodeType!==11)return o}catch{}return 0<fo(n,Ee,null,[e]).length},fo.contains=function(e,n){return(e.ownerDocument||e)!==Ee&&ai(e),ir(e,n)},fo.attr=function(e,n){(e.ownerDocument||e)!==Ee&&ai(e);var o=yt.attrHandle[n.toLowerCase()],i=o&&Ya.call(yt.attrHandle,n.toLowerCase())?o(e,n,!Pt):void 0;return i!==void 0?i:kt.attributes||!Pt?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},fo.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},fo.uniqueSort=function(e){var n,o=[],i=0,s=0;if(Mo=!kt.detectDuplicates,lo=!kt.sortStable&&e.slice(0),e.sort(Ui),Mo){for(;n=e[s++];)n===e[s]&&(i=o.push(s));for(;i--;)e.splice(o[i],1)}return lo=null,e},lr=fo.getText=function(e){var n,o="",i=0,s=e.nodeType;if(s){if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)o+=lr(e)}else if(s===3||s===4)return e.nodeValue}else for(;n=e[i++];)o+=lr(n);return o},(yt=fo.selectors={cacheLength:50,createPseudo:ye,match:gn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Er,ei),e[3]=(e[3]||e[4]||e[5]||"").replace(Er,ei),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||fo.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&fo.error(e[0]),e},PSEUDO:function(e){var n,o=!e[6]&&e[2];return gn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":o&&Kn.test(o)&&(n=Ur(o,!0))&&(n=o.indexOf(")",o.length-n)-o.length)&&(e[0]=e[0].slice(0,n),e[2]=o.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Er,ei).toLowerCase();return e==="*"?function(){return!0}:function(o){return o.nodeName&&o.nodeName.toLowerCase()===n}},CLASS:function(e){var n=Pi[e+" "];return n||(n=new RegExp("(^|"+Fe+")"+e+"("+Fe+"|$)"))&&Pi(e,function(o){return n.test(typeof o.className=="string"&&o.className||typeof o.getAttribute!==ma&&o.getAttribute("class")||"")})},ATTR:function(e,n,o){return function(i){var s=fo.attr(i,e);return s==null?n==="!=":!n||(s+="",n==="="?s===o:n==="!="?s!==o:n==="^="?o&&s.indexOf(o)===0:n==="*="?o&&-1<s.indexOf(o):n==="$="?o&&s.slice(-o.length)===o:n==="~="?-1<(" "+s+" ").indexOf(o):n==="|="&&(s===o||s.slice(0,o.length+1)===o+"-"))}},CHILD:function(e,n,o,i,s){var h=e.slice(0,3)!=="nth",w=e.slice(-4)!=="last",C=n==="of-type";return i===1&&s===0?function(k){return!!k.parentNode}:function(k,N,O){var M,F,te,Y,ae,q,Z=h!==w?"nextSibling":"previousSibling",le=k.parentNode,xe=C&&k.nodeName.toLowerCase(),Ne=!O&&!C;if(le){if(h){for(;Z;){for(te=k;te=te[Z];)if(C?te.nodeName.toLowerCase()===xe:te.nodeType===1)return!1;q=Z=e==="only"&&!q&&"nextSibling"}return!0}if(q=[w?le.firstChild:le.lastChild],w&&Ne){for(ae=(M=(F=le[Cn]||(le[Cn]={}))[e]||[])[0]===To&&M[1],Y=M[0]===To&&M[2],te=ae&&le.childNodes[ae];te=++ae&&te&&te[Z]||(Y=ae=0)||q.pop();)if(te.nodeType===1&&++Y&&te===k){F[e]=[To,ae,Y];break}}else if(Ne&&(M=(k[Cn]||(k[Cn]={}))[e])&&M[0]===To)Y=M[1];else for(;(te=++ae&&te&&te[Z]||(Y=ae=0)||q.pop())&&((C?te.nodeName.toLowerCase()!==xe:te.nodeType!==1)||!++Y||(Ne&&((te[Cn]||(te[Cn]={}))[e]=[To,Y]),te!==k)););return(Y-=s)===i||Y%i==0&&0<=Y/i}}},PSEUDO:function(e,n){var o,i=yt.pseudos[e]||yt.setFilters[e.toLowerCase()]||fo.error("unsupported pseudo: "+e);return i[Cn]?i(n):1<i.length?(o=[e,e,"",n],yt.setFilters.hasOwnProperty(e.toLowerCase())?ye(function(s,h){for(var w,C=i(s,n),k=C.length;k--;)s[w=oe.call(s,C[k])]=!(h[w]=C[k])}):function(s){return i(s,0,o)}):i}},pseudos:{not:ye(function(e){var n=[],o=[],i=uo(e.replace(Bt,"$1"));return i[Cn]?ye(function(s,h,w,C){for(var k,N=i(s,null,C,[]),O=s.length;O--;)(k=N[O])&&(s[O]=!(h[O]=k))}):function(s,h,w){return n[0]=s,i(n,null,w,o),!o.pop()}}),has:ye(function(e){return function(n){return 0<fo(e,n).length}}),contains:ye(function(e){return e=e.replace(Er,ei),function(n){return-1<(n.textContent||n.innerText||lr(n)).indexOf(e)}}),lang:ye(function(e){return _n.test(e||"")||fo.error("unsupported lang: "+e),e=e.replace(Er,ei).toLowerCase(),function(n){var o;do if(o=Pt?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return(o=o.toLowerCase())===e||o.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=t.window.location&&t.window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===gt},focus:function(e){return e===Ee.activeElement&&(!Ee.hasFocus||Ee.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!yt.pseudos.empty(e)},header:function(e){return Qn.test(e.nodeName)},input:function(e){return zn.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Ot(function(){return[0]}),last:Ot(function(e,n){return[n-1]}),eq:Ot(function(e,n,o){return[o<0?o+n:o]}),even:Ot(function(e,n){for(var o=0;o<n;o+=2)e.push(o);return e}),odd:Ot(function(e,n){for(var o=1;o<n;o+=2)e.push(o);return e}),lt:Ot(function(e,n,o){for(var i=o<0?o+n:o;0<=--i;)e.push(i);return e}),gt:Ot(function(e,n,o){for(var i=o<0?o+n:o;++i<n;)e.push(i);return e})}}).pseudos.nth=yt.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})yt.pseudos[Jt]=tt(Jt);for(Jt in{submit:!0,reset:!0})yt.pseudos[Jt]=bt(Jt);function cn(){}function On(e){for(var n=0,o=e.length,i="";n<o;n++)i+=e[n].value;return i}function sr(e,n,o){var i=n.dir,s=o&&i==="parentNode",h=ui++;return n.first?function(w,C,k){for(;w=w[i];)if(w.nodeType===1||s)return e(w,C,k)}:function(w,C,k){var N,O,M=[To,h];if(k){for(;w=w[i];)if((w.nodeType===1||s)&&e(w,C,k))return!0}else for(;w=w[i];)if(w.nodeType===1||s){if((N=(O=w[Cn]||(w[Cn]={}))[i])&&N[0]===To&&N[1]===h)return M[2]=N[2];if((O[i]=M)[2]=e(w,C,k))return!0}}}function $n(e){return 1<e.length?function(n,o,i){for(var s=e.length;s--;)if(!e[s](n,o,i))return!1;return!0}:e[0]}function An(e,n,o,i,s){for(var h,w=[],C=0,k=e.length,N=n!=null;C<k;C++)(h=e[C])&&(o&&!o(h,i,s)||(w.push(h),N&&n.push(C)));return w}function hr(e,n,o,i,s,h){return i&&!i[Cn]&&(i=hr(i)),s&&!s[Cn]&&(s=hr(s,h)),ye(function(w,C,k,N){var O,M,F,te=[],Y=[],ae=C.length,q=w||function(xe,Ne,ge){for(var He=0,Mt=Ne.length;He<Mt;He++)fo(xe,Ne[He],ge);return ge}(n||"*",k.nodeType?[k]:k,[]),Z=!e||!w&&n?q:An(q,te,e,k,N),le=o?s||(w?e:ae||i)?[]:C:Z;if(o&&o(Z,le,k,N),i)for(O=An(le,Y),i(O,[],k,N),M=O.length;M--;)(F=O[M])&&(le[Y[M]]=!(Z[Y[M]]=F));if(w){if(s||e){if(s){for(O=[],M=le.length;M--;)(F=le[M])&&O.push(Z[M]=F);s(null,le=[],O,N)}for(M=le.length;M--;)(F=le[M])&&-1<(O=s?oe.call(w,F):te[M])&&(w[O]=!(C[O]=F))}}else le=An(le===C?le.splice(ae,le.length):le),s?s(null,C,le,N):di.apply(C,le)})}function yr(e){for(var n,o,i,s=e.length,h=yt.relative[e[0].type],w=h||yt.relative[" "],C=h?1:0,k=sr(function(M){return M===n},w,!0),N=sr(function(M){return-1<oe.call(n,M)},w,!0),O=[function(M,F,te){return!h&&(te||F!==Vr)||((n=F).nodeType?k(M,F,te):N(M,F,te))}];C<s;C++)if(o=yt.relative[e[C].type])O=[sr($n(O),o)];else{if((o=yt.filter[e[C].type].apply(null,e[C].matches))[Cn]){for(i=++C;i<s&&!yt.relative[e[i].type];i++);return hr(1<C&&$n(O),1<C&&On(e.slice(0,C-1).concat({value:e[C-2].type===" "?"*":""})).replace(Bt,"$1"),o,C<i&&yr(e.slice(C,i)),i<s&&yr(e=e.slice(i)),i<s&&On(e))}O.push(o)}return $n(O)}cn.prototype=yt.filters=yt.pseudos,yt.setFilters=new cn,Ur=fo.tokenize=function(e,n){var o,i,s,h,w,C,k,N=ci[e+" "];if(N)return n?0:N.slice(0);for(w=e,C=[],k=yt.preFilter;w;){for(h in o&&!(i=ur.exec(w))||(i&&(w=w.slice(i[0].length)||w),C.push(s=[])),o=!1,(i=Zt.exec(w))&&(o=i.shift(),s.push({value:o,type:i[0].replace(Bt," ")}),w=w.slice(o.length)),yt.filter)!(i=gn[h].exec(w))||k[h]&&!(i=k[h](i))||(o=i.shift(),s.push({value:o,type:h,matches:i}),w=w.slice(o.length));if(!o)break}return n?w.length:w?fo.error(e):ci(e,C).slice(0)},uo=fo.compile=function(e,n){var o,i,s,h,w,C,k=[],N=[],O=Xi[e+" "];if(!O){for(n||(n=Ur(e)),o=n.length;o--;)(O=yr(n[o]))[Cn]?k.push(O):N.push(O);(O=Xi(e,(i=N,h=0<(s=k).length,w=0<i.length,C=function(M,F,te,Y,ae){var q,Z,le,xe=0,Ne="0",ge=M&&[],He=[],Mt=Vr,nt=M||w&&yt.find.TAG("*",ae),Gt=To+=Mt==null?1:Math.random()||.1,Ct=nt.length;for(ae&&(Vr=F!==Ee&&F);Ne!==Ct&&(q=nt[Ne])!=null;Ne++){if(w&&q){for(Z=0;le=i[Z++];)if(le(q,F,te)){Y.push(q);break}ae&&(To=Gt)}h&&((q=!le&&q)&&xe--,M&&ge.push(q))}if(xe+=Ne,h&&Ne!==xe){for(Z=0;le=s[Z++];)le(ge,He,F,te);if(M){if(0<xe)for(;Ne--;)ge[Ne]||He[Ne]||(He[Ne]=Fa.call(Y));He=An(He)}di.apply(Y,He),ae&&!M&&0<He.length&&1<xe+s.length&&fo.uniqueSort(Y)}return ae&&(To=Gt,Vr=Mt),ge},h?ye(C):C))).selector=e}return O},Eo=fo.select=function(e,n,o,i){var s,h,w,C,k,N=typeof e=="function"&&e,O=!i&&Ur(e=N.selector||e);if(o=o||[],O.length===1){if(2<(h=O[0]=O[0].slice(0)).length&&(w=h[0]).type==="ID"&&kt.getById&&n.nodeType===9&&Pt&&yt.relative[h[1].type]){if(!(n=(yt.find.ID(w.matches[0].replace(Er,ei),n)||[])[0]))return o;N&&(n=n.parentNode),e=e.slice(h.shift().value.length)}for(s=gn.needsContext.test(e)?0:h.length;s--&&(w=h[s],!yt.relative[C=w.type]);)if((k=yt.find[C])&&(i=k(w.matches[0].replace(Er,ei),Hr.test(h[0].type)&&Dt(n.parentNode)||n))){if(h.splice(s,1),!(e=i.length&&On(h)))return di.apply(o,i),o;break}}return(N||uo(e,O))(i,n,!Pt,o,Hr.test(e)&&Dt(n.parentNode)||n),o},kt.sortStable=Cn.split("").sort(Ui).join("")===Cn,kt.detectDuplicates=!!Mo,ai(),kt.sortDetached=!0;var _r=Array.isArray,Sr=function(e,n,o){var i,s;if(!e)return 0;if(o=o||e,e.length!==void 0){for(i=0,s=e.length;i<s;i++)if(n.call(o,e[i],i,e)===!1)return 0}else for(i in e)if(e.hasOwnProperty(i)&&n.call(o,e[i],i,e)===!1)return 0;return 1},bo=function(e,n,o){var i,s;for(i=0,s=e.length;i<s;i++)if(n.call(o,e[i],i,e))return i;return-1},Mr={isArray:_r,toArray:function(e){var n,o,i=e;if(!_r(e))for(i=[],n=0,o=e.length;n<o;n++)i[n]=e[n];return i},each:Sr,map:function(e,n){var o=[];return Sr(e,function(i,s){o.push(n(i,s,e))}),o},filter:function(e,n){var o=[];return Sr(e,function(i,s){n&&!n(i,s,e)||o.push(i)}),o},indexOf:function(e,n){var o,i;if(e){for(o=0,i=e.length;o<i;o++)if(e[o]===n)return o}return-1},reduce:function(e,n,o,i){var s=0;for(arguments.length<3&&(o=e[0]);s<e.length;s++)o=n.call(i,o,e[s],s);return o},findIndex:bo,find:function(e,n,o){var i=bo(e,n,o);return i!==-1?e[i]:void 0},last:function(e){return e[e.length-1]}},Ro=/^\s*|\s*$/g,Di=function(e){return e==null?"":(""+e).replace(Ro,"")},Go=function(e,n){return n?!(n!=="array"||!Mr.isArray(e))||typeof e===n:e!==void 0},ar=function(e,n,o,i){i=i||this,e&&(o&&(e=e[o]),Mr.each(e,function(s,h){if(n.call(i,s,h,o)===!1)return!1;ar(s,n,o,i)}))},st={trim:Di,isArray:Mr.isArray,is:Go,toArray:Mr.toArray,makeMap:function(e,n,o){var i;for(n=n||",",typeof(e=e||[])=="string"&&(e=e.split(n)),o=o||{},i=e.length;i--;)o[e[i]]={};return o},each:Mr.each,map:Mr.map,grep:Mr.filter,inArray:Mr.indexOf,hasOwn:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},extend:function(e,n){for(var o,i,s,h=[],w=2;w<arguments.length;w++)h[w-2]=arguments[w];var C,k=arguments;for(o=1,i=k.length;o<i;o++)for(s in n=k[o])n.hasOwnProperty(s)&&(C=n[s])!==void 0&&(e[s]=C);return e},create:function(e,n,o){var i,s,h,w,C,k=this,N=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),h=e[3].match(/(^|\.)(\w+)$/i)[2],!(s=k.createNS(e[3].replace(/\.\w+$/,""),o))[h]){if(e[2]==="static")return s[h]=n,void(this.onCreate&&this.onCreate(e[2],e[3],s[h]));n[h]||(n[h]=function(){},N=1),s[h]=n[h],k.extend(s[h].prototype,n),e[5]&&(i=k.resolve(e[5]).prototype,w=e[5].match(/\.(\w+)$/i)[1],C=s[h],s[h]=N?function(){return i[w].apply(this,arguments)}:function(){return this.parent=i[w],C.apply(this,arguments)},s[h].prototype[h]=s[h],k.each(i,function(O,M){s[h].prototype[M]=i[M]}),k.each(n,function(O,M){i[M]?s[h].prototype[M]=function(){return this.parent=i[M],O.apply(this,arguments)}:M!==h&&(s[h].prototype[M]=O)})),k.each(n.static,function(O,M){s[h][M]=O})}},walk:ar,createNS:function(e,n){var o,i;for(n=n||t.window,e=e.split("."),o=0;o<e.length;o++)n[i=e[o]]||(n[i]={}),n=n[i];return n},resolve:function(e,n){var o,i;for(n=n||t.window,o=0,i=(e=e.split(".")).length;o<i&&(n=n[e[o]]);o++);return n},explode:function(e,n){return!e||Go(e,"array")?e:Mr.map(e.split(n||","),Di)},_addCacheSuffix:function(e){var n=Dn.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e}},xo=t.document,mo=Array.prototype.push,no=Array.prototype.slice,Vo=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Oo=xt.Event,mi=st.makeMap("children,contents,next,prev"),Uo=function(e){return e!==void 0},ra=function(e){return typeof e=="string"},_a=function(e,n){var o,i,s;for(s=(n=n||xo).createElement("div"),o=n.createDocumentFragment(),s.innerHTML=e;i=s.firstChild;)o.appendChild(i);return o},Ni=function(e,n,o,i){var s;if(ra(n))n=_a(n,Ei(e[0]));else if(n.length&&!n.nodeType){if(n=br.makeArray(n),i)for(s=n.length-1;0<=s;s--)Ni(e,n[s],o,i);else for(s=0;s<n.length;s++)Ni(e,n[s],o,i);return e}if(n.nodeType)for(s=e.length;s--;)o.call(e[s],n);return e},oa=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},ga=function(e,n,o){var i,s;return n=br(n)[0],e.each(function(){var h=this;o&&i===h.parentNode||(i=h.parentNode,s=n.cloneNode(!1),h.parentNode.insertBefore(s,h)),s.appendChild(h)}),e},vi=st.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Si=st.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ka={for:"htmlFor",class:"className",readonly:"readOnly"},Gi={float:"cssFloat"},ki={},ti={},br=function(e,n){return new br.fn.init(e,n)},gu=/^\s*|\s*$/g,vu=function(e){return e==null?"":(""+e).replace(gu,"")},go=function(e,n){var o,i,s,h;if(e)if((o=e.length)===void 0){for(i in e)if(e.hasOwnProperty(i)&&(h=e[i],n.call(h,i,h)===!1))break}else for(s=0;s<o&&(h=e[s],n.call(h,s,h)!==!1);s++);return e},zo=function(e,n){var o=[];return go(e,function(i,s){n(s,i)&&o.push(s)}),o},Ei=function(e){return e?e.nodeType===9?e:e.ownerDocument:xo};br.fn=br.prototype={constructor:br,selector:"",context:null,length:0,init:function(e,n){var o,i,s=this;if(!e)return s;if(e.nodeType)return s.context=s[0]=e,s.length=1,s;if(n&&n.nodeType)s.context=n;else{if(n)return br(e).attr(n);s.context=n=t.document}if(ra(e)){if(!(o=(s.selector=e).charAt(0)==="<"&&e.charAt(e.length-1)===">"&&3<=e.length?[null,e,null]:Vo.exec(e)))return br(n).find(e);if(o[1])for(i=_a(e,Ei(n)).firstChild;i;)mo.call(s,i),i=i.nextSibling;else{if(!(i=Ei(n).getElementById(o[2])))return s;if(i.id!==o[2])return s.find(e);s.length=1,s[0]=i}}else this.add(e,!1);return s},toArray:function(){return st.toArray(this)},add:function(e,n){var o,i,s=this;if(ra(e))return s.add(br(e));if(n!==!1)for(o=br.unique(s.toArray().concat(br.makeArray(e))),s.length=o.length,i=0;i<o.length;i++)s[i]=o[i];else mo.apply(s,br.makeArray(e));return s},attr:function(e,n){var o,i=this;if(typeof e=="object")go(e,function(s,h){i.attr(s,h)});else{if(!Uo(n)){if(i[0]&&i[0].nodeType===1){if((o=ki[e])&&o.get)return o.get(i[0],e);if(Si[e])return i.prop(e)?e:void 0;(n=i[0].getAttribute(e,2))===null&&(n=void 0)}return n}this.each(function(){var s;if(this.nodeType===1){if((s=ki[e])&&s.set)return void s.set(this,n);n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}})}return i},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var o=this;if(typeof(e=Ka[e]||e)=="object")go(e,function(i,s){o.prop(i,s)});else{if(!Uo(n))return o[0]&&o[0].nodeType&&e in o[0]?o[0][e]:n;this.each(function(){this.nodeType===1&&(this[e]=n)})}return o},css:function(e,n){var o,i,s=this,h=function(C){return C.replace(/-(\D)/g,function(k,N){return N.toUpperCase()})},w=function(C){return C.replace(/[A-Z]/g,function(k){return"-"+k})};if(typeof e=="object")go(e,function(C,k){s.css(C,k)});else if(Uo(n))e=h(e),typeof n!="number"||vi[e]||(n=n.toString()+"px"),s.each(function(){var C=this.style;if((i=ti[e])&&i.set)i.set(this,n);else{try{this.style[Gi[e]||e]=n}catch{}n!==null&&n!==""||(C.removeProperty?C.removeProperty(w(e)):C.removeAttribute(e))}});else{if(o=s[0],(i=ti[e])&&i.get)return i.get(o);if(!o.ownerDocument.defaultView)return o.currentStyle?o.currentStyle[h(e)]:"";try{return o.ownerDocument.defaultView.getComputedStyle(o,null).getPropertyValue(w(e))}catch{return}}return s},remove:function(){for(var e,n=this.length;n--;)e=this[n],Oo.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,n=this.length;n--;)for(e=this[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var n,o=this;if(Uo(e)){n=o.length;try{for(;n--;)o[n].innerHTML=e}catch{br(o[n]).empty().append(e)}return o}return o[0]?o[0].innerHTML:""},text:function(e){var n,o=this;if(Uo(e)){for(n=o.length;n--;)"innerText"in o[n]?o[n].innerText=e:o[0].textContent=e;return o}return o[0]?o[0].innerText||o[0].textContent:""},append:function(){return Ni(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return Ni(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){return this[0]&&this[0].parentNode?Ni(this,arguments,function(e){this.parentNode.insertBefore(e,this)}):this},after:function(){return this[0]&&this[0].parentNode?Ni(this,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):this},appendTo:function(e){return br(e).append(this),this},prependTo:function(e){return br(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return ga(this,e)},wrapAll:function(e){return ga(this,e,!0)},wrapInner:function(e){return this.each(function(){br(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){br(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),br(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var o=this;return typeof e!="string"||(e.indexOf(" ")!==-1?go(e.split(" "),function(){o.toggleClass(this,n)}):o.each(function(i,s){var h,w;(w=oa(s,e))!==n&&(h=s.className,w?s.className=vu((" "+h+" ").replace(" "+e+" "," ")):s.className+=h?" "+e:e)})),o},hasClass:function(e){return oa(this[0],e)},each:function(e){return go(this,e)},on:function(e,n){return this.each(function(){Oo.bind(this,e,n)})},off:function(e,n){return this.each(function(){Oo.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Oo.fire(this,e.type,e):Oo.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new br(no.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,o,i=[];for(n=0,o=this.length;n<o;n++)br.find(e,this[n],i);return br(i)},filter:function(e){return br(typeof e=="function"?zo(this.toArray(),function(n,o){return e(o,n)}):br.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof br&&(e=e[0]),this.each(function(o,i){for(;i;){if(typeof e=="string"&&br(i).is(e)){n.push(i);break}if(i===e){n.push(i);break}i=i.parentNode}}),br(n)},offset:function(e){var n,o,i,s,h=0,w=0;return e?this.css(e):((n=this[0])&&(i=(o=n.ownerDocument).documentElement,n.getBoundingClientRect&&(h=(s=n.getBoundingClientRect()).left+(i.scrollLeft||o.body.scrollLeft)-i.clientLeft,w=s.top+(i.scrollTop||o.body.scrollTop)-i.clientTop)),{left:h,top:w})},push:mo,sort:[].sort,splice:[].splice},st.extend(br,{extend:st.extend,makeArray:function(e){return(n=e)&&n===n.window||e.nodeType?[e]:st.toArray(e);var n},inArray:function(e,n){var o;if(n.indexOf)return n.indexOf(e);for(o=n.length;o--;)if(n[o]===e)return o;return-1},isArray:st.isArray,each:go,trim:vu,grep:zo,find:fo,expr:fo.selectors,unique:fo.uniqueSort,text:fo.getText,contains:fo.contains,filter:function(e,n,o){var i=n.length;for(o&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n=n.length===1?br.find.matchesSelector(n[0],e)?[n[0]]:[]:br.find.matches(e,n)}});var Vi=function(e,n,o){var i=[],s=e[n];for(typeof o!="string"&&o instanceof br&&(o=o[0]);s&&s.nodeType!==9&&!(o!==void 0&&(s===o||typeof o=="string"&&br(s).is(o)));)s.nodeType===1&&i.push(s),s=s[n];return i},ne=function(e,n,o,i){var s=[];for(i instanceof br&&(i=i[0]);e;e=e[n])if(!o||e.nodeType===o){if(i!==void 0&&(e===i||typeof i=="string"&&br(e).is(i)))break;s.push(e)}return s},be=function(e,n,o){for(e=e[n];e;e=e[n])if(e.nodeType===o)return e;return null};go({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return Vi(e,"parentNode")},next:function(e){return be(e,"nextSibling",1)},prev:function(e){return be(e,"previousSibling",1)},children:function(e){return ne(e.firstChild,"nextSibling",1)},contents:function(e){return st.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){br.fn[e]=function(o){var i=[];return this.each(function(){var s=n.call(i,this,o,i);s&&(br.isArray(s)?i.push.apply(i,s):i.push(s))}),1<this.length&&(mi[e]||(i=br.unique(i)),e.indexOf("parents")===0&&(i=i.reverse())),i=br(i),o?i.filter(o):i}}),go({parentsUntil:function(e,n){return Vi(e,"parentNode",n)},nextUntil:function(e,n){return ne(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return ne(e,"previousSibling",1,n).slice(1)}},function(e,n){br.fn[e]=function(o,i){var s=[];return this.each(function(){var h=n.call(s,this,o,s);h&&(br.isArray(h)?s.push.apply(s,h):s.push(h))}),1<this.length&&(s=br.unique(s),e.indexOf("parents")!==0&&e!=="prevUntil"||(s=s.reverse())),s=br(s),i?s.filter(i):s}}),br.fn.is=function(e){return!!e&&0<this.filter(e).length},br.fn.init.prototype=br.fn,br.overrideDefaults=function(e){var n,o=function(i,s){return n=n||e(),arguments.length===0&&(i=n.element),s||(s=n.context),new o.fn.init(i,s)};return br.extend(o,this),o};var me=function(e,n,o){go(o,function(i,s){e[i]=e[i]||{},e[i][n]=s})};Dn.ie&&Dn.ie<8&&(me(ki,"get",{maxlength:function(e){var n=e.maxLength;return n===2147483647?void 0:n},size:function(e){var n=e.size;return n===20?void 0:n},class:function(e){return e.className},style:function(e){var n=e.style.cssText;return n.length===0?void 0:n}}),me(ki,"set",{class:function(e,n){e.className=n},style:function(e,n){e.style.cssText=n}})),Dn.ie&&Dn.ie<9&&(Gi.float="styleFloat",me(ti,"set",{opacity:function(e,n){var o=e.style;n===null||n===""?o.removeAttribute("filter"):(o.zoom=1,o.filter="alpha(opacity="+100*n+")")}})),br.attrHooks=ki,br.cssHooks=ti;var Ye,Qe,Et,Ut,Mn,qn,pr,Zr=function(e,n){var o=function(s,h){for(var w=0;w<s.length;w++){var C=s[w];if(C.test(h))return C}}(e,n);if(!o)return{major:0,minor:0};var i=function(s){return Number(n.replace(o,"$"+s))};return So(i(1),i(2))},Co=function(){return So(0,0)},So=function(e,n){return{major:e,minor:n}},Ko={nu:So,detect:function(e,n){var o=String(n).toLowerCase();return e.length===0?Co():Zr(e,o)},unknown:Co},Io="Firefox",Ai=function(e,n){return function(){return n===e}},Hi=function(e){var n=e.current;return{current:n,version:e.version,isEdge:Ai("Edge",n),isChrome:Ai("Chrome",n),isIE:Ai("IE",n),isOpera:Ai("Opera",n),isFirefox:Ai(Io,n),isSafari:Ai("Safari",n)}},yi={unknown:function(){return Hi({current:void 0,version:Ko.unknown()})},nu:Hi,edge:l("Edge"),chrome:l("Chrome"),ie:l("IE"),opera:l("Opera"),firefox:l(Io),safari:l("Safari")},Bi="Windows",tu="Android",tc="Solaris",Cs="FreeBSD",nu=function(e,n){return function(){return n===e}},Ol=function(e){var n=e.current;return{current:n,version:e.version,isWindows:nu(Bi,n),isiOS:nu("iOS",n),isAndroid:nu(tu,n),isOSX:nu("OSX",n),isLinux:nu("Linux",n),isSolaris:nu(tc,n),isFreeBSD:nu(Cs,n)}},va={unknown:function(){return Ol({current:void 0,version:Ko.unknown()})},nu:Ol,windows:l(Bi),ios:l("iOS"),android:l(tu),linux:l("Linux"),osx:l("OSX"),solaris:l(tc),freebsd:l(Cs)},Us=function(e,n){var o=String(n).toLowerCase();return Kt(e,function(i){return i.search(o)})},nc=function(e,n){return Us(e,n).map(function(o){var i=Ko.detect(o.versionRegexes,n);return{current:o.name,version:i}})},us=function(e,n){return Us(e,n).map(function(o){var i=Ko.detect(o.versionRegexes,n);return{current:o.name,version:i}})},ya=function(e,n){return e.indexOf(n)!==-1},Cf=function(e){return e.replace(/^\s+|\s+$/g,"")},Xn=function(e){return e.replace(/\s+$/g,"")},Du=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ku=function(e){return function(n){return ya(n,e)}},Xu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return ya(e,"edge/")&&ya(e,"chrome")&&ya(e,"safari")&&ya(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Du],search:function(e){return ya(e,"chrome")&&!ya(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return ya(e,"msie")||ya(e,"trident")}},{name:"Opera",versionRegexes:[Du,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ku("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ku("firefox")},{name:"Safari",versionRegexes:[Du,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(ya(e,"safari")||ya(e,"mobile/"))&&ya(e,"applewebkit")}}],bi=[{name:"Windows",search:Ku("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return ya(e,"iphone")||ya(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ku("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ku("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ku("linux"),versionRegexes:[]},{name:"Solaris",search:Ku("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ku("freebsd"),versionRegexes:[]}],Pl={browsers:l(Xu),oses:l(bi)},sl=function(e){var n,o,i,s,h,w,C,k,N,O,M,F=Pl.browsers(),te=Pl.oses(),Y=nc(F,e).fold(yi.unknown,yi.nu),ae=us(te,e).fold(va.unknown,va.nu);return{browser:Y,os:ae,deviceType:(o=Y,i=e,s=(n=ae).isiOS()&&/ipad/i.test(i)===!0,h=n.isiOS()&&!s,w=n.isAndroid()&&n.version.major===3,C=n.isAndroid()&&n.version.major===4,k=s||w||C&&/mobile/i.test(i)===!0,N=n.isiOS()||n.isAndroid(),O=N&&!k,M=o.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,{isiPad:l(s),isiPhone:l(h),isTablet:l(k),isPhone:l(O),isTouch:l(N),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:l(M)})}},kn={detect:(Ye=function(){var e=t.navigator.userAgent;return sl(e)},Et=!1,function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Et||(Et=!0,Qe=Ye.apply(null,e)),Qe})},ru=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:l(e)}},$t={fromHtml:function(e,n){var o=(n||t.document).createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||1<o.childNodes.length)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return ru(o.childNodes[0])},fromTag:function(e,n){var o=(n||t.document).createElement(e);return ru(o)},fromText:function(e,n){var o=(n||t.document).createTextNode(e);return ru(o)},fromDom:ru,fromPoint:function(e,n,o){var i=e.dom();return J.from(i.elementFromPoint(n,o)).map(ru)}},Gu=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),yu=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),Ti=t.Node.TEXT_NODE,la=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,function(e){return e.dom().nodeName.toLowerCase()}),Lo=function(e){return function(n){return n.dom().nodeType===e}},bu=Lo(yu),ba=Lo(Ti),Ss=Object.keys,Pc=Object.hasOwnProperty,Au=function(e,n){for(var o=Ss(e),i=0,s=o.length;i<s;i++){var h=o[i];n(e[h],h)}},Sf=function(e,n){var o={};return Au(e,function(i,s){var h=n(i,s);o[h.k]=h.v}),o},Dc=function(e,n){var o={},i={};return Au(e,function(s,h){(n(s,h)?o:i)[h]=s}),{t:o,f:i}},ca=function(e,n){return Pc.call(e,n)},ou=function(e){return e.style!==void 0&&Vt(e.style.getPropertyValue)},Mi=function(e,n,o){if(!(Ze(o)||At(o)||qt(o)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",o,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,o+"")},Ju=function(e,n,o){Mi(e.dom(),n,o)},iu=function(e,n){var o=e.dom();Au(n,function(i,s){Mi(o,s,i)})},Pa=function(e,n){var o=e.dom().getAttribute(n);return o===null?void 0:o},ks=function(e,n){e.dom().removeAttribute(n)},rc=function(e,n){var o=e.dom();Au(n,function(i,s){(function(h,w,C){if(!Ze(C))throw t.console.error("Invalid call to CSS.set. Property ",w,":: Value ",C,":: Element ",h),new Error("CSS value must be a string: "+C);ou(h)&&h.style.setProperty(w,C)})(o,s,i)})},oc=function(e,n){var o,i,s=e.dom(),h=t.window.getComputedStyle(s).getPropertyValue(n),w=h!==""||(i=ba(o=e)?o.dom().parentNode:o.dom())!==void 0&&i!==null&&i.ownerDocument.body.contains(i)?h:Ac(s,n);return w===null?void 0:w},Ac=function(e,n){return ou(e)?e.style.getPropertyValue(n):""},Mu=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];if(e.length!==o.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+o.length+" arguments");var s={};return Qt(e,function(h,w){s[h]=l(o[w])}),s}},Es=function(e,n){for(var o=[],i=function(h){return o.push(h),n(h)},s=n(e);(s=s.bind(i)).isSome(););return o},Mc=function(){return qr.getOrDie("Node")},kf=function(e,n,o){return(e.compareDocumentPosition(n)&o)!=0},Ic=function(e,n){return kf(e,n,Mc().DOCUMENT_POSITION_CONTAINED_BY)},ll=yu,ic=Gu,Da=function(e,n){var o=e.dom();if(o.nodeType!==ll)return!1;var i=o;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},au=function(e){return e.nodeType!==ll&&e.nodeType!==ic||e.childElementCount===0},Xr=function(e,n){return e.dom()===n.dom()},wu=kn.detect().browser.isIE()?function(e,n){return Ic(e.dom(),n.dom())}:function(e,n){var o=e.dom(),i=n.dom();return o!==i&&o.contains(i)},ia=function(e){return $t.fromDom(e.dom().ownerDocument)},Ef=function(e){return $t.fromDom(e.dom().ownerDocument.defaultView)},Ts=function(e){return J.from(e.dom().parentNode).map($t.fromDom)},$s=function(e){return J.from(e.dom().previousSibling).map($t.fromDom)},jo=function(e){return J.from(e.dom().nextSibling).map($t.fromDom)},Vs=function(e){return n=Es(e,$s),(o=yn.call(n,0)).reverse(),o;var n,o},hi=function(e){return Es(e,jo)},Xa=function(e){return er(e.dom().childNodes,$t.fromDom)},fa=function(e,n){var o=e.dom().childNodes;return J.from(o[n]).map($t.fromDom)},_s=function(e){return fa(e,0)},qs=function(e){return fa(e,e.dom().childNodes.length-1)},Ji=(Mu("element","offset"),kn.detect().browser),ac=function(e){return Kt(e,bu)},uc={getPos:function(e,n,o){var i,s,h,w=0,C=0,k=e.ownerDocument;if(o=o||e,n){if(o===e&&n.getBoundingClientRect&&oc($t.fromDom(e),"position")==="static")return{x:w=(s=n.getBoundingClientRect()).left+(k.documentElement.scrollLeft||e.scrollLeft)-k.documentElement.clientLeft,y:C=s.top+(k.documentElement.scrollTop||e.scrollTop)-k.documentElement.clientTop};for(i=n;i&&i!==o&&i.nodeType;)w+=i.offsetLeft||0,C+=i.offsetTop||0,i=i.offsetParent;for(i=n.parentNode;i&&i!==o&&i.nodeType;)w-=i.scrollLeft||0,C-=i.scrollTop||0,i=i.parentNode;C+=(h=$t.fromDom(n),Ji.isFirefox()&&la(h)==="table"?ac(Xa(h)).filter(function(N){return la(N)==="caption"}).bind(function(N){return ac(hi(N)).map(function(O){var M=O.dom().offsetTop,F=N.dom().offsetTop,te=N.dom().offsetHeight;return M<=F?-te:0})}).getOr(0):0)}return{x:w,y:C}}},Ii={},qi={exports:Ii};Ut=void 0,Mn=Ii,qn=qi,pr=void 0,function(e){typeof Mn=="object"&&qn!==void 0?qn.exports=e():typeof Ut=="function"&&Ut.amd?Ut([],e):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).EphoxContactWrapper=e()}(function(){return function e(n,o,i){function s(C,k){if(!o[C]){if(!n[C]){var N=typeof pr=="function"&&pr;if(!k&&N)return N(C,!0);if(h)return h(C,!0);var O=new Error("Cannot find module '"+C+"'");throw O.code="MODULE_NOT_FOUND",O}var M=o[C]={exports:{}};n[C][0].call(M.exports,function(F){return s(n[C][1][F]||F)},M,M.exports,e,n,o,i)}return o[C].exports}for(var h=typeof pr=="function"&&pr,w=0;w<i.length;w++)s(i[w]);return s}({1:[function(e,n,o){var i,s,h=n.exports={};function w(){throw new Error("setTimeout has not been defined")}function C(){throw new Error("clearTimeout has not been defined")}function k(Z){if(i===setTimeout)return setTimeout(Z,0);if((i===w||!i)&&setTimeout)return i=setTimeout,setTimeout(Z,0);try{return i(Z,0)}catch{try{return i.call(null,Z,0)}catch{return i.call(this,Z,0)}}}(function(){try{i=typeof setTimeout=="function"?setTimeout:w}catch{i=w}try{s=typeof clearTimeout=="function"?clearTimeout:C}catch{s=C}})();var N,O=[],M=!1,F=-1;function te(){M&&N&&(M=!1,N.length?O=N.concat(O):F=-1,O.length&&Y())}function Y(){if(!M){var Z=k(te);M=!0;for(var le=O.length;le;){for(N=O,O=[];++F<le;)N&&N[F].run();F=-1,le=O.length}N=null,M=!1,function(xe){if(s===clearTimeout)return clearTimeout(xe);if((s===C||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(xe);try{s(xe)}catch{try{return s.call(null,xe)}catch{return s.call(this,xe)}}}(Z)}}function ae(Z,le){this.fun=Z,this.array=le}function q(){}h.nextTick=function(Z){var le=new Array(arguments.length-1);if(1<arguments.length)for(var xe=1;xe<arguments.length;xe++)le[xe-1]=arguments[xe];O.push(new ae(Z,le)),O.length!==1||M||k(Y)},ae.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=q,h.addListener=q,h.once=q,h.off=q,h.removeListener=q,h.removeAllListeners=q,h.emit=q,h.prependListener=q,h.prependOnceListener=q,h.listeners=function(Z){return[]},h.binding=function(Z){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(Z){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],2:[function(e,n,o){(function(i){(function(s){var h=setTimeout;function w(){}function C(Y){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Y!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],te(Y,this)}function k(Y,ae){for(;Y._state===3;)Y=Y._value;Y._state!==0?(Y._handled=!0,C._immediateFn(function(){var q=Y._state===1?ae.onFulfilled:ae.onRejected;if(q!==null){var Z;try{Z=q(Y._value)}catch(le){return void O(ae.promise,le)}N(ae.promise,Z)}else(Y._state===1?N:O)(ae.promise,Y._value)})):Y._deferreds.push(ae)}function N(Y,ae){try{if(ae===Y)throw new TypeError("A promise cannot be resolved with itself.");if(ae&&(typeof ae=="object"||typeof ae=="function")){var q=ae.then;if(ae instanceof C)return Y._state=3,Y._value=ae,void M(Y);if(typeof q=="function")return void te((Z=q,le=ae,function(){Z.apply(le,arguments)}),Y)}Y._state=1,Y._value=ae,M(Y)}catch(xe){O(Y,xe)}var Z,le}function O(Y,ae){Y._state=2,Y._value=ae,M(Y)}function M(Y){Y._state===2&&Y._deferreds.length===0&&C._immediateFn(function(){Y._handled||C._unhandledRejectionFn(Y._value)});for(var ae=0,q=Y._deferreds.length;ae<q;ae++)k(Y,Y._deferreds[ae]);Y._deferreds=null}function F(Y,ae,q){this.onFulfilled=typeof Y=="function"?Y:null,this.onRejected=typeof ae=="function"?ae:null,this.promise=q}function te(Y,ae){var q=!1;try{Y(function(Z){q||(q=!0,N(ae,Z))},function(Z){q||(q=!0,O(ae,Z))})}catch(Z){if(q)return;q=!0,O(ae,Z)}}C.prototype.catch=function(Y){return this.then(null,Y)},C.prototype.then=function(Y,ae){var q=new this.constructor(w);return k(this,new F(Y,ae,q)),q},C.all=function(Y){var ae=Array.prototype.slice.call(Y);return new C(function(q,Z){if(ae.length===0)return q([]);var le=ae.length;function xe(ge,He){try{if(He&&(typeof He=="object"||typeof He=="function")){var Mt=He.then;if(typeof Mt=="function")return void Mt.call(He,function(nt){xe(ge,nt)},Z)}ae[ge]=He,--le==0&&q(ae)}catch(nt){Z(nt)}}for(var Ne=0;Ne<ae.length;Ne++)xe(Ne,ae[Ne])})},C.resolve=function(Y){return Y&&typeof Y=="object"&&Y.constructor===C?Y:new C(function(ae){ae(Y)})},C.reject=function(Y){return new C(function(ae,q){q(Y)})},C.race=function(Y){return new C(function(ae,q){for(var Z=0,le=Y.length;Z<le;Z++)Y[Z].then(ae,q)})},C._immediateFn=typeof i=="function"?function(Y){i(Y)}:function(Y){h(Y,0)},C._unhandledRejectionFn=function(Y){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Y)},C._setImmediateFn=function(Y){C._immediateFn=Y},C._setUnhandledRejectionFn=function(Y){C._unhandledRejectionFn=Y},n!==void 0&&n.exports?n.exports=C:s.Promise||(s.Promise=C)})(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,n,o){(function(i,s){var h=e("process/browser.js").nextTick,w=Function.prototype.apply,C=Array.prototype.slice,k={},N=0;function O(M,F){this._id=M,this._clearFn=F}o.setTimeout=function(){return new O(w.call(setTimeout,window,arguments),clearTimeout)},o.setInterval=function(){return new O(w.call(setInterval,window,arguments),clearInterval)},o.clearTimeout=o.clearInterval=function(M){M.close()},O.prototype.unref=O.prototype.ref=function(){},O.prototype.close=function(){this._clearFn.call(window,this._id)},o.enroll=function(M,F){clearTimeout(M._idleTimeoutId),M._idleTimeout=F},o.unenroll=function(M){clearTimeout(M._idleTimeoutId),M._idleTimeout=-1},o._unrefActive=o.active=function(M){clearTimeout(M._idleTimeoutId);var F=M._idleTimeout;0<=F&&(M._idleTimeoutId=setTimeout(function(){M._onTimeout&&M._onTimeout()},F))},o.setImmediate=typeof i=="function"?i:function(M){var F=N++,te=!(arguments.length<2)&&C.call(arguments,1);return k[F]=!0,h(function(){k[F]&&(te?M.apply(null,te):M.call(null),o.clearImmediate(F))}),F},o.clearImmediate=typeof s=="function"?s:function(M){delete k[M]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,n,o){var i=e("promise-polyfill"),s=typeof window!="undefined"?window:Function("return this;")();n.exports={boltExport:s.Promise||i}},{"promise-polyfill":2}]},{},[4])(4)});var cl=qi.exports.boltExport,Qu=function(e){var n=J.none(),o=[],i=function(C){s()?w(C):o.push(C)},s=function(){return n.isSome()},h=function(C){Qt(C,w)},w=function(C){n.each(function(k){t.setTimeout(function(){C(k)},0)})};return e(function(C){n=J.some(C),h(o),o=[]}),{get:i,map:function(C){return Qu(function(k){i(function(N){k(C(N))})})},isReady:s}},Bc={nu:Qu,pure:function(e){return Qu(function(n){n(e)})}},Zu=function(e){t.setTimeout(function(){throw e},0)},Ns=function(e){var n=function(o){e().then(o,Zu)};return{map:function(o){return Ns(function(){return e().then(o)})},bind:function(o){return Ns(function(){return e().then(function(i){return o(i).toPromise()})})},anonBind:function(o){return Ns(function(){return e().then(function(){return o.toPromise()})})},toLazy:function(){return Bc.nu(n)},toCached:function(){var o=null;return Ns(function(){return o===null&&(o=e()),o})},toPromise:e,get:n}},ss={nu:function(e){return Ns(function(){return new cl(e)})},pure:function(e){return Ns(function(){return cl.resolve(e)})}},wi=function(e,n){return n(function(o){var i=[],s=0;e.length===0?o([]):Qt(e,function(h,w){var C;h.get((C=w,function(k){i[C]=k,++s>=e.length&&o(i)}))})})},fl=function(e){return wi(e,ss.nu)},xu=function(e){return{is:function(n){return e===n},isValue:ut,isError:Ce,getOr:l(e),getOrThunk:l(e),getOrDie:l(e),or:function(n){return xu(e)},orThunk:function(n){return xu(e)},fold:function(n,o){return o(e)},map:function(n){return xu(n(e))},mapError:function(n){return xu(e)},each:function(n){n(e)},bind:function(n){return n(e)},exists:function(n){return n(e)},forall:function(n){return n(e)},toOption:function(){return J.some(e)}}},Ys=function(e){return{is:Ce,isValue:Ce,isError:ut,getOr:g,getOrThunk:function(n){return n()},getOrDie:function(){return n=String(e),function(){throw new Error(n)}();var n},or:function(n){return n},orThunk:function(n){return n()},fold:function(n,o){return n(e)},map:function(n){return Ys(e)},mapError:function(n){return Ys(n(e))},each:r,bind:function(n){return Ys(e)},exists:Ce,forall:ut,toOption:J.none}},Rs={value:xu,error:Ys,fromOption:function(e,n){return e.fold(function(){return Ys(n)},xu)}};function Ri(e,n){var o=e,i=function(s,h,w,C){var k,N;if(s){if(!C&&s[h])return s[h];if(s!==n){if(k=s[w])return k;for(N=s.parentNode;N&&N!==n;N=N.parentNode)if(k=N[w])return k}}};this.current=function(){return o},this.next=function(s){return o=i(o,"firstChild","nextSibling",s)},this.prev=function(s){return o=i(o,"lastChild","previousSibling",s)},this.prev2=function(s){return o=function(h,w,C,k){var N,O,M;if(h){if(N=h[C],n&&N===n)return;if(N){if(!k){for(M=N[w];M;M=M[w])if(!M[w])return M}return N}if((O=h.parentNode)&&O!==n)return O}}(o,"lastChild","previousSibling",s)}}var uu,Cu,Lc,Iu=function(e){var n;return function(o){return(n=n||function(i,s){for(var h={},w=0,C=i.length;w<C;w++){var k=i[w];h[String(k)]=s(k,w)}return h}(e,l(!0))).hasOwnProperty(la(o))}},Bu=Iu(["h1","h2","h3","h4","h5","h6"]),Aa=Iu(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),f=function(e){return bu(e)&&!Aa(e)},v=function(e){return bu(e)&&la(e)==="br"},T=Iu(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),A=Iu(["ul","ol","dl"]),W=Iu(["li","dd","dt"]),V=Iu(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),pe=Iu(["thead","tbody","tfoot"]),ke=Iu(["td","th"]),Oe=Iu(["pre","script","textarea","style"]),ot=function(e){return function(n){return!!n&&n.nodeType===e}},It=ot(1),et=function(e){var n=e.toLowerCase().split(" ");return function(o){var i,s;if(o&&o.nodeType){for(s=o.nodeName.toLowerCase(),i=0;i<n.length;i++)if(s===n[i])return!0}return!1}},Tt=function(e){return function(n){return!!(It(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},nn=ot(3),an=ot(8),Gr=ot(9),Wr=ot(11),to=et("br"),vo=Tt("true"),Ln=Tt("false"),je={isText:nn,isElement:It,isComment:an,isDocument:Gr,isDocumentFragment:Wr,isBr:to,isContentEditableTrue:vo,isContentEditableFalse:Ln,isRestrictedNode:function(e){return!!e&&!Object.getPrototypeOf(e)},matchNodeNames:et,hasPropValue:function(e,n){return function(o){return It(o)&&o[e]===n}},hasAttribute:function(e,n){return function(o){return It(o)&&o.hasAttribute(e)}},hasAttributeValue:function(e,n){return function(o){return It(o)&&o.getAttribute(e)===n}},matchStyleValues:function(e,n){var o=n.toLowerCase().split(" ");return function(i){var s;if(It(i))for(s=0;s<o.length;s++){var h=i.ownerDocument.defaultView.getComputedStyle(i,null);if((h?h.getPropertyValue(e):null)===o[s])return!0}return!1}},isBogus:function(e){return It(e)&&e.hasAttribute("data-mce-bogus")},isBogusAll:function(e){return It(e)&&e.getAttribute("data-mce-bogus")==="all"},isTable:function(e){return It(e)&&e.tagName==="TABLE"}},Br=function(e){return e&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},Bo=function(e,n){var o,i=n.childNodes;if(!je.isElement(n)||!Br(n)){for(o=i.length-1;0<=o;o--)Bo(e,i[o]);if(je.isDocument(n)===!1){if(je.isText(n)&&0<n.nodeValue.length){var s=st.trim(n.nodeValue).length;if(e.isBlock(n.parentNode)||0<s||s===0&&(w=(h=n).previousSibling&&h.previousSibling.nodeName==="SPAN",C=h.nextSibling&&h.nextSibling.nodeName==="SPAN",w&&C))return}else if(je.isElement(n)&&((i=n.childNodes).length===1&&Br(i[0])&&n.parentNode.insertBefore(i[0],n),i.length||V($t.fromDom(n))))return;e.remove(n)}var h,w,C;return n}},li={trimNode:Bo},wa=st.makeMap,xa=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Oi=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ha=/[<>&\"\']/g,Ca=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qi={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};Cu={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Lc={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Sa=function(e,n){var o,i,s,h={};if(e){for(e=e.split(","),n=n||10,o=0;o<e.length;o+=2)i=String.fromCharCode(parseInt(e[o],n)),Cu[i]||(s="&"+e[o+1]+";",h[i]=s,h[s]=i);return h}};uu=Sa("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var es=function(e,n){return e.replace(n?xa:Oi,function(o){return Cu[o]||o})},ts=function(e,n){return e.replace(n?xa:Oi,function(o){return 1<o.length?"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";":Cu[o]||"&#"+o.charCodeAt(0)+";"})},Ga=function(e,n,o){return o=o||uu,e.replace(n?xa:Oi,function(i){return Cu[i]||o[i]||i})},Na={encodeRaw:es,encodeAllRaw:function(e){return(""+e).replace(ha,function(n){return Cu[n]||n})},encodeNumeric:ts,encodeNamed:Ga,getEncodeFunc:function(e,n){var o=Sa(n)||uu,i=wa(e.replace(/\+/g,","));return i.named&&i.numeric?function(s,h){return s.replace(h?xa:Oi,function(w){return Cu[w]!==void 0?Cu[w]:o[w]!==void 0?o[w]:1<w.length?"&#"+(1024*(w.charCodeAt(0)-55296)+(w.charCodeAt(1)-56320)+65536)+";":"&#"+w.charCodeAt(0)+";"})}:i.named?n?function(s,h){return Ga(s,h,o)}:Ga:i.numeric?ts:es},decode:function(e){return e.replace(Ca,function(n,o){return o?65535<(o=o.charAt(0).toLowerCase()==="x"?parseInt(o.substr(1),16):parseInt(o,10))?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(1023&o))):Qi[o]||String.fromCharCode(o):Lc[n]||uu[n]||(i=n,(s=$t.fromTag("div").dom()).innerHTML=i,s.textContent||s.innerText||i);var i,s})}},ro={},ni={},Lu=st.makeMap,Zi=st.each,c=st.extend,p=st.explode,S=st.inArray,P=function(e,n){return(e=st.trim(e))?e.split(n||" "):[]},H=function(e){var n,o,i,s,h,w,C={},k=function(O,M,F){var te,Y,ae,q=function(Z,le){var xe,Ne,ge={};for(xe=0,Ne=Z.length;xe<Ne;xe++)ge[Z[xe]]=le||{};return ge};for(M=M||"",typeof(F=F||[])=="string"&&(F=P(F)),te=(O=P(O)).length;te--;)ae={attributes:q(Y=P([n,M].join(" "))),attributesOrder:Y,children:q(F,ni)},C[O[te]]=ae},N=function(O,M){var F,te,Y,ae;for(F=(O=P(O)).length,M=P(M);F--;)for(te=C[O[F]],Y=0,ae=M.length;Y<ae;Y++)te.attributes[M[Y]]={},te.attributesOrder.push(M[Y])};return ro[e]?ro[e]:(n="id accesskey class dir lang style tabindex title role",o="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(n+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",o+=" article aside details dialog figure main header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(n+=" xml:lang",i=[i,w="acronym applet basefont big font strike tt"].join(" "),Zi(P(w),function(O){k(O,"",i)}),o=[o,h="center dir isindex noframes"].join(" "),s=[o,i].join(" "),Zi(P(h),function(O){k(O,"",s)})),s=s||[o,i].join(" "),k("html","manifest","head body"),k("head","","base command link meta noscript script style title"),k("title hr noscript br"),k("base","href target"),k("link","href rel media hreflang type sizes hreflang"),k("meta","name http-equiv content charset"),k("style","media type scoped"),k("script","src async defer type charset"),k("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",s),k("address dt dd div caption","",s),k("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),k("blockquote","cite",s),k("ol","reversed start type","li"),k("ul","","li"),k("li","value",s),k("dl","","dt dd"),k("a","href target rel media hreflang type",i),k("q","cite",i),k("ins del","cite datetime",s),k("img","src sizes srcset alt usemap ismap width height"),k("iframe","src name width height",s),k("embed","src type width height"),k("object","data type typemustmatch name usemap form width height",[s,"param"].join(" ")),k("param","name value"),k("map","name",[s,"area"].join(" ")),k("area","alt coords shape href target rel media hreflang type"),k("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),k("colgroup","span","col"),k("col","span"),k("tbody thead tfoot","","tr"),k("tr","","td th"),k("td","colspan rowspan headers",s),k("th","colspan rowspan headers scope abbr",s),k("form","accept-charset action autocomplete enctype method name novalidate target",s),k("fieldset","disabled form name",[s,"legend"].join(" ")),k("label","form for",i),k("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),k("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?s:i),k("select","disabled form multiple name required size","option optgroup"),k("optgroup","disabled label","option"),k("option","disabled label selected value"),k("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),k("menu","type label",[s,"li"].join(" ")),k("noscript","",s),e!=="html4"&&(k("wbr"),k("ruby","",[i,"rt rp"].join(" ")),k("figcaption","",s),k("mark rt rp summary bdi","",i),k("canvas","width height",s),k("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[s,"track source"].join(" ")),k("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[s,"track source"].join(" ")),k("picture","","img source"),k("source","src srcset type media sizes"),k("track","kind src srclang label default"),k("datalist","",[i,"option"].join(" ")),k("article section nav aside main header footer","",s),k("hgroup","","h1 h2 h3 h4 h5 h6"),k("figure","",[s,"figcaption"].join(" ")),k("time","datetime",i),k("dialog","open",s),k("command","type label icon disabled checked radiogroup command"),k("output","for form name",i),k("progress","value max",i),k("meter","value min max low high optimum",i),k("details","open",[s,"summary"].join(" ")),k("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(N("script","language xml:space"),N("style","xml:space"),N("object","declare classid code codebase codetype archive standby align border hspace vspace"),N("embed","align name hspace vspace"),N("param","valuetype type"),N("a","charset name rev shape coords"),N("br","clear"),N("applet","codebase archive code object alt name width height align hspace vspace"),N("img","name longdesc align border hspace vspace"),N("iframe","longdesc frameborder marginwidth marginheight scrolling align"),N("font basefont","size color face"),N("input","usemap align"),N("select","onchange"),N("textarea"),N("h1 h2 h3 h4 h5 h6 div p legend caption","align"),N("ul","type compact"),N("li","type"),N("ol dl menu dir","compact"),N("pre","width xml:space"),N("hr","align noshade size width"),N("isindex","prompt"),N("table","summary width frame rules cellspacing cellpadding align bgcolor"),N("col","width align char charoff valign"),N("colgroup","width align char charoff valign"),N("thead","align char charoff valign"),N("tr","align char charoff valign bgcolor"),N("th","axis align char charoff valign nowrap bgcolor width height"),N("form","accept"),N("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),N("tfoot","align char charoff valign"),N("tbody","align char charoff valign"),N("area","nohref"),N("body","background bgcolor text link vlink alink")),e!=="html4"&&(N("input button select textarea","autofocus"),N("input textarea","placeholder"),N("a","download"),N("link script img","crossorigin"),N("iframe","sandbox seamless allowfullscreen")),Zi(P("a form meter progress dfn"),function(O){C[O]&&delete C[O].children[O]}),delete C.caption.children.table,delete C.script,ro[e]=C)},$=function(e,n){var o;return e&&(o={},typeof e=="string"&&(e={"*":e}),Zi(e,function(i,s){o[s]=o[s.toUpperCase()]=n==="map"?Lu(i,/[, ]/):p(i,/[, ]/)})),o};function ce(e){var n,o,i,s,h,w,C,k,N,O,M,F,te,Y={},ae={},q=[],Z={},le={},xe=function(Ct,hn,Xt){var pn=e[Ct];return pn?pn=Lu(pn,/[, ]/,Lu(pn.toUpperCase(),/[, ]/)):(pn=ro[Ct])||(pn=Lu(hn," ",Lu(hn.toUpperCase()," ")),pn=c(pn,Xt),ro[Ct]=pn),pn};i=H((e=e||{}).schema),e.verify_html===!1&&(e.valid_elements="*[*]"),n=$(e.valid_styles),o=$(e.invalid_styles,"map"),k=$(e.valid_classes,"map"),s=xe("whitespace_elements","pre script noscript style textarea video audio iframe object code"),h=xe("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),w=xe("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),C=xe("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),O=xe("non_empty_elements","td th iframe video audio object script pre code",w),M=xe("move_caret_before_on_enter_elements","table",O),F=xe("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),N=xe("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",F),te=xe("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Zi((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Ct){le[Ct]=new RegExp("</"+Ct+"[^>]*>","gi")});var Ne=function(Ct){return new RegExp("^"+Ct.replace(/([?+*])/g,".$1")+"$")},ge=function(Ct){var hn,Xt,pn,rr,fn,wn,vr,Vn,dn,In,Tr,Ir,Rr,Gn,Fr,Be,St,un,En,Pr=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,No=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,$o=/[*?+]/;if(Ct){for(Ct=P(Ct,","),Y["@"]&&(Be=Y["@"].attributes,St=Y["@"].attributesOrder),hn=0,Xt=Ct.length;hn<Xt;hn++)if(fn=Pr.exec(Ct[hn])){if(Gn=fn[1],dn=fn[2],Fr=fn[3],Vn=fn[5],wn={attributes:Ir={},attributesOrder:Rr=[]},Gn==="#"&&(wn.paddEmpty=!0),Gn==="-"&&(wn.removeEmpty=!0),fn[4]==="!"&&(wn.removeEmptyAttrs=!0),Be){for(un in Be)Ir[un]=Be[un];Rr.push.apply(Rr,St)}if(Vn){for(pn=0,rr=(Vn=P(Vn,"|")).length;pn<rr;pn++)if(fn=No.exec(Vn[pn])){if(vr={},Tr=fn[1],In=fn[2].replace(/[\\:]:/g,":"),Gn=fn[3],En=fn[4],Tr==="!"&&(wn.attributesRequired=wn.attributesRequired||[],wn.attributesRequired.push(In),vr.required=!0),Tr==="-"){delete Ir[In],Rr.splice(S(Rr,In),1);continue}Gn&&(Gn==="="&&(wn.attributesDefault=wn.attributesDefault||[],wn.attributesDefault.push({name:In,value:En}),vr.defaultValue=En),Gn===":"&&(wn.attributesForced=wn.attributesForced||[],wn.attributesForced.push({name:In,value:En}),vr.forcedValue=En),Gn==="<"&&(vr.validValues=Lu(En,"?"))),$o.test(In)?(wn.attributePatterns=wn.attributePatterns||[],vr.pattern=Ne(In),wn.attributePatterns.push(vr)):(Ir[In]||Rr.push(In),Ir[In]=vr)}}Be||dn!=="@"||(Be=Ir,St=Rr),Fr&&(wn.outputName=dn,Y[Fr]=wn),$o.test(dn)?(wn.pattern=Ne(dn),q.push(wn)):Y[dn]=wn}}},He=function(Ct){Y={},q=[],ge(Ct),Zi(i,function(hn,Xt){ae[Xt]=hn.children})},Mt=function(Ct){var hn=/^(~)?(.+)$/;Ct&&(ro.text_block_elements=ro.block_elements=null,Zi(P(Ct,","),function(Xt){var pn=hn.exec(Xt),rr=pn[1]==="~",fn=rr?"span":"div",wn=pn[2];if(ae[wn]=ae[fn],Z[wn]=fn,rr||(N[wn.toUpperCase()]={},N[wn]={}),!Y[wn]){var vr=Y[fn];delete(vr=c({},vr)).removeEmptyAttrs,delete vr.removeEmpty,Y[wn]=vr}Zi(ae,function(Vn,dn){Vn[fn]&&(ae[dn]=Vn=c({},ae[dn]),Vn[wn]=Vn[fn])})}))},nt=function(Ct){var hn=/^([+\-]?)(\w+)\[([^\]]+)\]$/;ro[e.schema]=null,Ct&&Zi(P(Ct,","),function(Xt){var pn,rr,fn=hn.exec(Xt);fn&&(rr=fn[1],pn=rr?ae[fn[2]]:ae[fn[2]]={"#comment":{}},pn=ae[fn[2]],Zi(P(fn[3],"|"),function(wn){rr==="-"?delete pn[wn]:pn[wn]={}}))})},Gt=function(Ct){var hn,Xt=Y[Ct];if(Xt)return Xt;for(hn=q.length;hn--;)if((Xt=q[hn]).pattern.test(Ct))return Xt};return e.valid_elements?He(e.valid_elements):(Zi(i,function(Ct,hn){Y[hn]={attributes:Ct.attributes,attributesOrder:Ct.attributesOrder},ae[hn]=Ct.children}),e.schema!=="html5"&&Zi(P("strong/b em/i"),function(Ct){Ct=P(Ct,"/"),Y[Ct[1]].outputName=Ct[0]}),Zi(P("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(Ct){Y[Ct]&&(Y[Ct].removeEmpty=!0)}),Zi(P("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Ct){Y[Ct].paddEmpty=!0}),Zi(P("span"),function(Ct){Y[Ct].removeEmptyAttrs=!0})),Mt(e.custom_elements),nt(e.valid_children),ge(e.extended_valid_elements),nt("+ol[ul|ol],+ul[ul|ol]"),Zi({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Ct,hn){Y[hn]&&(Y[hn].parentsRequired=P(Ct))}),e.invalid_elements&&Zi(p(e.invalid_elements),function(Ct){Y[Ct]&&delete Y[Ct]}),Gt("span")||ge("span[!data-mce-type|*]"),{children:ae,elements:Y,getValidStyles:function(){return n},getValidClasses:function(){return k},getBlockElements:function(){return N},getInvalidStyles:function(){return o},getShortEndedElements:function(){return w},getTextBlockElements:function(){return F},getTextInlineElements:function(){return te},getBoolAttrs:function(){return C},getElementRule:Gt,getSelfClosingElements:function(){return h},getNonEmptyElements:function(){return O},getMoveCaretBeforeOnEnterElements:function(){return M},getWhiteSpaceElements:function(){return s},getSpecialElements:function(){return le},isValidChild:function(Ct,hn){var Xt=ae[Ct.toLowerCase()];return!(!Xt||!Xt[hn.toLowerCase()])},isValid:function(Ct,hn){var Xt,pn,rr=Gt(Ct);if(rr){if(!hn||rr.attributes[hn])return!0;if(Xt=rr.attributePatterns){for(pn=Xt.length;pn--;)if(Xt[pn].pattern.test(Ct))return!0}}return!1},getCustomElements:function(){return Z},addValidElements:ge,setValidElements:He,addCustomElements:Mt,addValidChildren:nt}}var he=function(e,n,o,i){var s=function(h){return 1<(h=parseInt(h,10).toString(16)).length?h:"0"+h};return"#"+s(n)+s(o)+s(i)};function We(e,n){var o,i,s,h,w=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,C=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,k=/\s*([^:]+):\s*([^;]+);?/g,N=/\s+$/,O={},M="\uFEFF";for(e=e||{},n&&(s=n.getValidStyles(),h=n.getInvalidStyles()),i=(`\\" \\' \\; \\: ; : `+M).split(" "),o=0;o<i.length;o++)O[i[o]]=M+o,O[M+o]=i[o];return{toHex:function(F){return F.replace(w,he)},parse:function(F){var te,Y,ae,q,Z,le,xe,Ne,ge={},He=e.url_converter,Mt=e.url_converter_scope||this,nt=function(fn,wn,vr){var Vn,dn,In,Tr;if((Vn=ge[fn+"-top"+wn])&&(dn=ge[fn+"-right"+wn])&&(In=ge[fn+"-bottom"+wn])&&(Tr=ge[fn+"-left"+wn])){var Ir=[Vn,dn,In,Tr];for(o=Ir.length-1;o--&&Ir[o]===Ir[o+1];);-1<o&&vr||(ge[fn+wn]=o===-1?Ir[0]:Ir.join(" "),delete ge[fn+"-top"+wn],delete ge[fn+"-right"+wn],delete ge[fn+"-bottom"+wn],delete ge[fn+"-left"+wn])}},Gt=function(fn){var wn,vr=ge[fn];if(vr){for(wn=(vr=vr.split(" ")).length;wn--;)if(vr[wn]!==vr[0])return!1;return ge[fn]=vr[0],!0}},Ct=function(fn){return q=!0,O[fn]},hn=function(fn,wn){return q&&(fn=fn.replace(/\uFEFF[0-9]/g,function(vr){return O[vr]})),wn||(fn=fn.replace(/\\([\'\";:])/g,"$1")),fn},Xt=function(fn){return String.fromCharCode(parseInt(fn.slice(1),16))},pn=function(fn){return fn.replace(/\\[0-9a-f]+/gi,Xt)},rr=function(fn,wn,vr,Vn,dn,In){if(dn=dn||In)return"'"+(dn=hn(dn)).replace(/\'/g,"\\'")+"'";if(wn=hn(wn||vr||Vn),!e.allow_script_urls){var Tr=wn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(Tr)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(Tr))return""}return He&&(wn=He.call(Mt,wn,"style")),"url('"+wn.replace(/\'/g,"\\'")+"')"};if(F){for(F=(F=F.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,Ct).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(fn){return fn.replace(/[;:]/g,Ct)});te=k.exec(F);)if(k.lastIndex=te.index+te[0].length,Y=te[1].replace(N,"").toLowerCase(),ae=te[2].replace(N,""),Y&&ae){if(Y=pn(Y),ae=pn(ae),Y.indexOf(M)!==-1||Y.indexOf('"')!==-1||!e.allow_script_urls&&(Y==="behavior"||/expression\s*\(|\/\*|\*\//.test(ae)))continue;Y==="font-weight"&&ae==="700"?ae="bold":Y!=="color"&&Y!=="background-color"||(ae=ae.toLowerCase()),ae=(ae=ae.replace(w,he)).replace(C,rr),ge[Y]=q?hn(ae,!0):ae}nt("border","",!0),nt("border","-width"),nt("border","-color"),nt("border","-style"),nt("padding",""),nt("margin",""),Z="border",xe="border-style",Ne="border-color",Gt(le="border-width")&&Gt(xe)&&Gt(Ne)&&(ge[Z]=ge[le]+" "+ge[xe]+" "+ge[Ne],delete ge[le],delete ge[xe],delete ge[Ne]),ge.border==="medium none"&&delete ge.border,ge["border-image"]==="none"&&delete ge["border-image"]}return ge},serialize:function(F,te){var Y,ae,q,Z,le,xe="",Ne=function(ge){var He,Mt,nt,Gt;if(He=s[ge])for(Mt=0,nt=He.length;Mt<nt;Mt++)ge=He[Mt],(Gt=F[ge])&&(xe+=(0<xe.length?" ":"")+ge+": "+Gt+";")};if(te&&s)Ne("*"),Ne(te);else for(Y in F)!(ae=F[Y])||h&&(q=Y,Z=te,le=void 0,(le=h["*"])&&le[q]||(le=h[Z])&&le[q])||(xe+=(0<xe.length?" ":"")+Y+": "+ae+";");return xe}}}var lt,rt=st.each,ht=st.grep,Lt=Dn.ie,on=/^([a-z0-9],?)+$/i,rn=/^[ \t\r\n]*$/,zr=function(e,n,o){var i={},s=n.keep_values,h={set:function(w,C,k){n.url_converter&&(C=n.url_converter.call(n.url_converter_scope||o(),C,k,w[0])),w.attr("data-mce-"+k,C).attr(k,C)},get:function(w,C){return w.attr("data-mce-"+C)||w.attr(C)}};return i={style:{set:function(w,C){C===null||typeof C!="object"?(s&&w.attr("data-mce-style",C),w.attr("style",C)):w.css(C)},get:function(w){var C=w.attr("data-mce-style")||w.attr("style");return C=e.serialize(e.parse(C),w[0].nodeName)}}},s&&(i.href=i.src=h),i},jr=function(e,n){var o=n.attr("style"),i=e.serialize(e.parse(o),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Po=function(e,n){var o,i,s=0;if(e)for(o=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)i=e.nodeType,(!n||i!==3||i!==o&&e.nodeValue.length)&&(s++,o=i);return s};function Do(e,n){var o,i=this;n===void 0&&(n={});var s={},h=t.window,w={},C=0,k=function(Be,St){St===void 0&&(St={});var un,En=0,Pr={};un=St.maxLoadTime||5e3;var No=function(Wi){Be.getElementsByTagName("head")[0].appendChild(Wi)},$o=function(Wi,Td,mv){var mu,Sc,xp,Ou,Im=function(){for(var Kl=Ou.passed,df=Kl.length;df--;)Kl[df]();Ou.status=2,Ou.passed=[],Ou.failed=[]},Gf=function(){for(var Kl=Ou.failed,df=Kl.length;df--;)Kl[df]();Ou.status=3,Ou.passed=[],Ou.failed=[]},SS=function(Kl,df){Kl()||(new Date().getTime()-xp<un?Qr.setTimeout(df):Gf())},kS=function(){SS(function(){for(var Kl,df,ZN=Be.styleSheets,eR=ZN.length;eR--;)if((df=(Kl=ZN[eR]).ownerNode?Kl.ownerNode:Kl.owningElement)&&df.id===mu.id)return Im(),!0},kS)},JN=function(){SS(function(){try{var Kl=Sc.sheet.cssRules;return Im(),!!Kl}catch{}},JN)};if(Wi=st._addCacheSuffix(Wi),Pr[Wi]?Ou=Pr[Wi]:(Ou={passed:[],failed:[]},Pr[Wi]=Ou),Td&&Ou.passed.push(Td),mv&&Ou.failed.push(mv),Ou.status!==1)if(Ou.status!==2)if(Ou.status!==3){if(Ou.status=1,(mu=Be.createElement("link")).rel="stylesheet",mu.type="text/css",mu.id="u"+En++,mu.async=!1,mu.defer=!1,xp=new Date().getTime(),St.contentCssCors&&(mu.crossOrigin="anonymous"),"onload"in mu&&!((QN=t.navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(QN[1],10)<536))mu.onload=kS,mu.onerror=Gf;else{if(0<t.navigator.userAgent.indexOf("Firefox"))return(Sc=Be.createElement("style")).textContent='@import "'+Wi+'"',JN(),void No(Sc);kS()}var QN;No(mu),mu.href=Wi}else Gf();else Im()},gi=function(Wi){return ss.nu(function(Td){$o(Wi,a(Td,l(Rs.value(Wi))),a(Td,l(Rs.error(Wi))))})},pa=function(Wi){return Wi.fold(g,g)};return{load:$o,loadAll:function(Wi,Td,mv){fl(er(Wi,gi)).get(function(mu){var Sc=Te(mu,function(xp){return xp.isValue()});0<Sc.fail.length?mv(Sc.fail.map(pa)):Td(Sc.pass.map(pa))})}}}(e,{contentCssCors:n.contentCssCors}),N=[],O=n.schema?n.schema:ce({}),M=We({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),F=n.ownEvents?new xt(n.proxy):xt.Event,te=O.getBlockElements(),Y=br.overrideDefaults(function(){return{context:e,element:Fr.getRoot()}}),ae=function(Be){if(Be&&e&&typeof Be=="string"){var St=e.getElementById(Be);return St&&St.id!==Be?e.getElementsByName(Be)[1]:St}return Be},q=function(Be){return typeof Be=="string"&&(Be=ae(Be)),Y(Be)},Z=function(Be,St,un){var En,Pr,No=q(Be);return No.length&&(Pr=(En=o[St])&&En.get?En.get(No,St):No.attr(St)),Pr===void 0&&(Pr=un||""),Pr},le=function(Be){var St=ae(Be);return St?St.attributes:[]},xe=function(Be,St,un){var En,Pr;un===""&&(un=null);var No=q(Be);En=No.attr(St),No.length&&((Pr=o[St])&&Pr.set?Pr.set(No,un,St):No.attr(St,un),En!==un&&n.onSetAttrib&&n.onSetAttrib({attrElm:No,attrName:St,attrValue:un}))},Ne=function(){return n.root_element||e.body},ge=function(Be,St){return uc.getPos(e.body,ae(Be),St)},He=function(Be,St,un){var En=q(Be);return un?En.css(St):((St=St.replace(/-(\D)/g,function(Pr,No){return No.toUpperCase()}))==="float"&&(St=Dn.ie&&Dn.ie<12?"styleFloat":"cssFloat"),En[0]&&En[0].style?En[0].style[St]:void 0)},Mt=function(Be){var St,un;return Be=ae(Be),St=He(Be,"width"),un=He(Be,"height"),St.indexOf("px")===-1&&(St=0),un.indexOf("px")===-1&&(un=0),{w:parseInt(St,10)||Be.offsetWidth||Be.clientWidth,h:parseInt(un,10)||Be.offsetHeight||Be.clientHeight}},nt=function(Be,St){var un;if(!Be)return!1;if(!Array.isArray(Be)){if(St==="*")return Be.nodeType===1;if(on.test(St)){var En=St.toLowerCase().split(/,/),Pr=Be.nodeName.toLowerCase();for(un=En.length-1;0<=un;un--)if(En[un]===Pr)return!0;return!1}if(Be.nodeType&&Be.nodeType!==1)return!1}var No=Array.isArray(Be)?Be:[Be];return 0<fo(St,No[0].ownerDocument||No[0],null,No).length},Gt=function(Be,St,un,En){var Pr,No=[],$o=ae(Be);for(En=En===void 0,un=un||(Ne().nodeName!=="BODY"?Ne().parentNode:null),st.is(St,"string")&&(St=(Pr=St)==="*"?function(gi){return gi.nodeType===1}:function(gi){return nt(gi,Pr)});$o&&$o!==un&&$o.nodeType&&$o.nodeType!==9;){if(!St||typeof St=="function"&&St($o)){if(!En)return[$o];No.push($o)}$o=$o.parentNode}return En?No:null},Ct=function(Be,St,un){var En=St;if(Be){for(typeof St=="string"&&(En=function(Pr){return nt(Pr,St)}),Be=Be[un];Be;Be=Be[un])if(typeof En=="function"&&En(Be))return Be}return null},hn=function(Be,St,un){var En,Pr=typeof Be=="string"?ae(Be):Be;if(!Pr)return!1;if(st.isArray(Pr)&&(Pr.length||Pr.length===0))return En=[],rt(Pr,function($o,gi){$o&&(typeof $o=="string"&&($o=ae($o)),En.push(St.call(un,$o,gi)))}),En;var No=un||i;return St.call(No,Pr)},Xt=function(Be,St){q(Be).each(function(un,En){rt(St,function(Pr,No){xe(En,No,Pr)})})},pn=function(Be,St){var un=q(Be);Lt?un.each(function(En,Pr){if(Pr.canHaveHTML!==!1){for(;Pr.firstChild;)Pr.removeChild(Pr.firstChild);try{Pr.innerHTML="<br>"+St,Pr.removeChild(Pr.firstChild)}catch{br("<div></div>").html("<br>"+St).contents().slice(1).appendTo(Pr)}return St}}):un.html(St)},rr=function(Be,St,un,En,Pr){return hn(Be,function(No){var $o=typeof St=="string"?e.createElement(St):St;return Xt($o,un),En&&(typeof En!="string"&&En.nodeType?$o.appendChild(En):typeof En=="string"&&pn($o,En)),Pr?$o:No.appendChild($o)})},fn=function(Be,St,un){return rr(e.createElement(Be),Be,St,un,!0)},wn=Na.decode,vr=Na.encodeAllRaw,Vn=function(Be,St){var un=q(Be);return St?un.each(function(){for(var En;En=this.firstChild;)En.nodeType===3&&En.data.length===0?this.removeChild(En):this.parentNode.insertBefore(En,this)}).remove():un.remove(),1<un.length?un.toArray():un[0]},dn=function(Be,St,un){q(Be).toggleClass(St,un).each(function(){this.className===""&&br(this).attr("class",null)})},In=function(Be,St,un){return hn(St,function(En){return st.is(En,"array")&&(Be=Be.cloneNode(!0)),un&&rt(ht(En.childNodes),function(Pr){Be.appendChild(Pr)}),En.parentNode.replaceChild(Be,En)})},Tr=function(){return e.createRange()},Ir=function(Be,St,un,En){if(st.isArray(Be)){for(var Pr=Be.length;Pr--;)Be[Pr]=Ir(Be[Pr],St,un,En);return Be}return!n.collect||Be!==e&&Be!==h||N.push([Be,St,un,En]),F.bind(Be,St,un,En||Fr)},Rr=function(Be,St,un){var En;if(st.isArray(Be)){for(En=Be.length;En--;)Be[En]=Rr(Be[En],St,un);return Be}if(N&&(Be===e||Be===h))for(En=N.length;En--;){var Pr=N[En];Be!==Pr[0]||St&&St!==Pr[1]||un&&un!==Pr[2]||F.unbind(Pr[0],Pr[1],Pr[2])}return F.unbind(Be,St,un)},Gn=function(Be){if(Be&&je.isElement(Be)){var St=Be.getAttribute("data-mce-contenteditable");return St&&St!=="inherit"?St:Be.contentEditable!=="inherit"?Be.contentEditable:null}return null},Fr={doc:e,settings:n,win:h,files:w,stdMode:!0,boxModel:!0,styleSheetLoader:k,boundEvents:N,styles:M,schema:O,events:F,isBlock:function(Be){if(typeof Be=="string")return!!te[Be];if(Be){var St=Be.nodeType;if(St)return!(St!==1||!te[Be.nodeName])}return!1},$:Y,$$:q,root:null,clone:function(Be,St){if(!Lt||Be.nodeType!==1||St)return Be.cloneNode(St);if(!St){var un=e.createElement(Be.nodeName);return rt(le(Be),function(En){xe(un,En.nodeName,Z(Be,En.nodeName))}),un}return null},getRoot:Ne,getViewPort:function(Be){var St=Be||h,un=St.document.documentElement;return{x:St.pageXOffset||un.scrollLeft,y:St.pageYOffset||un.scrollTop,w:St.innerWidth||un.clientWidth,h:St.innerHeight||un.clientHeight}},getRect:function(Be){var St,un;return Be=ae(Be),St=ge(Be),un=Mt(Be),{x:St.x,y:St.y,w:un.w,h:un.h}},getSize:Mt,getParent:function(Be,St,un){var En=Gt(Be,St,un,!1);return En&&0<En.length?En[0]:null},getParents:Gt,get:ae,getNext:function(Be,St){return Ct(Be,St,"nextSibling")},getPrev:function(Be,St){return Ct(Be,St,"previousSibling")},select:function(Be,St){return fo(Be,ae(St)||n.root_element||e,[])},is:nt,add:rr,create:fn,createHTML:function(Be,St,un){var En,Pr="";for(En in Pr+="<"+Be,St)St.hasOwnProperty(En)&&St[En]!==null&&typeof St[En]!="undefined"&&(Pr+=" "+En+'="'+vr(St[En])+'"');return un!==void 0?Pr+">"+un+"</"+Be+">":Pr+" />"},createFragment:function(Be){var St,un=e.createElement("div"),En=e.createDocumentFragment();for(En.appendChild(un),Be&&(un.innerHTML=Be);St=un.firstChild;)En.appendChild(St);return En.removeChild(un),En},remove:Vn,setStyle:function(Be,St,un){var En=q(Be).css(St,un);n.update_styles&&jr(M,En)},getStyle:He,setStyles:function(Be,St){var un=q(Be).css(St);n.update_styles&&jr(M,un)},removeAllAttribs:function(Be){return hn(Be,function(St){var un,En=St.attributes;for(un=En.length-1;0<=un;un--)St.removeAttributeNode(En.item(un))})},setAttrib:xe,setAttribs:Xt,getAttrib:Z,getPos:ge,parseStyle:function(Be){return M.parse(Be)},serializeStyle:function(Be,St){return M.serialize(Be,St)},addStyle:function(Be){var St,un;if(Fr!==Do.DOM&&e===t.document){if(s[Be])return;s[Be]=!0}(un=e.getElementById("mceDefaultStyles"))||((un=e.createElement("style")).id="mceDefaultStyles",un.type="text/css",(St=e.getElementsByTagName("head")[0]).firstChild?St.insertBefore(un,St.firstChild):St.appendChild(un)),un.styleSheet?un.styleSheet.cssText+=Be:un.appendChild(e.createTextNode(Be))},loadCSS:function(Be){var St;Fr===Do.DOM||e!==t.document?(Be||(Be=""),St=e.getElementsByTagName("head")[0],rt(Be.split(","),function(un){var En;un=st._addCacheSuffix(un),w[un]||(w[un]=!0,En=fn("link",{rel:"stylesheet",href:un}),St.appendChild(En))})):Do.DOM.loadCSS(Be)},addClass:function(Be,St){q(Be).addClass(St)},removeClass:function(Be,St){dn(Be,St,!1)},hasClass:function(Be,St){return q(Be).hasClass(St)},toggleClass:dn,show:function(Be){q(Be).show()},hide:function(Be){q(Be).hide()},isHidden:function(Be){return q(Be).css("display")==="none"},uniqueId:function(Be){return(Be||"mce_")+C++},setHTML:pn,getOuterHTML:function(Be){var St=typeof Be=="string"?ae(Be):Be;return je.isElement(St)?St.outerHTML:br("<div></div>").append(br(St).clone()).html()},setOuterHTML:function(Be,St){q(Be).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=St)}catch{}Vn(br(this).html(St),!0)})},decode:wn,encode:vr,insertAfter:function(Be,St){var un=ae(St);return hn(Be,function(En){var Pr,No;return Pr=un.parentNode,(No=un.nextSibling)?Pr.insertBefore(En,No):Pr.appendChild(En),En})},replace:In,rename:function(Be,St){var un;return Be.nodeName!==St.toUpperCase()&&(un=fn(St),rt(le(Be),function(En){xe(un,En.nodeName,Z(Be,En.nodeName))}),In(un,Be,!0)),un||Be},findCommonAncestor:function(Be,St){for(var un,En=Be;En;){for(un=St;un&&En!==un;)un=un.parentNode;if(En===un)break;En=En.parentNode}return!En&&Be.ownerDocument?Be.ownerDocument.documentElement:En},toHex:function(Be){return M.toHex(st.trim(Be))},run:hn,getAttribs:le,isEmpty:function(Be,St){var un,En,Pr,No,$o,gi,pa=0;if(Be=Be.firstChild){$o=new Ri(Be,Be.parentNode),St=St||(O?O.getNonEmptyElements():null),No=O?O.getWhiteSpaceElements():{};do{if(Pr=Be.nodeType,je.isElement(Be)){var Wi=Be.getAttribute("data-mce-bogus");if(Wi){Be=$o.next(Wi==="all");continue}if(gi=Be.nodeName.toLowerCase(),St&&St[gi]){if(gi==="br"){pa++,Be=$o.next();continue}return!1}for(un=(En=le(Be)).length;un--;)if((gi=En[un].nodeName)==="name"||gi==="data-mce-bookmark")return!1}if(Pr===8||Pr===3&&!rn.test(Be.nodeValue)||Pr===3&&Be.parentNode&&No[Be.parentNode.nodeName]&&rn.test(Be.nodeValue))return!1;Be=$o.next()}while(Be)}return pa<=1},createRng:Tr,nodeIndex:Po,split:function(Be,St,un){var En,Pr,No,$o=Tr();if(Be&&St)return $o.setStart(Be.parentNode,Po(Be)),$o.setEnd(St.parentNode,Po(St)),En=$o.extractContents(),($o=Tr()).setStart(St.parentNode,Po(St)+1),$o.setEnd(Be.parentNode,Po(Be)+1),Pr=$o.extractContents(),(No=Be.parentNode).insertBefore(li.trimNode(Fr,En),Be),un?No.insertBefore(un,Be):No.insertBefore(St,Be),No.insertBefore(li.trimNode(Fr,Pr),Be),Vn(Be),un||St},bind:Ir,unbind:Rr,fire:function(Be,St,un){return F.fire(Be,St,un)},getContentEditable:Gn,getContentEditableParent:function(Be){for(var St=Ne(),un=null;Be&&Be!==St&&(un=Gn(Be))===null;Be=Be.parentNode);return un},destroy:function(){if(N)for(var Be=N.length;Be--;){var St=N[Be];F.unbind(St[0],St[1],St[2])}fo.setDocument&&fo.setDocument()},isChildOf:function(Be,St){for(;Be;){if(St===Be)return!0;Be=Be.parentNode}return!1},dumpRng:function(Be){return"startContainer: "+Be.startContainer.nodeName+", startOffset: "+Be.startOffset+", endContainer: "+Be.endContainer.nodeName+", endOffset: "+Be.endOffset}};return o=zr(M,n,function(){return Fr}),Fr}(lt=Do||(Do={})).DOM=lt(t.document),lt.nodeIndex=Po;var vn=Do,Dr=vn.DOM,ho=st.each,ri=st.grep,xi=function(e){return typeof e=="function"},Ci=function(){var e={},n=[],o={},i=[],s=0;this.isDone=function(h){return e[h]===2},this.markDone=function(h){e[h]=2},this.add=this.load=function(h,w,C,k){e[h]===void 0&&(n.push(h),e[h]=0),w&&(o[h]||(o[h]=[]),o[h].push({success:w,failure:k,scope:C||this}))},this.remove=function(h){delete e[h],delete o[h]},this.loadQueue=function(h,w,C){this.loadScripts(n,h,w,C)},this.loadScripts=function(h,w,C,k){var N,O=[],M=function(F,te){ho(o[te],function(Y){xi(Y[F])&&Y[F].call(Y.scope)}),o[te]=void 0};i.push({success:w,failure:k,scope:C||this}),(N=function(){var F=ri(h);if(h.length=0,ho(F,function(Y){var ae,q,Z,le,xe,Ne;e[Y]!==2?e[Y]!==3?e[Y]!==1&&(e[Y]=1,s++,ae=Y,q=function(){e[Y]=2,s--,M("success",Y),N()},Z=function(){e[Y]=3,s--,O.push(Y),M("failure",Y),N()},xe=(Ne=Dr).uniqueId(),(le=t.document.createElement("script")).id=xe,le.type="text/javascript",le.src=st._addCacheSuffix(ae),le.onload=function(){Ne.remove(xe),le&&(le.onreadystatechange=le.onload=le=null),q()},le.onerror=function(){xi(Z)?Z():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+ae)},(t.document.getElementsByTagName("head")[0]||t.document.body).appendChild(le)):M("failure",Y):M("success",Y)}),!s){var te=i.slice(0);i.length=0,ho(te,function(Y){O.length===0?xi(Y.success)&&Y.success.call(Y.scope):xi(Y.failure)&&Y.failure.call(Y.scope,O)})}})()}};Ci.ScriptLoader=new Ci;var Fu,za=st.each;function pi(){var e=this,n=[],o={},i={},s=[],h=function(N){var O;return i[N]&&(O=i[N].dependencies),O||[]},w=function(N,O){return typeof O=="object"?O:typeof N=="string"?{prefix:"",resource:O,suffix:""}:{prefix:N.prefix,resource:O,suffix:N.suffix}},C=function(N,O,M,F){var te=h(N);za(te,function(Y){var ae=w(O,Y);k(ae.resource,ae,void 0,void 0)}),M&&(F?M.call(F):M.call(Ci))},k=function(N,O,M,F,te){if(!o[N]){var Y=typeof O=="string"?O:O.prefix+O.resource+O.suffix;Y.indexOf("/")!==0&&Y.indexOf("://")===-1&&(Y=pi.baseURL+"/"+Y),o[N]=Y.substring(0,Y.lastIndexOf("/")),i[N]?C(N,O,M,F):Ci.ScriptLoader.add(Y,function(){return C(N,O,M,F)},F,te)}};return{items:n,urls:o,lookup:i,_listeners:s,get:function(N){return i[N]?i[N].instance:void 0},dependencies:h,requireLangPack:function(N,O){var M=pi.language;if(M&&pi.languageLoad!==!1){if(O){if((O=","+O+",").indexOf(","+M.substr(0,2)+",")!==-1)M=M.substr(0,2);else if(O.indexOf(","+M+",")===-1)return}Ci.ScriptLoader.add(o[N]+"/langs/"+M+".js")}},add:function(N,O,M){n.push(O),i[N]={instance:O,dependencies:M};var F=Te(s,function(te){return te.name===N});return s=F.fail,za(F.pass,function(te){te.callback()}),O},remove:function(N){delete o[N],delete i[N]},createUrl:w,addComponents:function(N,O){var M=e.urls[N];za(O,function(F){Ci.ScriptLoader.add(M+"/"+F)})},load:k,waitFor:function(N,O){i.hasOwnProperty(N)?O():s.push({name:N,callback:O})}}}(Fu=pi||(pi={})).PluginManager=Fu(),Fu.ThemeManager=Fu();var ea=function(e,n){Ts(e).each(function(o){o.dom().insertBefore(n.dom(),e.dom())})},ja=function(e,n){jo(e).fold(function(){Ts(e).each(function(o){Yi(o,n)})},function(o){ea(o,n)})},Ja=function(e,n){_s(e).fold(function(){Yi(e,n)},function(o){e.dom().insertBefore(n.dom(),o.dom())})},Yi=function(e,n){e.dom().appendChild(n.dom())},Hu=function(e,n){Qt(n,function(o){Yi(e,o)})},ko=function(e){e.dom().textContent="",Qt(Xa(e),function(n){oi(n)})},oi=function(e){var n=e.dom();n.parentNode!==null&&n.parentNode.removeChild(n)},Su=function(e){var n,o=Xa(e);0<o.length&&(n=e,Qt(o,function(i){ea(n,i)})),oi(e)},sc=function(e,n){var o=null;return{cancel:function(){o!==null&&(t.clearTimeout(o),o=null)},throttle:function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];o===null&&(o=t.setTimeout(function(){e.apply(null,i),o=null},n))}}},aa=function(e){var n=e,o=function(){return n};return{get:o,set:function(i){n=i},clone:function(){return aa(o())}}},Fo=function(e,n){var o=Pa(e,n);return o===void 0||o===""?[]:o.split(" ")},ls=function(e){return e.dom().classList!==void 0},lc=function(e,n){return s=n,h=Fo(o=e,i="class").concat([s]),Ju(o,i,h.join(" ")),!0;var o,i,s,h},cc=function(e,n){return s=n,0<(h=qe(Fo(o=e,i="class"),function(w){return w!==s})).length?Ju(o,i,h.join(" ")):ks(o,i),!1;var o,i,s,h},fc=function(e,n){ls(e)?e.dom().classList.add(n):lc(e,n)},jd=function(e){(ls(e)?e.dom().classList:Fo(e,"class")).length===0&&ks(e,"class")},Wd=function(e,n){return ls(e)&&e.dom().classList.contains(n)},Ud=function(e,n){var o=[];return Qt(Xa(e),function(i){n(i)&&(o=o.concat([i])),o=o.concat(Ud(i,n))}),o},cs=function(e,n){return o=n,s=(i=e)===void 0?t.document:i.dom(),au(s)?[]:er(s.querySelectorAll(o),$t.fromDom);var o,i,s};function uh(e,n,o,i,s){return e(o,i)?J.some(o):Vt(s)&&s(o)?J.none():n(o,i,s)}var zu,Tf=function(e,n,o){for(var i=e.dom(),s=Vt(o)?o:l(!1);i.parentNode;){i=i.parentNode;var h=$t.fromDom(i);if(n(h))return J.some(h);if(s(h))break}return J.none()},ka=function(e,n,o){return uh(function(i,s){return s(i)},Tf,e,n,o)},Fc=function(e,n,o){return Tf(e,function(i){return Da(i,n)},o)},Ks=function(e,n){return o=n,s=(i=e)===void 0?t.document:i.dom(),au(s)?J.none():J.from(s.querySelector(o)).map($t.fromDom);var o,i,s},$d=function(e,n,o){return uh(Da,Fc,e,n,o)},sh=l("mce-annotation"),rd=l("data-mce-annotation"),dc=l("data-mce-annotation-uid"),dl=function(e,n){var o=e.selection.getRng(),i=$t.fromDom(o.startContainer),s=$t.fromDom(e.getBody()),h=n.fold(function(){return"."+sh()},function(N){return"["+rd()+'="'+N+'"]'}),w=fa(i,o.startOffset).getOr(i),C=$d(w,h,function(N){return Xr(N,s)}),k=function(N,O){return M=O,(F=N.dom())&&F.hasAttribute&&F.hasAttribute(M)?J.some(Pa(N,O)):J.none();var M,F};return C.bind(function(N){return k(N,""+dc()).bind(function(O){return k(N,""+rd()).map(function(M){var F=Gv(e,O);return{uid:O,name:M,elements:F}})})})},Gv=function(e,n){var o=$t.fromDom(e.getBody());return cs(o,"["+dc()+'="'+n+'"]')},jp=function(e,n){var o,i,s,h=aa({}),w=function(N,O){C(N,function(M){return O(M),M})},C=function(N,O){var M=h.get(),F=O(M.hasOwnProperty(N)?M[N]:{listeners:[],previous:aa(J.none())});M[N]=F,h.set(M)},k=(o=function(){var N,O,M,F=h.get(),te=(N=Ss(F),(M=yn.call(N,0)).sort(O),M);Qt(te,function(Y){C(Y,function(ae){var q=ae.previous.get();return dl(e,J.some(Y)).fold(function(){var Z;q.isSome()&&(w(Z=Y,function(le){Qt(le.listeners,function(xe){return xe(!1,Z)})}),ae.previous.set(J.none()))},function(Z){var le,xe,Ne,ge=Z.uid,He=Z.name,Mt=Z.elements;q.is(ge)||(xe=ge,Ne=Mt,w(le=He,function(nt){Qt(nt.listeners,function(Gt){return Gt(!0,le,{uid:xe,nodes:er(Ne,function(Ct){return Ct.dom()})})})}),ae.previous.set(J.some(ge)))}),{previous:ae.previous,listeners:ae.listeners}})})},i=30,s=null,{cancel:function(){s!==null&&(t.clearTimeout(s),s=null)},throttle:function(){for(var N=[],O=0;O<arguments.length;O++)N[O]=arguments[O];s!==null&&t.clearTimeout(s),s=t.setTimeout(function(){o.apply(null,N),s=null},i)}});return e.on("remove",function(){k.cancel()}),e.on("nodeChange",function(){k.throttle()}),{addListener:function(N,O){C(N,function(M){return{previous:M.previous,listeners:M.listeners.concat([O])}})}}},Vd=function(e,n){e.on("init",function(){e.serializer.addNodeFilter("span",function(o){Qt(o,function(i){var s;(s=i,J.from(s.attributes.map[rd()]).bind(n.lookup)).each(function(h){h.persistent===!1&&i.unwrap()})})})})},mc=function(){return(mc=Object.assign||function(e){for(var n,o=1,i=arguments.length;o<i;o++)for(var s in n=arguments[o])Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s]);return e}).apply(this,arguments)},Jv=0,su=function(e,n){return $t.fromDom(e.dom().cloneNode(n))},Dl=function(e){return su(e,!1)},qd=function(e){return su(e,!0)},Wp=function(e,n){var o,i,s=ia(e).dom(),h=$t.fromDom(s.createDocumentFragment()),w=(o=n,(i=(s||t.document).createElement("div")).innerHTML=o,Xa($t.fromDom(i)));Hu(h,w),ko(e),Yi(e,h)},Yd="\uFEFF",Kd=function(e){return e===Yd},Qa=Yd,ml=function(e){return e.replace(new RegExp(Yd,"g"),"")},Up=je.isElement,Al=je.isText,Ml=function(e){return Al(e)&&(e=e.parentNode),Up(e)&&e.hasAttribute("data-mce-caret")},Il=function(e){return Al(e)&&Kd(e.data)},fs=function(e){return Ml(e)||Il(e)},$p=function(e){return e.firstChild!==e.lastChild||!je.isBr(e.firstChild)},od=function(e){var n=e.container();return!(!e||!je.isText(n))&&(n.data.charAt(e.offset())===Qa||e.isAtStart()&&Il(n.previousSibling))},Xs=function(e){var n=e.container();return!(!e||!je.isText(n))&&(n.data.charAt(e.offset()-1)===Qa||e.isAtEnd()&&Il(n.nextSibling))},_f=function(e,n,o){var i,s,h;return(i=n.ownerDocument.createElement(e)).setAttribute("data-mce-caret",o?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((h=t.document.createElement("br")).setAttribute("data-mce-bogus","1"),h)),s=n.parentNode,o?s.insertBefore(i,n):n.nextSibling?s.insertBefore(i,n.nextSibling):s.appendChild(i),i},Hc=function(e){return Al(e)&&e.data[0]===Qa},Za=function(e){return Al(e)&&e.data[e.data.length-1]===Qa},Nf=function(e){return e&&e.hasAttribute("data-mce-caret")?(n=e.getElementsByTagName("br"),o=n[n.length-1],je.isBogus(o)&&o.parentNode.removeChild(o),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null;var n,o},Xd=je.isContentEditableTrue,id=je.isContentEditableFalse,Bl=je.isBr,Os=je.isText,hc=je.matchNodeNames("script style textarea"),ad=je.matchNodeNames("img input textarea hr iframe video audio object"),Vp=je.matchNodeNames("table"),qp=fs,Ma=function(e){return!qp(e)&&(Os(e)?!hc(e.parentNode):ad(e)||Bl(e)||Vp(e)||ud(e))},ud=function(e){return n=e,(je.isElement(n)&&n.getAttribute("unselectable")==="true")===!1&&id(e);var n},Rf=function(e,n){return Ma(e)&&function(o,i){for(o=o.parentNode;o&&o!==i;o=o.parentNode){if(ud(o))return!1;if(Xd(o))return!0}return!0}(e,n)},Of=Math.round,Gs=function(e){return e?{left:Of(e.left),top:Of(e.top),bottom:Of(e.bottom),right:Of(e.right),width:Of(e.width),height:Of(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},lh=function(e,n){return e=Gs(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},ch=function(e,n,o){return 0<=e&&e<=Math.min(n.height,o.height)/2},zc=function(e,n){var o=Math.min(n.height/2,e.height/2);return e.bottom-o<n.top||!(e.top>n.bottom)&&ch(n.top-e.bottom,e,n)},pc=function(e,n){return e.top>n.bottom||!(e.bottom<n.top)&&ch(n.bottom-e.top,e,n)},Gd=function(e,n,o){return n>=e.left&&n<=e.right&&o>=e.top&&o<=e.bottom},sd=function(e){var n=e.startContainer,o=e.startOffset;return n.hasChildNodes()&&e.endOffset===o+1?n.childNodes[o]:null},gc=function(e,n){return e.nodeType===1&&e.hasChildNodes()&&(n>=e.childNodes.length&&(n=e.childNodes.length-1),e=e.childNodes[n]),e},ld=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),Jd=function(e){return typeof e=="string"&&768<=e.charCodeAt(0)&&ld.test(e)},ku=function(e,n,o){return e.isSome()&&n.isSome()?J.some(o(e.getOrDie(),n.getOrDie())):J.none()},Qd=[].slice,fh=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Qd.call(arguments);return function(i){for(var s=0;s<o.length;s++)if(!o[s](i))return!1;return!0}},Yp=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var o=Qd.call(arguments);return function(i){for(var s=0;s<o.length;s++)if(o[s](i))return!0;return!1}},Pf=je.isElement,dh=Ma,mh=je.matchStyleValues("display","block table"),Qv=je.matchStyleValues("float","left right"),Ki=fh(Pf,dh,Ie(Qv)),hh=Ie(je.matchStyleValues("white-space","pre pre-line pre-wrap")),cd=je.isText,fd=je.isBr,Kp=vn.nodeIndex,dd=gc,jc=function(e){return"createRange"in e?e.createRange():vn.DOM.createRng()},Df=function(e){return e&&/[\r\n\t ]/.test(e)},Ia=function(e){return!!e.setStart&&!!e.setEnd},Zd=function(e){var n,o=e.startContainer,i=e.startOffset;return!!(Df(e.toString())&&hh(o.parentNode)&&je.isText(o)&&(n=o.data,Df(n[i-1])||Df(n[i+1])))},Xp=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Ll=function(e){var n,o,i,s,h,w,C,k;return n=0<(o=e.getClientRects()).length?Gs(o[0]):Gs(e.getBoundingClientRect()),!Ia(e)&&fd(e)&&Xp(n)?(h=(i=e).ownerDocument,w=jc(h),C=h.createTextNode("\xA0"),(k=i.parentNode).insertBefore(C,i),w.setStart(C,0),w.setEnd(C,1),s=Gs(w.getBoundingClientRect()),k.removeChild(C),s):Xp(n)&&Ia(e)?function(N){var O=N.startContainer,M=N.endContainer,F=N.startOffset,te=N.endOffset;if(O===M&&je.isText(M)&&F===0&&te===1){var Y=N.cloneRange();return Y.setEndAfter(M),Ll(Y)}return null}(e):n},Wc=function(e,n){var o=lh(e,n);return o.width=1,o.right=o.left+1,o},ph=function(e){var n,o,i=[],s=function(w){var C,k;w.height!==0&&(0<i.length&&(C=w,k=i[i.length-1],C.left===k.left&&C.top===k.top&&C.bottom===k.bottom&&C.right===k.right)||i.push(w))},h=function(w,C){var k=jc(w.ownerDocument);if(C<w.data.length){if(Jd(w.data[C]))return i;if(Jd(w.data[C-1])&&(k.setStart(w,C),k.setEnd(w,C+1),!Zd(k)))return s(Wc(Ll(k),!1)),i}0<C&&(k.setStart(w,C-1),k.setEnd(w,C),Zd(k)||s(Wc(Ll(k),!1))),C<w.data.length&&(k.setStart(w,C),k.setEnd(w,C+1),Zd(k)||s(Wc(Ll(k),!0)))};if(cd(e.container()))return h(e.container(),e.offset()),i;if(Pf(e.container()))if(e.isAtEnd())o=dd(e.container(),e.offset()),cd(o)&&h(o,o.data.length),Ki(o)&&!fd(o)&&s(Wc(Ll(o),!1));else{if(o=dd(e.container(),e.offset()),cd(o)&&h(o,0),Ki(o)&&e.isAtEnd())return s(Wc(Ll(o),!1)),i;n=dd(e.container(),e.offset()-1),Ki(n)&&!fd(n)&&(mh(n)||mh(o)||!Ki(o))&&s(Wc(Ll(n),!1)),Ki(o)&&s(Wc(Ll(o),!0))}return i};function ta(e,n,o){var i=function(){return o||(o=ph(ta(e,n))),o};return{container:l(e),offset:l(n),toRange:function(){var s;return(s=jc(e.ownerDocument)).setStart(e,n),s.setEnd(e,n),s},getClientRects:i,isVisible:function(){return 0<i().length},isAtStart:function(){return cd(e),n===0},isAtEnd:function(){return cd(e)?n>=e.data.length:n>=e.childNodes.length},isEqual:function(s){return s&&e===s.container()&&n===s.offset()},getNode:function(s){return dd(e,s?n-1:n)}}}(zu=ta||(ta={})).fromRangeStart=function(e){return zu(e.startContainer,e.startOffset)},zu.fromRangeEnd=function(e){return zu(e.endContainer,e.endOffset)},zu.after=function(e){return zu(e.parentNode,Kp(e)+1)},zu.before=function(e){return zu(e.parentNode,Kp(e))},zu.isAbove=function(e,n){return ku(Jn(n.getClientRects()),Jr(e.getClientRects()),zc).getOr(!1)},zu.isBelow=function(e,n){return ku(Jr(n.getClientRects()),Jn(e.getClientRects()),pc).getOr(!1)},zu.isAtStart=function(e){return!!e&&e.isAtStart()},zu.isAtEnd=function(e){return!!e&&e.isAtEnd()},zu.isTextPosition=function(e){return!!e&&je.isText(e.container())},zu.isElementPosition=function(e){return zu.isTextPosition(e)===!1};var Eu,em,Rn=ta,Ps=je.isText,gh=je.isBogus,vh=vn.nodeIndex,yh=function(e){var n=e.parentNode;return gh(n)?yh(n):n},tm=function(e){return e?Mr.reduce(e.childNodes,function(n,o){return gh(o)&&o.nodeName!=="BR"?n=n.concat(tm(o)):n.push(o),n},[]):[]},Ea=function(e){return function(n){return e===n}},Ds=function(e){var n,o,i,s;return(Ps(e)?"text()":e.nodeName.toLowerCase())+"["+(o=tm(yh(n=e)),i=Mr.findIndex(o,Ea(n),n),o=o.slice(0,i+1),s=Mr.reduce(o,function(h,w,C){return Ps(w)&&Ps(o[C-1])&&h++,h},0),o=Mr.filter(o,je.matchNodeNames(n.nodeName)),(i=Mr.findIndex(o,Ea(n),n))-s)+"]"},Js=function(e,n){var o,i,s,h,w,C=[];return o=n.container(),i=n.offset(),Ps(o)?s=function(k,N){for(;(k=k.previousSibling)&&Ps(k);)N+=k.data.length;return N}(o,i):(i>=(h=o.childNodes).length?(s="after",i=h.length-1):s="before",o=h[i]),C.push(Ds(o)),w=function(k,N,O){var M=[];for(N=N.parentNode;!(N===k||O&&O(N));N=N.parentNode)M.push(N);return M}(e,o),w=Mr.filter(w,Ie(je.isBogus)),(C=C.concat(Mr.map(w,function(k){return Ds(k)}))).reverse().join("/")+","+s},ds=function(e,n){var o,i,s;return n?(n=(o=n.split(","))[0].split("/"),s=1<o.length?o[1]:"before",(i=Mr.reduce(n,function(h,w){return(w=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(w))?(w[1]==="text()"&&(w[1]="#text"),C=h,k=w[1],N=parseInt(w[2],10),O=tm(C),O=Mr.filter(O,function(M,F){return!Ps(M)||!Ps(O[F-1])}),(O=Mr.filter(O,je.matchNodeNames(k)))[N]):null;var C,k,N,O},e))?Ps(i)?function(h,w){for(var C,k=h,N=0;Ps(k);){if(C=k.data.length,N<=w&&w<=N+C){h=k,w-=N;break}if(!Ps(k.nextSibling)){h=k,w=C;break}N+=C,k=k.nextSibling}return Ps(h)&&w>h.data.length&&(w=h.data.length),Rn(h,w)}(i,parseInt(s,10)):(s=s==="after"?vh(i)+1:vh(i),Rn(i.parentNode,s)):null):null},As=function(e,n){je.isText(n)&&n.data.length===0&&e.remove(n)},bh=function(e,n,o){var i,s,h,w,C,k,N;je.isDocumentFragment(o)?(h=e,w=n,C=o,k=J.from(C.firstChild),N=J.from(C.lastChild),w.insertNode(C),k.each(function(O){return As(h,O.previousSibling)}),N.each(function(O){return As(h,O.nextSibling)})):(i=e,s=o,n.insertNode(s),As(i,s.previousSibling),As(i,s.nextSibling))},md=je.isContentEditableFalse,Gp=function(e,n,o,i,s){var h,w=i[s?"startContainer":"endContainer"],C=i[s?"startOffset":"endOffset"],k=[],N=0,O=e.getRoot();for(je.isText(w)?k.push(o?function(M,F,te){var Y,ae;for(ae=M(F.data.slice(0,te)).length,Y=F.previousSibling;Y&&je.isText(Y);Y=Y.previousSibling)ae+=M(Y.data).length;return ae}(n,w,C):C):(C>=(h=w.childNodes).length&&h.length&&(N=1,C=Math.max(0,h.length-1)),k.push(e.nodeIndex(h[C],o)+N));w&&w!==O;w=w.parentNode)k.push(e.nodeIndex(w,o));return k},nm=function(e,n,o){var i=0;return st.each(e.select(n),function(s){if(s.getAttribute("data-mce-bogus")!=="all")return s!==o&&void i++}),i},Uc=function(e,n){var o,i,s,h=n?"start":"end";o=e[h+"Container"],i=e[h+"Offset"],je.isElement(o)&&o.nodeName==="TR"&&(o=(s=o.childNodes)[Math.min(n?i:i-1,s.length-1)])&&(i=n?0:o.childNodes.length,e["set"+(n?"Start":"End")](o,i))},wh=function(e){return Uc(e,!0),Uc(e,!1),e},Jp=function(e,n){var o;if(je.isElement(e)&&(e=gc(e,n),md(e)))return e;if(fs(e)&&(je.isText(e)&&Ml(e)&&(e=e.parentNode),o=e.previousSibling,md(o)||(o=e.nextSibling,md(o))))return o},hl=function(e,n,o){var i=o.getNode(),s=i?i.nodeName:null,h=o.getRng();if(md(i)||s==="IMG")return{name:s,index:nm(o.dom,s,i)};var w,C,k,N,O,M,F,te=Jp((w=h).startContainer,w.startOffset)||Jp(w.endContainer,w.endOffset);return te?{name:s=te.tagName,index:nm(o.dom,s,te)}:(C=e,N=n,O=h,M=(k=o).dom,(F={}).start=Gp(M,C,N,O,!0),k.isCollapsed()||(F.end=Gp(M,C,N,O,!1)),F)},rm=function(e,n,o){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return o?e.create("span",i,"&#xFEFF;"):e.create("span",i)},om=function(e,n){var o=e.dom,i=e.getRng(),s=o.uniqueId(),h=e.isCollapsed(),w=e.getNode(),C=w.nodeName;if(C==="IMG")return{name:C,index:nm(o,C,w)};var k=wh(i.cloneRange());if(!h){k.collapse(!1);var N=rm(o,s+"_end",n);bh(o,k,N)}(i=wh(i)).collapse(!0);var O=rm(o,s+"_start",n);return bh(o,i,O),e.moveToBookmark({id:s,keep:1}),{id:s}},vc={getBookmark:function(e,n,o){return n===2?hl(ml,o,e):n===3?(s=(i=e).getRng(),{start:Js(i.dom.getRoot(),Rn.fromRangeStart(s)),end:Js(i.dom.getRoot(),Rn.fromRangeEnd(s))}):n?{rng:e.getRng()}:om(e,!1);var i,s},getUndoBookmark:x(hl,g,!0),getPersistentBookmark:om},im="_mce_caret",Qs=function(e){return je.isElement(e)&&e.id===im},Fl=function(e,n){for(;n&&n!==e;){if(n.id===im)return n;n=n.parentNode}return null},xh=je.isElement,Qp=je.isText,Zp=function(e){var n=e.parentNode;n&&n.removeChild(e)},eg=function(e,n){n.length===0?Zp(e):e.nodeValue=n},tg=function(e){var n=ml(e);return{count:e.length-n.length,text:n}},am=function(e,n){return sm(e),n},um=function(e,n){var o,i,s,h=n.container(),w=(o=co(h.childNodes),i=e,s=dr(o,i),s===-1?J.none():J.some(s)).map(function(C){return C<n.offset()?Rn(h,n.offset()-1):n}).getOr(n);return sm(e),w},ng=function(e,n){return Qp(e)&&n.container()===e?(i=n,s=tg((o=e).data.substr(0,i.offset())),h=tg(o.data.substr(i.offset())),0<(w=s.text+h.text).length?(eg(o,w),Rn(o,i.offset()-s.count)):i):am(e,n);var o,i,s,h,w},sm=function(e){if(xh(e)&&fs(e)&&($p(e)?e.removeAttribute("data-mce-caret"):Zp(e)),Qp(e)){var n=ml(function(o){try{return o.nodeValue}catch{return""}}(e));eg(e,n)}},$c={removeAndReposition:function(e,n){return Rn.isTextPosition(n)?ng(e,n):(o=e,(i=n).container()===o.parentNode?um(o,i):am(o,i));var o,i},remove:sm},Af=kn.detect().browser,Vc=je.isContentEditableFalse,Ch=function(e,n,o){var i,s,h,w,C,k=lh(n.getBoundingClientRect(),o);return e.tagName==="BODY"?(i=e.ownerDocument.documentElement,s=e.scrollLeft||i.scrollLeft,h=e.scrollTop||i.scrollTop):(C=e.getBoundingClientRect(),s=e.scrollLeft-C.left,h=e.scrollTop-C.top),k.left+=s,k.right+=s,k.top+=h,k.bottom+=h,k.width=1,0<(w=n.offsetWidth-n.clientWidth)&&(o&&(w*=-1),k.left+=w,k.right+=w),k},rg=function(e,n,o){var i,s,h=aa(J.none()),w=function(){(function(k){var N,O,M,F,te;for(N=br("*[contentEditable=false]",k),F=0;F<N.length;F++)M=(O=N[F]).previousSibling,Za(M)&&((te=M.data).length===1?M.parentNode.removeChild(M):M.deleteData(te.length-1,1)),M=O.nextSibling,Hc(M)&&((te=M.data).length===1?M.parentNode.removeChild(M):M.deleteData(0,1))})(e),s&&($c.remove(s),s=null),h.get().each(function(k){br(k.caret).remove(),h.set(J.none())}),clearInterval(i)},C=function(){i=Qr.setInterval(function(){o()?br("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):br("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)};return{show:function(k,N){var O,M,F;if(w(),F=N,je.isElement(F)&&/^(TD|TH)$/i.test(F.tagName))return null;if(!n(N))return s=function(Y,ae){var q,Z,le;if(Z=Y.ownerDocument.createTextNode(Qa),le=Y.parentNode,ae){if(q=Y.previousSibling,Al(q)){if(fs(q))return q;if(Za(q))return q.splitText(q.data.length-1)}le.insertBefore(Z,Y)}else{if(q=Y.nextSibling,Al(q)){if(fs(q))return q;if(Hc(q))return q.splitText(1),q}Y.nextSibling?le.insertBefore(Z,Y.nextSibling):le.appendChild(Z)}return Z}(N,k),M=N.ownerDocument.createRange(),Vc(s.nextSibling)?(M.setStart(s,0),M.setEnd(s,0)):(M.setStart(s,1),M.setEnd(s,1)),M;s=_f("p",N,k),O=Ch(e,N,k),br(s).css("top",O.top);var te=br('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(O).appendTo(e)[0];return h.set(J.some({caret:te,element:N,before:k})),h.get().each(function(Y){k&&br(Y.caret).addClass("mce-visual-caret-before")}),C(),(M=N.ownerDocument.createRange()).setStart(s,0),M.setEnd(s,0),M},hide:w,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){h.get().each(function(k){var N=Ch(e,k.element,k.before);br(k.caret).css(N)})},destroy:function(){return Qr.clearInterval(i)}}},Sh=function(){return Af.isIE()||Af.isEdge()||Af.isFirefox()},Ba=function(e){return Vc(e)||je.isTable(e)&&Sh()},qc=je.isContentEditableFalse,lu=je.matchStyleValues("display","block table table-cell table-caption list-item"),Mf=fs,Zs=Ml,kh=je.isElement,Eh=Ma,el=function(e){return 0<e},Yc=function(e){return e<0},If=function(e,n){for(var o;o=e(n);)if(!Zs(o))return o;return null},yc=function(e,n,o,i,s){var h=new Ri(e,i);if(Yc(n)){if((qc(e)||Zs(e))&&o(e=If(h.prev,!0)))return e;for(;e=If(h.prev,s);)if(o(e))return e}if(el(n)){if((qc(e)||Zs(e))&&o(e=If(h.next,!0)))return e;for(;e=If(h.next,s);)if(o(e))return e}return null},pl=function(e,n){for(;e&&e!==n;){if(lu(e))return e;e=e.parentNode}return null},ns=function(e,n,o){return pl(e.container(),o)===pl(n.container(),o)},bc=function(e,n){var o,i;return n?(o=n.container(),i=n.offset(),kh(o)?o.childNodes[i+e]:null):null},hd=function(e,n){var o=n.ownerDocument.createRange();return e?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),o},lm=function(e,n,o){var i,s,h,w;for(s=e?"previousSibling":"nextSibling";o&&o!==n;){if(i=o[s],Mf(i)&&(i=i[s]),qc(i)){if(w=o,pl(i,h=n)===pl(w,h))return i;break}if(Eh(i))break;o=o.parentNode}return null},Kc=x(hd,!0),Xc=x(hd,!1),cm=function(e,n,o){var i,s,h,w,C=x(lm,!0,n),k=x(lm,!1,n);if(s=o.startContainer,h=o.startOffset,Ml(s)){if(kh(s)||(s=s.parentNode),(w=s.getAttribute("data-mce-caret"))==="before"&&(i=s.nextSibling,Ba(i)))return Kc(i);if(w==="after"&&(i=s.previousSibling,Ba(i)))return Xc(i)}if(!o.collapsed)return o;if(je.isText(s)){if(Mf(s)){if(e===1){if(i=k(s))return Kc(i);if(i=C(s))return Xc(i)}if(e===-1){if(i=C(s))return Xc(i);if(i=k(s))return Kc(i)}return o}if(Za(s)&&h>=s.data.length-1)return e===1&&(i=k(s))?Kc(i):o;if(Hc(s)&&h<=1)return e===-1&&(i=C(s))?Xc(i):o;if(h===s.data.length)return(i=k(s))?Kc(i):o;if(h===0)return(i=C(s))?Xc(i):o}return o},og=function(e,n){return J.from(bc(e?0:-1,n)).filter(qc)},Gc=function(e,n,o){var i=cm(e,n,o);return e===-1?ta.fromRangeStart(i):ta.fromRangeEnd(i)},Jc=function(e){return J.from(e.getNode()).map($t.fromDom)},ju=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},Th=function(e,n){var o=ns(e,n);return!(o||!je.isBr(e.getNode()))||o};(em=Eu||(Eu={}))[em.Backwards=-1]="Backwards",em[em.Forwards=1]="Forwards";var Bf,zi,Hl,fm=je.isContentEditableFalse,rs=je.isText,zl=je.isElement,dm=je.isBr,Qc=Ma,_h=function(e){return ad(e)||!!ud(n=e)&&Rt(co(n.getElementsByTagName("*")),function(o,i){return o||Xd(i)},!1)!==!0;var n},mm=Rf,Nh=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},ig=function(e,n){if(el(e)){if(Qc(n.previousSibling)&&!rs(n.previousSibling))return Rn.before(n);if(rs(n))return Rn(n,0)}if(Yc(e)){if(Qc(n.nextSibling)&&!rs(n.nextSibling))return Rn.after(n);if(rs(n))return Rn(n,n.data.length)}return Yc(e)?dm(n)?Rn.before(n):Rn.after(n):Rn.before(n)},Rh=function(e,n,o){var i,s,h,w,C;if(!zl(o)||!n)return null;if(n.isEqual(Rn.after(o))&&o.lastChild){if(C=Rn.after(o.lastChild),Yc(e)&&Qc(o.lastChild)&&zl(o.lastChild))return dm(o.lastChild)?Rn.before(o.lastChild):C}else C=n;var k,N,O,M=C.container(),F=C.offset();if(rs(M)){if(Yc(e)&&0<F)return Rn(M,--F);if(el(e)&&F<M.length)return Rn(M,++F);i=M}else{if(Yc(e)&&0<F&&(s=Nh(M,F-1),Qc(s)))return!_h(s)&&(h=yc(s,e,mm,s))?rs(h)?Rn(h,h.data.length):Rn.after(h):rs(s)?Rn(s,s.data.length):Rn.before(s);if(el(e)&&F<M.childNodes.length&&(s=Nh(M,F),Qc(s)))return dm(s)?(k=o,(O=(N=s).nextSibling)&&Qc(O)?rs(O)?Rn(O,0):Rn.before(O):Rh(Eu.Forwards,Rn.after(N),k)):!_h(s)&&(h=yc(s,e,mm,s))?rs(h)?Rn(h,0):Rn.before(h):rs(s)?Rn(s,0):Rn.after(s);i=s||C.getNode()}return(el(e)&&C.isAtEnd()||Yc(e)&&C.isAtStart())&&(i=yc(i,e,l(!0),o,!0),mm(i,o))?ig(e,i):(s=yc(i,e,mm,o),!(w=Mr.last(qe(function(te,Y){for(var ae=[];te&&te!==Y;)ae.push(te),te=te.parentNode;return ae}(M,o),fm)))||s&&w.contains(s)?s?ig(e,s):null:C=el(e)?Rn.after(w):Rn.before(w))},Wu=function(e){return{next:function(n){return Rh(Eu.Forwards,n,e)},prev:function(n){return Rh(Eu.Backwards,n,e)}}},Oh=function(e){return Rn.isTextPosition(e)?e.offset()===0:Ma(e.getNode())},ag=function(e){if(Rn.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}return Ma(e.getNode(!0))},Ph=function(e,n){return!Rn.isTextPosition(e)&&!Rn.isTextPosition(n)&&e.getNode()===n.getNode(!0)},Dh=function(e,n,o){return e?!Ph(n,o)&&(i=n,!(!Rn.isTextPosition(i)&&je.isBr(i.getNode())))&&ag(n)&&Oh(o):!Ph(o,n)&&Oh(n)&&ag(o);var i},Zc=function(e,n,o){var i=Wu(n);return J.from(e?i.next(o):i.prev(o))},ef=function(e,n,o){return Zc(e,n,o).bind(function(i){return ns(o,i,n)&&Dh(e,o,i)?Zc(e,n,i):J.some(i)})},pd=function(e,n,o,i){return ef(e,n,o).bind(function(s){return i(s)?pd(e,n,s,i):J.some(s)})},jl=function(e,n){var o,i,s,h,w,C=e?n.firstChild:n.lastChild;return je.isText(C)?J.some(Rn(C,e?0:C.data.length)):C?Ma(C)?J.some(e?Rn.before(C):(w=C,je.isBr(w)?Rn.before(w):Rn.after(w))):(i=n,s=C,h=(o=e)?Rn.before(s):Rn.after(s),Zc(o,i,h)):J.none()},ug=x(Zc,!0),Ah=x(Zc,!1),oo={fromPosition:Zc,nextPosition:ug,prevPosition:Ah,navigate:ef,navigateIgnore:pd,positionIn:jl,firstPositionIn:x(jl,!0),lastPositionIn:x(jl,!1)},hm=function(e,n){return je.isElement(n)&&e.isBlock(n)&&!n.innerHTML&&!Dn.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},Lf=function(e,n){return oo.lastPositionIn(e).fold(function(){return!1},function(o){return n.setStart(o.container(),o.offset()),n.setEnd(o.container(),o.offset()),!0})},tf=function(e,n,o){return!(n.hasChildNodes()!==!1||!Fl(e,n)||(s=o,h=(i=n).ownerDocument.createTextNode(Qa),i.appendChild(h),s.setStart(h,0),s.setEnd(h,0),0));var i,s,h},sg=function(e,n,o,i){var s,h,w,C,k=o[n?"start":"end"],N=e.getRoot();if(k){for(w=k[0],h=N,s=k.length-1;1<=s;s--){if(C=h.childNodes,tf(N,h,i))return!0;if(k[s]>C.length-1)return!!tf(N,h,i)||Lf(h,i);h=C[k[s]]}h.nodeType===3&&(w=Math.min(k[0],h.nodeValue.length)),h.nodeType===1&&(w=Math.min(k[0],h.childNodes.length)),n?i.setStart(h,w):i.setEnd(h,w)}return!0},pm=function(e){return je.isText(e)&&0<e.data.length},lg=function(e,n,o){var i,s,h,w,C,k,N=e.get(o.id+"_"+n),O=o.keep;if(N){if(i=N.parentNode,n==="start"?O?N.hasChildNodes()?(i=N.firstChild,s=1):pm(N.nextSibling)?(i=N.nextSibling,s=0):pm(N.previousSibling)?(i=N.previousSibling,s=N.previousSibling.data.length):(i=N.parentNode,s=e.nodeIndex(N)+1):s=e.nodeIndex(N):O?N.hasChildNodes()?(i=N.firstChild,s=1):pm(N.previousSibling)?(i=N.previousSibling,s=N.previousSibling.data.length):(i=N.parentNode,s=e.nodeIndex(N)):s=e.nodeIndex(N),C=i,k=s,!O){for(w=N.previousSibling,h=N.nextSibling,st.each(st.grep(N.childNodes),function(M){je.isText(M)&&(M.nodeValue=M.nodeValue.replace(/\uFEFF/g,""))});N=e.get(o.id+"_"+n);)e.remove(N,!0);w&&h&&w.nodeType===h.nodeType&&je.isText(w)&&!Dn.opera&&(s=w.nodeValue.length,w.appendData(h.nodeValue),e.remove(h),C=w,k=s)}return J.some(Rn(C,k))}return J.none()},Zv=function(e,n){var o,i,s,h,w,C,k,N,O,M,F,te,Y,ae,q,Z,le=e.dom;if(n){if(Z=n,st.isArray(Z.start))return ae=n,q=(Y=le).createRng(),sg(Y,!0,ae,q)&&sg(Y,!1,ae,q)?J.some(q):J.none();if(typeof n.start=="string")return J.some((M=n,F=(O=le).createRng(),te=ds(O.getRoot(),M.start),F.setStart(te.container(),te.offset()),te=ds(O.getRoot(),M.end),F.setEnd(te.container(),te.offset()),F));if(n.hasOwnProperty("id"))return k=lg(s=le,"start",h=n),N=lg(s,"end",h),ku(k,(C=k,(w=N).isSome()?w:C),function(xe,Ne){var ge=s.createRng();return ge.setStart(hm(s,xe.container()),xe.offset()),ge.setEnd(hm(s,Ne.container()),Ne.offset()),ge});if(n.hasOwnProperty("name"))return o=le,i=n,J.from(o.select(i.name)[i.index]).map(function(xe){var Ne=o.createRng();return Ne.selectNode(xe),Ne});if(n.hasOwnProperty("rng"))return J.some(n.rng)}return J.none()},na=function(e,n,o){return vc.getBookmark(e,n,o)},cg=function(e,n){Zv(e,n).each(function(o){e.setRng(o)})},ms=function(e){return je.isElement(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},gm=function(e){return e&&/^(IMG)$/.test(e.nodeName)},nf=function(e){return e&&e.nodeType===3&&/^([\t \r\n]+|)$/.test(e.nodeValue)},rf=function(e,n,o){return o!=="color"&&o!=="backgroundColor"||(n=e.toHex(n)),o==="fontWeight"&&n===700&&(n="bold"),o==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},Yo={isInlineBlock:gm,moveStart:function(e,n,o){var i,s,h,w=o.startOffset,C=o.startContainer;if((o.startContainer!==o.endContainer||!gm(o.startContainer.childNodes[o.startOffset]))&&C.nodeType===1){for(w<(h=C.childNodes).length?i=new Ri(C=h[w],e.getParent(C,e.isBlock)):(i=new Ri(C=h[h.length-1],e.getParent(C,e.isBlock))).next(!0),s=i.current();s;s=i.next())if(s.nodeType===3&&!nf(s))return o.setStart(s,0),void n.setRng(o)}},getNonWhiteSpaceSibling:function(e,n,o){if(e){for(n=n?"nextSibling":"previousSibling",e=o?e:e[n];e;e=e[n])if(e.nodeType===1||!nf(e))return e}},isTextBlock:function(e,n){return n.nodeType&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},isValid:function(e,n,o){return e.schema.isValidChild(n,o)},isWhiteSpaceNode:nf,replaceVars:function(e,n){return typeof e!="string"?e=e(n):n&&(e=e.replace(/%(\w+)/g,function(o,i){return n[i]||o})),e},isEq:function(e,n){return n=n||"",e=""+((e=e||"").nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},normalizeStyleValue:rf,getStyle:function(e,n,o){return rf(e,e.getStyle(n,o),o)},getTextDecoration:function(e,n){var o;return e.getParent(n,function(i){return(o=e.getStyle(i,"text-decoration"))&&o!=="none"}),o},getParents:function(e,n,o){return e.getParents(n,o,e.getRoot())}},Wa=ms,Ff=Yo.getParents,fg=Yo.isWhiteSpaceNode,Hf=Yo.isTextBlock,dg=function(e,n){for(n===void 0&&(n=e.nodeType===3?e.length:e.childNodes.length);e&&e.hasChildNodes();)(e=e.childNodes[n])&&(n=e.nodeType===3?e.length:e.childNodes.length);return{node:e,offset:n}},mg=function(e,n){for(var o=n;o;){if(o.nodeType===1&&e.getContentEditable(o))return e.getContentEditable(o)==="false"?o:n;o=o.parentNode}return n},of=function(e,n,o,i){var s,h,w=o.nodeValue;return i===void 0&&(i=e?w.length:0),e?(s=w.lastIndexOf(" ",i),(s=(h=w.lastIndexOf("\xA0",i))<s?s:h)!==-1&&!n&&(s<i||!e)&&s<=w.length&&s++):(s=w.indexOf(" ",i),h=w.indexOf("\xA0",i),s=s!==-1&&(h===-1||s<h)?s:h),s},gd=function(e,n,o,i,s,h){var w,C,k,N;if(o.nodeType===3){if((k=of(s,h,o,i))!==-1)return{container:o,offset:k};N=o}for(w=new Ri(o,e.getParent(o,e.isBlock)||n);C=w[s?"prev":"next"]();)if(C.nodeType!==3||Wa(C.parentNode)){if(e.isBlock(C)||Yo.isEq(C,"BR"))break}else if((k=of(s,h,N=C))!==-1)return{container:C,offset:k};if(N)return{container:N,offset:i=s?0:N.length}},vm=function(e,n,o,i,s){var h,w,C,k;for(i.nodeType===3&&i.nodeValue.length===0&&i[s]&&(i=i[s]),h=Ff(e,i),w=0;w<h.length;w++)for(C=0;C<n.length;C++)if(!("collapsed"in(k=n[C])&&k.collapsed!==o.collapsed)&&e.is(h[w],k.selector))return h[w];return i},hg=function(e,n,o,i){var s,h=e.dom,w=h.getRoot();if(n[0].wrapper||(s=h.getParent(o,n[0].block,w)),!s){var C=h.getParent(o,"LI,TD,TH");s=h.getParent(o.nodeType===3?o.parentNode:o,function(k){return k!==w&&Hf(e,k)},C)}if(s&&n[0].wrapper&&(s=Ff(h,s,"ul,ol").reverse()[0]||s),!s)for(s=o;s[i]&&!h.isBlock(s[i])&&(s=s[i],!Yo.isEq(s,"br")););return s||o},ym=function(e,n,o,i,s,h,w){var C,k,N,O,M,F;if(C=k=w?o:s,O=w?"previousSibling":"nextSibling",M=e.getRoot(),C.nodeType===3&&!fg(C)&&(w?0<i:h<C.nodeValue.length))return C;for(;;){if(!n[0].block_expand&&e.isBlock(k))return k;for(N=k[O];N;N=N[O])if(!Wa(N)&&!fg(N)&&((F=N).nodeName!=="BR"||!F.getAttribute("data-mce-bogus")||F.nextSibling))return k;if(k===M||k.parentNode===M){C=k;break}k=k.parentNode}return C},cu=function(e,n,o,i){var s,h=n.startContainer,w=n.startOffset,C=n.endContainer,k=n.endOffset,N=e.dom;return h.nodeType===1&&h.hasChildNodes()&&(h=gc(h,w)).nodeType===3&&(w=0),C.nodeType===1&&C.hasChildNodes()&&(C=gc(C,n.collapsed?k:k-1)).nodeType===3&&(k=C.nodeValue.length),h=mg(N,h),C=mg(N,C),(Wa(h.parentNode)||Wa(h))&&(h=Wa(h)?h:h.parentNode,(h=n.collapsed?h.previousSibling||h:h.nextSibling||h).nodeType===3&&(w=n.collapsed?h.length:0)),(Wa(C.parentNode)||Wa(C))&&(C=Wa(C)?C:C.parentNode,(C=n.collapsed?C.nextSibling||C:C.previousSibling||C).nodeType===3&&(k=n.collapsed?0:C.length)),n.collapsed&&((s=gd(N,e.getBody(),h,w,!0,i))&&(h=s.container,w=s.offset),(s=gd(N,e.getBody(),C,k,!1,i))&&(C=s.container,k=s.offset)),o[0].inline&&(C=i?C:function(O,M){var F=dg(O,M);if(F.node){for(;F.node&&F.offset===0&&F.node.previousSibling;)F=dg(F.node.previousSibling);F.node&&0<F.offset&&F.node.nodeType===3&&F.node.nodeValue.charAt(F.offset-1)===" "&&1<F.offset&&(O=F.node).splitText(F.offset-1)}return O}(C,k)),(o[0].inline||o[0].block_expand)&&(o[0].inline&&h.nodeType===3&&w!==0||(h=ym(N,o,h,w,C,k,!0)),o[0].inline&&C.nodeType===3&&k!==C.nodeValue.length||(C=ym(N,o,h,w,C,k,!1))),o[0].selector&&o[0].expand!==!1&&!o[0].inline&&(h=vm(N,o,n,h,"previousSibling"),C=vm(N,o,n,C,"nextSibling")),(o[0].block||o[0].selector)&&(h=hg(e,o,h,"previousSibling"),C=hg(e,o,C,"nextSibling"),o[0].block&&(N.isBlock(h)||(h=ym(N,o,h,w,C,k,!0)),N.isBlock(C)||(C=ym(N,o,h,w,C,k,!1)))),h.nodeType===1&&(w=N.nodeIndex(h),h=h.parentNode),C.nodeType===1&&(k=N.nodeIndex(C)+1,C=C.parentNode),{startContainer:h,startOffset:w,endContainer:C,endOffset:k}},hs=st.each,af=function(e,n,o){var i,s,h,w,C,k,N,O=n.startContainer,M=n.startOffset,F=n.endContainer,te=n.endOffset;if(0<(N=e.select("td[data-mce-selected],th[data-mce-selected]")).length)hs(N,function(ge){o([ge])});else{var Y,ae,q,Z=function(ge){var He;return(He=ge[0]).nodeType===3&&He===O&&M>=He.nodeValue.length&&ge.splice(0,1),He=ge[ge.length-1],te===0&&0<ge.length&&He===F&&He.nodeType===3&&ge.splice(ge.length-1,1),ge},le=function(ge,He,Mt){for(var nt=[];ge&&ge!==Mt;ge=ge[He])nt.push(ge);return nt},xe=function(ge,He){do{if(ge.parentNode===He)return ge;ge=ge.parentNode}while(ge)},Ne=function(ge,He,Mt){var nt=Mt?"nextSibling":"previousSibling";for(C=(w=ge).parentNode;w&&w!==He;w=C)C=w.parentNode,(k=le(w===ge?w:w[nt],nt)).length&&(Mt||k.reverse(),o(Z(k)))};if(O.nodeType===1&&O.hasChildNodes()&&(O=O.childNodes[M]),F.nodeType===1&&F.hasChildNodes()&&(ae=te,q=(Y=F).childNodes,--ae>q.length-1?ae=q.length-1:ae<0&&(ae=0),F=q[ae]||Y),O===F)return o(Z([O]));for(i=e.findCommonAncestor(O,F),w=O;w;w=w.parentNode){if(w===F)return Ne(O,i,!0);if(w===i)break}for(w=F;w;w=w.parentNode){if(w===O)return Ne(F,i);if(w===i)break}s=xe(O,i)||O,h=xe(F,i)||F,Ne(O,s,!0),(k=le(s===O?s:s.nextSibling,"nextSibling",h===F?h.nextSibling:h)).length&&o(Z(k)),Ne(F,h)}},Mh=(Bf=ba,zi="text",{get:function(e){if(!Bf(e))throw new Error("Can only get "+zi+" value of a "+zi+" node");return Hl(e).getOr("")},getOption:Hl=function(e){return Bf(e)?J.from(e.dom().nodeValue):J.none()},set:function(e,n){if(!Bf(e))throw new Error("Can only set raw "+zi+" value of a "+zi+" node");e.dom().nodeValue=n}}),bm=function(e){return Mh.get(e)},vd=function(e,n,o,i){return Ts(n).fold(function(){return"skipping"},function(s){return i==="br"||ba(w=n)&&bm(w)==="\uFEFF"?"valid":bu(h=n)&&Wd(h,sh())?"existing":Qs(n)?"caret":Yo.isValid(e,o,i)&&Yo.isValid(e,la(s),o)?"valid":"invalid-child";var h,w})},Uu=function(e,n,o,i){var s,h,w=n.uid,C=w===void 0?(s="mce-annotation",h=new Date().getTime(),s+"_"+Math.floor(1e9*Math.random())+ ++Jv+String(h)):w,k=function(q,Z){var le={};for(var xe in q)Object.prototype.hasOwnProperty.call(q,xe)&&Z.indexOf(xe)<0&&(le[xe]=q[xe]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ne=0;for(xe=Object.getOwnPropertySymbols(q);Ne<xe.length;Ne++)Z.indexOf(xe[Ne])<0&&Object.prototype.propertyIsEnumerable.call(q,xe[Ne])&&(le[xe[Ne]]=q[xe[Ne]])}return le}(n,["uid"]),N=$t.fromTag("span",e);fc(N,sh()),Ju(N,""+dc(),C),Ju(N,""+rd(),o);var O,M=i(C,k),F=M.attributes,te=F===void 0?{}:F,Y=M.classes,ae=Y===void 0?[]:Y;return iu(N,te),O=N,Qt(ae,function(q){fc(O,q)}),N},Ih=function(e,n,o,i,s){var h=[],w=Uu(e.getDoc(),s,o,i),C=aa(J.none()),k=function(){C.set(J.none())},N=function(M){Qt(M,O)},O=function(M){var F,te;switch(vd(e,M,"span",la(M))){case"invalid-child":k();var Y=Xa(M);N(Y),k();break;case"valid":var ae=C.get().getOrThunk(function(){var q=Dl(w);return h.push(q),C.set(J.some(q)),q});ea(F=M,te=ae),Yi(te,F)}};return af(e.dom,n,function(M){var F;k(),F=er(M,$t.fromDom),N(F)}),h},pg=function(e,n,o,i){e.undoManager.transact(function(){var s,h,w,C,k=e.selection.getRng();if(k.collapsed&&(C=cu(s=e,h=k,[{inline:!0}],(w=h).startContainer.nodeType===3&&w.startContainer.nodeValue.length>=w.startOffset&&w.startContainer.nodeValue[w.startOffset]==="\xA0"),h.setStart(C.startContainer,C.startOffset),h.setEnd(C.endContainer,C.endOffset),s.selection.setRng(h)),e.selection.getRng().collapsed){var N=Uu(e.getDoc(),i,n,o.decorate);Wp(N,"\xA0"),e.selection.getRng().insertNode(N.dom()),e.selection.select(N.dom())}else{var O=vc.getPersistentBookmark(e.selection,!1),M=e.selection.getRng();Ih(e,M,n,o.decorate,i),e.selection.moveToBookmark(O)}})};function gg(e){var n,o=(n={},{register:function(s,h){n[s]={name:s,settings:h}},lookup:function(s){return n.hasOwnProperty(s)?J.from(n[s]).map(function(h){return h.settings}):J.none()}});Vd(e,o);var i=jp(e);return{register:function(s,h){o.register(s,h)},annotate:function(s,h){o.lookup(s).each(function(w){pg(e,s,w,h)})},annotationChanged:function(s,h){i.addListener(s,h)},remove:function(s){dl(e,J.some(s)).each(function(h){var w=h.elements;Qt(w,Su)})},getAll:function(s){var h,w,C,k,N,O,M=(h=e,w=s,C=$t.fromDom(h.getBody()),k=cs(C,"["+rd()+'="'+w+'"]'),N={},Qt(k,function(F){var te=Pa(F,dc()),Y=N.hasOwnProperty(te)?N[te]:[];N[te]=Y.concat([F])}),N);return O=function(F){return er(F,function(te){return te.dom()})},Sf(M,function(F,te){return{k:te,v:O(F,te)}})}}}var Bh=function(e){return st.grep(e.childNodes,function(n){return n.nodeName==="LI"})},Lh=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&((n=e.firstChild).data==="\xA0"||je.isBr(n));var n},Wl=function(e){return 0<e.length&&(!(n=e[e.length-1]).firstChild||Lh(n))?e.slice(0,-1):e;var n},gl=function(e,n){var o=e.getParent(n,e.isBlock);return o&&o.nodeName==="LI"?o:null},wm=function(e,n){var o=Rn.after(e),i=Wu(n).prev(o);return i?i.toRange():null},Fh=function(e,n,o){var i,s,h,w,C=e.parentNode;return st.each(n,function(k){C.insertBefore(k,e)}),i=e,s=o,h=Rn.before(i),(w=Wu(s).next(h))?w.toRange():null},xm=function(e,n){var o,i,s,h,w,C,k=n.firstChild,N=n.lastChild;return k&&k.name==="meta"&&(k=k.next),N&&N.attr("id")==="mce_marker"&&(N=N.prev),i=N,C=(o=e).getNonEmptyElements(),i&&(i.isEmpty(C)||(s=i,o.getBlockElements()[s.name]&&(w=s).firstChild&&w.firstChild===w.lastChild&&((h=s.firstChild).name==="br"||h.value==="\xA0")))&&(N=N.prev),!(!k||k!==N||k.name!=="ul"&&k.name!=="ol")},e0=function(e,n,o,i){var s,h,w,C,k,N,O,M,F,te,Y,ae,q,Z,le,xe,Ne,ge,He,Mt=(s=n,h=i,N=e.serialize(h),O=s.createFragment(N),C=(w=O).firstChild,k=w.lastChild,C&&C.nodeName==="META"&&C.parentNode.removeChild(C),k&&k.id==="mce_marker"&&k.parentNode.removeChild(k),w),nt=gl(n,o.startContainer),Gt=Wl(Bh(Mt.firstChild)),Ct=n.getRoot(),hn=function(Xt){var pn=Rn.fromRangeStart(o),rr=Wu(n.getRoot()),fn=Xt===1?rr.prev(pn):rr.next(pn);return!fn||gl(n,fn.getNode())!==nt};return hn(1)?Fh(nt,Gt,Ct):hn(2)?(M=nt,F=Gt,te=Ct,n.insertAfter(F.reverse(),M),wm(F[0],te)):(ae=Gt,q=Ct,Z=Y=nt,xe=(le=o).cloneRange(),Ne=le.cloneRange(),xe.setStartBefore(Z),Ne.setEndAfter(Z),ge=[xe.cloneContents(),Ne.cloneContents()],(He=Y.parentNode).insertBefore(ge[0],Y),st.each(ae,function(Xt){He.insertBefore(Xt,Y)}),He.insertBefore(ge[1],Y),He.removeChild(Y),wm(ae[ae.length-1],q))},t0=function(e,n){return!!gl(e,n)},n0=st.each,zf=function(e){this.compare=function(n,o){if(n.nodeName!==o.nodeName)return!1;var i=function(h){var w={};return n0(e.getAttribs(h),function(C){var k=C.nodeName.toLowerCase();k.indexOf("_")!==0&&k!=="style"&&k.indexOf("data-")!==0&&(w[k]=e.getAttrib(h,k))}),w},s=function(h,w){var C,k;for(k in h)if(h.hasOwnProperty(k)){if((C=w[k])===void 0||h[k]!==C)return!1;delete w[k]}for(k in w)if(w.hasOwnProperty(k))return!1;return!0};return!(!s(i(n),i(o))||!s(e.parseStyle(e.getAttrib(n,"style")),e.parseStyle(e.getAttrib(o,"style")))||ms(n)||ms(o))}},vg=function(e){var n=cs(e,"br"),o=qe(function(i){for(var s=[],h=i.dom();h;)s.push($t.fromDom(h)),h=h.lastChild;return s}(e).slice(-1),v);n.length===o.length&&Qt(o,oi)},jf=function(e){ko(e),Yi(e,$t.fromHtml('<br data-mce-bogus="1">'))},Ms=function(e){qs(e).each(function(n){$s(n).each(function(o){Aa(e)&&v(n)&&Aa(o)&&oi(n)})})},Is=st.makeMap;function yg(e){var n,o,i,s,h,w=[];return n=(e=e||{}).indent,o=Is(e.indent_before||""),i=Is(e.indent_after||""),s=Na.getEncodeFunc(e.entity_encoding||"raw",e.entities),h=e.element_format==="html",{start:function(C,k,N){var O,M,F,te;if(n&&o[C]&&0<w.length&&0<(te=w[w.length-1]).length&&te!==`
`&&w.push(`
`),w.push("<",C),k)for(O=0,M=k.length;O<M;O++)F=k[O],w.push(" ",F.name,'="',s(F.value,!0),'"');w[w.length]=!N||h?">":" />",N&&n&&i[C]&&0<w.length&&0<(te=w[w.length-1]).length&&te!==`
`&&w.push(`
`)},end:function(C){var k;w.push("</",C,">"),n&&i[C]&&0<w.length&&0<(k=w[w.length-1]).length&&k!==`
`&&w.push(`
`)},text:function(C,k){0<C.length&&(w[w.length]=k?C:s(C))},cdata:function(C){w.push("<![CDATA[",C,"]]>")},comment:function(C){w.push("<!--",C,"-->")},pi:function(C,k){k?w.push("<?",C," ",s(k),"?>"):w.push("<?",C,"?>"),n&&w.push(`
`)},doctype:function(C){w.push("<!DOCTYPE",C,">",n?`
`:"")},reset:function(){w.length=0},getContent:function(){return w.join("").replace(/\n$/,"")}}}function Ul(e,n){n===void 0&&(n=ce());var o=yg(e);return(e=e||{}).validate=!("validate"in e)||e.validate,{serialize:function(i){var s,h;h=e.validate,s={3:function(C){o.text(C.value,C.raw)},8:function(C){o.comment(C.value)},7:function(C){o.pi(C.name,C.value)},10:function(C){o.doctype(C.value)},4:function(C){o.cdata(C.value)},11:function(C){if(C=C.firstChild)for(;w(C),C=C.next;);}},o.reset();var w=function(C){var k,N,O,M,F,te,Y,ae,q,Z=s[C.type];if(Z)Z(C);else{if(k=C.name,N=C.shortEnded,O=C.attributes,h&&O&&1<O.length&&((te=[]).map={},q=n.getElementRule(C.name))){for(Y=0,ae=q.attributesOrder.length;Y<ae;Y++)(M=q.attributesOrder[Y])in O.map&&(F=O.map[M],te.map[M]=F,te.push({name:M,value:F}));for(Y=0,ae=O.length;Y<ae;Y++)(M=O[Y].name)in te.map||(F=O.map[M],te.map[M]=F,te.push({name:M,value:F}));O=te}if(o.start(C.name,O,N),!N){if(C=C.firstChild)for(;w(C),C=C.next;);o.end(k)}}};return i.type!==1||e.inner?s[11](i):w(i),o.getContent()}}}var Wf,Uf=function(e){var n=Rn.fromRangeStart(e),o=Rn.fromRangeEnd(e),i=e.commonAncestorContainer;return oo.fromPosition(!1,i,o).map(function(s){return!ns(n,o,i)&&ns(n,s,i)?(h=n.container(),w=n.offset(),C=s.container(),k=s.offset(),(N=t.document.createRange()).setStart(h,w),N.setEnd(C,k),N):e;var h,w,C,k,N}).getOr(e)},Hh=function(e){return e.collapsed?e:Uf(e)},r0=je.matchNodeNames("td th"),ps=function(e,n){var o,i,s=e.selection.getRng(),h=s.startContainer,w=s.startOffset;s.collapsed&&(o=h,i=w,je.isText(o)&&o.nodeValue[i-1]==="\xA0")&&je.isText(h)&&(h.insertData(w-1," "),h.deleteData(w,1),s.setStart(h,w),s.setEnd(h,w),e.selection.setRng(s)),e.selection.setContent(n)},o0=function(e,n,o){var i,s,h,w,C,k,N,O,M,F,te,Y=e.selection,ae=e.dom;if(/^ | $/.test(n)&&(n=function(Xt,pn){var rr,fn;rr=Xt.startContainer,fn=Xt.startOffset;var wn=function(vr){return rr[vr]&&rr[vr].nodeType===3};return rr.nodeType===3&&(0<fn?pn=pn.replace(/^&nbsp;/," "):wn("previousSibling")||(pn=pn.replace(/^ /,"&nbsp;")),fn<rr.length?pn=pn.replace(/&nbsp;(<br>|)$/," "):wn("nextSibling")||(pn=pn.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),pn}(Y.getRng(),n)),i=e.parser,te=o.merge,s=Ul({validate:e.settings.validate},e.schema),F='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',k={content:n,format:"html",selection:!0,paste:o.paste},(k=e.fire("BeforeSetContent",k)).isDefaultPrevented())e.fire("SetContent",{content:k.content,format:"html",selection:!0,paste:o.paste});else{(n=k.content).indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,F);var q,Z,le,xe,Ne,ge,He=(O=Y.getRng()).startContainer||(O.parentElement?O.parentElement():null),Mt=e.getBody();He===Mt&&Y.isCollapsed()&&ae.isBlock(Mt.firstChild)&&(q=e,(Z=Mt.firstChild)&&!q.schema.getShortEndedElements()[Z.nodeName])&&ae.isEmpty(Mt.firstChild)&&((O=ae.createRng()).setStart(Mt.firstChild,0),O.setEnd(Mt.firstChild,0),Y.setRng(O)),Y.isCollapsed()||(e.selection.setRng(Hh(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),le=e.selection.getRng(),xe=n,Ne=le.startContainer,ge=le.startOffset,Ne.nodeType===3&&le.collapsed&&(Ne.data[ge]==="\xA0"?(Ne.deleteData(ge,1),/[\u00a0| ]$/.test(xe)||(xe+=" ")):Ne.data[ge-1]==="\xA0"&&(Ne.deleteData(ge-1,1),/[\u00a0| ]$/.test(xe)||(xe=" "+xe))),n=xe);var nt,Gt,Ct,hn={context:(h=Y.getNode()).nodeName.toLowerCase(),data:o.data,insert:!0};if(C=i.parse(n,hn),o.paste===!0&&xm(e.schema,C)&&t0(ae,h))return O=e0(s,ae,e.selection.getRng(),C),e.selection.setRng(O),void e.fire("SetContent",k);if(function(Xt){for(var pn=Xt;pn=pn.walk();)pn.type===1&&pn.attr("data-mce-fragment","1")}(C),(M=C.lastChild).attr("id")==="mce_marker"){for(M=(N=M).prev;M;M=M.walk(!0))if(M.type===3||!ae.isBlock(M.name)){e.schema.isValidChild(M.parent.name,"span")&&M.parent.insert(N,M,M.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(h),hn.invalid){for(ps(e,F),h=Y.getNode(),w=e.getBody(),h.nodeType===9?h=M=w:M=h;M!==w;)M=(h=M).parentNode;n=h===w?w.innerHTML:ae.getOuterHTML(h),n=s.serialize(i.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return s.serialize(C)}))),h===w?ae.setHTML(w,n):ae.setOuterHTML(h,n)}else(function(Xt,pn,rr){if(rr.getAttribute("data-mce-bogus")==="all")rr.parentNode.insertBefore(Xt.dom.createFragment(pn),rr);else{var fn=rr.firstChild,wn=rr.lastChild;!fn||fn===wn&&fn.nodeName==="BR"?Xt.dom.setHTML(rr,pn):ps(Xt,pn)}})(e,n=s.serialize(C),h);(function(Xt,pn){var rr=Xt.schema.getTextInlineElements(),fn=Xt.dom;if(pn){var wn=Xt.getBody(),vr=new zf(fn);st.each(fn.select("*[data-mce-fragment]"),function(Vn){for(var dn=Vn.parentNode;dn&&dn!==wn;dn=dn.parentNode)rr[Vn.nodeName.toLowerCase()]&&vr.compare(dn,Vn)&&fn.remove(Vn,!0)})}})(e,te),function(Xt,pn){var rr,fn,wn,vr,Vn,dn=Xt.dom,In=Xt.selection;if(pn){if(Xt.selection.scrollIntoView(pn),rr=function(Ir){for(var Rr=Xt.getBody();Ir&&Ir!==Rr;Ir=Ir.parentNode)if(Xt.dom.getContentEditable(Ir)==="false")return Ir;return null}(pn))return dn.remove(pn),In.select(rr);var Tr=dn.createRng();(vr=pn.previousSibling)&&vr.nodeType===3?(Tr.setStart(vr,vr.nodeValue.length),Dn.ie||(Vn=pn.nextSibling)&&Vn.nodeType===3&&(vr.appendData(Vn.data),Vn.parentNode.removeChild(Vn))):(Tr.setStartBefore(pn),Tr.setEndBefore(pn)),fn=dn.getParent(pn,dn.isBlock),dn.remove(pn),fn&&dn.isEmpty(fn)&&(Xt.$(fn).empty(),Tr.setStart(fn,0),Tr.setEnd(fn,0),r0(fn)||fn.getAttribute("data-mce-fragment")||!(wn=function(Ir){var Rr=Rn.fromRangeStart(Ir);if(Rr=Wu(Xt.getBody()).next(Rr))return Rr.toRange()}(Tr))?dn.add(fn,dn.create("br",{"data-mce-bogus":"1"})):(Tr=wn,dn.remove(fn))),In.setRng(Tr)}}(e,ae.get("mce_marker")),nt=e.getBody(),st.each(nt.getElementsByTagName("*"),function(Xt){Xt.removeAttribute("data-mce-fragment")}),Gt=e.dom,Ct=e.selection.getStart(),J.from(Gt.getParent(Ct,"td,th")).map($t.fromDom).each(Ms),e.fire("SetContent",k),e.addVisual()}},bg=function(e,n){var o,i,s=typeof(o=n)!="string"?(i=st.extend({paste:o.paste,data:{paste:o.paste}},o),{content:o.content,details:i}):{content:o,details:{}};o0(e,s.content,s.details)},$l=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,zh=function(e,n,o){var i=e.getParam(n,o);if(i.indexOf("=")!==-1){var s=e.getParam(n,"","hash");return s.hasOwnProperty(e.id)?s[e.id]:o}return i},wg=function(e){return e.getParam("iframe_attrs",{})},jh=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Wh=function(e){return e.getParam("document_base_url","")},i0=function(e){return zh(e,"body_id","tinymce")},a0=function(e){return zh(e,"body_class","")},xg=function(e){return e.getParam("content_security_policy","")},Cg=function(e){return e.getParam("br_in_pre",!0)},vl=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n},Uh=function(e){return e.getParam("forced_root_block_attrs",{})},d=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},y=function(e){return e.getParam("no_newline_selector","")},E=function(e){return e.getParam("keep_styles",!0)},R=function(e){return e.getParam("end_container_on_empty_block",!1)},B=function(e){return st.explode(e.getParam("font_size_style_values",""))},z=function(e){return st.explode(e.getParam("font_size_classes",""))},K=function(e){return e.getParam("images_dataimg_filter",l(!0),"function")},ie=function(e){return e.getParam("automatic_uploads",!0,"boolean")},we=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Ve=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},pt=function(e){return e.getParam("images_upload_url","","string")},Yt=function(e){return e.getParam("images_upload_base_path","","string")},en=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Ht=function(e){return e.getParam("images_upload_handler",null,"function")},Nt=function(e){return e.getParam("content_css_cors",!1,"boolean")},jn=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},nr=function(e,n){if(!n)return n;var o=n.container(),i=n.offset();return e?Il(o)?je.isText(o.nextSibling)?Rn(o.nextSibling,0):Rn.after(o):od(n)?Rn(o,i+1):n:Il(o)?je.isText(o.previousSibling)?Rn(o.previousSibling,o.previousSibling.data.length):Rn.before(o):Xs(n)?Rn(o,i-1):n},Nr={isInlineTarget:function(e,n){return Da($t.fromDom(n),jn(e))},findRootInline:function(e,n,o){var i,s,h,w=(i=e,s=n,h=o,qe(vn.DOM.getParents(h.container(),"*",s),i));return J.from(w[w.length-1])},isRtl:function(e){return vn.DOM.getStyle(e,"direction",!0)==="rtl"||(n=e.textContent,$l.test(n));var n},isAtZwsp:function(e){return od(e)||Xs(e)},normalizePosition:nr,normalizeForwards:x(nr,!0),normalizeBackwards:x(nr,!1),hasSameParentBlock:function(e,n,o){var i=pl(n,e),s=pl(o,e);return i&&i===s}},po=function(e,n){return wu(e,n)?ka(n,function(i){return T(i)||W(i)},(o=e,function(i){return Xr(o,$t.fromDom(i.dom().parentNode))})):J.none();var o},Ar=function(e){var n,o,i;e.dom.isEmpty(e.getBody())&&(e.setContent(""),o=(n=e).getBody(),i=o.firstChild&&n.dom.isBlock(o.firstChild)?o.firstChild:o,n.selection.setCursorLocation(i,0))},gr=function(e,n,o){return ku(oo.firstPositionIn(o),oo.lastPositionIn(o),function(i,s){var h=Nr.normalizePosition(!0,i),w=Nr.normalizePosition(!1,s),C=Nr.normalizePosition(!1,n);return e?oo.nextPosition(o,C).map(function(k){return k.isEqual(w)&&n.isEqual(h)}).getOr(!1):oo.prevPosition(o,C).map(function(k){return k.isEqual(h)&&n.isEqual(w)}).getOr(!1)}).getOr(!0)},so=function(e,n){var o,i,s,h=$t.fromDom(e),w=$t.fromDom(n);return o=w,i="pre,code",s=x(Xr,h),Fc(o,i,s).isSome()},_o=function(e,n){return Ma(n)&&(i=e,s=n,(je.isText(s)&&/^[ \t\r\n]*$/.test(s.data)&&so(i,s)===!1)===!1)||(o=n,je.isElement(o)&&o.nodeName==="A"&&o.hasAttribute("name"))||ji(n);var o,i,s},ji=je.hasAttribute("data-mce-bookmark"),Ua=je.hasAttribute("data-mce-bogus"),yl=je.hasAttributeValue("data-mce-bogus","all"),fu=function(e){return function(n){var o,i,s=0;if(_o(n,n))return!1;if(!(i=n.firstChild))return!0;o=new Ri(i,n);do if(yl(i))i=o.next(!0);else if(Ua(i))i=o.next();else if(je.isBr(i))s++,i=o.next();else{if(_o(n,i))return!1;i=o.next()}while(i);return s<=1}(e.dom())},Tu=Mu("block","position"),yd=Mu("from","to"),bl=function(e,n){var o=$t.fromDom(e),i=$t.fromDom(n.container());return po(o,i).map(function(s){return Tu(s,n)})},Bx=function(e,n,o){var i=bl(e,Rn.fromRangeStart(o)),s=i.bind(function(h){return oo.fromPosition(n,e,h.position()).bind(function(w){return bl(e,w).map(function(C){return k=e,N=n,O=C,je.isBr(O.position().getNode())&&fu(O.block())===!1?oo.positionIn(!1,O.block().dom()).bind(function(M){return M.isEqual(O.position())?oo.fromPosition(N,k,M).bind(function(F){return bl(k,F)}):J.some(O)}).getOr(O):O;var k,N,O})})});return ku(i,s,yd).filter(function(h){return Xr((k=h).from().block(),k.to().block())===!1&&Ts((C=h).from().block()).bind(function(N){return Ts(C.to().block()).filter(function(O){return Xr(N,O)})}).isSome()&&(w=h,je.isContentEditableFalse(w.from().block().dom())===!1&&je.isContentEditableFalse(w.to().block().dom())===!1);var w,C,k})},Lx=function(e,n,o){return o.collapsed?Bx(e,n,o):J.none()},Fx=function(e,n,o){return wu(n,e)?function(i,s){for(var h=Vt(s)?s:Ce,w=i.dom(),C=[];w.parentNode!==null&&w.parentNode!==void 0;){var k=w.parentNode,N=$t.fromDom(k);if(C.push(N),h(N)===!0)break;w=k}return C}(e,function(i){return o(i)||Xr(i,n)}).slice(0,-1):[]},u0=function(e,n){return Fx(e,n,l(!1))},s0=u0,uf=function(e,n){return[e].concat(u0(e,n))},l0=function(e){var n,o=(n=Xa(e),mn(n,Aa).fold(function(){return n},function(i){return n.slice(0,i)}));return Qt(o,oi),o},Cb=function(e,n){var o=uf(n,e);return Kt(o.reverse(),fu).each(oi)},Hx=function(e,n,o,i){if(fu(o))return jf(o),oo.firstPositionIn(o.dom());qe(Vs(i),function(h){return!fu(h)}).length===0&&fu(n)&&ea(i,$t.fromTag("br"));var s=oo.prevPosition(o.dom(),Rn.before(i.dom()));return Qt(l0(n),function(h){ea(i,h)}),Cb(e,n),s},zx=function(e,n,o){if(fu(o))return oi(o),fu(n)&&jf(n),oo.firstPositionIn(n.dom());var i=oo.lastPositionIn(o.dom());return Qt(l0(n),function(s){Yi(o,s)}),Cb(e,n),i},Sb=function(e,n){return wu(n,e)?(o=uf(e,n),J.from(o[o.length-1])):J.none();var o},kb=function(e,n){oo.positionIn(e,n.dom()).map(function(o){return o.getNode()}).map($t.fromDom).filter(v).each(oi)},Eb=function(e,n,o){return kb(!0,n),kb(!1,o),Sb(n,o).fold(x(zx,e,n,o),x(Hx,e,n,o))},Tb=function(e,n,o,i){return n?Eb(e,i,o):Eb(e,o,i)},$h=function(e,n){var o,i=$t.fromDom(e.getBody());return(o=Lx(i.dom(),n,e.selection.getRng()).bind(function(s){return Tb(i,n,s.from().block(),s.to().block())})).each(function(s){e.selection.setRng(s.toRange())}),o.isSome()},_b=function(e,n){var o=$t.fromDom(n),i=x(Xr,e);return Tf(o,ke,i).isSome()},wc=function(e,n){var o,i,s=oo.prevPosition(e.dom(),Rn.fromRangeStart(n)).isNone(),h=oo.nextPosition(e.dom(),Rn.fromRangeEnd(n)).isNone();return!(_b(o=e,(i=n).startContainer)||_b(o,i.endContainer))&&s&&h},Vh=function(e){var n,o,i,s,h=$t.fromDom(e.getBody()),w=e.selection.getRng();return wc(h,w)?((s=e).setContent(""),s.selection.setCursorLocation(),!0):(n=h,o=e.selection,i=o.getRng(),ku(po(n,$t.fromDom(i.startContainer)),po(n,$t.fromDom(i.endContainer)),function(C,k){return Xr(C,k)===!1&&(i.deleteContents(),Tb(n,!0,C,k).each(function(N){o.setRng(N.toRange())}),!0)}).getOr(!1))},qh=function(e,n){return!e.selection.isCollapsed()&&Vh(e)},bd=function(e){if(!fe(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],o={};return Qt(e,function(i,s){var h=Ss(i);if(h.length!==1)throw new Error("one and only one name per case");var w=h[0],C=i[w];if(o[w]!==void 0)throw new Error("duplicate key detected:"+w);if(w==="cata")throw new Error("cannot have a case named cata (sorry)");if(!fe(C))throw new Error("case arguments must be an array");n.push(w),o[w]=function(){var k=arguments.length;if(k!==C.length)throw new Error("Wrong number of arguments to case "+w+". Expected "+C.length+" ("+C+"), got "+k);for(var N=new Array(k),O=0;O<N.length;O++)N[O]=arguments[O];return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);return arguments[s].apply(null,N)},match:function(M){var F=Ss(M);if(n.length!==F.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+F.join(","));if(!Un(n,function(te){return Zn(F,te)}))throw new Error("Not all branches were specified when using match. Specified: "+F.join(", ")+`
Required: `+n.join(", "));return M[w].apply(null,N)},log:function(M){t.console.log(M,{constructors:n,constructor:w,params:N})}}}}),o},Nb=function(e){return Jc(e).exists(v)},Yh=function(e,n,o){var i=qe(uf($t.fromDom(o.container()),n),Aa),s=Jn(i).getOr(n);return oo.fromPosition(e,s.dom(),o).filter(Nb)},Sg=function(e,n){return Jc(n).exists(v)||Yh(!0,e,n).isSome()},c0=function(e,n){return(o=n,J.from(o.getNode(!0)).map($t.fromDom)).exists(v)||Yh(!1,e,n).isSome();var o},jx=x(Yh,!1),Wx=x(Yh,!0),kg=(Wf="\xA0",function(e){return Wf===e}),f0=function(e){return/^[\r\n\t ]$/.test(e)},Rb=function(e){return!f0(e)&&!kg(e)},Ob=function(e,n,o){return J.from(o.container()).filter(je.isText).exists(function(i){var s=e?0:-1;return n(i.data.charAt(o.offset()+s))})},d0=x(Ob,!0,f0),Eg=x(Ob,!1,f0),Pb=function(e){var n=e.container();return je.isText(n)&&n.data.length===0},Db=function(e,n){var o=bc(e,n);return je.isContentEditableFalse(o)&&!je.isBogusAll(o)},sf=x(Db,0),lf=x(Db,-1),du=function(e,n){return je.isTable(bc(e,n))},Ab=x(du,0),Ux=x(du,-1),Bs=bd([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Mb=function(e,n,o,i){var s=i.getNode(n===!1);return po($t.fromDom(e),$t.fromDom(o.getNode())).map(function(h){return fu(h)?Bs.remove(h.dom()):Bs.moveToElement(s)}).orThunk(function(){return J.some(Bs.moveToElement(s))})},Tg=function(e,n,o){return oo.fromPosition(n,e,o).bind(function(i){return N=i.getNode(),ke($t.fromDom(N))||W($t.fromDom(N))?J.none():(s=e,C=i,k=function(O){return f($t.fromDom(O))&&!ns(w,C,s)},og(!(h=n),w=o).fold(function(){return og(h,C).fold(l(!1),k)},k)?J.none():n&&je.isContentEditableFalse(i.getNode())||n===!1&&je.isContentEditableFalse(i.getNode(!0))?Mb(e,n,o,i):n&&lf(o)||n===!1&&sf(o)?J.some(Bs.moveToPosition(i)):J.none());var s,h,w,C,k,N})},m0=function(e,n,o){return h=n,w=o.getNode(h===!1),C=h?"after":"before",je.isElement(w)&&w.getAttribute("data-mce-caret")===C?(i=n,s=o.getNode(n===!1),i&&je.isContentEditableFalse(s.nextSibling)?J.some(Bs.moveToElement(s.nextSibling)):i===!1&&je.isContentEditableFalse(s.previousSibling)?J.some(Bs.moveToElement(s.previousSibling)):J.none()).fold(function(){return Tg(e,n,o)},J.some):Tg(e,n,o).bind(function(k){return N=e,O=o,k.fold(function(M){return J.some(Bs.remove(M))},function(M){return J.some(Bs.moveToElement(M))},function(M){return ns(O,M,N)?J.none():J.some(Bs.moveToPosition(M))});var N,O});var i,s,h,w,C},h0=function(e,n,o){if(o!==0){var i,s,h,w=e.data.slice(n,n+o),C=n+o>=e.data.length,k=n===0;e.replaceData(n,o,(s=k,h=C,Rt((i=w).split(""),function(N,O){return` \f
\r	\v`.indexOf(O)!==-1||O==="\xA0"?N.previousCharIsSpace||N.str===""&&s||N.str.length===i.length-1&&h?{previousCharIsSpace:!1,str:N.str+"\xA0"}:{previousCharIsSpace:!0,str:N.str+" "}:{previousCharIsSpace:!1,str:N.str+O}},{previousCharIsSpace:!1,str:""}).str))}},_g=function(e,n){var o,i=e.data.slice(n),s=i.length-(o=i,o.replace(/^\s+/g,"")).length;return h0(e,n,s)},p0=function(e,n){return i=e,s=(o=n).container(),h=o.offset(),Rn.isTextPosition(o)===!1&&s===i.parentNode&&h>Rn.before(i).offset()?Rn(n.container(),n.offset()-1):n;var o,i,s,h},Kh=function(e){return Ma(e.previousSibling)?J.some((n=e.previousSibling,je.isText(n)?Rn(n,n.data.length):Rn.after(n))):e.previousSibling?oo.lastPositionIn(e.previousSibling):J.none();var n},Ib=function(e){return Ma(e.nextSibling)?J.some((n=e.nextSibling,je.isText(n)?Rn(n,0):Rn.before(n))):e.nextSibling?oo.firstPositionIn(e.nextSibling):J.none();var n},$x=function(e,n){return Kh(n).orThunk(function(){return Ib(n)}).orThunk(function(){return o=e,i=n,s=Rn.before(i.previousSibling?i.previousSibling:i.parentNode),oo.prevPosition(o,s).fold(function(){return oo.nextPosition(o,Rn.after(i))},J.some);var o,i,s})},Vx=function(e,n){return Ib(n).orThunk(function(){return Kh(n)}).orThunk(function(){return o=e,i=n,oo.nextPosition(o,Rn.after(i)).fold(function(){return oo.prevPosition(o,Rn.before(i))},J.some);var o,i})},$f=function(e,n,o){return(i=e,s=n,h=o,i?Vx(s,h):$x(s,h)).map(x(p0,o));var i,s,h},Ng=function(e,n,o){o.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},wd=function(e,n){return n&&e.schema.getBlockElements().hasOwnProperty(la(n))},Rg=function(e){if(fu(e)){var n=$t.fromHtml('<br data-mce-bogus="1">');return ko(e),Yi(e,n),J.some(Rn.before(n.dom()))}return J.none()},Bb=function(e,n,o){var i,s,h,w,C=$s(e).filter(ba),k=jo(e).filter(ba);return oi(e),(i=C,s=k,h=n,w=function(N,O,M){var F,te,Y,ae,q=N.dom(),Z=O.dom(),le=q.data.length;return te=Z,Y=o,ae=Xn((F=q).data).length,F.appendData(te.data),oi($t.fromDom(te)),Y&&_g(F,ae),M.container()===Z?Rn(q,le):M},i.isSome()&&s.isSome()&&h.isSome()?J.some(w(i.getOrDie(),s.getOrDie(),h.getOrDie())):J.none()).orThunk(function(){return o&&(C.each(function(N){return O=N.dom(),M=N.dom().length,F=O.data.slice(0,M),te=F.length-Xn(F).length,h0(O,M-te,te);var O,M,F,te}),k.each(function(N){return _g(N.dom(),0)})),n})},xd=function(e,n,o,i){i===void 0&&(i=!0);var s,h,w=$f(n,e.getBody(),o.dom()),C=Tf(o,x(wd,e),(s=e.getBody(),function(N){return N.dom()===s})),k=Bb(o,w,(h=o,ca(e.schema.getTextInlineElements(),la(h))));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):C.bind(Rg).fold(function(){i&&Ng(e,n,k)},function(N){i&&Ng(e,n,J.some(N))})},qx=function(e,n){var o,i,s,h,w,C;return(o=e.getBody(),i=n,s=e.selection.getRng(),h=cm(i?1:-1,o,s),w=Rn.fromRangeStart(h),C=$t.fromDom(o),i===!1&&lf(w)?J.some(Bs.remove(w.getNode(!0))):i&&sf(w)?J.some(Bs.remove(w.getNode())):i===!1&&sf(w)&&c0(C,w)?jx(C,w).map(function(k){return Bs.remove(k.getNode())}):i&&lf(w)&&Sg(C,w)?Wx(C,w).map(function(k){return Bs.remove(k.getNode())}):m0(o,i,w)).map(function(k){return k.fold((F=e,te=n,function(Y){return F._selectionOverrides.hideFakeCaret(),xd(F,te,$t.fromDom(Y)),!0}),(O=e,M=n,function(Y){var ae=M?Rn.before(Y):Rn.after(Y);return O.selection.setRng(ae.toRange()),!0}),(N=e,function(Y){return N.selection.setRng(Y.toRange()),!0}));var N,O,M,F,te}).getOr(!1)},Yx=function(e,n){var o,i=e.selection.getNode();return!!je.isContentEditableFalse(i)&&(o=$t.fromDom(e.getBody()),Qt(cs(o,".mce-offscreen-selection"),oi),xd(e,n,$t.fromDom(e.selection.getNode())),Ar(e),!0)},Xh=function(e,n){return e.selection.isCollapsed()?qx(e,n):Yx(e,n)},Lb=function(e){var n,o=function(i,s){for(;s&&s!==i;){if(je.isContentEditableTrue(s)||je.isContentEditableFalse(s))return s;s=s.parentNode}return null}(e.getBody(),e.selection.getNode());return je.isContentEditableTrue(o)&&e.dom.isBlock(o)&&e.dom.isEmpty(o)&&(n=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(o,""),o.appendChild(n),e.selection.setRng(Rn.before(n).toRange())),!0},Cm=je.isText,Fb=function(e){return Cm(e)&&e.data[0]===Qa},Hb=function(e){return Cm(e)&&e.data[e.data.length-1]===Qa},g0=function(e){return e.ownerDocument.createTextNode(Qa)},Gh=function(e,n){return e?function(o){if(Cm(o.previousSibling))return Hb(o.previousSibling)||o.previousSibling.appendData(Qa),o.previousSibling;if(Cm(o))return Fb(o)||o.insertData(0,Qa),o;var i=g0(o);return o.parentNode.insertBefore(i,o),i}(n):function(o){if(Cm(o.nextSibling))return Fb(o.nextSibling)||o.nextSibling.insertData(0,Qa),o.nextSibling;if(Cm(o))return Hb(o)||o.appendData(Qa),o;var i=g0(o);return o.nextSibling?o.parentNode.insertBefore(i,o.nextSibling):o.parentNode.appendChild(i),i}(n)},Kx=x(Gh,!0),Xx=x(Gh,!1),zb=function(e,n){return je.isText(e.container())?Gh(n,e.container()):Gh(n,e.getNode())},jb=function(e,n){var o=n.get();return o&&e.container()===o&&Il(o)},v0=function(e,n){return n.fold(function(o){$c.remove(e.get());var i=Kx(o);return e.set(i),J.some(Rn(i,i.length-1))},function(o){return oo.firstPositionIn(o).map(function(i){if(jb(i,e))return Rn(e.get(),1);$c.remove(e.get());var s=zb(i,!0);return e.set(s),Rn(s,1)})},function(o){return oo.lastPositionIn(o).map(function(i){if(jb(i,e))return Rn(e.get(),e.get().length-1);$c.remove(e.get());var s=zb(i,!1);return e.set(s),Rn(s,s.length-1)})},function(o){$c.remove(e.get());var i=Xx(o);return e.set(i),J.some(Rn(i,1))})},Wb=function(e,n){for(var o=0;o<e.length;o++){var i=e[o].apply(null,n);if(i.isSome())return i}return J.none()},_u=bd([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),da=function(e,n){var o=pl(n,e);return o||e},y0=function(e,n,o){var i=Nr.normalizeForwards(o),s=da(n,i.container());return Nr.findRootInline(e,s,i).fold(function(){return oo.nextPosition(s,i).bind(x(Nr.findRootInline,e,s)).map(function(h){return _u.before(h)})},J.none)},b0=function(e,n){return Fl(e,n)===null},Ub=function(e,n,o){return Nr.findRootInline(e,n,o).filter(x(b0,n))},$b=function(e,n,o){var i=Nr.normalizeBackwards(o);return Ub(e,n,i).bind(function(s){return oo.prevPosition(s,i).isNone()?J.some(_u.start(s)):J.none()})},Gx=function(e,n,o){var i=Nr.normalizeForwards(o);return Ub(e,n,i).bind(function(s){return oo.nextPosition(s,i).isNone()?J.some(_u.end(s)):J.none()})},Vb=function(e,n,o){var i=Nr.normalizeBackwards(o),s=da(n,i.container());return Nr.findRootInline(e,s,i).fold(function(){return oo.prevPosition(s,i).bind(x(Nr.findRootInline,e,s)).map(function(h){return _u.after(h)})},J.none)},w0=function(e){return Nr.isRtl(x0(e))===!1},Jh=function(e,n,o){return Wb([y0,$b,Gx,Vb],[e,n,o]).filter(w0)},x0=function(e){return e.fold(g,g,g,g)},qb=function(e){return e.fold(l("before"),l("start"),l("end"),l("after"))},Qh=function(e){return e.fold(_u.before,_u.before,_u.after,_u.after)},Jx=function(e,n,o,i,s,h){return ku(Nr.findRootInline(n,o,i),Nr.findRootInline(n,o,s),function(w,C){return w!==C&&Nr.hasSameParentBlock(o,w,C)?_u.after(e?w:C):h}).getOr(h)},Qx=function(e,n){return e.fold(l(!0),function(o){return s=n,!(qb(i=o)===qb(s)&&x0(i)===x0(s));var i,s})},C0=function(e,n){return e?n.fold(a(J.some,_u.start),J.none,a(J.some,_u.after),J.none):n.fold(J.none,a(J.some,_u.before),J.none,a(J.some,_u.end))},Zh=function(e,n,o,i){var s=Nr.normalizePosition(e,i),h=Jh(n,o,s);return Jh(n,o,s).bind(x(C0,e)).orThunk(function(){return w=e,C=n,k=o,N=h,O=i,M=Nr.normalizePosition(w,O),oo.fromPosition(w,k,M).map(x(Nr.normalizePosition,w)).fold(function(){return N.map(Qh)},function(F){return Jh(C,k,F).map(x(Jx,w,C,k,M,F)).filter(x(Qx,N))}).filter(w0);var w,C,k,N,O,M})},xc=Jh,Og=Zh,Pg=(x(Zh,!1),x(Zh,!0),Qh),Dg=function(e){return e.fold(_u.start,_u.start,_u.end,_u.end)},S0=function(e){return Vt(e.selection.getSel().modify)},Yb=function(e,n,o){var i=e?1:-1;return n.setRng(Rn(o.container(),o.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},k0=function(e,n){var o=n.selection.getRng(),i=e?Rn.fromRangeEnd(o):Rn.fromRangeStart(o);return!!S0(n)&&(e&&od(i)?Yb(!0,n.selection,i):!(e||!Xs(i))&&Yb(!1,n.selection,i))},Ag=function(e,n){var o=e.dom.createRng();o.setStart(n.container(),n.offset()),o.setEnd(n.container(),n.offset()),e.selection.setRng(o)},Mg=function(e){return e.settings.inline_boundaries!==!1},E0=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},Kb=function(e,n,o){return v0(n,o).map(function(i){return Ag(e,i),o})},Ig=function(e,n,o){return function(){return!!Mg(n)&&k0(e,n)}},Sm={move:function(e,n,o){return function(){return!!Mg(e)&&(i=e,s=n,h=o,w=i.getBody(),C=Rn.fromRangeStart(i.selection.getRng()),k=x(Nr.isInlineTarget,i),Og(h,k,w,C).bind(function(N){return Kb(i,s,N)})).isSome();var i,s,h,w,C,k}},moveNextWord:x(Ig,!0),movePrevWord:x(Ig,!1),setupSelectedState:function(e){var n=aa(null),o=x(Nr.isInlineTarget,e);return e.on("NodeChange",function(i){var s,h,w,C,k;Mg(e)&&(s=o,h=e.dom,w=i.parents,C=qe(h.select('*[data-mce-selected="inline-boundary"]'),s),k=qe(w,s),Qt(Or(C,k),x(E0,!1)),Qt(Or(k,C),x(E0,!0)),function(N,O){if(N.selection.isCollapsed()&&N.composing!==!0&&O.get()){var M=Rn.fromRangeStart(N.selection.getRng());Rn.isTextPosition(M)&&Nr.isAtZwsp(M)===!1&&(Ag(N,$c.removeAndReposition(O.get(),M)),O.set(null))}}(e,n),function(N,O,M,F){if(O.selection.isCollapsed()){var te=qe(F,N);Qt(te,function(Y){var ae=Rn.fromRangeStart(O.selection.getRng());xc(N,O.getBody(),ae).bind(function(q){return Kb(O,M,q)})})}}(o,e,n,i.parents))}),n},setCaretPosition:Ag},Xb=function(e,n){return function(o){return v0(n,o).map(function(i){return Sm.setCaretPosition(e,i),!0}).getOr(!1)}},Bg=function(e,n,o,i){var s=e.getBody(),h=x(Nr.isInlineTarget,e);e.undoManager.ignore(function(){var w,C,k;e.selection.setRng((w=o,C=i,(k=t.document.createRange()).setStart(w.container(),w.offset()),k.setEnd(C.container(),C.offset()),k)),e.execCommand("Delete"),xc(h,s,Rn.fromRangeStart(e.selection.getRng())).map(Dg).map(Xb(e,n))}),e.nodeChanged()},Gb=function(e,n,o,i){var s,h,w=(s=e.getBody(),h=i.container(),pl(h,s)||s),C=x(Nr.isInlineTarget,e),k=xc(C,w,i);return k.bind(function(N){return o?N.fold(l(J.some(Dg(N))),J.none,l(J.some(Pg(N))),J.none):N.fold(J.none,l(J.some(Pg(N))),J.none,l(J.some(Dg(N))))}).map(Xb(e,n)).getOrThunk(function(){var N=oo.navigate(o,w,i),O=N.bind(function(M){return xc(C,w,M)});return k.isSome()&&O.isSome()?Nr.findRootInline(C,w,i).map(function(M){return F=M,!!ku(oo.firstPositionIn(F),oo.lastPositionIn(F),function(te,Y){var ae=Nr.normalizePosition(!0,te),q=Nr.normalizePosition(!1,Y);return oo.nextPosition(F,ae).map(function(Z){return Z.isEqual(q)}).getOr(!0)}).getOr(!0)&&(xd(e,o,$t.fromDom(M)),!0);var F}).getOr(!1):O.bind(function(M){return N.map(function(F){return o?Bg(e,n,i,F):Bg(e,n,F,i),!0})}).getOr(!1)})},Lg=function(e,n,o){if(e.selection.isCollapsed()&&e.settings.inline_boundaries!==!1){var i=Rn.fromRangeStart(e.selection.getRng());return Gb(e,n,o,i)}return!1},ep=Mu("start","end"),T0=Mu("rng","table","cells"),Jb=bd([{removeTable:["element"]},{emptyCells:["cells"]}]),tp=function(e,n){return $d($t.fromDom(e),"td,th",n)},km=function(e,n){return Fc(e,"table",n)},Zx=function(e){return Xr(e.start(),e.end())===!1},Qb=function(e,n){return km(e.start(),n).bind(function(o){return km(e.end(),n).bind(function(i){return Xr(o,i)?J.some(o):J.none()})})},Fg=function(e){return cs(e,"td,th")},Zb=function(e,n){var o=tp(n.startContainer,e),i=tp(n.endContainer,e);return n.collapsed?J.none():ku(o,i,ep).fold(function(){return o.fold(function(){return i.bind(function(s){return km(s,e).bind(function(h){return Jn(Fg(h)).map(function(w){return ep(w,s)})})})},function(s){return km(s,e).bind(function(h){return Jr(Fg(h)).map(function(w){return ep(s,w)})})})},function(s){return _0(e,s)?J.none():(w=e,km((h=s).start(),w).bind(function(C){return Jr(Fg(C)).map(function(k){return ep(h.start(),k)})}));var h,w})},_0=function(e,n){return Qb(n,e).isSome()},N0=function(e,n){var o,i,s,h,w=x(Xr,e);return(o=n,i=w,s=tp(o.startContainer,i),h=tp(o.endContainer,i),ku(s,h,ep).filter(Zx).filter(function(C){return _0(i,C)}).orThunk(function(){return Zb(i,o)})).bind(function(C){return Qb(k=C,w).map(function(N){return T0(k,N,Fg(N))});var k})},R0=function(e,n){return mn(e,function(o){return Xr(o,n)})},O0=function(e){return(n=e,ku(R0(n.cells(),n.rng().start()),R0(n.cells(),n.rng().end()),function(o,i){return n.cells().slice(o,i+1)})).map(function(o){var i=e.cells();return o.length===i.length?Jb.removeTable(e.table()):Jb.emptyCells(o)});var n},Hg=function(e,n){return N0(e,n).bind(O0)},P0=function(e){var n=[];if(e)for(var o=0;o<e.rangeCount;o++)n.push(e.getRangeAt(o));return n},e1=P0,zg=function(e){return xn(e,function(n){var o=sd(n);return o?[$t.fromDom(o)]:[]})},jg=function(e){return 1<P0(e).length},t1=function(e){return qe(zg(e),ke)},n1=function(e){return cs(e,"td[data-mce-selected],th[data-mce-selected]")},r1=function(e,n){var o=n1(n),i=t1(e);return 0<o.length?o:i},o1=r1,D0=function(e){return r1(e1(e.selection.getSel()),$t.fromDom(e.getBody()))},A0=function(e,n){return Qt(n,jf),e.selection.setCursorLocation(n[0].dom(),0),!0},eC=function(e,n){return xd(e,!1,n),!0},i1=function(e,n,o,i){return Wg(n,i).fold(function(){return s=e,Hg(n,o).map(function(h){return h.fold(x(eC,s),x(A0,s))});var s},function(s){return Ug(e,s)}).getOr(!1)},M0=function(e,n){return Kt(uf(n,e),ke)},Wg=function(e,n){return Kt(uf(n,e),function(o){return la(o)==="caption"})},Ug=function(e,n){return jf(n),e.selection.setCursorLocation(n.dom(),0),J.some(!0)},tC=function(e,n,o,i,s){return oo.navigate(o,e.getBody(),s).bind(function(h){return k=i,N=o,O=s,M=h,oo.firstPositionIn(k.dom()).bind(function(F){return oo.lastPositionIn(k.dom()).map(function(te){return N?O.isEqual(F)&&M.isEqual(te):O.isEqual(te)&&M.isEqual(F)})}).getOr(!0)?Ug(e,i):(w=i,C=h,Wg(n,$t.fromDom(C.getNode())).map(function(F){return Xr(F,w)===!1}));var w,C,k,N,O,M}).or(J.some(!0))},nC=function(e,n,o,i){var s=Rn.fromRangeStart(e.selection.getRng());return M0(o,i).bind(function(h){return fu(h)?Ug(e,h):(w=e,C=o,k=n,N=h,O=s,oo.navigate(k,w.getBody(),O).bind(function(M){return M0(C,$t.fromDom(M.getNode())).map(function(F){return Xr(F,N)===!1})}));var w,C,k,N,O})},$g=function(e,n,o){var i=$t.fromDom(e.getBody());return Wg(i,o).fold(function(){return nC(e,n,i,o)},function(s){return h=e,w=n,C=i,k=s,N=Rn.fromRangeStart(h.selection.getRng()),fu(k)?Ug(h,k):tC(h,C,w,k,N);var h,w,C,k,N}).getOr(!1)},Vg=function(e,n){var o,i,s,h,w,C=$t.fromDom(e.selection.getStart(!0)),k=D0(e);return e.selection.isCollapsed()&&k.length===0?$g(e,n,C):(o=e,i=C,s=$t.fromDom(o.getBody()),h=o.selection.getRng(),(w=D0(o)).length!==0?A0(o,w):i1(o,s,h,i))},I0=Yo.isEq,B0=function(e,n,o){var i=e.formatter.get(o);if(i){for(var s=0;s<i.length;s++)if(i[s].inherit===!1&&e.dom.is(n,i[s].selector))return!0}return!1},qg=function(e,n,o,i){var s=e.dom.getRoot();return n!==s&&(n=e.dom.getParent(n,function(h){return!!B0(e,h,o)||h.parentNode===s||!!np(e,h,o,i,!0)}),np(e,n,o,i))},a1=function(e,n,o){return!!I0(n,o.inline)||!!I0(n,o.block)||(o.selector?n.nodeType===1&&e.is(n,o.selector):void 0)},L0=function(e,n,o,i,s,h){var w,C,k,N=o[i];if(o.onmatch)return o.onmatch(n,o,i);if(N){if(typeof N.length=="undefined"){for(w in N)if(N.hasOwnProperty(w)&&(C=i==="attributes"?e.getAttrib(n,w):Yo.getStyle(e,n,w),s&&!C&&!o.exact||(!s||o.exact)&&!I0(C,Yo.normalizeStyleValue(e,Yo.replaceVars(N[w],h),w))))return}else for(k=0;k<N.length;k++)if(i==="attributes"?e.getAttrib(n,N[k]):Yo.getStyle(e,n,N[k]))return o}return o},np=function(e,n,o,i,s){var h,w,C,k,N=e.formatter.get(o),O=e.dom;if(N&&n){for(w=0;w<N.length;w++)if(h=N[w],a1(e.dom,n,h)&&L0(O,n,h,"attributes",s,i)&&L0(O,n,h,"styles",s,i)){if(k=h.classes){for(C=0;C<k.length;C++)if(!e.dom.hasClass(n,k[C]))return}return h}}},tl={matchNode:np,matchName:a1,match:function(e,n,o,i){var s;return i?qg(e,i,n,o):(i=e.selection.getNode(),!!qg(e,i,n,o)||!((s=e.selection.getStart())===i||!qg(e,s,n,o)))},matchAll:function(e,n,o){var i,s=[],h={};return i=e.selection.getStart(),e.dom.getParent(i,function(w){var C,k;for(C=0;C<n.length;C++)k=n[C],!h[k]&&np(e,w,k,o)&&(h[k]=!0,s.push(k))},e.dom.getRoot()),s},canApply:function(e,n){var o,i,s,h,w,C=e.formatter.get(n),k=e.dom;if(C)for(o=e.selection.getStart(),i=Yo.getParents(k,o),h=C.length-1;0<=h;h--){if(!(w=C[h].selector)||C[h].defaultBlock)return!0;for(s=i.length-1;0<=s;s--)if(k.is(i[s],w))return!0}return!1},matchesUnInheritedFormatSelector:B0},Yg=function(e,n){return e.splitText(n)},rp=function(e){var n=e.startContainer,o=e.startOffset,i=e.endContainer,s=e.endOffset;return n===i&&je.isText(n)?0<o&&o<n.nodeValue.length&&(n=(i=Yg(n,o)).previousSibling,o<s?(n=i=Yg(i,s-=o).previousSibling,s=i.nodeValue.length,o=0):s=0):(je.isText(n)&&0<o&&o<n.nodeValue.length&&(n=Yg(n,o),o=0),je.isText(i)&&0<s&&s<i.nodeValue.length&&(s=(i=Yg(i,s).previousSibling).nodeValue.length)),{startContainer:n,startOffset:o,endContainer:i,endOffset:s}},Cd=Qa,F0="_mce_caret",Em=function(e){return 0<function(n){for(var o=[];n;){if(n.nodeType===3&&n.nodeValue!==Cd||1<n.childNodes.length)return[];n.nodeType===1&&o.push(n),n=n.firstChild}return o}(e).length},Tm=function(e){var n;if(e){for(e=(n=new Ri(e,e)).current();e;e=n.next())if(e.nodeType===3)return e}return null},op=function(e){var n=$t.fromTag("span");return iu(n,{id:F0,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Yi(n,$t.fromText(Cd)),n},ip=function(e,n,o){o===void 0&&(o=!0);var i,s=e.dom,h=e.selection;if(Em(n))xd(e,!1,$t.fromDom(n),o);else{var w=h.getRng(),C=s.getParent(n,s.isBlock),k=((i=Tm(n))&&i.nodeValue.charAt(0)===Cd&&i.deleteData(0,1),i);w.startContainer===k&&0<w.startOffset&&w.setStart(k,w.startOffset-1),w.endContainer===k&&0<w.endOffset&&w.setEnd(k,w.endOffset-1),s.remove(n,!0),C&&s.isEmpty(C)&&jf($t.fromDom(C)),h.setRng(w)}},ap=function(e,n,o){o===void 0&&(o=!0);var i=e.dom,s=e.selection;if(n)ip(e,n,o);else if(!(n=Fl(e.getBody(),s.getStart())))for(;n=i.get(F0);)ip(e,n,!1)},u1=function(e,n,o){var i=e.dom,s=i.getParent(o,x(Yo.isTextBlock,e));s&&i.isEmpty(s)?o.parentNode.replaceChild(n,o):(vg($t.fromDom(o)),i.isEmpty(o)?o.parentNode.replaceChild(n,o):i.insertAfter(n,o))},H0=function(e,n){return e.appendChild(n),n},z0=function(e,n){var o,i,s=(o=function(h,w){return H0(h,w.cloneNode(!1))},i=n,function(h,w){for(var C=h.length-1;0<=C;C--)w(h[C],C)}(e,function(h){i=o(i,h)}),i);return H0(s,s.ownerDocument.createTextNode(Cd))},s1=function(e){e.on("mouseup keydown",function(n){var o,i,s,h;o=e,i=n.keyCode,s=o.selection,h=o.getBody(),ap(o,null,!1),i!==8&&i!==46||!s.isCollapsed()||s.getStart().innerHTML!==Cd||ap(o,Fl(h,s.getStart())),i!==37&&i!==39||ap(o,Fl(h,s.getStart()))})},l1=function(e,n){return e.schema.getTextInlineElements().hasOwnProperty(la(n))&&!Qs(n.dom())&&!je.isBogus(n.dom())},rC=function(e){return Xa(e).length===1},oC=function(e,n,o,i){var s,h,w,C,k=x(l1,n),N=er(qe(i,k),function(M){return M.dom()});if(N.length===0)xd(n,e,o);else{var O=(s=o.dom(),h=N,w=op(!1),C=z0(h,w.dom()),ea($t.fromDom(s),w),oi($t.fromDom(s)),Rn(C,0));n.selection.setRng(O.toRange())}},iC=function(e,n){var o,i=$t.fromDom(e.getBody()),s=$t.fromDom(e.selection.getStart()),h=qe((o=uf(s,i),mn(o,Aa).fold(l(o),function(w){return o.slice(0,w)})),rC);return Jr(h).map(function(w){var C,k=Rn.fromRangeStart(e.selection.getRng());return!(!gr(n,k,w.dom())||Qs((C=w).dom())&&Em(C.dom())||(oC(n,e,w,h),0))}).getOr(!1)},Vf=function(e,n){return!!e.selection.isCollapsed()&&iC(e,n)},j0=function(e){for(var n=0,o=0,i=e;i&&i.nodeType;)n+=i.offsetLeft||0,o+=i.offsetTop||0,i=i.offsetParent;return{x:n,y:o}},c1=function(e,n,o){var i,s,h,w,C,k=e.dom,N=k.getRoot(),O=0;if(C={elm:n,alignToTop:o},e.fire("scrollIntoView",C),!C.isDefaultPrevented()&&je.isElement(n)){if(o===!1&&(O=n.offsetHeight),N.nodeName!=="BODY"){var M=e.selection.getScrollContainer();if(M)return i=j0(n).y-j0(M).y+O,w=M.clientHeight,void((i<(h=M.scrollTop)||h+w<i+25)&&(M.scrollTop=i<h?i:i-w+25))}s=k.getViewPort(e.getWin()),i=k.getPos(n).y+O,h=s.y,w=s.h,(i<s.y||h+w<i+25)&&e.getWin().scrollTo(0,i<h?i:i-w+25)}},aC=function(e,n){Jn(ta.fromRangeStart(n).getClientRects()).each(function(o){var i,s,h,w,C,k,N,O,M,F=function(Y){if(Y.inline)return Y.getBody().getBoundingClientRect();var ae=Y.getWin();return{left:0,right:ae.innerWidth,top:0,bottom:ae.innerHeight,width:ae.innerWidth,height:ae.innerHeight}}(e),te={x:(C=i=F,k=s=o,k.left>C.left&&k.right<C.right?0:k.left<C.left?k.left-C.left:k.right-C.right),y:(h=i,w=s,w.top>h.top&&w.bottom<h.bottom?0:w.top<h.top?w.top-h.top:w.bottom-h.bottom)};O=te.x!==0?0<te.x?te.x+4:te.x-4:0,M=te.y!==0?0<te.y?te.y+4:te.y-4:0,(N=e).inline?(N.getBody().scrollLeft+=O,N.getBody().scrollTop+=M):N.getWin().scrollBy(O,M)})},uC=je.isContentEditableTrue,up=je.isContentEditableFalse,nl=function(e,n,o,i,s){return n._selectionOverrides.showCaret(e,o,i,s)},Kg=function(e,n){var o,i;return e.fire("BeforeObjectSelected",{target:n}).isDefaultPrevented()?null:((i=(o=n).ownerDocument.createRange()).selectNode(o),i)},W0=function(e,n,o){var i=cm(1,e.getBody(),n),s=Rn.fromRangeStart(i),h=s.getNode();if(up(h))return nl(1,e,h,!s.isAtEnd(),!1);var w=s.getNode(!0);if(up(w))return nl(1,e,w,!1,!1);var C=e.dom.getParent(s.getNode(),function(k){return up(k)||uC(k)});return up(C)?nl(1,e,C,!1,o):null},Xg=function(e,n,o){if(!n||!n.collapsed)return n;var i=W0(e,n,o);return i||n},qf=function(e,n){e.selection.setRng(n),aC(e,e.selection.getRng())},f1=function(e,n,o,i,s,h){var w,C,k=nl(i,e,h.getNode(!s),s,!0);if(n.collapsed){var N=n.cloneRange();s?N.setEnd(k.startContainer,k.startOffset):N.setStart(k.endContainer,k.endOffset),N.deleteContents()}else n.deleteContents();return e.selection.setRng(k),w=e.dom,C=o,je.isText(C)&&C.data.length===0&&w.remove(C),!0},Gg=function(e,n){return function(o,i){var s=o.selection.getRng();if(!je.isText(s.commonAncestorContainer))return!1;var h=i?Eu.Forwards:Eu.Backwards,w=Wu(o.getBody()),C=x(ju,w.next),k=x(ju,w.prev),N=i?C:k,O=i?sf:lf,M=Gc(h,o.getBody(),s),F=Nr.normalizePosition(i,N(M));if(!F)return!1;if(O(F))return f1(o,s,M.getNode(),h,i,F);var te=N(F);return!!(te&&O(te)&&Th(F,te))&&f1(o,s,M.getNode(),h,i,te)}(e,n)},d1=function(e,n){e.getDoc().execCommand(n,!1,null)},sC=function(e){Xh(e,!1)||Gg(e,!1)||Lg(e,!1)||$h(e,!1)||Vg(e)||qh(e)||Vf(e,!1)||(d1(e,"Delete"),Ar(e))},lC=function(e){Xh(e,!0)||Gg(e,!0)||Lg(e,!0)||$h(e,!0)||Vg(e)||qh(e)||Vf(e,!0)||d1(e,"ForwardDelete")},cC=function(e,n,o){var i=function(s){return h=e,w=s.dom(),C=Ac(w,h),J.from(C).filter(function(k){return 0<k.length});var h,w,C};return ka($t.fromDom(o),function(s){return i(s).isSome()},function(s){return Xr($t.fromDom(n),s)}).bind(i)},m1=function(e){return function(n,o){return J.from(o).map($t.fromDom).filter(bu).bind(function(i){return cC(e,n,i.dom()).or((s=e,h=i.dom(),J.from(vn.DOM.getStyle(h,s,!0))));var s,h}).getOr("")}},Jg={getFontSize:m1("font-size"),getFontFamily:a(function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},m1("font-family")),toPt:function(e,n){return/[0-9.]+px$/.test(e)?(o=72*parseInt(e,10)/96,i=n||0,s=Math.pow(10,i),Math.round(o*s)/s+"pt"):e;var o,i,s}},U0=function(e){return oo.firstPositionIn(e.getBody()).map(function(n){var o=n.container();return je.isText(o)?o.parentNode:o})},sp=function(e){return J.from(e.selection.getRng()).bind(function(n){var o,i,s=e.getBody();return i=s,(o=n).startContainer===i&&o.startOffset===0?J.none():J.from(e.selection.getStart(!0))})},$0=function(e,n){if(/^[0-9\.]+$/.test(n)){var o=parseInt(n,10);if(1<=o&&o<=7){var i=B(e),s=z(e);return s?s[o-1]||n:i[o-1]||n}return n}return n},lp=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},_m=function(e,n,o){return function(i,s,h){for(;i&&i!==s;){if(h(i))return i;i=i.parentNode}return null}(e,n,o)!==null},h1=function(e,n,o){return _m(e,n,function(i){return i.nodeName===o})},Qg=function(e){return e&&e.nodeName==="TABLE"},Zg=function(e,n,o){for(var i=new Ri(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[o?"prev":"next"]();)if(je.isBr(n))return!0},V0=function(e,n,o,i,s){var h,w,C,k,N,O,M=e.getRoot(),F=e.schema.getNonEmptyElements();if(C=e.getParent(s.parentNode,e.isBlock)||M,i&&je.isBr(s)&&n&&e.isEmpty(C))return J.some(ta(s.parentNode,e.nodeIndex(s)));for(h=new Ri(s,C);k=h[i?"prev":"next"]();){if(e.getContentEditableParent(k)==="false"||(O=M,fs(N=k)&&_m(N,O,Qs)===!1))return J.none();if(je.isText(k)&&0<k.nodeValue.length)return h1(k,M,"A")===!1?J.some(ta(k,i?k.nodeValue.length:0)):J.none();if(e.isBlock(k)||F[k.nodeName.toLowerCase()])return J.none();w=k}return o&&w?J.some(ta(w,0)):J.none()},p1=function(e,n,o,i){var s,h,w,C,k,N,O,M,F,te,Y=e.getRoot(),ae=!1;if(s=i[(o?"start":"end")+"Container"],h=i[(o?"start":"end")+"Offset"],O=je.isElement(s)&&h===s.childNodes.length,k=e.schema.getNonEmptyElements(),N=o,fs(s))return J.none();if(je.isElement(s)&&h>s.childNodes.length-1&&(N=!1),je.isDocument(s)&&(s=Y,h=0),s===Y){if(N&&(C=s.childNodes[0<h?h-1:0])&&(fs(C)||k[C.nodeName]||Qg(C)))return J.none();if(s.hasChildNodes()){if(h=Math.min(!N&&0<h?h-1:h,s.childNodes.length-1),s=s.childNodes[h],h=je.isText(s)&&O?s.data.length:0,!n&&s===Y.lastChild&&Qg(s)||function(q,Z){for(;Z&&Z!==q;){if(je.isContentEditableFalse(Z))return!0;Z=Z.parentNode}return!1}(Y,s)||fs(s))return J.none();if(s.hasChildNodes()&&Qg(s)===!1){w=new Ri(C=s,Y);do{if(je.isContentEditableFalse(C)||fs(C)){ae=!1;break}if(je.isText(C)&&0<C.nodeValue.length){h=N?0:C.nodeValue.length,s=C,ae=!0;break}if(k[C.nodeName.toLowerCase()]&&(!(M=C)||!/^(TD|TH|CAPTION)$/.test(M.nodeName))){h=e.nodeIndex(C),s=C.parentNode,N||h++,ae=!0;break}}while(C=N?w.next():w.prev())}}}return n&&(je.isText(s)&&h===0&&V0(e,O,n,!0,s).each(function(q){s=q.container(),h=q.offset(),ae=!0}),je.isElement(s)&&((C=s.childNodes[h])||(C=s.childNodes[h-1]),!C||!je.isBr(C)||(te="A",(F=C).previousSibling&&F.previousSibling.nodeName===te)||Zg(e,C,!1)||Zg(e,C,!0)||V0(e,O,n,!0,C).each(function(q){s=q.container(),h=q.offset(),ae=!0}))),N&&!n&&je.isText(s)&&h===s.nodeValue.length&&V0(e,O,n,!1,s).each(function(q){s=q.container(),h=q.offset(),ae=!0}),ae?J.some(ta(s,h)):J.none()},cp=function(e,n){var o=n.collapsed,i=n.cloneRange(),s=ta.fromRangeStart(n);return p1(e,o,!0,i).each(function(h){o&&ta.isAbove(s,h)||i.setStart(h.container(),h.offset())}),o||p1(e,o,!1,i).each(function(h){i.setEnd(h.container(),h.offset())}),o&&i.collapse(!0),lp(n,i)?J.none():J.some(i)},q0=function(e,n,o){var i=e.create("span",{},"&nbsp;");o.parentNode.insertBefore(i,o),n.scrollIntoView(i),e.remove(i)},Y0=function(e,n,o,i){var s=e.createRng();i?(s.setStartBefore(o),s.setEndBefore(o)):(s.setStartAfter(o),s.setEndAfter(o)),n.setRng(s)},K0=function(e,n){var o,i,s=e.selection,h=e.dom,w=s.getRng();cp(h,w).each(function(Y){w.setStart(Y.startContainer,Y.startOffset),w.setEnd(Y.endContainer,Y.endOffset)});var C=w.startOffset,k=w.startContainer;if(k.nodeType===1&&k.hasChildNodes()){var N=C>k.childNodes.length-1;k=k.childNodes[Math.min(C,k.childNodes.length-1)]||k,C=N&&k.nodeType===3?k.nodeValue.length:0}var O=h.getParent(k,h.isBlock),M=O?h.getParent(O.parentNode,h.isBlock):null,F=M?M.nodeName.toUpperCase():"",te=n&&n.ctrlKey;F!=="LI"||te||(O=M),k&&k.nodeType===3&&C>=k.nodeValue.length&&(function(Y,ae,q){for(var Z,le=new Ri(ae,q),xe=Y.getNonEmptyElements();Z=le.next();)if(xe[Z.nodeName.toLowerCase()]||0<Z.length)return!0}(e.schema,k,O)||(o=h.create("br"),w.insertNode(o),w.setStartAfter(o),w.setEndAfter(o),i=!0)),o=h.create("br"),bh(h,w,o),q0(h,s,o),Y0(h,s,o,i),e.undoManager.add()},X0=function(e,n){var o=$t.fromTag("br");ea($t.fromDom(n),o),e.undoManager.add()},fC=function(e,n){Nm(e.getBody(),n)||ja($t.fromDom(n),$t.fromTag("br"));var o=$t.fromTag("br");ja($t.fromDom(n),o),q0(e.dom,e.selection,o.dom()),Y0(e.dom,e.selection,o.dom(),!1),e.undoManager.add()},Nm=function(e,n){return o=Rn.after(n),!!je.isBr(o.getNode())||oo.nextPosition(e,Rn.after(n)).map(function(i){return je.isBr(i.getNode())}).getOr(!1);var o},Rm=function(e){return e&&e.nodeName==="A"&&"href"in e},dC=function(e){return e.fold(l(!1),Rm,Rm,l(!1))},mC=function(e,n){n.fold(r,x(X0,e),x(fC,e),r)},g1=function(e,n){var o,i,s,h=(o=e,i=x(Nr.isInlineTarget,o),s=Rn.fromRangeStart(o.selection.getRng()),xc(i,o.getBody(),s).filter(dC));h.isSome()?h.each(x(mC,e)):K0(e,n)},hC={create:Mu("start","soffset","finish","foffset")},G0=bd([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),v1=(G0.before,G0.on,G0.after,function(e){return e.fold(g,g,g)}),ev=bd([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),J0={domRange:ev.domRange,relative:ev.relative,exact:ev.exact,exactFromRange:function(e){return ev.exact(e.start(),e.soffset(),e.finish(),e.foffset())},getWin:function(e){var n=e.match({domRange:function(o){return $t.fromDom(o.startContainer)},relative:function(o,i){return v1(o)},exact:function(o,i,s,h){return o}});return Ef(n)},range:hC.create},y1=kn.detect().browser,Vl=function(e,n){var o=ba(n)?bm(n).length:Xa(n).length+1;return o<e?o:e<0?0:e},Sd=function(e){return J0.range(e.start(),Vl(e.soffset(),e.start()),e.finish(),Vl(e.foffset(),e.finish()))},tv=function(e,n){return!je.isRestrictedNode(n.dom())&&(wu(e,n)||Xr(e,n))},Q0=function(e){return function(n){return tv(e,n.start())&&tv(e,n.finish())}},b1=function(e){return e.inline===!0||y1.isIE()},pC=function(e){return J0.range($t.fromDom(e.startContainer),e.startOffset,$t.fromDom(e.endContainer),e.endOffset)},gC=function(e){var n=e.getSelection();return(n&&n.rangeCount!==0?J.from(n.getRangeAt(0)):J.none()).map(pC)},vC=function(e){var n=Ef(e);return gC(n.dom()).filter(Q0(e))},w1=function(e,n){return J.from(n).filter(Q0(e)).map(Sd)},yC=function(e){var n=t.document.createRange();try{return n.setStart(e.start().dom(),e.soffset()),n.setEnd(e.finish().dom(),e.foffset()),J.some(n)}catch{return J.none()}},x1=function(e){return(e.bookmark?e.bookmark:J.none()).bind(x(w1,$t.fromDom(e.getBody()))).bind(yC)},nv=function(e){var n=b1(e)?vC($t.fromDom(e.getBody())):J.none();e.bookmark=n.isSome()?n:e.bookmark},Z0=function(e){x1(e).each(function(n){e.selection.setRng(n)})},fp=x1,ey=function(e){return A(e)||W(e)},C1=function(e){return qe(er(e.selection.getSelectedBlocks(),$t.fromDom),function(n){return!ey(n)&&!Ts(n).map(ey).getOr(!1)})},S1=function(e,n){var o=e.settings,i=e.dom,s=e.selection,h=e.formatter,w=/[a-z%]+$/i.exec(o.indentation)[0],C=parseInt(o.indentation,10),k=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||o.forced_root_block||i.getParent(s.getNode(),i.isBlock)||h.apply("div"),Qt(C1(e),function(N){(function(O,M,F,te,Y,ae){if(O.getContentEditable(ae)!=="false"){var q=F?"margin":"padding";if(q=ae.nodeName==="TABLE"?"margin":q,q+=O.getStyle(ae,"direction",!0)==="rtl"?"Right":"Left",M==="outdent"){var Z=Math.max(0,parseInt(ae.style[q]||0,10)-te);O.setStyle(ae,q,Z?Z+Y:"")}else Z=parseInt(ae.style[q]||0,10)+te+Y,O.setStyle(ae,q,Z)}})(i,n,k,C,w,N.dom())})},rv=st.each,k1=st.extend,bC=st.map,wC=st.inArray;function E1(e){var n,o,i,s,h={state:{},exec:{},value:{}},w=e.settings;e.on("PreInit",function(){n=e.dom,o=e.selection,w=e.settings,i=e.formatter});var C=function(q){var Z;if(!e.quirks.isHidden()&&!e.removed){if(q=q.toLowerCase(),Z=h.state[q])return Z(q);try{return e.getDoc().queryCommandState(q)}catch{}return!1}},k=function(q,Z){Z=Z||"exec",rv(q,function(le,xe){rv(xe.toLowerCase().split(","),function(Ne){h[Z][Ne]=le})})},N=function(q,Z,le){q=q.toLowerCase(),h.value[q]=function(){return Z.call(le||e)}};k1(this,{execCommand:function(q,Z,le,xe){var Ne,ge,He=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(q)||xe&&xe.skip_focus?Z0(e):e.focus(),(xe=e.fire("BeforeExecCommand",{command:q,ui:Z,value:le})).isDefaultPrevented())return!1;if(ge=q.toLowerCase(),Ne=h.exec[ge])return Ne(ge,Z,le),e.fire("ExecCommand",{command:q,ui:Z,value:le}),!0;if(rv(e.plugins,function(Mt){if(Mt.execCommand&&Mt.execCommand(q,Z,le))return e.fire("ExecCommand",{command:q,ui:Z,value:le}),!(He=!0)}),He)return He;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(q,Z,le))return e.fire("ExecCommand",{command:q,ui:Z,value:le}),!0;try{He=e.getDoc().execCommand(q,Z,le)}catch{}return!!He&&(e.fire("ExecCommand",{command:q,ui:Z,value:le}),!0)}},queryCommandState:C,queryCommandValue:function(q){var Z;if(!e.quirks.isHidden()&&!e.removed){if(q=q.toLowerCase(),Z=h.value[q])return Z(q);try{return e.getDoc().queryCommandValue(q)}catch{}}},queryCommandSupported:function(q){if(q=q.toLowerCase(),h.exec[q])return!0;try{return e.getDoc().queryCommandSupported(q)}catch{}return!1},addCommands:k,addCommand:function(q,Z,le){q=q.toLowerCase(),h.exec[q]=function(xe,Ne,ge,He){return Z.call(le||e,Ne,ge,He)}},addQueryStateHandler:function(q,Z,le){q=q.toLowerCase(),h.state[q]=function(){return Z.call(le||e)}},addQueryValueHandler:N,hasCustomCommand:function(q){return q=q.toLowerCase(),!!h.exec[q]}});var O=function(q,Z,le){return Z===void 0&&(Z=!1),le===void 0&&(le=null),e.getDoc().execCommand(q,Z,le)},M=function(q){return i.match(q)},F=function(q,Z){i.toggle(q,Z?{value:Z}:void 0),e.nodeChanged()},te=function(q){s=o.getBookmark(q)},Y=function(){o.moveToBookmark(s)};k({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(q){var Z,le=e.getDoc();try{O(q)}catch{Z=!0}if(q!=="paste"||le.queryCommandEnabled(q)||(Z=!0),Z||!le.queryCommandSupported(q)){var xe=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Dn.mac&&(xe=xe.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:xe,type:"error"})}},unlink:function(){if(o.isCollapsed()){var q=e.dom.getParent(e.selection.getStart(),"a");q&&e.dom.remove(q,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(q){var Z=q.substring(7);Z==="full"&&(Z="justify"),rv("left,center,right,justify".split(","),function(le){Z!==le&&i.remove("align"+le)}),Z!=="none"&&F("align"+Z)},"InsertUnorderedList,InsertOrderedList":function(q){var Z,le;O(q),(Z=n.getParent(o.getNode(),"ol,ul"))&&(le=Z.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(le.nodeName)&&(te(),n.split(le,Z),Y()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(q){F(q)},"ForeColor,HiliteColor":function(q,Z,le){F(q,le)},FontName:function(q,Z,le){var xe,Ne;Ne=le,(xe=e).formatter.toggle("fontname",{value:$0(xe,Ne)}),xe.nodeChanged()},FontSize:function(q,Z,le){var xe,Ne;Ne=le,(xe=e).formatter.toggle("fontsize",{value:$0(xe,Ne)}),xe.nodeChanged()},RemoveFormat:function(q){i.remove(q)},mceBlockQuote:function(){F("blockquote")},FormatBlock:function(q,Z,le){return F(le||"p")},mceCleanup:function(){var q=o.getBookmark();e.setContent(e.getContent()),o.moveToBookmark(q)},mceRemoveNode:function(q,Z,le){var xe=le||o.getNode();xe!==e.getBody()&&(te(),e.dom.remove(xe,!0),Y())},mceSelectNodeDepth:function(q,Z,le){var xe=0;n.getParent(o.getNode(),function(Ne){if(Ne.nodeType===1&&xe++===le)return o.select(Ne),!1},e.getBody())},mceSelectNode:function(q,Z,le){o.select(le)},mceInsertContent:function(q,Z,le){bg(e,le)},mceInsertRawHTML:function(q,Z,le){o.setContent("tiny_mce_marker");var xe=e.getContent();e.setContent(xe.replace(/tiny_mce_marker/g,function(){return le}))},mceToggleFormat:function(q,Z,le){F(le)},mceSetContent:function(q,Z,le){e.setContent(le)},"Indent,Outdent":function(q){S1(e,q)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(q,Z,le){e.execCommand("mceInsertContent",!1,le.replace(/\{\$selection\}/g,o.getContent({format:"text"})))},mceInsertLink:function(q,Z,le){var xe;typeof le=="string"&&(le={href:le}),xe=n.getParent(o.getNode(),"a"),le.href=le.href.replace(" ","%20"),xe&&le.href||i.remove("link"),le.href&&i.apply("link",le,xe)},selectAll:function(){var q=n.getParent(o.getStart(),je.isContentEditableTrue);if(q){var Z=n.createRng();Z.selectNodeContents(q),o.setRng(Z)}},delete:function(){sC(e)},forwardDelete:function(){lC(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(q,Z,le){return g1(e,le),!0}});var ae=function(q){return function(){var Z=o.isCollapsed()?[n.getParent(o.getNode(),n.isBlock)]:o.getSelectedBlocks(),le=bC(Z,function(xe){return!!i.matchNode(xe,q)});return wC(le,!0)!==-1}};k({JustifyLeft:ae("alignleft"),JustifyCenter:ae("aligncenter"),JustifyRight:ae("alignright"),JustifyFull:ae("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(q){return M(q)},mceBlockQuote:function(){return M("blockquote")},Outdent:function(){var q;return w.inline_styles&&((q=n.getParent(o.getStart(),n.isBlock))&&0<parseInt(q.style.paddingLeft,10)||(q=n.getParent(o.getEnd(),n.isBlock))&&0<parseInt(q.style.paddingLeft,10))?!0:C("InsertUnorderedList")||C("InsertOrderedList")||!w.inline_styles&&!!n.getParent(o.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(q){var Z=n.getParent(o.getNode(),"ul,ol");return Z&&(q==="insertunorderedlist"&&Z.tagName==="UL"||q==="insertorderedlist"&&Z.tagName==="OL")}},"state"),k({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),N("FontName",function(){return sp(q=e).fold(function(){return U0(q).map(function(Z){return Jg.getFontFamily(q.getBody(),Z)}).getOr("")},function(Z){return Jg.getFontFamily(q.getBody(),Z)});var q},this),N("FontSize",function(){return sp(q=e).fold(function(){return U0(q).map(function(Z){return Jg.getFontSize(q.getBody(),Z)}).getOr("")},function(Z){return Jg.getFontSize(q.getBody(),Z)});var q},this)}var xC=st.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),ov=function(e){var n,o,i=this,s={},h=function(){return!1},w=function(){return!0};n=(e=e||{}).scope||i,o=e.toggleEvent||h;var C=function(N,O,M,F){var te,Y,ae;if(O===!1&&(O=h),O)for(O={func:O},F&&st.extend(O,F),ae=(Y=N.toLowerCase().split(" ")).length;ae--;)N=Y[ae],(te=s[N])||(te=s[N]=[],o(N,!0)),M?te.unshift(O):te.push(O);return i},k=function(N,O){var M,F,te,Y,ae;if(N)for(M=(Y=N.toLowerCase().split(" ")).length;M--;){if(N=Y[M],F=s[N],!N){for(te in s)o(te,!1),delete s[te];return i}if(F){if(O)for(ae=F.length;ae--;)F[ae].func===O&&(F=F.slice(0,ae).concat(F.slice(ae+1)),s[N]=F);else F.length=0;F.length||(o(N,!1),delete s[N])}}else{for(N in s)o(N,!1);s={}}return i};i.fire=function(N,O){var M,F,te,Y;if(N=N.toLowerCase(),(O=O||{}).type=N,O.target||(O.target=n),O.preventDefault||(O.preventDefault=function(){O.isDefaultPrevented=w},O.stopPropagation=function(){O.isPropagationStopped=w},O.stopImmediatePropagation=function(){O.isImmediatePropagationStopped=w},O.isDefaultPrevented=h,O.isPropagationStopped=h,O.isImmediatePropagationStopped=h),e.beforeFire&&e.beforeFire(O),M=s[N])for(F=0,te=M.length;F<te;F++){if((Y=M[F]).once&&k(N,Y.func),O.isImmediatePropagationStopped())return O.stopPropagation(),O;if(Y.func.call(n,O)===!1)return O.preventDefault(),O}return O},i.on=C,i.off=k,i.once=function(N,O,M){return C(N,O,M,{once:!0})},i.has=function(N){return N=N.toLowerCase(),!(!s[N]||s[N].length===0)}};ov.isNative=function(e){return!!xC[e.toLowerCase()]};var Yf,dp=function(e){return e._eventDispatcher||(e._eventDispatcher=new ov({scope:e,toggleEvent:function(n,o){ov.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,o)}})),e._eventDispatcher},iv={fire:function(e,n,o){if(this.removed&&e!=="remove"&&e!=="detach")return n;if(n=dp(this).fire(e,n,o),o!==!1&&this.parent)for(var i=this.parent();i&&!n.isPropagationStopped();)i.fire(e,n,!1),i=i.parent();return n},on:function(e,n,o){return dp(this).on(e,n,o)},off:function(e,n){return dp(this).off(e,n)},once:function(e,n){return dp(this).once(e,n)},hasEventListeners:function(e){return dp(this).has(e)}},CC=function(e,n){return e.fire("PreProcess",n)},SC=function(e,n){return e.fire("PostProcess",n)},kC=function(e){return e.fire("remove")},EC=function(e){return e.fire("detach")},T1=function(e,n){return e.fire("SwitchMode",{mode:n})},TC=function(e,n,o,i){e.fire("ObjectResizeStart",{target:n,width:o,height:i})},_1=function(e,n,o,i){e.fire("ObjectResized",{target:n,width:o,height:i})},av=function(e,n,o){try{e.getDoc().execCommand(n,!1,o)}catch{}},N1=function(e,n,o){var i,s;Wd(e,n)&&o===!1?(s=n,ls(i=e)?i.dom().classList.remove(s):cc(i,s),jd(i)):o&&fc(e,n)},u=function(e,n){N1($t.fromDom(e.getBody()),"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",av(e,"StyleWithCSS",!1),av(e,"enableInlineTableEditing",!1),av(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},m=function(e){return e.readonly?"readonly":"design"},b=vn.DOM,_=function(e,n){return n==="selectionchange"?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=b.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},I=function(e,n,o){var i;(i=e).hidden||i.readonly?e.readonly===!0&&o.preventDefault():e.fire(n,o)},j=function(e,n){var o,i;if(e.delegates||(e.delegates={}),!e.delegates[n]&&!e.removed)if(o=_(e,n),e.settings.event_root){if(Yf||(Yf={},e.editorManager.on("removeEditor",function(){var s;if(!e.editorManager.activeEditor&&Yf){for(s in Yf)e.dom.unbind(_(e,s));Yf=null}})),Yf[n])return;i=function(s){for(var h=s.target,w=e.editorManager.get(),C=w.length;C--;){var k=w[C].getBody();(k===h||b.isChildOf(h,k))&&I(w[C],n,s)}},Yf[n]=i,b.bind(o,n,i)}else i=function(s){I(e,n,s)},b.bind(o,n,i),e.delegates[n]=i},Q={bindPendingEventDelegates:function(){var e=this;st.each(e._pendingNativeEvents,function(n){j(e,n)})},toggleNativeEvent:function(e,n){var o=this;e!=="focus"&&e!=="blur"&&(n?o.initialized?j(o,e):o._pendingNativeEvents?o._pendingNativeEvents.push(e):o._pendingNativeEvents=[e]:o.initialized&&(o.dom.unbind(_(o,e),e,o.delegates[e]),delete o.delegates[e]))},unbindAllNativeEvents:function(){var e,n=this,o=n.getBody(),i=n.dom;if(n.delegates){for(e in n.delegates)n.dom.unbind(_(n,e),e,n.delegates[e]);delete n.delegates}!n.inline&&o&&i&&(o.onload=null,i.unbind(n.getWin()),i.unbind(n.getDoc())),i&&(i.unbind(o),i.unbind(n.getContainer()))}},ue=Q=st.extend({},iv,Q),de=Mu("sections","settings"),Pe=kn.detect().deviceType.isTouch(),Se=["lists","autolink","autosave"],_e={theme:"mobile"},Ue=function(e){var n=fe(e)?e.join(" "):e,o=er(Ze(n)?n.split(" "):[],Cf);return qe(o,function(i){return 0<i.length})},wt=function(e,n){return e.sections().hasOwnProperty(n)},ct=function(e,n,o,i){var s,h=Ue(o.forced_plugins),w=Ue(i.plugins),C=e&&wt(n,"mobile")?qe(w,x(Zn,Se)):w,k=(s=C,[].concat(Ue(h)).concat(Ue(s)));return st.extend(i,{plugins:k.join(" ")})},at=function(e,n,o,i){var s,h,w,C,k,N,O,M,F,te,Y,ae,q=(s=["mobile"],h=Dc(i,function(le,xe){return Zn(s,xe)}),de(h.t,h.f)),Z=st.extend(n,o,q.settings(),(te=e,ae=(Y=q).settings().inline,te&&wt(Y,"mobile")&&!ae?(N="mobile",O=_e,M=q.sections(),F=M.hasOwnProperty(N)?M[N]:{},st.extend({},O,F)):{}),{validate:!0,content_editable:q.settings().inline,external_plugins:(w=o,C=q.settings(),k=C.external_plugins?C.external_plugins:{},w&&w.external_plugins?st.extend({},w.external_plugins,k):k)});return ct(e,q,o,Z)},ln=function(e,n,o){return J.from(n.settings[o]).filter(e)},Sn=function(e,n,o,i){var s,h,w,C=n in e.settings?e.settings[n]:o;return i==="hash"?(w={},typeof(h=C)=="string"?Qt(0<h.indexOf("=")?h.split(/[;,](?![^=;,]*(?:[;,]|$))/):h.split(","),function(k){var N=k.split("=");1<N.length?w[st.trim(N[0])]=st.trim(N[1]):w[st.trim(N[0])]=st.trim(N)}):w=h,w):i==="string"?ln(Ze,e,n).getOr(o):i==="number"?ln(qt,e,n).getOr(o):i==="boolean"?ln(At,e,n).getOr(o):i==="object"?ln(Wt,e,n).getOr(o):i==="array"?ln(fe,e,n).getOr(o):i==="string[]"?ln((s=Ze,function(k){return fe(k)&&Un(k,s)}),e,n).getOr(o):i==="function"?ln(Vt,e,n).getOr(o):C},tr=st.each,Lr=st.explode,Qo={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},Li=st.makeMap("alt,ctrl,shift,meta,access");function fi(e){var n={},o=[],i=function(C){var k,N,O={};for(N in tr(Lr(C,"+"),function(M){M in Li?O[M]=!0:/^[0-9]{2,}$/.test(M)?O.keyCode=parseInt(M,10):(O.charCode=M.charCodeAt(0),O.keyCode=Qo[M]||M.toUpperCase().charCodeAt(0))}),k=[O.keyCode],Li)O[N]?k.push(N):O[N]=!1;return O.id=k.join(","),O.access&&(O.alt=!0,Dn.mac?O.ctrl=!0:O.shift=!0),O.meta&&(Dn.mac?O.meta=!0:(O.ctrl=!0,O.meta=!1)),O},s=function(C,k,N,O){var M;return(M=st.map(Lr(C,">"),i))[M.length-1]=st.extend(M[M.length-1],{func:N,scope:O||e}),st.extend(M[0],{desc:e.translate(k),subpatterns:M.slice(1)})},h=function(C,k){return!!k&&k.ctrl===C.ctrlKey&&k.meta===C.metaKey&&k.alt===C.altKey&&k.shift===C.shiftKey&&!!(C.keyCode===k.keyCode||C.charCode&&C.charCode===k.charCode)&&(C.preventDefault(),!0)},w=function(C){return C.func?C.func.call(C.scope):null};e.on("keyup keypress keydown",function(C){var k,N;((N=C).altKey||N.ctrlKey||N.metaKey||(k=C).type==="keydown"&&112<=k.keyCode&&k.keyCode<=123)&&!C.isDefaultPrevented()&&(tr(n,function(O){if(h(C,O))return o=O.subpatterns.slice(0),C.type==="keydown"&&w(O),!0}),h(C,o[0])&&(o.length===1&&C.type==="keydown"&&w(o[0]),o.shift()))}),this.add=function(C,k,N,O){var M;return typeof(M=N)=="string"?N=function(){e.execCommand(M,!1,null)}:st.isArray(M)&&(N=function(){e.execCommand(M[0],M[1],M[2])}),tr(Lr(st.trim(C.toLowerCase())),function(F){var te=s(F,k,N,O);n[te.id]=te}),!0},this.remove=function(C){var k=s(C);return!!n[k.id]&&(delete n[k.id],!0)}}var Ls=function(e){var n=ia(e).dom();return e.dom()===n.activeElement},Nu=function(e){return(n=ia(e),o=n!==void 0?n.dom():t.document,J.from(o.activeElement).map($t.fromDom)).filter(function(i){return e.dom().contains(i.dom())});var n,o},kd=function(e,n){return(o=n,o.collapsed?J.from(gc(o.startContainer,o.startOffset)).map($t.fromDom):J.none()).bind(function(i){return pe(i)?J.some(i):wu(e,i)===!1?J.some(e):J.none()});var o},ty=function(e,n){kd($t.fromDom(e.getBody()),n).bind(function(o){return oo.firstPositionIn(o.dom())}).fold(function(){e.selection.normalize()},function(o){return e.selection.setRng(o.toRange())})},ny=function(e){if(e.setActive)try{e.setActive()}catch{e.focus()}else e.focus()},R1=function(e){var n,o=e.getBody();return o&&(n=$t.fromDom(o),Ls(n)||Nu(n).isSome())},Jo=function(e){return e.inline?R1(e):(n=e).iframeElement&&Ls($t.fromDom(n.iframeElement));var n},ua=function(e){return e.editorManager.setActive(e)},wl=function(e,n){e.removed||(n?ua(e):function(o){var i=o.selection,s=o.settings.content_editable,h=o.getBody(),w=i.getRng();o.quirks.refreshContentEditable();var C,k,N=(C=o,k=i.getNode(),C.dom.getParent(k,function(O){return C.dom.getContentEditable(O)==="true"}));if(o.$.contains(h,N))return ny(N),ty(o,w),ua(o);o.bookmark!==void 0&&Jo(o)===!1&&fp(o).each(function(O){o.selection.setRng(O),w=O}),s||(Dn.opera||ny(h),o.getWin().focus()),(Dn.gecko||s)&&(ny(h),ty(o,w)),ua(o)}(e))},Ru=Jo,mp=function(e,n){return n.dom()[e]},ry=function(e,n){return parseInt(oc(n,e),10)},O1=x(mp,"clientWidth"),P1=x(mp,"clientHeight"),D1=x(ry,"margin-top"),rl=x(ry,"margin-left"),cf=function(e,n,o){var i,s,h,w,C,k,N,O,M,F,te,Y=$t.fromDom(e.getBody()),ae=e.inline?Y:(i=Y,$t.fromDom(i.dom().ownerDocument.documentElement)),q=(s=e.inline,w=n,C=o,k=(h=ae).dom().getBoundingClientRect(),{x:w-(s?k.left+h.dom().clientLeft+rl(h):0),y:C-(s?k.top+h.dom().clientTop+D1(h):0)});return O=q.x,M=q.y,F=O1(N=ae),te=P1(N),0<=O&&0<=M&&O<=F&&M<=te},oy=function(e){var n,o=e.inline?e.getBody():e.getContentAreaContainer();return(n=o,J.from(n).map($t.fromDom)).map(function(i){return wu(ia(i),i)}).getOr(!1)};function RT(e){var n,o=[],i=function(){var C,k=e.theme;return k&&k.getNotificationManagerImpl?k.getNotificationManagerImpl():{open:C=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:C,reposition:C,getArgs:C}},s=function(){0<o.length&&i().reposition(o)},h=function(C){mn(o,function(k){return k===C}).each(function(k){o.splice(k,1)})},w=function(C){if(!e.removed&&oy(e))return Kt(o,function(k){return N=i().getArgs(k),O=C,!(N.type!==O.type||N.text!==O.text||N.progressBar||N.timeout||O.progressBar||O.timeout);var N,O}).getOrThunk(function(){e.editorManager.setActive(e);var k,N=i().open(C,function(){h(N),s()});return k=N,o.push(k),s(),N})};return(n=e).on("SkinLoaded",function(){var C=n.settings.service_message;C&&w({text:C,type:"warning",timeout:0,icon:""})}),n.on("ResizeEditor ResizeWindow",function(){Qr.requestAnimationFrame(s)}),n.on("remove",function(){Qt(o.slice(),function(C){i().close(C)})}),{open:w,close:function(){J.from(o[0]).each(function(C){i().close(C),h(C),s()})},getNotifications:function(){return o}}}function OT(e){var n=[],o=function(){var C,k=e.theme;return k&&k.getWindowManagerImpl?k.getWindowManagerImpl():{open:C=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:C,confirm:C,close:C,getParams:C,setParams:C}},i=function(C,k){return function(){return k?k.apply(C,arguments):void 0}},s=function(C){var k;n.push(C),k=C,e.fire("OpenWindow",{win:k})},h=function(C){mn(n,function(k){return k===C}).each(function(k){var N;n.splice(k,1),N=C,e.fire("CloseWindow",{win:N}),n.length===0&&e.focus()})},w=function(){return J.from(n[n.length-1])};return e.on("remove",function(){Qt(n.slice(0),function(C){o().close(C)})}),{windows:n,open:function(C,k){e.editorManager.setActive(e),nv(e);var N=o().open(C,k,h);return s(N),N},alert:function(C,k,N){var O=o().alert(C,i(N||this,k),h);s(O)},confirm:function(C,k,N){var O=o().confirm(C,i(N||this,k),h);s(O)},close:function(){w().each(function(C){o().close(C),h(C)})},getParams:function(){return w().map(o().getParams).getOr(null)},setParams:function(C){w().each(function(k){o().setParams(k,C)})},getWindows:function(){return n}}}var A1={},_C="en",Om={setCode:function(e){e&&(_C=e,this.rtl=!!this.data[e]&&this.data[e]._dir==="rtl")},getCode:function(){return _C},rtl:!1,add:function(e,n){var o=A1[e];for(var i in o||(A1[e]=o={}),n)o[i]=n[i];this.setCode(e)},translate:function(e){var n=A1[_C]||{},o=function(w){return st.is(w,"function")?Object.prototype.toString.call(w):i(w)?"":""+w},i=function(w){return w===""||w===null||st.is(w,"undefined")},s=function(w){return w=o(w),st.hasOwn(n,w)?o(n[w]):w};if(i(e))return"";if(st.is(e,"object")&&st.hasOwn(e,"raw"))return o(e.raw);if(st.is(e,"array")){var h=e.slice(1);e=s(e[0]).replace(/\{([0-9]+)\}/g,function(w,C){return st.hasOwn(h,C)?o(h[C]):w})}return s(e).replace(/{context:\w+}$/,"")},data:A1},PT=pi.PluginManager,n2=function(e,n){var o=function(i,s){for(var h in PT.urls)if(PT.urls[h]+"/plugin"+s+".js"===i)return h;return null}(n,e.suffix);return o?Om.translate(["Failed to load plugin: {0} from url {1}",o,n]):Om.translate(["Failed to load plugin url: {0}",n])},DT=function(e,n){e.notificationManager.open({type:"error",text:n})},M1=function(e,n){e._skinLoaded?DT(e,n):e.on("SkinLoaded",function(){DT(e,n)})},AT=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=t.window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},uv={pluginLoadError:function(e,n){M1(e,n2(e,n))},pluginInitError:function(e,n,o){var i=Om.translate(["Failed to initialize plugin: {0}",n]);AT(i,o),M1(e,i)},uploadError:function(e,n){M1(e,Om.translate(["Failed to upload image: {0}",n]))},displayError:M1,initError:AT},Ed=pi.PluginManager,hp=pi.ThemeManager;function NC(){return new(qr.getOrDie("XMLHttpRequest"))}function r2(e,n){var o={},i=function(k,N,O,M){var F,te;(F=NC()).open("POST",n.url),F.withCredentials=n.credentials,F.upload.onprogress=function(Y){M(Y.loaded/Y.total*100)},F.onerror=function(){O("Image upload failed due to a XHR Transport error. Code: "+F.status)},F.onload=function(){var Y,ae,q;F.status<200||300<=F.status?O("HTTP Error: "+F.status):(Y=JSON.parse(F.responseText))&&typeof Y.location=="string"?N((ae=n.basePath,q=Y.location,ae?ae.replace(/\/$/,"")+"/"+q.replace(/^\//,""):q)):O("Invalid JSON: "+F.responseText)},(te=new t.FormData).append("file",k.blob(),k.filename()),F.send(te)},s=function(k,N){return{url:N,blobInfo:k,status:!0}},h=function(k,N){return{url:"",blobInfo:k,status:!1,error:N}},w=function(k,N){st.each(o[k],function(O){O(N)}),delete o[k]},C=function(k,N){return k=st.grep(k,function(O){return!e.isUploaded(O.blobUri())}),yo.all(st.map(k,function(O){return e.isPending(O.blobUri())?(Y=O.blobUri(),new yo(function(ae){o[Y]=o[Y]||[],o[Y].push(ae)})):(M=O,F=n.handler,te=N,e.markPending(M.blobUri()),new yo(function(ae){var q;try{var Z=function(){q&&q.close()};F(M,function(le){Z(),e.markUploaded(M.blobUri(),le),w(M.blobUri(),s(M,le)),ae(s(M,le))},function(le){Z(),e.removeFailed(M.blobUri()),w(M.blobUri(),h(M,le)),ae(h(M,le))},function(le){le<0||100<le||(q||(q=te()),q.progressBar.value(le))})}catch(le){ae(h(M,le.message))}}));var M,F,te,Y}))};return Vt(n.handler)===!1&&(n.handler=i),{upload:function(k,N){return n.url||n.handler!==i?C(k,N):new yo(function(O){O([])})}}}var o2=function(e){return qr.getOrDie("atob")(e)},MT=function(e){var n,o,i=decodeURIComponent(e).split(",");return(o=/data:([^;]+)/.exec(i[0]))&&(n=o[1]),{type:n,data:i[1]}},i2=function(e){return new yo(function(n){var o,i,s,h,w=MT(e);try{o=o2(w.data)}catch{return void n(new t.Blob([]))}for(h=o.length,i=new(qr.getOrDie("Uint8Array"))(h),s=0;s<i.length;s++)i[s]=o.charCodeAt(s);n(new t.Blob([i],{type:w.type}))})},IT=function(e){return e.indexOf("blob:")===0?(n=e,new yo(function(o,i){var s=function(){i("Cannot convert "+n+" to Blob. Resource might not exist or is inaccessible.")};try{var h=NC();h.open("GET",n,!0),h.responseType="blob",h.onload=function(){this.status===200?o(this.response):s()},h.onerror=s,h.send()}catch{s()}})):e.indexOf("data:")===0?i2(e):null;var n},a2=function(e){return new yo(function(n){var o=new(qr.getOrDie("FileReader"));o.onloadend=function(){n(o.result)},o.readAsDataURL(e)})},BT=MT,u2=0,LT=function(e){return(e||"blobid")+u2++},s2=function(e,n,o,i){var s,h;n.src.indexOf("blob:")!==0?(s=BT(n.src).data,(h=e.findFirst(function(w){return w.base64()===s}))?o({image:n,blobInfo:h}):IT(n.src).then(function(w){h=e.create(LT(),w,s),e.add(h),o({image:n,blobInfo:h})},function(w){i(w)})):(h=e.getByUri(n.src))?o({image:n,blobInfo:h}):IT(n.src).then(function(w){a2(w).then(function(C){s=BT(C).data,h=e.create(LT(),w,s),e.add(h),o({image:n,blobInfo:h})})},function(w){i(w)})},l2=function(e){return e?co(e.getElementsByTagName("img")):[]},c2=0,RC={uuid:function(e){return e+c2+++(n=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+new Date().getTime().toString(36)+n()+n()+n());var n}};function f2(e){var n,o,i,s,h,w,C,k,N,O=(n=[],o=function(nt){var Gt,Ct,hn;if(!nt.blob||!nt.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return Gt=nt.id||RC.uuid("blobid"),Ct=nt.name||Gt,{id:l(Gt),name:l(Ct),filename:l(Ct+"."+(hn=nt.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[hn.toLowerCase()]||"dat")),blob:l(nt.blob),base64:l(nt.base64),blobUri:l(nt.blobUri||Fn.createObjectURL(nt.blob)),uri:l(nt.uri)}},{create:function(nt,Gt,Ct,hn){if(Ze(nt))return o({id:nt,name:hn,blob:Gt,base64:Ct});if(Wt(nt))return o(nt);throw new Error("Unknown input type")},add:function(nt){i(nt.id())||n.push(nt)},get:i=function(nt){return s(function(Gt){return Gt.id()===nt})},getByUri:function(nt){return s(function(Gt){return Gt.blobUri()===nt})},findFirst:s=function(nt){return qe(n,nt)[0]},removeByUri:function(nt){n=qe(n,function(Gt){return Gt.blobUri()!==nt||(Fn.revokeObjectURL(Gt.blobUri()),!1)})},destroy:function(){Qt(n,function(nt){Fn.revokeObjectURL(nt.blobUri())}),n=[]}}),M=(C={},k=function(nt,Gt){return{status:nt,resultUri:Gt}},{hasBlobUri:N=function(nt){return nt in C},getResultUri:function(nt){var Gt=C[nt];return Gt?Gt.resultUri:null},isPending:function(nt){return!!N(nt)&&C[nt].status===1},isUploaded:function(nt){return!!N(nt)&&C[nt].status===2},markPending:function(nt){C[nt]=k(1,null)},markUploaded:function(nt,Gt){C[nt]=k(2,Gt)},removeFailed:function(nt){delete C[nt]},destroy:function(){C={}}}),F=[],te=function(nt){return function(Gt){return e.selection?nt(Gt):[]}},Y=function(nt,Gt,Ct){for(var hn=0;(hn=nt.indexOf(Gt,hn))!==-1&&(nt=nt.substring(0,hn)+Ct+nt.substr(hn+Gt.length),hn+=Ct.length-Gt.length+1),hn!==-1;);return nt},ae=function(nt,Gt,Ct){return nt=Y(nt,'src="'+Gt+'"','src="'+Ct+'"'),nt=Y(nt,'data-mce-src="'+Gt+'"','data-mce-src="'+Ct+'"')},q=function(nt,Gt){Qt(e.undoManager.data,function(Ct){Ct.type==="fragmented"?Ct.fragments=er(Ct.fragments,function(hn){return ae(hn,nt,Gt)}):Ct.content=ae(Ct.content,nt,Gt)})},Z=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},le=function(nt,Gt){O.removeByUri(nt.src),q(nt.src,Gt),e.$(nt).attr({src:we(e)?Gt+"?"+new Date().getTime():Gt,"data-mce-src":e.convertURL(Gt,"src")})},xe=function(nt){return h||(h=r2(M,{url:pt(e),basePath:Yt(e),credentials:en(e),handler:Ht(e)})),He().then(te(function(Gt){var Ct;return Ct=er(Gt,function(hn){return hn.blobInfo}),h.upload(Ct,Z).then(te(function(hn){var Xt=er(hn,function(pn,rr){var fn=Gt[rr].image;return pn.status&&Ve(e)?le(fn,pn.url):pn.error&&uv.uploadError(e,pn.error),{element:fn,status:pn.status}});return nt&&nt(Xt),Xt}))}))},Ne=function(nt){if(ie(e))return xe(nt)},ge=function(nt){return Un(F,function(Gt){return Gt(nt)})!==!1&&(nt.getAttribute("src").indexOf("data:")!==0||K(e)(nt))},He=function(){var nt,Gt,Ct;return w||(nt=M,Gt=O,Ct={},w={findAll:function(hn,Xt){var pn;Xt||(Xt=l(!0)),pn=qe(l2(hn),function(fn){var wn=fn.src;return!!Dn.fileApi&&!fn.hasAttribute("data-mce-bogus")&&!fn.hasAttribute("data-mce-placeholder")&&!(!wn||wn===Dn.transparentSrc)&&(wn.indexOf("blob:")===0?!nt.isUploaded(wn)&&Xt(fn):wn.indexOf("data:")===0&&Xt(fn))});var rr=er(pn,function(fn){if(Ct[fn.src])return new yo(function(vr){Ct[fn.src].then(function(Vn){if(typeof Vn=="string")return Vn;vr({image:fn,blobInfo:Vn.blobInfo})})});var wn=new yo(function(vr,Vn){s2(Gt,fn,vr,Vn)}).then(function(vr){return delete Ct[vr.image.src],vr}).catch(function(vr){return delete Ct[fn.src],vr});return Ct[fn.src]=wn});return yo.all(rr)}}),w.findAll(e.getBody(),ge).then(te(function(hn){return hn=qe(hn,function(Xt){return typeof Xt!="string"||(uv.displayError(e,Xt),!1)}),Qt(hn,function(Xt){q(Xt.image.src,Xt.blobInfo.blobUri()),Xt.image.src=Xt.blobInfo.blobUri(),Xt.image.removeAttribute("data-mce-src")}),hn}))},Mt=function(nt){return nt.replace(/src="(blob:[^"]+)"/g,function(Gt,Ct){var hn=M.getResultUri(Ct);if(hn)return'src="'+hn+'"';var Xt=O.getByUri(Ct);return Xt||(Xt=Rt(e.editorManager.get(),function(pn,rr){return pn||rr.editorUpload&&rr.editorUpload.blobCache.getByUri(Ct)},null)),Xt?'src="data:'+Xt.blob().type+";base64,"+Xt.base64()+'"':Gt})};return e.on("setContent",function(){ie(e)?Ne():He()}),e.on("RawSaveContent",function(nt){nt.content=Mt(nt.content)}),e.on("getContent",function(nt){nt.source_view||nt.format==="raw"||(nt.content=Mt(nt.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(nt){Qt(nt,function(Gt){var Ct=Gt.attr("src");if(!O.getByUri(Ct)){var hn=M.getResultUri(Ct);hn&&Gt.attr("src",hn)}})})}),{blobCache:O,addFilter:function(nt){F.push(nt)},uploadImages:xe,uploadImagesAuto:Ne,scanForImages:He,destroy:function(){O.destroy(),M.destroy(),w=h=null}}}var OC=function(e,n){return e.hasOwnProperty(n.nodeName)},d2=function(e,n){return!!(je.isText(n)&&(n.nodeValue.length===0||/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||OC(e,n.nextSibling))))},m2=function(e){var n,o,i,s,h,w,C,k,N,O,M,F=e.settings,te=e.dom,Y=e.selection,ae=e.schema,q=ae.getBlockElements(),Z=Y.getStart(),le=e.getBody();if(M=F.forced_root_block,Z&&je.isElement(Z)&&M&&(O=le.nodeName.toLowerCase(),ae.isValidChild(O,M.toLowerCase())&&(xe=q,Ne=le,ge=Z,!Cr(s0($t.fromDom(ge),$t.fromDom(Ne)),function(nt){return OC(xe,nt.dom())})))){var xe,Ne,ge,He,Mt;for(o=(n=Y.getRng()).startContainer,i=n.startOffset,s=n.endContainer,h=n.endOffset,N=Ru(e),Z=le.firstChild;Z;)if(He=q,Mt=Z,je.isText(Mt)||je.isElement(Mt)&&!OC(He,Mt)&&!ms(Mt)){if(d2(q,Z)){Z=(C=Z).nextSibling,te.remove(C);continue}w||(w=te.create(M,e.settings.forced_root_block_attrs),Z.parentNode.insertBefore(w,Z),k=!0),Z=(C=Z).nextSibling,w.appendChild(C)}else w=null,Z=Z.nextSibling;k&&N&&(n.setStart(o,i),n.setEnd(s,h),Y.setRng(n),e.nodeChanged())}},h2=function(e){e.settings.forced_root_block&&e.on("NodeChange",x(m2,e))},FT=function(e){return _s(e).fold(l([e]),function(n){return[e].concat(FT(n))})},PC=function(e){return qs(e).fold(l([e]),function(n){return la(n)==="br"?$s(n).map(function(o){return[e].concat(PC(o))}).getOr([]):[e].concat(PC(n))})},p2=function(e,n){return ku((h=n,w=h.startContainer,C=h.startOffset,je.isText(w)?C===0?J.some($t.fromDom(w)):J.none():J.from(w.childNodes[C]).map($t.fromDom)),(o=n,i=o.endContainer,s=o.endOffset,je.isText(i)?s===i.data.length?J.some($t.fromDom(i)):J.none():J.from(i.childNodes[s-1]).map($t.fromDom)),function(k,N){var O=Kt(FT(e),x(Xr,k)),M=Kt(PC(e),x(Xr,N));return O.isSome()&&M.isSome()}).getOr(!1);var o,i,s,h,w,C},DC=function(e,n,o,i){var s=o,h=new Ri(o,s),w=e.schema.getNonEmptyElements();do{if(o.nodeType===3&&st.trim(o.nodeValue).length!==0)return void(i?n.setStart(o,0):n.setEnd(o,o.nodeValue.length));if(w[o.nodeName]&&!/^(TD|TH)$/.test(o.nodeName))return void(i?n.setStartBefore(o):o.nodeName==="BR"?n.setEndBefore(o):n.setEndAfter(o));if(Dn.ie&&Dn.ie<11&&e.isBlock(o)&&e.isEmpty(o))return void(i?n.setStart(o,0):n.setEnd(o,0))}while(o=i?h.next():h.prev());s.nodeName==="BODY"&&(i?n.setStart(s,0):n.setEnd(s,s.childNodes.length))},AC=function(e){var n=e.selection.getSel();return n&&0<n.rangeCount};function g2(e){var n,o=[];"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(i){var s,h;h={startContainer:(s=e.selection.getRng()).startContainer,startOffset:s.startOffset,endContainer:s.endContainer,endOffset:s.endOffset},i.type!=="nodechange"&&lp(h,n)||e.fire("SelectionChange"),n=h}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var i=e.selection.getStart(!0);!i||!Dn.range&&e.selection.isCollapsed()||AC(e)&&!function(s){var h,w;if((w=e.$(s).parentsUntil(e.getBody()).add(s)).length===o.length){for(h=w.length;0<=h&&w[h]===o[h];h--);if(h===-1)return o=w,!0}return o=w,!1}(i)&&e.dom.isChildOf(i,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(i){!i.isDefaultPrevented()&&AC(e)&&(e.selection.getNode().nodeName==="IMG"?Qr.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(i){var s,h,w,C=e.selection;e.initialized&&C&&!e.settings.disable_nodechange&&!e.readonly&&(w=e.getBody(),(s=C.getStart(!0)||w).ownerDocument===e.getDoc()&&e.dom.isChildOf(s,w)||(s=w),h=[],e.dom.getParent(s,function(k){if(k===w)return!0;h.push(k)}),(i=i||{}).element=s,i.parents=h,e.fire("NodeChange",i))}}var sv,I1,ii={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Dn.mac?e.metaKey:e.ctrlKey&&!e.altKey}},MC=function(e){return Rt(e,function(n,o){return n.concat(function(i){var s=function(w){return er(w,function(C){return(C=Gs(C)).node=i,C})};if(je.isElement(i))return s(i.getClientRects());if(je.isText(i)){var h=i.ownerDocument.createRange();return h.setStart(i,0),h.setEnd(i,i.data.length),s(h.getClientRects())}}(o))},[])};(I1=sv||(sv={}))[I1.Up=-1]="Up",I1[I1.Down=1]="Down";var HT=function(e,n,o,i,s,h){var w,C,k=0,N=[],O=function(M){var F,te,Y;for(Y=MC([M]),e===-1&&(Y=Y.reverse()),F=0;F<Y.length;F++)if(te=Y[F],!o(te,C)){if(0<N.length&&n(te,Mr.last(N))&&k++,te.line=k,s(te))return!0;N.push(te)}};return(C=Mr.last(h.getClientRects()))&&(O(w=h.getNode()),function(M,F,te,Y){for(;Y=yc(Y,M,Rf,F);)if(te(Y))return}(e,i,O,w)),N},v2=x(HT,sv.Up,zc,pc),y2=x(HT,sv.Down,pc,zc),zT=function(e){return function(n){return o=e,n.line>o;var o}},IC=function(e){return function(n){return o=e,n.line===o;var o}},b2=je.isContentEditableFalse,w2=yc,BC=function(e,n){return Math.abs(e.left-n)},LC=function(e,n){return Math.abs(e.right-n)},jT=function(e,n){return e>=n.left&&e<=n.right},B1=function(e,n){return Mr.reduce(e,function(o,i){var s,h;return s=Math.min(BC(o,n),LC(o,n)),h=Math.min(BC(i,n),LC(i,n)),jT(n,i)?i:jT(n,o)?o:h===s&&b2(i.node)||h<s?i:o})},WT=function(e,n,o,i){for(;i=w2(i,e,Rf,n);)if(o(i))return},x2=function(e,n,o){var i,s,h,w,C,k,N,O=MC(qe(co(e.getElementsByTagName("*")),Ba)),M=qe(O,function(F){return o>=F.top&&o<=F.bottom});return(i=B1(M,n))&&(i=B1((w=e,N=function(F,te){var Y;return Y=qe(MC([te]),function(ae){return!F(ae,C)}),k=k.concat(Y),Y.length===0},(k=[]).push(C=i),WT(sv.Up,w,x(N,zc),C.node),WT(sv.Down,w,x(N,pc),C.node),k),n))&&Ba(i.node)?(h=n,{node:(s=i).node,before:BC(s,h)<LC(s,h)}):null},UT=function(e,n,o){if(o.collapsed)return!1;if(Dn.ie&&Dn.ie<=11&&o.startOffset===o.endOffset-1&&o.startContainer===o.endContainer){var i=o.startContainer.childNodes[o.startOffset];if(je.isElement(i))return Cr(i.getClientRects(),function(s){return Gd(s,e,n)})}return Cr(o.getClientRects(),function(s){return Gd(s,e,n)})},$T=function(e){var n,o,i,s;return s=e.getBoundingClientRect(),o=(n=e.ownerDocument).documentElement,i=n.defaultView,{top:s.top+i.pageYOffset-o.clientTop,left:s.left+i.pageXOffset-o.clientLeft}},C2=function(e,n){return o=(C=e).inline?$T(C.getBody()):{left:0,top:0},w=(h=e).getBody(),i=h.inline?{left:w.scrollLeft,top:w.scrollTop}:{left:0,top:0},{pageX:(s=function(k,N){if(N.target.ownerDocument!==k.getDoc()){var O=$T(k.getContentAreaContainer()),M=(te=(F=k).getBody(),Y=F.getDoc().documentElement,ae={left:te.scrollLeft,top:te.scrollTop},q={left:te.scrollLeft||Y.scrollLeft,top:te.scrollTop||Y.scrollTop},F.inline?ae:q);return{left:N.pageX-O.left+M.left,top:N.pageY-O.top+M.top}}var F,te,Y,ae,q;return{left:N.pageX,top:N.pageY}}(e,n)).left-o.left+i.left,pageY:s.top-o.top+i.top};var o,i,s,h,w,C},iy=je.isContentEditableFalse,S2=je.isContentEditableTrue,VT=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},k2=function(e,n){return function(o){if(o.button===0){var i=Kt(n.dom.getParents(o.target),Yp(iy,S2)).getOr(null);if(C=n.getBody(),iy(k=i)&&k!==C){var s=n.dom.getPos(i),h=n.getBody(),w=n.getDoc().documentElement;e.element=i,e.screenX=o.screenX,e.screenY=o.screenY,e.maxX=(n.inline?h.scrollWidth:w.offsetWidth)-2,e.maxY=(n.inline?h.scrollHeight:w.offsetHeight)-2,e.relX=o.pageX-s.x,e.relY=o.pageY-s.y,e.width=i.offsetWidth,e.height=i.offsetHeight,e.ghost=function(N,O,M,F){var te=O.cloneNode(!0);N.dom.setStyles(te,{width:M,height:F}),N.dom.setAttrib(te,"data-mce-selected",null);var Y=N.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return N.dom.setStyles(Y,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:M,height:F}),N.dom.setStyles(te,{margin:0,boxSizing:"border-box"}),Y.appendChild(te),Y}(n,i,e.width,e.height)}}var C,k}},E2=function(e,n){return function(o){if(e.dragging&&(O=(C=n).selection,M=O.getSel().getRangeAt(0).startContainer,k=M.nodeType===3?M.parentNode:M,N=e.element,k!==N&&!C.dom.isChildOf(k,N)&&!iy(k))){var i=(h=e.element,(w=h.cloneNode(!0)).removeAttribute("data-mce-selected"),w),s=n.fire("drop",{targetClone:i,clientX:o.clientX,clientY:o.clientY});s.isDefaultPrevented()||(i=s.targetClone,n.undoManager.transact(function(){VT(e.element),n.insertContent(n.dom.getOuterHTML(i)),n._selectionOverrides.hideFakeCaret()}))}var h,w,C,k,N,O,M;qT(e)}},qT=function(e){e.dragging=!1,e.element=null,VT(e.ghost)},T2=function(e){var n,o,i,s,h,w,C,k,N,O,M,F={};n=vn.DOM,w=t.document,o=k2(F,e),C=F,k=e,N=Qr.throttle(function(te,Y){k._selectionOverrides.hideFakeCaret(),k.selection.placeCaretAt(te,Y)},0),i=function(te){var Y,ae,q,Z,le,xe,Ne,ge,He,Mt,nt,Gt,Ct=Math.max(Math.abs(te.screenX-C.screenX),Math.abs(te.screenY-C.screenY));if(C.element&&!C.dragging&&10<Ct){if(k.fire("dragstart",{target:C.element}).isDefaultPrevented())return;C.dragging=!0,k.focus()}if(C.dragging){var hn=(nt=C,{pageX:(Gt=C2(k,te)).pageX-nt.relX,pageY:Gt.pageY+5});He=C.ghost,Mt=k.getBody(),He.parentNode!==Mt&&Mt.appendChild(He),Y=C.ghost,ae=hn,q=C.width,Z=C.height,le=C.maxX,xe=C.maxY,ge=Ne=0,Y.style.left=ae.pageX+"px",Y.style.top=ae.pageY+"px",ae.pageX+q>le&&(Ne=ae.pageX+q-le),ae.pageY+Z>xe&&(ge=ae.pageY+Z-xe),Y.style.width=q-Ne+"px",Y.style.height=Z-ge+"px",N(te.clientX,te.clientY)}},s=E2(F,e),O=F,h=function(){O.dragging&&M.fire("dragend"),qT(O)},(M=e).on("mousedown",o),e.on("mousemove",i),e.on("mouseup",s),n.bind(w,"mousemove",i),n.bind(w,"mouseup",h),e.on("remove",function(){n.unbind(w,"mousemove",i),n.unbind(w,"mouseup",h)})},_2=function(e){var n;T2(e),(n=e).on("drop",function(o){var i=typeof o.clientX!="undefined"?n.getDoc().elementFromPoint(o.clientX,o.clientY):null;(iy(i)||iy(n.dom.getContentEditableParent(i)))&&o.preventDefault()})},N2=function(e){var n=sc(function(){if(!e.removed&&e.selection.getRng().collapsed){var o=Xg(e,e.selection.getRng(),!1);e.selection.setRng(o)}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},FC=je.isContentEditableTrue,Pm=je.isContentEditableFalse,L1=function(e,n){for(var o=e.getBody();n&&n!==o;){if(FC(n)||Pm(n))return n;n=n.parentNode}return null},R2=function(e){var n,o,i,s=e.getBody(),h=rg(e.getBody(),function(Z){return e.dom.isBlock(Z)},function(){return Ru(e)}),w="sel-"+e.dom.uniqueId(),C=function(Z){Z&&e.selection.setRng(Z)},k=function(){return e.selection.getRng()},N=function(Z,le,xe,Ne){return Ne===void 0&&(Ne=!0),e.fire("ShowCaret",{target:le,direction:Z,before:xe}).isDefaultPrevented()?null:(Ne&&e.selection.scrollIntoView(le,Z===-1),h.show(xe,le))},O=function(Z,le){return le=cm(Z,s,le),Z===-1?Rn.fromRangeStart(le):Rn.fromRangeEnd(le)},M=function(Z){return fs(Z)||Hc(Z)||Za(Z)},F=function(Z){return M(Z.startContainer)||M(Z.endContainer)},te=function(Z){var le=e.schema.getShortEndedElements(),xe=e.dom.createRng(),Ne=Z.startContainer,ge=Z.startOffset,He=Z.endContainer,Mt=Z.endOffset;return ca(le,Ne.nodeName.toLowerCase())?ge===0?xe.setStartBefore(Ne):xe.setStartAfter(Ne):xe.setStart(Ne,ge),ca(le,He.nodeName.toLowerCase())?Mt===0?xe.setEndBefore(He):xe.setEndAfter(He):xe.setEnd(He,Mt),xe},Y=function(Z,le){var xe,Ne,ge,He,Mt,nt,Gt,Ct,hn,Xt,pn=e.$,rr=e.dom;if(!Z)return null;if(Z.collapsed){if(!F(Z))if(le===!1){if(Ct=O(-1,Z),Ba(Ct.getNode(!0)))return N(-1,Ct.getNode(!0),!1,!1);if(Ba(Ct.getNode()))return N(-1,Ct.getNode(),!Ct.isAtEnd(),!1)}else{if(Ct=O(1,Z),Ba(Ct.getNode()))return N(1,Ct.getNode(),!Ct.isAtEnd(),!1);if(Ba(Ct.getNode(!0)))return N(1,Ct.getNode(!0),!1,!1)}return null}return He=Z.startContainer,Mt=Z.startOffset,nt=Z.endOffset,He.nodeType===3&&Mt===0&&Pm(He.parentNode)&&(He=He.parentNode,Mt=rr.nodeIndex(He),He=He.parentNode),He.nodeType!==1?null:(nt===Mt+1&&He===Z.endContainer&&(xe=He.childNodes[Mt]),Pm(xe)?(hn=Xt=xe.cloneNode(!0),(Gt=e.fire("ObjectSelected",{target:xe,targetClone:hn})).isDefaultPrevented()?null:(Ne=Ks($t.fromDom(e.getBody()),"#"+w).fold(function(){return pn([])},function(fn){return pn([fn.dom()])}),hn=Gt.targetClone,Ne.length===0&&(Ne=pn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",w)).appendTo(e.getBody()),Z=e.dom.createRng(),hn===Xt&&Dn.ie?(Ne.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(hn),Z.setStartAfter(Ne[0].firstChild.firstChild),Z.setEndAfter(hn)):(Ne.empty().append("\xA0").append(hn).append("\xA0"),Z.setStart(Ne[0].firstChild,1),Z.setEnd(Ne[0].lastChild,0)),Ne.css({top:rr.getPos(xe,e.getBody()).y}),Ne[0].focus(),(ge=e.selection.getSel()).removeAllRanges(),ge.addRange(Z),Qt(cs($t.fromDom(e.getBody()),"*[data-mce-selected]"),function(fn){ks(fn,"data-mce-selected")}),xe.setAttribute("data-mce-selected","1"),n=xe,q(),Z)):null)},ae=function(){n&&(n.removeAttribute("data-mce-selected"),Ks($t.fromDom(e.getBody()),"#"+w).each(oi),n=null),Ks($t.fromDom(e.getBody()),"#"+w).each(oi),n=null},q=function(){h.hide()};return Dn.ceFalse&&(function(){e.on("mouseup",function(Ne){var ge=k();ge.collapsed&&cf(e,Ne.clientX,Ne.clientY)&&C(W0(e,ge,!1))}),e.on("click",function(Ne){var ge;(ge=L1(e,Ne.target))&&(Pm(ge)&&(Ne.preventDefault(),e.focus()),FC(ge)&&e.dom.isChildOf(ge,e.selection.getNode())&&ae())}),e.on("blur NewBlock",function(){ae()}),e.on("ResizeWindow FullscreenStateChanged",function(){return h.reposition()});var Z,le,xe=function(Ne,ge){var He,Mt,nt=e.dom.getParent(Ne,e.dom.isBlock),Gt=e.dom.getParent(ge,e.dom.isBlock);return!(!nt||!e.dom.isChildOf(nt,Gt)||Pm(L1(e,nt))!==!1)||nt&&(He=nt,Mt=Gt,e.dom.getParent(He,e.dom.isBlock)!==e.dom.getParent(Mt,e.dom.isBlock))&&function(Ct){var hn=Wu(Ct);if(!Ct.firstChild)return!1;var Xt=Rn.before(Ct.firstChild),pn=hn.next(Xt);return pn&&!sf(pn)&&!lf(pn)}(nt)};le=!1,(Z=e).on("touchstart",function(){le=!1}),Z.on("touchmove",function(){le=!0}),Z.on("touchend",function(Ne){var ge=L1(Z,Ne.target);Pm(ge)&&(le||(Ne.preventDefault(),Y(Kg(Z,ge))))}),e.on("mousedown",function(Ne){var ge,He=Ne.target;if((He===s||He.nodeName==="HTML"||e.dom.isChildOf(He,s))&&cf(e,Ne.clientX,Ne.clientY)!==!1){if(ge=L1(e,He))Pm(ge)?(Ne.preventDefault(),Y(Kg(e,ge))):(ae(),FC(ge)&&Ne.shiftKey||UT(Ne.clientX,Ne.clientY,e.selection.getRng())||(q(),e.selection.placeCaretAt(Ne.clientX,Ne.clientY)));else if(Ba(He)===!1){ae(),q();var Mt=x2(s,Ne.clientX,Ne.clientY);if(Mt&&!xe(Ne.target,Mt.node)){Ne.preventDefault();var nt=N(1,Mt.node,Mt.before,!1);e.getBody().focus(),C(nt)}}}}),e.on("keypress",function(Ne){ii.modifierPressed(Ne)||(Ne.keyCode,Pm(e.selection.getNode())&&Ne.preventDefault())}),e.on("getSelectionRange",function(Ne){var ge=Ne.range;if(n){if(!n.parentNode)return void(n=null);(ge=ge.cloneRange()).selectNode(n),Ne.range=ge}}),e.on("setSelectionRange",function(Ne){Ne.range=te(Ne.range);var ge=Y(Ne.range,Ne.forward);ge&&(Ne.range=ge)}),e.on("AfterSetSelectionRange",function(Ne){var ge,He=Ne.range;F(He)||He.startContainer.parentNode.id==="mcepastebin"||q(),ge=He.startContainer.parentNode,e.dom.hasClass(ge,"mce-offscreen-selection")||ae()}),e.on("copy",function(Ne){var ge,He=Ne.clipboardData;if(!Ne.isDefaultPrevented()&&Ne.clipboardData&&!Dn.ie){var Mt=(ge=e.dom.get(w))?ge.getElementsByTagName("*")[0]:ge;Mt&&(Ne.preventDefault(),He.clearData(),He.setData("text/html",Mt.outerHTML),He.setData("text/plain",Mt.outerText))}}),_2(e),N2(e)}(),o=e.contentStyles,i=".mce-content-body",o.push(h.getCss()),o.push(i+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+i+" *[contentEditable=false] {cursor: default;}"+i+" *[contentEditable=true] {cursor: text;}")),{showCaret:N,showBlockCaretContainer:function(Z){Z.hasAttribute("data-mce-caret")&&(Nf(Z),C(k()),e.selection.scrollIntoView(Z[0]))},hideFakeCaret:q,destroy:function(){h.destroy(),n=null}}},O2=function(e){for(var n=e;/<!--|--!?>/g.test(n);)n=n.replace(/<!--|--!?>/g,"");return n},HC=function(e,n,o){var i,s,h,w,C=1;for(w=e.getShortEndedElements(),(h=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=o;s=h.exec(n);){if(i=h.lastIndex,s[1]==="/")C--;else if(!s[1]){if(s[2]in w)continue;C++}if(C===0)break}return i},P2=function(e,n){var o=e.exec(n);if(o){var i=o[1],s=o[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?s:null}return null};function zC(e,n){n===void 0&&(n=ce());var o=function(){};(e=e||{}).fix_self_closing!==!1&&(e.fix_self_closing=!0);var i=e.comment?e.comment:o,s=e.cdata?e.cdata:o,h=e.text?e.text:o,w=e.start?e.start:o,C=e.end?e.end:o,k=e.pi?e.pi:o,N=e.doctype?e.doctype:o;return{parse:function(O){var M,F,te,Y,ae,q,Z,le,xe,Ne,ge,He,Mt,nt,Gt,Ct,hn,Xt,pn,rr,fn,wn,vr,Vn,dn,In,Tr,Ir,Rr,Gn=0,Fr=[],Be=0,St=Na.decode,un=st.makeMap("src,href,data,background,formaction,poster,xlink:href"),En=/((java|vb)script|mhtml):/i,Pr=function(gi){var pa,Wi;for(pa=Fr.length;pa--&&Fr[pa].name!==gi;);if(0<=pa){for(Wi=Fr.length-1;pa<=Wi;Wi--)(gi=Fr[Wi]).valid&&C(gi.name);Fr.length=pa}},No=function(gi,pa,Wi,Td,mv){var mu,Sc,xp,Ou,Im;if(Wi=(pa=pa.toLowerCase())in ge?pa:St(Wi||Td||mv||""),Mt&&!le&&((xp=pa).indexOf("data-")===0||xp.indexOf("aria-")===0)==0){if(!(mu=Xt[pa])&&pn){for(Sc=pn.length;Sc--&&!(mu=pn[Sc]).pattern.test(pa););Sc===-1&&(mu=null)}if(!mu||mu.validValues&&!(Wi in mu.validValues))return}if(un[pa]&&!e.allow_script_urls){var Gf=Wi.replace(/[\s\u0000-\u001F]+/g,"");try{Gf=decodeURIComponent(Gf)}catch{Gf=unescape(Gf)}if(En.test(Gf)||(Im=Gf,!(Ou=e).allow_html_data_urls&&(/^data:image\//i.test(Im)?Ou.allow_svg_data_urls===!1&&/^data:image\/svg\+xml/i.test(Im):/^data:/i.test(Im))))return}le&&(pa in un||pa.indexOf("on")===0)||(Y.map[pa]=Wi,Y.push({name:pa,value:Wi}))};for(dn=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^"'>]+(?:(?:"[^"]*")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))`,"g"),In=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,Ne=n.getShortEndedElements(),Vn=e.self_closing_elements||n.getSelfClosingElements(),ge=n.getBoolAttrs(),Mt=e.validate,xe=e.remove_internals,Rr=e.fix_self_closing,Tr=n.getSpecialElements(),vr=O+">";M=dn.exec(vr);){if(Gn<M.index&&h(St(O.substr(Gn,M.index-Gn))),F=M[6])(F=F.toLowerCase()).charAt(0)===":"&&(F=F.substr(1)),Pr(F);else if(F=M[7]){if(M.index+M[0].length>O.length){h(St(O.substr(M.index))),Gn=M.index+M[0].length;continue}(F=F.toLowerCase()).charAt(0)===":"&&(F=F.substr(1)),He=F in Ne,Rr&&Vn[F]&&0<Fr.length&&Fr[Fr.length-1].name===F&&Pr(F);var $o=P2(In,M[8]);if($o!==null){if($o==="all"){Gn=HC(n,O,dn.lastIndex),dn.lastIndex=Gn;continue}Gt=!1}if(!Mt||(nt=n.getElementRule(F))){if(Gt=!0,Mt&&(Xt=nt.attributes,pn=nt.attributePatterns),(hn=M[8])?((le=hn.indexOf("data-mce-type")!==-1)&&xe&&(Gt=!1),(Y=[]).map={},hn.replace(In,No)):(Y=[]).map={},Mt&&!le){if(rr=nt.attributesRequired,fn=nt.attributesDefault,wn=nt.attributesForced,nt.removeEmptyAttrs&&!Y.length&&(Gt=!1),wn)for(ae=wn.length;ae--;)Z=(Ct=wn[ae]).name,(Ir=Ct.value)==="{$uid}"&&(Ir="mce_"+Be++),Y.map[Z]=Ir,Y.push({name:Z,value:Ir});if(fn)for(ae=fn.length;ae--;)(Z=(Ct=fn[ae]).name)in Y.map||((Ir=Ct.value)==="{$uid}"&&(Ir="mce_"+Be++),Y.map[Z]=Ir,Y.push({name:Z,value:Ir}));if(rr){for(ae=rr.length;ae--&&!(rr[ae]in Y.map););ae===-1&&(Gt=!1)}if(Ct=Y.map["data-mce-bogus"]){if(Ct==="all"){Gn=HC(n,O,dn.lastIndex),dn.lastIndex=Gn;continue}Gt=!1}}Gt&&w(F,Y,He)}else Gt=!1;if(te=Tr[F]){te.lastIndex=Gn=M.index+M[0].length,(M=te.exec(O))?(Gt&&(q=O.substr(Gn,M.index-Gn)),Gn=M.index+M[0].length):(q=O.substr(Gn),Gn=O.length),Gt&&(0<q.length&&h(q,!0),C(F)),dn.lastIndex=Gn;continue}He||(hn&&hn.indexOf("/")===hn.length-1?Gt&&C(F):Fr.push({name:F,valid:Gt}))}else(F=M[1])?(F.charAt(0)===">"&&(F=" "+F),e.allow_conditional_comments||F.substr(0,3).toLowerCase()!=="[if"||(F=" "+F),i(F)):(F=M[2])?s(O2(F)):(F=M[3])?N(F):(F=M[4])&&k(F,M[5]);Gn=M.index+M[0].length}for(Gn<O.length&&h(St(O.substr(Gn))),ae=Fr.length-1;0<=ae;ae--)(F=Fr[ae]).valid&&C(F.name)}}}(zC||(zC={})).findEndTag=HC;var jC=zC,YT=function(e,n){var o,i,s,h,w,C,k,N,O=n,M=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,F=e.schema;for(C=e.getTempAttrs(),k=O,N=new RegExp(["\\s?("+C.join("|")+')="[^"]+"'].join("|"),"gi"),O=k.replace(N,""),w=F.getShortEndedElements();h=M.exec(O);)i=M.lastIndex,s=h[0].length,o=w[h[1]]?i:jC.findEndTag(F,O,i),O=O.substring(0,i-s)+O.substring(o),M.lastIndex=i-s;return ml(O)},KT={trimExternal:YT,trimInternal:YT},D2=0,A2=2,M2=1,I2=function(e,n){var o=e.length+n.length+2,i=new Array(o),s=new Array(o),h=function(N,O,M,F,te){var Y=C(N,O,M,F);if(Y===null||Y.start===O&&Y.diag===O-F||Y.end===N&&Y.diag===N-M)for(var ae=N,q=M;ae<O||q<F;)ae<O&&q<F&&e[ae]===n[q]?(te.push([0,e[ae]]),++ae,++q):F-M<O-N?(te.push([2,e[ae]]),++ae):(te.push([1,n[q]]),++q);else{h(N,Y.start,M,Y.start-Y.diag,te);for(var Z=Y.start;Z<Y.end;++Z)te.push([0,e[Z]]);h(Y.end,O,Y.end-Y.diag,F,te)}},w=function(N,O,M,F){for(var te=N;te-O<F&&te<M&&e[te]===n[te-O];)++te;return{start:N,end:te,diag:O}},C=function(N,O,M,F){var te=O-N,Y=F-M;if(te===0||Y===0)return null;var ae,q,Z,le,xe,Ne=te-Y,ge=Y+te,He=(ge%2==0?ge:ge+1)/2;for(i[1+He]=N,s[1+He]=O+1,ae=0;ae<=He;++ae){for(q=-ae;q<=ae;q+=2){for(Z=q+He,q===-ae||q!==ae&&i[Z-1]<i[Z+1]?i[Z]=i[Z+1]:i[Z]=i[Z-1]+1,xe=(le=i[Z])-N+M-q;le<O&&xe<F&&e[le]===n[xe];)i[Z]=++le,++xe;if(Ne%2!=0&&Ne-ae<=q&&q<=Ne+ae&&s[Z-Ne]<=i[Z])return w(s[Z-Ne],q+N-M,O,F)}for(q=Ne-ae;q<=Ne+ae;q+=2){for(Z=q+He-Ne,q===Ne-ae||q!==Ne+ae&&s[Z+1]<=s[Z-1]?s[Z]=s[Z+1]-1:s[Z]=s[Z-1],xe=(le=s[Z]-1)-N+M-q;N<=le&&M<=xe&&e[le]===n[xe];)s[Z]=le--,xe--;if(Ne%2==0&&-ae<=q&&q<=ae&&s[Z]<=i[Z+Ne])return w(s[Z],q+N-M,O,F)}}},k=[];return h(0,e.length,0,n.length,k),k},XT=function(e){return je.isElement(e)?e.outerHTML:je.isText(e)?Na.encodeRaw(e.data,!1):je.isComment(e)?"<!--"+e.data+"-->":""},B2=function(e,n,o){var i=function(h){var w,C,k;for(k=t.document.createElement("div"),w=t.document.createDocumentFragment(),h&&(k.innerHTML=h);C=k.firstChild;)w.appendChild(C);return w}(n);if(e.hasChildNodes()&&o<e.childNodes.length){var s=e.childNodes[o];s.parentNode.insertBefore(i,s)}else e.appendChild(i)},L2=function(e){return qe(er(co(e.childNodes),XT),function(n){return 0<n.length})},F2=function(e,n){var o,i,s,h=er(co(n.childNodes),XT);return o=I2(h,e),i=n,s=0,Qt(o,function(w){w[0]===D2?s++:w[0]===M2?(B2(i,w[1],s),s++):w[0]===A2&&function(C,k){if(C.hasChildNodes()&&k<C.childNodes.length){var N=C.childNodes[k];N.parentNode.removeChild(N)}}(i,s)}),n},GT=aa(J.none()),H2=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},z2=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},WC=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},JT=function(e){var n=$t.fromTag("body",GT.get().getOrThunk(function(){var o=t.document.implementation.createHTMLDocument("undo");return GT.set(J.some(o)),o}));return Wp(n,WC(e)),Qt(cs(n,"*[data-mce-bogus]"),Su),n.dom().innerHTML},UC=function(e){var n,o,i;return n=L2(e.getBody()),(o=(i=xn(n,function(s){var h=KT.trimInternal(e.serializer,s);return 0<h.length?[h]:[]})).join("")).indexOf("</iframe>")!==-1?H2(i):z2(o)},$C=function(e,n,o){n.type==="fragmented"?F2(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw"}),e.selection.moveToBookmark(o?n.beforeBookmark:n.bookmark)},VC=function(e,n){return!(!e||!n)&&(i=n,WC(e)===WC(i)||(o=n,JT(e)===JT(o)));var o,i};function QT(e){var n,o,i=this,s=0,h=[],w=0,C=function(){return w===0},k=function(F){C()&&(i.typing=F)},N=function(F){e.setDirty(F)},O=function(F){k(!1),i.add({},F)},M=function(){i.typing&&(k(!1),i.add())};return e.on("init",function(){i.add()}),e.on("BeforeExecCommand",function(F){var te=F.command;te!=="Undo"&&te!=="Redo"&&te!=="mceRepaint"&&(M(),i.beforeChange())}),e.on("ExecCommand",function(F){var te=F.command;te!=="Undo"&&te!=="Redo"&&te!=="mceRepaint"&&O(F)}),e.on("ObjectResizeStart Cut",function(){i.beforeChange()}),e.on("SaveContent ObjectResized blur",O),e.on("DragEnd",O),e.on("KeyUp",function(F){var te=F.keyCode;F.isDefaultPrevented()||((33<=te&&te<=36||37<=te&&te<=40||te===45||F.ctrlKey)&&(O(),e.nodeChanged()),te!==46&&te!==8||e.nodeChanged(),o&&i.typing&&VC(UC(e),h[0])===!1&&(e.isDirty()===!1&&(N(!0),e.fire("change",{level:h[0],lastLevel:null})),e.fire("TypingUndo"),o=!1,e.nodeChanged()))}),e.on("KeyDown",function(F){var te=F.keyCode;if(!F.isDefaultPrevented())if(33<=te&&te<=36||37<=te&&te<=40||te===45)i.typing&&O(F);else{var Y=F.ctrlKey&&!F.altKey||F.metaKey;!(te<16||20<te)||te===224||te===91||i.typing||Y||(i.beforeChange(),k(!0),i.add({},F),o=!0)}}),e.on("MouseDown",function(F){i.typing&&O(F)}),e.on("input",function(F){var te;F.inputType&&(F.inputType==="insertReplacementText"||(te=F).inputType==="insertText"&&te.data===null)&&O(F)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(F){F.isDefaultPrevented()||e.nodeChanged()}),i={data:h,typing:!1,beforeChange:function(){C()&&(n=vc.getUndoBookmark(e.selection))},add:function(F,te){var Y,ae,q,Z=e.settings;if(q=UC(e),F=F||{},F=st.extend(F,q),C()===!1||e.removed||(ae=h[s],e.fire("BeforeAddUndo",{level:F,lastLevel:ae,originalEvent:te}).isDefaultPrevented())||ae&&VC(ae,F))return null;if(h[s]&&(h[s].beforeBookmark=n),Z.custom_undo_redo_levels&&h.length>Z.custom_undo_redo_levels){for(Y=0;Y<h.length-1;Y++)h[Y]=h[Y+1];h.length--,s=h.length}F.bookmark=vc.getUndoBookmark(e.selection),s<h.length-1&&(h.length=s+1),h.push(F),s=h.length-1;var le={level:F,lastLevel:ae,originalEvent:te};return e.fire("AddUndo",le),0<s&&(N(!0),e.fire("change",le)),F},undo:function(){var F;return i.typing&&(i.add(),i.typing=!1,k(!1)),0<s&&(F=h[--s],$C(e,F,!0),N(!0),e.fire("undo",{level:F})),F},redo:function(){var F;return s<h.length-1&&(F=h[++s],$C(e,F,!1),N(!0),e.fire("redo",{level:F})),F},clear:function(){h=[],s=0,i.typing=!1,i.data=h,e.fire("ClearUndos")},hasUndo:function(){return 0<s||i.typing&&h[0]&&!VC(UC(e),h[0])},hasRedo:function(){return s<h.length-1&&!i.typing},transact:function(F){return M(),i.beforeChange(),i.ignore(F),i.add()},ignore:function(F){try{w++,F()}finally{w--}},extra:function(F,te){var Y,ae;i.transact(F)&&(ae=h[s].bookmark,Y=h[s-1],$C(e,Y,!0),i.transact(te)&&(h[s-1].beforeBookmark=ae))}}}var qC,ZT,F1={},e_=Mr.filter,t_=Mr.each;ZT=function(e){var n,o,i=e.selection.getRng();n=je.matchNodeNames("pre"),i.collapsed||(o=e.selection.getSelectedBlocks(),t_(e_(e_(o,n),function(s){return n(s.previousSibling)&&Mr.indexOf(o,s.previousSibling)!==-1}),function(s){var h,w;h=s.previousSibling,br(w=s).remove(),br(h).append("<br><br>").append(w.childNodes)}))},F1[qC="pre"]||(F1[qC]=[]),F1[qC].push(ZT);var j2=function(e,n){t_(F1[e],function(o){o(n)})},W2=/^(src|href|style)$/,pp=st.each,lv=Yo.isEq,n_=function(e,n,o){return e.isChildOf(n,o)&&n!==o&&!e.isBlock(o)},r_=function(e,n,o){var i,s,h;return i=n[o?"startContainer":"endContainer"],s=n[o?"startOffset":"endOffset"],je.isElement(i)&&(h=i.childNodes.length-1,!o&&s&&s--,i=i.childNodes[h<s?h:s]),je.isText(i)&&o&&s>=i.nodeValue.length&&(i=new Ri(i,e.getBody()).next()||i),je.isText(i)&&!o&&s===0&&(i=new Ri(i,e.getBody()).prev()||i),i},YC=function(e,n,o,i){var s=e.create(o,i);return n.parentNode.insertBefore(s,n),s.appendChild(n),s},o_=function(e,n,o,i,s){var h=$t.fromDom(n),w=$t.fromDom(e.create(i,s)),C=o?hi(h):Vs(h);return Hu(w,C),o?(ea(h,w),Ja(w,h)):(ja(h,w),Yi(w,h)),w.dom()},H1=function(e,n,o,i){return!(n=Yo.getNonWhiteSpaceSibling(n,o,i))||n.nodeName==="BR"||e.isBlock(n)},ay=function(e,n,o,i,s){var h,w,C,k,N,O,M,F,te,Y,ae,q,Z,le,xe=e.dom;if(N=xe,!(lv(O=i,(M=n).inline)||lv(O,M.block)||(M.selector?je.isElement(O)&&N.is(O,M.selector):void 0)||(k=i,n.links&&k.tagName==="A")))return!1;if(n.remove!=="all")for(pp(n.styles,function(ge,He){ge=Yo.normalizeStyleValue(xe,Yo.replaceVars(ge,o),He),typeof He=="number"&&(He=ge,s=0),(n.remove_similar||!s||lv(Yo.getStyle(xe,s,He),ge))&&xe.setStyle(i,He,""),C=1}),C&&xe.getAttrib(i,"style")===""&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),pp(n.attributes,function(ge,He){var Mt;if(ge=Yo.replaceVars(ge,o),typeof He=="number"&&(He=ge,s=0),!s||lv(xe.getAttrib(s,He),ge)){if(He==="class"&&(ge=xe.getAttrib(i,He))&&(Mt="",pp(ge.split(/\s+/),function(nt){/mce\-\w+/.test(nt)&&(Mt+=(Mt?" ":"")+nt)}),Mt))return void xe.setAttrib(i,He,Mt);He==="class"&&i.removeAttribute("className"),W2.test(He)&&i.removeAttribute("data-mce-"+He),i.removeAttribute(He)}}),pp(n.classes,function(ge){ge=Yo.replaceVars(ge,o),s&&!xe.hasClass(s,ge)||xe.removeClass(i,ge)}),w=xe.getAttribs(i),h=0;h<w.length;h++){var Ne=w[h].nodeName;if(Ne.indexOf("_")!==0&&Ne.indexOf("data-")!==0)return!1}return n.remove!=="none"?(F=e,Y=n,q=(te=i).parentNode,Z=F.dom,le=F.settings.forced_root_block,Y.block&&(le?q===Z.getRoot()&&(Y.list_block&&lv(te,Y.list_block)||pp(st.grep(te.childNodes),function(ge){Yo.isValid(F,le,ge.nodeName.toLowerCase())?ae?ae.appendChild(ge):(ae=YC(Z,ge,le),Z.setAttribs(ae,F.settings.forced_root_block_attrs)):ae=0})):Z.isBlock(te)&&!Z.isBlock(q)&&(H1(Z,te,!1)||H1(Z,te.firstChild,!0,1)||te.insertBefore(Z.create("br"),te.firstChild),H1(Z,te,!0)||H1(Z,te.lastChild,!1,1)||te.appendChild(Z.create("br")))),Y.selector&&Y.inline&&!lv(Y.inline,te)||Z.remove(te,1),!0):void 0},KC=ay,i_=function(e,n,o,i,s){var h,w,C=e.formatter.get(n),k=C[0],N=!0,O=e.dom,M=e.selection,F=function(le){var xe,Ne,ge,He,Mt,nt,Gt=(xe=e,Ne=le,ge=n,He=o,Mt=s,pp(Yo.getParents(xe.dom,Ne.parentNode).reverse(),function(Ct){var hn;nt||Ct.id==="_start"||Ct.id==="_end"||(hn=tl.matchNode(xe,Ct,ge,He,Mt))&&hn.split!==!1&&(nt=Ct)}),nt);return function(Ct,hn,Xt,pn,rr,fn,wn,vr){var Vn,dn,In,Tr,Ir,Rr,Gn=Ct.dom;if(Xt){for(Rr=Xt.parentNode,Vn=pn.parentNode;Vn&&Vn!==Rr;Vn=Vn.parentNode){for(dn=Gn.clone(Vn,!1),Ir=0;Ir<hn.length;Ir++)if(ay(Ct,hn[Ir],vr,dn,dn)){dn=0;break}dn&&(In&&dn.appendChild(In),Tr||(Tr=dn),In=dn)}!fn||wn.mixed&&Gn.isBlock(Xt)||(pn=Gn.split(Xt,pn)),In&&(rr.parentNode.insertBefore(In,rr),Tr.appendChild(rr))}return pn}(e,C,Gt,le,le,!0,k,o)},te=function(le){var xe,Ne,ge,He,Mt;if(je.isElement(le)&&O.getContentEditable(le)&&(He=N,N=O.getContentEditable(le)==="true",Mt=!0),xe=st.grep(le.childNodes),N&&!Mt)for(Ne=0,ge=C.length;Ne<ge&&!ay(e,C[Ne],o,le,le);Ne++);if(k.deep&&xe.length){for(Ne=0,ge=xe.length;Ne<ge;Ne++)te(xe[Ne]);Mt&&(N=He)}},Y=function(le){var xe,Ne=O.get(le?"_start":"_end"),ge=Ne[le?"firstChild":"lastChild"];return ms(xe=ge)&&je.isElement(xe)&&(xe.id==="_start"||xe.id==="_end")&&(ge=ge[le?"firstChild":"lastChild"]),je.isText(ge)&&ge.data.length===0&&(ge=le?Ne.previousSibling||Ne.nextSibling:Ne.nextSibling||Ne.previousSibling),O.remove(Ne,!0),ge},ae=function(le){var xe,Ne,ge=le.commonAncestorContainer;if(le=cu(e,le,C,!0),k.split){if(le=rp(le),(xe=r_(e,le,!0))!==(Ne=r_(e,le))){if(/^(TR|TH|TD)$/.test(xe.nodeName)&&xe.firstChild&&(xe=xe.nodeName==="TR"?xe.firstChild.firstChild||xe:xe.firstChild||xe),ge&&/^T(HEAD|BODY|FOOT|R)$/.test(ge.nodeName)&&/^(TH|TD)$/.test(Ne.nodeName)&&Ne.firstChild&&(Ne=Ne.firstChild||Ne),n_(O,xe,Ne)){var He=J.from(xe.firstChild).getOr(xe);return F(o_(O,He,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void Y(!0)}if(n_(O,Ne,xe))return He=J.from(Ne.lastChild).getOr(Ne),F(o_(O,He,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void Y(!1);xe=YC(O,xe,"span",{id:"_start","data-mce-type":"bookmark"}),Ne=YC(O,Ne,"span",{id:"_end","data-mce-type":"bookmark"}),F(xe),F(Ne),xe=Y(!0),Ne=Y()}else xe=Ne=F(xe);le.startContainer=xe.parentNode?xe.parentNode:xe,le.startOffset=O.nodeIndex(xe),le.endContainer=Ne.parentNode?Ne.parentNode:Ne,le.endOffset=O.nodeIndex(Ne)+1}af(O,le,function(Mt){pp(Mt,function(nt){te(nt),je.isElement(nt)&&e.dom.getStyle(nt,"text-decoration")==="underline"&&nt.parentNode&&Yo.getTextDecoration(O,nt.parentNode)==="underline"&&ay(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,nt)})})};if(i)i.nodeType?((w=O.createRng()).setStartBefore(i),w.setEndAfter(i),ae(w)):ae(i);else if(O.getContentEditable(M.getNode())!=="false")M.isCollapsed()&&k.inline&&!O.select("td[data-mce-selected],th[data-mce-selected]").length?function(le,xe,Ne,ge){var He,Mt,nt,Gt,Ct,hn,Xt,pn=le.dom,rr=le.selection,fn=[],wn=rr.getRng();for(He=wn.startContainer,Mt=wn.startOffset,(Ct=He).nodeType===3&&(Mt!==He.nodeValue.length&&(Gt=!0),Ct=Ct.parentNode);Ct;){if(tl.matchNode(le,Ct,xe,Ne,ge)){hn=Ct;break}Ct.nextSibling&&(Gt=!0),fn.push(Ct),Ct=Ct.parentNode}if(hn)if(Gt){nt=rr.getBookmark(),wn.collapse(!0);var vr=cu(le,wn,le.formatter.get(xe),!0);vr=rp(vr),le.formatter.remove(xe,Ne,vr),rr.moveToBookmark(nt)}else{Xt=Fl(le.getBody(),hn);var Vn=op(!1).dom(),dn=z0(fn,Vn);u1(le,Vn,Xt||hn),ip(le,Xt,!1),rr.setCursorLocation(dn,1),pn.isEmpty(hn)&&pn.remove(hn)}}(e,n,o,s):(h=vc.getPersistentBookmark(e.selection,!0),ae(M.getRng()),M.moveToBookmark(h),k.inline&&tl.match(e,n,o,M.getStart())&&Yo.moveStart(O,M,M.getRng()),e.nodeChanged());else{i=M.getNode();for(var q=0,Z=C.length;q<Z&&(!C[q].ceFalseOverride||!ay(e,C[q],o,i,i));q++);}},uy=st.each,XC=function(e){return e&&e.nodeType===1&&!ms(e)&&!Qs(e)&&!je.isBogus(e)},a_=function(e,n){var o;for(o=e;o;o=o[n]){if(o.nodeType===3&&o.nodeValue.length!==0)return e;if(o.nodeType===1&&!ms(o))return o}return e},u_=function(e,n,o){var i,s,h=new zf(e);if(n&&o&&(n=a_(n,"previousSibling"),o=a_(o,"nextSibling"),h.compare(n,o))){for(i=n.nextSibling;i&&i!==o;)i=(s=i).nextSibling,n.appendChild(s);return e.remove(o),st.each(st.grep(o.childNodes),function(w){n.appendChild(w)}),n}return o},GC=function(e,n,o){uy(e.childNodes,function(i){XC(i)&&(n(i)&&o(i),i.hasChildNodes()&&GC(i,n,o))})},s_=function(e,n){return x(function(o,i){return!(!i||!Yo.getStyle(e,i,o))},n)},l_=function(e,n,o){return x(function(i,s,h){e.setStyle(h,i,s),h.getAttribute("style")===""&&h.removeAttribute("style"),U2(e,h)},n,o)},U2=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},c_=function(e,n){var o;n.nodeType===1&&n.parentNode&&n.parentNode.nodeType===1&&(o=Yo.getTextDecoration(e,n.parentNode),e.getStyle(n,"color")&&o?e.setStyle(n,"text-decoration",o):e.getStyle(n,"text-decoration")===o&&e.setStyle(n,"text-decoration",null))},$2=function(e,n,o,i){uy(n,function(s){uy(e.dom.select(s.inline,i),function(h){XC(h)&&KC(e,s,o,h,s.exact?h:null)}),function(h,w,C){if(w.clear_child_styles){var k=w.links?"*:not(a)":"*";uy(h.select(k,C),function(N){XC(N)&&uy(w.styles,function(O,M){h.setStyle(N,M,"")})})}}(e.dom,s,i)})},V2=function(e,n,o,i){(n.styles.color||n.styles.textDecoration)&&(st.walk(i,x(c_,e),"childNodes"),c_(e,i))},q2=function(e,n,o,i){n.styles&&n.styles.backgroundColor&&GC(i,s_(e,"fontSize"),l_(e,"backgroundColor",Yo.replaceVars(n.styles.backgroundColor,o)))},Y2=function(e,n,o,i){n.inline!=="sub"&&n.inline!=="sup"||(GC(i,s_(e,"fontSize"),l_(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},K2=function(e,n,o,i){i&&n.merge_siblings!==!1&&(i=u_(e,Yo.getNonWhiteSpaceSibling(i),i),i=u_(e,i,Yo.getNonWhiteSpaceSibling(i,!0)))},X2=function(e,n,o,i,s){tl.matchNode(e,s.parentNode,o,i)&&KC(e,n,i,s)||n.merge_with_parents&&e.dom.getParent(s.parentNode,function(h){if(tl.matchNode(e,h,o,i))return KC(e,n,i,s),!0})},ff=st.each,f_=function(e,n,o,i){var s,h,w=e.formatter.get(n),C=w[0],k=!i&&e.selection.isCollapsed(),N=e.dom,O=e.selection,M=function(Z,le){if(le=le||C,Z){if(le.onformat&&le.onformat(Z,le,o,i),ff(le.styles,function(Ne,ge){N.setStyle(Z,ge,Yo.replaceVars(Ne,o))}),le.styles){var xe=N.getAttrib(Z,"style");xe&&Z.setAttribute("data-mce-style",xe)}ff(le.attributes,function(Ne,ge){N.setAttrib(Z,ge,Yo.replaceVars(Ne,o))}),ff(le.classes,function(Ne){Ne=Yo.replaceVars(Ne,o),N.hasClass(Z,Ne)||N.addClass(Z,Ne)})}},F=function(Z,le){var xe=!1;return!!C.selector&&(ff(Z,function(Ne){if(!("collapsed"in Ne&&Ne.collapsed!==k))return N.is(le,Ne.selector)&&!Qs(le)?(M(le,Ne),!(xe=!0)):void 0}),xe)},te=function(Z,le,xe,Ne){var ge,He,Mt=[],nt=!0;ge=C.inline||C.block,He=Z.create(ge),M(He),af(Z,le,function(Gt){var Ct,hn=function(Xt){var pn,rr,fn,wn;if(wn=nt,pn=Xt.nodeName.toLowerCase(),rr=Xt.parentNode.nodeName.toLowerCase(),Xt.nodeType===1&&Z.getContentEditable(Xt)&&(wn=nt,nt=Z.getContentEditable(Xt)==="true",fn=!0),Yo.isEq(pn,"br"))return Ct=0,void(C.block&&Z.remove(Xt));if(C.wrapper&&tl.matchNode(e,Xt,n,o))Ct=0;else{if(nt&&!fn&&C.block&&!C.wrapper&&Yo.isTextBlock(e,pn)&&Yo.isValid(e,rr,ge))return Xt=Z.rename(Xt,ge),M(Xt),Mt.push(Xt),void(Ct=0);if(C.selector){var vr=F(w,Xt);if(!C.inline||vr)return void(Ct=0)}!nt||fn||!Yo.isValid(e,ge,pn)||!Yo.isValid(e,rr,ge)||!Ne&&Xt.nodeType===3&&Xt.nodeValue.length===1&&Xt.nodeValue.charCodeAt(0)===65279||Qs(Xt)||C.inline&&Z.isBlock(Xt)?(Ct=0,ff(st.grep(Xt.childNodes),hn),fn&&(nt=wn),Ct=0):(Ct||(Ct=Z.clone(He,!1),Xt.parentNode.insertBefore(Ct,Xt),Mt.push(Ct)),Ct.appendChild(Xt))}};ff(Gt,hn)}),C.links===!0&&ff(Mt,function(Gt){var Ct=function(hn){hn.nodeName==="A"&&M(hn,C),ff(st.grep(hn.childNodes),Ct)};Ct(Gt)}),ff(Mt,function(Gt){var Ct,hn,Xt,pn,rr,fn=function(wn){var vr=!1;return ff(wn.childNodes,function(Vn){if((dn=Vn)&&dn.nodeType===1&&!ms(dn)&&!Qs(dn)&&!je.isBogus(dn))return vr=Vn,!1;var dn}),vr};hn=0,ff(Gt.childNodes,function(wn){Yo.isWhiteSpaceNode(wn)||ms(wn)||hn++}),Ct=hn,!(1<Mt.length)&&Z.isBlock(Gt)||Ct!==0?(C.inline||C.wrapper)&&(C.exact||Ct!==1||((pn=fn(Xt=Gt))&&!ms(pn)&&tl.matchName(Z,pn,C)&&(rr=Z.clone(pn,!1),M(rr),Z.replace(rr,Xt,!0),Z.remove(pn,1)),Gt=rr||Xt),$2(e,w,o,Gt),X2(e,C,n,o,Gt),q2(Z,C,o,Gt),Y2(Z,C,o,Gt),K2(Z,C,o,Gt)):Z.remove(Gt,1)})};if(N.getContentEditable(O.getNode())!=="false"){if(C){if(i)i.nodeType?F(w,i)||((h=N.createRng()).setStartBefore(i),h.setEndAfter(i),te(N,cu(e,h,w),0,!0)):te(N,i,0,!0);else if(k&&C.inline&&!N.select("td[data-mce-selected],th[data-mce-selected]").length)(function(Z,le,xe){var Ne,ge,He,Mt,nt,Gt,Ct=Z.selection;Mt=(Ne=Ct.getRng(!0)).startOffset,Gt=Ne.startContainer.nodeValue,(ge=Fl(Z.getBody(),Ct.getStart()))&&(He=Tm(ge));var hn,Xt,pn=/[^\s\u00a0\u00ad\u200b\ufeff]/;Gt&&0<Mt&&Mt<Gt.length&&pn.test(Gt.charAt(Mt))&&pn.test(Gt.charAt(Mt-1))?(nt=Ct.getBookmark(),Ne.collapse(!0),Ne=cu(Z,Ne,Z.formatter.get(le)),Ne=rp(Ne),Z.formatter.apply(le,xe,Ne),Ct.moveToBookmark(nt)):(ge&&He.nodeValue===Cd||(hn=Z.getDoc(),Xt=op(!0).dom(),He=(ge=hn.importNode(Xt,!0)).firstChild,Ne.insertNode(ge),Mt=1),Z.formatter.apply(le,xe,ge),Ct.setCursorLocation(He,Mt))})(e,n,o);else{var Y=e.selection.getNode();e.settings.forced_root_block||!w[0].defaultBlock||N.getParent(Y,N.isBlock)||f_(e,w[0].defaultBlock),e.selection.setRng(Hh(e.selection.getRng())),s=vc.getPersistentBookmark(e.selection,!0),te(N,cu(e,O.getRng(),w)),C.styles&&V2(N,C,o,Y),O.moveToBookmark(s),Yo.moveStart(N,O,O.getRng()),e.nodeChanged()}j2(n,e)}}else{i=O.getNode();for(var ae=0,q=w.length;ae<q;ae++)if(w[ae].ceFalseOverride&&N.is(i,w[ae].selector))return void M(i,w[ae])}},d_={applyFormat:f_},cv=st.each,G2=function(e,n,o,i,s){var h,w,C,k,N,O,M,F;n.get()===null&&(w=e,C={},(h=n).set({}),w.on("NodeChange",function(te){var Y=Yo.getParents(w.dom,te.element),ae={};Y=st.grep(Y,function(q){return q.nodeType===1&&!q.getAttribute("data-mce-bogus")}),cv(h.get(),function(q,Z){cv(Y,function(le){return w.formatter.matchNode(le,Z,{},q.similar)?(C[Z]||(cv(q,function(xe){xe(!0,{node:le,format:Z,parents:Y})}),C[Z]=q),ae[Z]=q,!1):!tl.matchesUnInheritedFormatSelector(w,le,Z)&&void 0})}),cv(C,function(q,Z){ae[Z]||(delete C[Z],cv(q,function(le){le(!1,{node:te.element,format:Z,parents:Y})}))})})),N=o,O=i,M=s,F=(k=n).get(),cv(N.split(","),function(te){F[te]||(F[te]=[],F[te].similar=M),F[te].push(O)}),k.set(F)},J2={get:function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(o,i,s){st.each(s,function(h,w){e.setAttrib(o,w,h)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return st.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(o){n[o]={block:o,remove:"all"}}),n}},z1=st.each,gs=vn.DOM,m_=function(e,n){var o,i,s,h=n&&n.schema||ce({}),w=function(k){var N,O,M;return i=typeof k=="string"?{name:k,classes:[],attrs:{}}:k,N=gs.create(i.name),O=N,(M=i).classes.length&&gs.addClass(O,M.classes.join(" ")),gs.setAttribs(O,M.attrs),N},C=function(k,N,O){var M,F,te,Y,ae,q,Z,le,xe=0<N.length&&N[0],Ne=xe&&xe.name;if(ae=Ne,q=typeof(Y=k)!="string"?Y.nodeName.toLowerCase():Y,Z=h.getElementRule(q),te=!(!(le=Z&&Z.parentsRequired)||!le.length)&&(ae&&st.inArray(le,ae)!==-1?ae:le[0]))Ne===te?(F=N[0],N=N.slice(1)):F=te;else if(xe)F=N[0],N=N.slice(1);else if(!O)return k;return F&&(M=w(F)).appendChild(k),O&&(M||(M=gs.create("div")).appendChild(k),st.each(O,function(ge){var He=w(ge);M.insertBefore(He,k)})),C(M,N,F&&F.siblings)};return e&&e.length?(i=e[0],o=w(i),(s=gs.create("div")).appendChild(C(o,e.slice(1),i.siblings)),s):""},Q2=function(e){var n,o={classes:[],attrs:{}};return(e=o.selector=st.trim(e))!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,s,h,w,C){switch(s){case"#":o.attrs.id=h;break;case".":o.classes.push(h);break;case":":st.inArray("checked disabled enabled read-only required".split(" "),h)!==-1&&(o.attrs[h]=h)}if(w==="["){var k=C.match(/([\w\-]+)(?:\=\"([^\"]+))?/);k&&(o.attrs[k[1]]=k[2])}return""})),o.name=n||"div",o},Z2=function(e){return e&&typeof e=="string"?(e=(e=e.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),st.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var o=st.map(n.split(/(?:~\+|~|\+)/),Q2),i=o.pop();return o.length&&(i.siblings=o),i}).reverse()):[]},eM=function(e,n){var o,i,s,h,w,C,k="";if((C=e.settings.preview_styles)===!1)return"";typeof C!="string"&&(C="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var N=function(O){return O.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(!(n=e.formatter.get(n)))return;n=n[0]}return"preview"in n&&(C=n.preview)===!1?"":(o=n.block||n.inline||"span",(h=Z2(n.selector)).length?(h[0].name||(h[0].name=o),o=n.selector,i=m_(h,e)):i=m_([o],e),s=gs.select(o,i)[0]||i.firstChild,z1(n.styles,function(O,M){(O=N(O))&&gs.setStyle(s,M,O)}),z1(n.attributes,function(O,M){(O=N(O))&&gs.setAttrib(s,M,O)}),z1(n.classes,function(O){O=N(O),gs.hasClass(s,O)||gs.addClass(s,O)}),e.fire("PreviewFormats"),gs.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),w=gs.getStyle(e.getBody(),"fontSize",!0),w=/px$/.test(w)?parseInt(w,10):0,z1(C.split(" "),function(O){var M=gs.getStyle(s,O,!0);if(!(O==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(M)&&(M=gs.getStyle(e.getBody(),O,!0),gs.toHex(M).toLowerCase()==="#ffffff")||O==="color"&&gs.toHex(M).toLowerCase()==="#000000")){if(O==="font-size"&&/em|%$/.test(M)){if(w===0)return;M=parseFloat(M)/(/%$/.test(M)?100:1)*w+"px"}O==="border"&&M&&(k+="padding:0 2px;"),k+=O+":"+M+";"}}),e.fire("AfterPreviewFormats"),gs.remove(i),k)},tM=function(e,n,o,i,s){var h=n.get(o);!tl.match(e,o,i,s)||"toggle"in h[0]&&!h[0].toggle?d_.applyFormat(e,o,i,s):i_(e,o,i,s)},nM=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])};function h_(e){var n,o,i,s=(n=e,o={},(i=function(w,C){w&&(typeof w!="string"?st.each(w,function(k,N){i(N,k)}):(C=C.length?C:[C],st.each(C,function(k){typeof k.deep=="undefined"&&(k.deep=!k.selector),typeof k.split=="undefined"&&(k.split=!k.selector||k.inline),typeof k.remove=="undefined"&&k.selector&&!k.inline&&(k.remove="none"),k.selector&&k.inline&&(k.mixed=!0,k.block_expand=!0),typeof k.classes=="string"&&(k.classes=k.classes.split(/\s+/))}),o[w]=C))})(J2.get(n.dom)),i(n.settings.formats),{get:function(w){return w?o[w]:o},register:i,unregister:function(w){return w&&o[w]&&delete o[w],o}}),h=aa(null);return nM(e),s1(e),{get:s.get,register:s.register,unregister:s.unregister,apply:x(d_.applyFormat,e),remove:x(i_,e),toggle:x(tM,e,s),match:x(tl.match,e),matchAll:x(tl.matchAll,e),matchNode:x(tl.matchNode,e),canApply:x(tl.canApply,e),formatChanged:x(G2,e,h),getCssText:x(eM,e)}}var p_,rM=Object.prototype.hasOwnProperty,sy=(p_=function(e,n){return n},function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(e.length===0)throw new Error("Can't merge zero objects");for(var o={},i=0;i<e.length;i++){var s=e[i];for(var h in s)rM.call(s,h)&&(o[h]=p_(o[h],s[h]))}return o}),g_={register:function(e,n,o){e.addAttributeFilter("data-mce-tabindex",function(i,s){for(var h,w=i.length;w--;)(h=i[w]).attr("tabindex",h.attributes.map["data-mce-tabindex"]),h.attr(s,null)}),e.addAttributeFilter("src,href,style",function(i,s){for(var h,w,C=i.length,k="data-mce-"+s,N=n.url_converter,O=n.url_converter_scope;C--;)(w=(h=i[C]).attributes.map[k])!==void 0?(h.attr(s,0<w.length?w:null),h.attr(k,null)):(w=h.attributes.map[s],s==="style"?w=o.serializeStyle(o.parseStyle(w),h.name):N&&(w=N.call(O,w,s,h.name)),h.attr(s,0<w.length?w:null))}),e.addAttributeFilter("class",function(i){for(var s,h,w=i.length;w--;)(h=(s=i[w]).attr("class"))&&(h=s.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),s.attr("class",0<h.length?h:null))}),e.addAttributeFilter("data-mce-type",function(i,s,h){for(var w,C=i.length;C--;)(w=i[C]).attributes.map["data-mce-type"]!=="bookmark"||h.cleanup||(J.from(w.firstChild).exists(function(k){return!Kd(k.value)})?w.unwrap():w.remove())}),e.addNodeFilter("noscript",function(i){for(var s,h=i.length;h--;)(s=i[h].firstChild)&&(s.value=Na.decode(s.value))}),e.addNodeFilter("script,style",function(i,s){for(var h,w,C,k=i.length,N=function(O){return O.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};k--;)w=(h=i[k]).firstChild?h.firstChild.value:"",s==="script"?((C=h.attr("type"))&&h.attr("type",C==="mce-no/type"?null:C.replace(/^mce\-/,"")),n.element_format==="xhtml"&&0<w.length&&(h.firstChild.value=`// <![CDATA[
`+N(w)+`
// ]]>`)):n.element_format==="xhtml"&&0<w.length&&(h.firstChild.value=`<!--
`+N(w)+`
-->`)}),e.addNodeFilter("#comment",function(i){for(var s,h=i.length;h--;)(s=i[h]).value.indexOf("[CDATA[")===0?(s.name="#cdata",s.type=4,s.value=s.value.replace(/^\[CDATA\[|\]\]$/g,"")):s.value.indexOf("mce:protected ")===0&&(s.name="#text",s.type=3,s.raw=!0,s.value=unescape(s.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(i,s){for(var h,w=i.length;w--;)(h=i[w]).type===7?h.remove():h.type===1&&(s!=="input"||"type"in h.attributes.map||h.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(i){Qt(i,function(s){s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(i,s){for(var h=i.length;h--;)i[h].attr(s,null)})},trimTrailingBr:function(e){var n,o,i=function(s){return s&&s.name==="br"};i(n=e.lastChild)&&i(o=n.prev)&&(n.remove(),o.remove())}},oM={process:function(e,n,o){return M=o,(O=e)&&O.hasEventListeners("PreProcess")&&!M.no_events?(s=n,h=o,N=(i=e).dom,s=s.cloneNode(!0),(w=t.document.implementation).createHTMLDocument&&(C=w.createHTMLDocument(""),st.each(s.nodeName==="BODY"?s.childNodes:[s],function(F){C.body.appendChild(C.importNode(F,!0))}),s=s.nodeName!=="BODY"?C.body.firstChild:C.body,k=N.doc,N.doc=C),CC(i,sy(h,{node:s})),k&&(N.doc=k),s):n;var i,s,h,w,C,k,N,O,M}},iM=function(e,n,o){e.addNodeFilter("font",function(i){Qt(i,function(s){var h,w=n.parse(s.attr("style")),C=s.attr("color"),k=s.attr("face"),N=s.attr("size");C&&(w.color=C),k&&(w["font-family"]=k),N&&(w["font-size"]=o[parseInt(s.attr("size"),10)-1]),s.name="span",s.attr("style",n.serialize(w)),h=s,Qt(["color","face","size"],function(O){h.attr(O,null)})})})},aM=function(e,n){var o,i=We();n.convert_fonts_to_spans&&iM(e,i,st.explode(n.font_size_legacy_values)),o=i,e.addNodeFilter("strike",function(s){Qt(s,function(h){var w=o.parse(h.attr("style"));w["text-decoration"]="line-through",h.name="span",h.attr("style",o.serialize(w))})})},uM={register:function(e,n){n.inline_styles&&aM(e,n)}},v_=/^[ \t\r\n]*$/,sM={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},j1=function(e,n,o){var i,s,h=o?"lastChild":"firstChild",w=o?"prev":"next";if(e[h])return e[h];if(e!==n){if(i=e[w])return i;for(s=e.parent;s&&s!==n;s=s.parent)if(i=s[w])return i}},Cc=function(){function e(n,o){this.name=n,(this.type=o)===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,o){var i,s;if(i=new e(n,sM[n]||1),o)for(s in o)i.attr(s,o[s]);return i},e.prototype.replace=function(n){return n.parent&&n.remove(),this.insert(n,this),this.remove(),this},e.prototype.attr=function(n,o){var i,s;if(typeof n!="string"){for(s in n)this.attr(s,n[s]);return this}if(i=this.attributes){if(o!==void 0){if(o===null){if(n in i.map){for(delete i.map[n],s=i.length;s--;)if(i[s].name===n)return i=i.splice(s,1),this}return this}if(n in i.map){for(s=i.length;s--;)if(i[s].name===n){i[s].value=o;break}}else i.push({name:n,value:o});return i.map[n]=o,this}return i.map[n]}},e.prototype.clone=function(){var n,o,i,s,h,w=new e(this.name,this.type);if(i=this.attributes){for((h=[]).map={},n=0,o=i.length;n<o;n++)(s=i[n]).name!=="id"&&(h[h.length]={name:s.name,value:s.value},h.map[s.name]=s.value);w.attributes=h}return w.value=this.value,w.shortEnded=this.shortEnded,w},e.prototype.wrap=function(n){return this.parent.insert(n,this),n.append(this),this},e.prototype.unwrap=function(){var n,o;for(n=this.firstChild;n;)o=n.next,this.insert(n,this,!0),n=o;this.remove()},e.prototype.remove=function(){var n=this.parent,o=this.next,i=this.prev;return n&&(n.firstChild===this?(n.firstChild=o)&&(o.prev=null):i.next=o,n.lastChild===this?(n.lastChild=i)&&(i.next=null):o.prev=i,this.parent=this.next=this.prev=null),this},e.prototype.append=function(n){var o;return n.parent&&n.remove(),(o=this.lastChild)?((o.next=n).prev=o,this.lastChild=n):this.lastChild=this.firstChild=n,n.parent=this,n},e.prototype.insert=function(n,o,i){var s;return n.parent&&n.remove(),s=o.parent||this,i?(o===s.firstChild?s.firstChild=n:o.prev.next=n,n.prev=o.prev,(n.next=o).prev=n):(o===s.lastChild?s.lastChild=n:o.next.prev=n,n.next=o.next,(n.prev=o).next=n),n.parent=s,n},e.prototype.getAll=function(n){var o,i=[];for(o=this.firstChild;o;o=j1(o,this))o.name===n&&i.push(o);return i},e.prototype.empty=function(){var n,o,i;if(this.firstChild){for(n=[],i=this.firstChild;i;i=j1(i,this))n.push(i);for(o=n.length;o--;)(i=n[o]).parent=i.firstChild=i.lastChild=i.next=i.prev=null}return this.firstChild=this.lastChild=null,this},e.prototype.isEmpty=function(n,o,i){var s,h,w=this.firstChild;if(o=o||{},w)do{if(w.type===1){if(w.attributes.map["data-mce-bogus"])continue;if(n[w.name])return!1;for(s=w.attributes.length;s--;)if((h=w.attributes[s].name)==="name"||h.indexOf("data-mce-bookmark")===0)return!1}if(w.type===8||w.type===3&&!v_.test(w.value)||w.type===3&&w.parent&&o[w.parent.name]&&v_.test(w.value)||i&&i(w))return!1}while(w=j1(w,this));return!0},e.prototype.walk=function(n){return j1(this,null,n)},e}(),y_=function(e,n,o,i){(e.padd_empty_with_br||n.insert)&&o[i.name]?i.empty().append(new Cc("br",1)).shortEnded=!0:i.empty().append(new Cc("#text",3)).value="\xA0"},lM=function(e){return b_(e,"#text")&&e.firstChild.value==="\xA0"},b_=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},ly=function(e,n,o,i){return i.isEmpty(n,o,function(s){return h=s,(w=e.getElementRule(h.name))&&w.paddEmpty;var h,w})},cM=function(e,n){return e&&(n[e.name]||e.name==="br")},fM=function(e,n){var o=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,s,h){var w,C,k,N,O,M,F,te,Y=i.length,ae=st.extend({},o.getBlockElements()),q=o.getNonEmptyElements(),Z=o.getWhiteSpaceElements();for(ae.body=1,w=0;w<Y;w++)if(k=(C=i[w]).parent,ae[C.parent.name]&&C===k.lastChild){for(O=C.prev;O;){if((M=O.name)!=="span"||O.attr("data-mce-type")!=="bookmark"){if(M!=="br")break;if(M==="br"){C=null;break}}O=O.prev}C&&(C.remove(),ly(o,q,Z,k)&&(F=o.getElementRule(k.name))&&(F.removeEmpty?k.remove():F.paddEmpty&&y_(n,h,ae,k)))}else{for(N=C;k&&k.firstChild===N&&k.lastChild===N&&!ae[(N=k).name];)k=k.parent;N===k&&n.padd_empty_with_br!==!0&&((te=new Cc("#text",3)).value="\xA0",C.replace(te))}}),e.addAttributeFilter("href",function(i){var s,h,w,C=i.length;if(!n.allow_unsafe_link_target)for(;C--;)(s=i[C]).name==="a"&&s.attr("target")==="_blank"&&s.attr("rel",(h=s.attr("rel"),w=h?st.trim(h):"",/\b(noopener)\b/g.test(w)?w:w.split(" ").filter(function(k){return 0<k.length}).concat(["noopener"]).sort().join(" ")))}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var s,h,w,C,k=i.length;k--;)if((C=i[k]).name==="a"&&C.firstChild&&!C.attr("href"))for(w=C.parent,s=C.lastChild;h=s.prev,w.insert(s,C),s=h;);}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var s,h,w=i.length;w--;)if((h=(s=i[w]).parent).name==="ul"||h.name==="ol")if(s.prev&&s.prev.name==="li")s.prev.append(s);else{var C=new Cc("li",1);C.attr("style","list-style-type: none"),s.wrap(C)}}),n.validate&&o.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var s,h,w,C,k,N,O,M=i.length,F=o.getValidClasses();M--;){for(h=(s=i[M]).attr("class").split(" "),k="",w=0;w<h.length;w++)C=h[w],O=!1,(N=F["*"])&&N[C]&&(O=!0),N=F[s.name],!O&&N&&N[C]&&(O=!0),O&&(k&&(k+=" "),k+=C);k.length||(k=null),s.attr("class",k)}})},w_=st.makeMap,x_=st.each,C_=st.explode,dM=st.extend;function JC(e,n){n===void 0&&(n=ce());var o={},i=[],s={},h={};(e=e||{}).validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var w=function(k){var N,O,M;for(((O=k.name)in o)&&((M=s[O])?M.push(k):s[O]=[k]),N=i.length;N--;)(O=i[N].name)in k.attributes.map&&((M=h[O])?M.push(k):h[O]=[k]);return k},C={schema:n,addAttributeFilter:function(k,N){x_(C_(k),function(O){var M;for(M=0;M<i.length;M++)if(i[M].name===O)return void i[M].callbacks.push(N);i.push({name:O,callbacks:[N]})})},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(k,N){x_(C_(k),function(O){var M=o[O];M||(o[O]=M=[]),M.push(N)})},getNodeFilters:function(){var k=[];for(var N in o)o.hasOwnProperty(N)&&k.push({name:N,callbacks:o[N]});return k},filterNode:w,parse:function(k,N){var O,M,F,te,Y,ae,q,Z,le,xe,Ne,ge=[];N=N||{},s={},h={},le=dM(w_("script,style,head,html,body,title,meta,param"),n.getBlockElements());var He=n.getNonEmptyElements(),Mt=n.children,nt=e.validate,Gt="forced_root_block"in N?N.forced_root_block:e.forced_root_block,Ct=n.getWhiteSpaceElements(),hn=/^[ \t\r\n]+/,Xt=/[ \t\r\n]+$/,pn=/[ \t\r\n]+/g,rr=/^[ \t\r\n]+$/;xe=Ct.hasOwnProperty(N.context)||Ct.hasOwnProperty(e.root_name);var fn=function(Vn,dn){var In,Tr=new Cc(Vn,dn);return Vn in o&&((In=s[Vn])?In.push(Tr):s[Vn]=[Tr]),Tr},wn=function(Vn){var dn,In,Tr,Ir,Rr=n.getBlockElements();for(dn=Vn.prev;dn&&dn.type===3;){if(0<(Tr=dn.value.replace(Xt,"")).length)return void(dn.value=Tr);if(In=dn.next){if(In.type===3&&In.value.length){dn=dn.prev;continue}if(!Rr[In.name]&&In.name!=="script"&&In.name!=="style"){dn=dn.prev;continue}}Ir=dn.prev,dn.remove(),dn=Ir}};O=jC({validate:nt,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:function(Vn){var dn,In={};for(dn in Vn)dn!=="li"&&dn!=="p"&&(In[dn]=Vn[dn]);return In}(n.getSelfClosingElements()),cdata:function(Vn){Ne.append(fn("#cdata",4)).value=Vn},text:function(Vn,dn){var In;xe||(Vn=Vn.replace(pn," "),cM(Ne.lastChild,le)&&(Vn=Vn.replace(hn,""))),Vn.length!==0&&((In=fn("#text",3)).raw=!!dn,Ne.append(In).value=Vn)},comment:function(Vn){Ne.append(fn("#comment",8)).value=Vn},pi:function(Vn,dn){Ne.append(fn(Vn,7)).value=dn,wn(Ne)},doctype:function(Vn){Ne.append(fn("#doctype",10)).value=Vn,wn(Ne)},start:function(Vn,dn,In){var Tr,Ir,Rr,Gn,Fr;if(Rr=nt?n.getElementRule(Vn):{}){for((Tr=fn(Rr.outputName||Vn,1)).attributes=dn,Tr.shortEnded=In,Ne.append(Tr),(Fr=Mt[Ne.name])&&Mt[Tr.name]&&!Fr[Tr.name]&&ge.push(Tr),Ir=i.length;Ir--;)(Gn=i[Ir].name)in dn.map&&((q=h[Gn])?q.push(Tr):h[Gn]=[Tr]);le[Vn]&&wn(Tr),In||(Ne=Tr),!xe&&Ct[Vn]&&(xe=!0)}},end:function(Vn){var dn,In,Tr,Ir,Rr;if(In=nt?n.getElementRule(Vn):{}){if(le[Vn]&&!xe){if((dn=Ne.firstChild)&&dn.type===3)if(0<(Tr=dn.value.replace(hn,"")).length)dn.value=Tr,dn=dn.next;else for(Ir=dn.next,dn.remove(),dn=Ir;dn&&dn.type===3;)Tr=dn.value,Ir=dn.next,(Tr.length===0||rr.test(Tr))&&(dn.remove(),dn=Ir),dn=Ir;if((dn=Ne.lastChild)&&dn.type===3)if(0<(Tr=dn.value.replace(Xt,"")).length)dn.value=Tr,dn=dn.prev;else for(Ir=dn.prev,dn.remove(),dn=Ir;dn&&dn.type===3;)Tr=dn.value,Ir=dn.prev,(Tr.length===0||rr.test(Tr))&&(dn.remove(),dn=Ir),dn=Ir}if(xe&&Ct[Vn]&&(xe=!1),In.removeEmpty&&ly(n,He,Ct,Ne)&&!Ne.attributes.map.name&&!Ne.attr("id"))return Rr=Ne.parent,le[Ne.name]?Ne.empty().remove():Ne.unwrap(),void(Ne=Rr);In.paddEmpty&&(lM(Ne)||ly(n,He,Ct,Ne))&&y_(e,N,le,Ne),Ne=Ne.parent}}},n);var vr=Ne=new Cc(N.context||e.root_name,11);if(O.parse(k),nt&&ge.length&&(N.context?N.invalid=!0:function(Vn){var dn,In,Tr,Ir,Rr,Gn,Fr,Be,St,un,En,Pr,No,$o,gi,pa;for(Pr=w_("tr,td,th,tbody,thead,tfoot,table"),un=n.getNonEmptyElements(),En=n.getWhiteSpaceElements(),No=n.getTextBlockElements(),$o=n.getSpecialElements(),dn=0;dn<Vn.length;dn++)if((In=Vn[dn]).parent&&!In.fixed)if(No[In.name]&&In.parent.name==="li"){for(gi=In.next;gi&&No[gi.name];)gi.name="li",gi.fixed=!0,In.parent.insert(gi,In.parent),gi=gi.next;In.unwrap(In)}else{for(Ir=[In],Tr=In.parent;Tr&&!n.isValidChild(Tr.name,In.name)&&!Pr[Tr.name];Tr=Tr.parent)Ir.push(Tr);if(Tr&&1<Ir.length){for(Ir.reverse(),Rr=Gn=w(Ir[0].clone()),St=0;St<Ir.length-1;St++){for(n.isValidChild(Gn.name,Ir[St].name)?(Fr=w(Ir[St].clone()),Gn.append(Fr)):Fr=Gn,Be=Ir[St].firstChild;Be&&Be!==Ir[St+1];)pa=Be.next,Fr.append(Be),Be=pa;Gn=Fr}ly(n,un,En,Rr)?Tr.insert(In,Ir[0],!0):(Tr.insert(Rr,Ir[0],!0),Tr.insert(In,Rr)),Tr=Ir[0],(ly(n,un,En,Tr)||b_(Tr,"br"))&&Tr.empty().remove()}else if(In.parent){if(In.name==="li"){if((gi=In.prev)&&(gi.name==="ul"||gi.name==="ul")){gi.append(In);continue}if((gi=In.next)&&(gi.name==="ul"||gi.name==="ul")){gi.insert(In,gi.firstChild,!0);continue}In.wrap(w(new Cc("ul",1)));continue}n.isValidChild(In.parent.name,"div")&&n.isValidChild("div",In.name)?In.wrap(w(new Cc("div",1))):$o[In.name]?In.empty().remove():In.unwrap()}}}(ge)),Gt&&(vr.name==="body"||N.isRootContent)&&function(){var Vn,dn,In=vr.firstChild,Tr=function(Ir){Ir&&((In=Ir.firstChild)&&In.type===3&&(In.value=In.value.replace(hn,"")),(In=Ir.lastChild)&&In.type===3&&(In.value=In.value.replace(Xt,"")))};if(n.isValidChild(vr.name,Gt.toLowerCase())){for(;In;)Vn=In.next,In.type===3||In.type===1&&In.name!=="p"&&!le[In.name]&&!In.attr("data-mce-type")?(dn||((dn=fn(Gt,1)).attr(e.forced_root_block_attrs),vr.insert(dn,In)),dn.append(In)):(Tr(dn),dn=null),In=Vn;Tr(dn)}}(),!N.invalid){for(Z in s){for(q=o[Z],Y=(M=s[Z]).length;Y--;)M[Y].parent||M.splice(Y,1);for(F=0,te=q.length;F<te;F++)q[F](M,Z,N)}for(F=0,te=i.length;F<te;F++)if((q=i[F]).name in h){for(Y=(M=h[q.name]).length;Y--;)M[Y].parent||M.splice(Y,1);for(Y=0,ae=q.callbacks.length;Y<ae;Y++)q.callbacks[Y](M,q.name,N)}}return vr}};return fM(C,e),uM.register(C,e),C}var mM=function(e,n,o){st.inArray(n,o)===-1&&(e.addAttributeFilter(o,function(i,s){for(var h=i.length;h--;)i[h].attr(s,null)}),n.push(o))},hM=function(e,n,o){var i=ml(o.getInner?n.innerHTML:e.getOuterHTML(n));return o.selection||Oe($t.fromDom(n))?i:st.trim(i)},pM=function(e,n,o){var i=o.selection?sy({forced_root_block:!1},o):o,s=e.parse(n,i);return g_.trimTrailingBr(s),s},gM=function(e,n,o,i,s){var h,w,C,k,N=(h=i,Ul(n,o).serialize(h));return w=e,k=N,!(C=s).no_events&&w?SC(w,sy(C,{content:k})).content:k};function S_(e,n){var o,i,s,h,w,C,k=(o=e,C=["data-mce-selected"],s=(i=n)&&i.dom?i.dom:vn.DOM,h=i&&i.schema?i.schema:ce(o),o.entity_encoding=o.entity_encoding||"named",o.remove_trailing_brs=!("remove_trailing_brs"in o)||o.remove_trailing_brs,w=JC(o,h),g_.register(w,o,s),{schema:h,addNodeFilter:w.addNodeFilter,addAttributeFilter:w.addAttributeFilter,serialize:function(N,O){var M=sy({format:"html"},O||{}),F=oM.process(i,N,M),te=hM(s,F,M),Y=pM(w,te,M);return M.format==="tree"?Y:gM(i,o,h,Y,M)},addRules:function(N){h.addValidElements(N)},setRules:function(N){h.setValidElements(N)},addTempAttr:x(mM,w,C),getTempAttrs:function(){return C}});return{schema:k.schema,addNodeFilter:k.addNodeFilter,addAttributeFilter:k.addAttributeFilter,serialize:k.serialize,addRules:k.addRules,setRules:k.setRules,addTempAttr:k.addTempAttr,getTempAttrs:k.getTempAttrs}}function QC(e){return{getBookmark:x(na,e),moveToBookmark:x(cg,e)}}(QC||(QC={})).isBookmarkNode=ms;var Kf,Dm,k_=QC,E_=je.isContentEditableFalse,vM=je.isContentEditableTrue,T_=function(e,n){var o,i,s,h,w,C,k,N,O,M,F,te,Y,ae,q,Z,le,xe=n.dom,Ne=st.each,ge=n.getDoc(),He=t.document,Mt=Math.abs,nt=Math.round,Gt=n.getBody();h={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var Ct=".mce-content-body";n.contentStyles.push(Ct+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+Ct+" .mce-resizehandle:hover {background: #000}"+Ct+" img[data-mce-selected],"+Ct+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+Ct+" .mce-clonedresizable {position: absolute;"+(Dn.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+Ct+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var hn=function(Rr){return Rr&&(Rr.nodeName==="IMG"||n.dom.is(Rr,"figure.image"))},Xt=function(Rr){var Gn,Fr,Be=Rr.target;Gn=Rr,Fr=n.selection.getRng(),!hn(Gn.target)||UT(Gn.clientX,Gn.clientY,Fr)||Rr.isDefaultPrevented()||n.selection.select(Be)},pn=function(Rr){return n.dom.is(Rr,"figure.image")?Rr.querySelector("img"):Rr},rr=function(Rr){var Gn=n.settings.object_resizing;return Gn!==!1&&!Dn.iOS&&(typeof Gn!="string"&&(Gn="table,img,figure.image,div"),Rr.getAttribute("data-mce-resize")!=="false"&&Rr!==n.getBody()&&Da($t.fromDom(Rr),Gn))},fn=function(Rr){var Gn,Fr,Be,St;Gn=Rr.screenX-C,Fr=Rr.screenY-k,ae=Gn*w[2]+M,q=Fr*w[3]+F,ae=ae<5?5:ae,q=q<5?5:q,(hn(o)&&n.settings.resize_img_proportional!==!1?!ii.modifierPressed(Rr):ii.modifierPressed(Rr)||hn(o)&&w[2]*w[3]!=0)&&(Mt(Gn)>Mt(Fr)?(q=nt(ae*te),ae=nt(q/te)):(ae=nt(q/te),q=nt(ae*te))),xe.setStyles(pn(i),{width:ae,height:q}),Be=0<(Be=w.startPos.x+Gn)?Be:0,St=0<(St=w.startPos.y+Fr)?St:0,xe.setStyles(s,{left:Be,top:St,display:"block"}),s.innerHTML=ae+" &times; "+q,w[2]<0&&i.clientWidth<=ae&&xe.setStyle(i,"left",N+(M-ae)),w[3]<0&&i.clientHeight<=q&&xe.setStyle(i,"top",O+(F-q)),(Gn=Gt.scrollWidth-Z)+(Fr=Gt.scrollHeight-le)!=0&&xe.setStyles(s,{left:Be-Gn,top:St-Fr}),Y||(TC(n,o,M,F),Y=!0)},wn=function(){Y=!1;var Rr=function(Gn,Fr){Fr&&(o.style[Gn]||!n.schema.isValid(o.nodeName.toLowerCase(),Gn)?xe.setStyle(pn(o),Gn,Fr):xe.setAttrib(pn(o),Gn,Fr))};Rr("width",ae),Rr("height",q),xe.unbind(ge,"mousemove",fn),xe.unbind(ge,"mouseup",wn),He!==ge&&(xe.unbind(He,"mousemove",fn),xe.unbind(He,"mouseup",wn)),xe.remove(i),xe.remove(s),vr(o),_1(n,o,ae,q),xe.setAttrib(o,"style",xe.getAttrib(o,"style")),n.nodeChanged()},vr=function(Rr){var Gn,Fr,Be,St,un;Vn(),Tr(),Gn=xe.getPos(Rr,Gt),N=Gn.x,O=Gn.y,un=Rr.getBoundingClientRect(),Fr=un.width||un.right-un.left,Be=un.height||un.bottom-un.top,o!==Rr&&(o=Rr,ae=q=0),St=n.fire("ObjectSelected",{target:Rr}),rr(Rr)&&!St.isDefaultPrevented()?Ne(h,function(En,Pr){var No;(No=xe.get("mceResizeHandle"+Pr))&&xe.remove(No),No=xe.add(Gt,"div",{id:"mceResizeHandle"+Pr,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Pr+"-resize; margin:0; padding:0"}),Dn.ie===11&&(No.contentEditable=!1),xe.bind(No,"mousedown",function($o){var gi;$o.stopImmediatePropagation(),$o.preventDefault(),C=(gi=$o).screenX,k=gi.screenY,M=pn(o).clientWidth,F=pn(o).clientHeight,te=F/M,(w=En).startPos={x:Fr*En[0]+N,y:Be*En[1]+O},Z=Gt.scrollWidth,le=Gt.scrollHeight,i=o.cloneNode(!0),xe.addClass(i,"mce-clonedresizable"),xe.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,xe.setStyles(i,{left:N,top:O,margin:0}),i.removeAttribute("data-mce-selected"),Gt.appendChild(i),xe.bind(ge,"mousemove",fn),xe.bind(ge,"mouseup",wn),He!==ge&&(xe.bind(He,"mousemove",fn),xe.bind(He,"mouseup",wn)),s=xe.add(Gt,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},M+" &times; "+F)}),En.elm=No,xe.setStyles(No,{left:Fr*En[0]+N-No.offsetWidth/2,top:Be*En[1]+O-No.offsetHeight/2})}):Vn(),o.setAttribute("data-mce-selected","1")},Vn=function(){var Rr,Gn;for(Rr in Tr(),o&&o.removeAttribute("data-mce-selected"),h)(Gn=xe.get("mceResizeHandle"+Rr))&&(xe.unbind(Gn),xe.remove(Gn))},dn=function(Rr){var Gn,Fr=function(Be,St){if(Be)do if(Be===St)return!0;while(Be=Be.parentNode)};Y||n.removed||(Ne(xe.select("img[data-mce-selected],hr[data-mce-selected]"),function(Be){Be.removeAttribute("data-mce-selected")}),Gn=Rr.type==="mousedown"?Rr.target:e.getNode(),Fr(Gn=xe.$(Gn).closest("table,img,figure.image,hr")[0],Gt)&&(Ir(),Fr(e.getStart(!0),Gn)&&Fr(e.getEnd(!0),Gn))?vr(Gn):Vn())},In=function(Rr){return E_(function(Gn,Fr){for(;Fr&&Fr!==Gn;){if(vM(Fr)||E_(Fr))return Fr;Fr=Fr.parentNode}return null}(n.getBody(),Rr))},Tr=function(){for(var Rr in h){var Gn=h[Rr];Gn.elm&&(xe.unbind(Gn.elm),delete Gn.elm)}},Ir=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch{}};return n.on("init",function(){Ir(),Dn.ie&&11<=Dn.ie&&(n.on("mousedown click",function(Gn){var Fr=Gn.target,Be=Fr.nodeName;Y||!/^(TABLE|IMG|HR)$/.test(Be)||In(Fr)||(Gn.button!==2&&n.selection.select(Fr,Be==="TABLE"),Gn.type==="mousedown"&&n.nodeChanged())}),n.dom.bind(Gt,"mscontrolselect",function(Gn){var Fr=function(Be){Qr.setEditorTimeout(n,function(){n.selection.select(Be)})};if(In(Gn.target))return Gn.preventDefault(),void Fr(Gn.target);/^(TABLE|IMG|HR)$/.test(Gn.target.nodeName)&&(Gn.preventDefault(),Gn.target.tagName==="IMG"&&Fr(Gn.target))}));var Rr=Qr.throttle(function(Gn){n.composing||dn(Gn)});n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",Rr),n.on("keyup compositionend",function(Gn){o&&o.nodeName==="TABLE"&&Rr(Gn)}),n.on("hide blur",Vn),n.on("contextmenu",Xt)}),n.on("remove",Tr),{isResizable:rr,showResizeRect:vr,hideResizeRect:Vn,updateResizeRect:dn,destroy:function(){o=i=null}}},yM=function(e){return je.isContentEditableTrue(e)||je.isContentEditableFalse(e)},ZC=function(e,n,o){var i,s,h,w,C,k=o;if(k.caretPositionFromPoint)(s=k.caretPositionFromPoint(e,n))&&((i=o.createRange()).setStart(s.offsetNode,s.offset),i.collapse(!0));else if(o.caretRangeFromPoint)i=o.caretRangeFromPoint(e,n);else if(k.body.createTextRange){i=k.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch{i=function(O,M,F){var te,Y,ae;if(te=F.elementFromPoint(O,M),Y=F.body.createTextRange(),te&&te.tagName!=="HTML"||(te=F.body),Y.moveToElementText(te),0<(ae=(ae=st.toArray(Y.getClientRects())).sort(function(q,Z){return(q=Math.abs(Math.max(q.top-M,q.bottom-M)))-(Z=Math.abs(Math.max(Z.top-M,Z.bottom-M)))})).length){M=(ae[0].bottom+ae[0].top)/2;try{return Y.moveToPoint(O,M),Y.collapse(!0),Y}catch{}}return null}(e,n,o)}return h=i,w=o.body,C=h&&h.parentElement?h.parentElement():null,je.isContentEditableFalse(function(N,O,M){for(;N&&N!==O;){if(M(N))return N;N=N.parentNode}return null}(C,w,yM))?null:h}return i},eS=function(e,n){return er(n,function(o){var i=e.fire("GetSelectionRange",{range:o});return i.range!==o?i.range:o})},tS=function(e,n){var o=(n||t.document).createDocumentFragment();return Qt(e,function(i){o.appendChild(i.dom())}),$t.fromDom(o)},nS=Mu("element","width","rows"),__=Mu("element","cells"),bM=Mu("x","y"),N_=function(e,n){var o=parseInt(Pa(e,n),10);return isNaN(o)?1:o},R_=function(e){return Rt(e,function(n,o){return o.cells().length>n?o.cells().length:n},0)},O_=function(e,n){for(var o=e.rows(),i=0;i<o.length;i++)for(var s=o[i].cells(),h=0;h<s.length;h++)if(Xr(s[h],n))return J.some(bM(h,i));return J.none()},P_=function(e,n,o,i,s){for(var h=[],w=e.rows(),C=o;C<=s;C++){var k=w[C].cells(),N=n<i?k.slice(n,i+1):k.slice(i,n+1);h.push(__(w[C].element(),N))}return h},wM=function(e){var n=nS(Dl(e),0,[]);return Qt(cs(e,"tr"),function(o,i){Qt(cs(o,"td,th"),function(s,h){(function(w,C,k,N,O){for(var M=N_(O,"rowspan"),F=N_(O,"colspan"),te=w.rows(),Y=k;Y<k+M;Y++){te[Y]||(te[Y]=__(qd(N),[]));for(var ae=C;ae<C+F;ae++)te[Y].cells()[ae]=Y===k&&ae===C?O:Dl(O)}})(n,function(w,C,k){for(;N=C,O=k,M=void 0,((M=w.rows())[O]?M[O].cells():[])[N];)C++;var N,O,M;return C}(n,h,i),i,o,s)})}),nS(n.element(),R_(n.rows()),n.rows())},xM=function(e){return o=er((n=e).rows(),function(h){var w=er(h.cells(),function(k){var N=qd(k);return ks(N,"colspan"),ks(N,"rowspan"),N}),C=Dl(h.element());return Hu(C,w),C}),i=Dl(n.element()),s=$t.fromTag("tbody"),Hu(s,o),Yi(i,s),i;var n,o,i,s},CM=function(e,n,o){return O_(e,n).bind(function(i){return O_(e,o).map(function(s){return h=e,C=s,k=(w=i).x(),N=w.y(),O=C.x(),M=C.y(),F=N<M?P_(h,k,N,O,M):P_(h,k,M,O,N),nS(h.element(),R_(F),F);var h,w,C,k,N,O,M,F})})},SM=function(e,n){return Kt(e,function(o){return la(o)==="li"&&p2(o,n)}).fold(l([]),function(o){return(i=e,Kt(i,function(s){return la(s)==="ul"||la(s)==="ol"})).map(function(s){return[$t.fromTag("li"),$t.fromTag(la(s))]}).getOr([]);var i})},kM=function(e,n){var o,i=$t.fromDom(n.commonAncestorContainer),s=uf(i,e),h=qe(s,function(k){return f(k)||Bu(k)}),w=SM(s,n),C=h.concat(w.length?w:W(o=i)?Ts(o).filter(A).fold(l([]),function(k){return[o,k]}):A(o)?[o]:[]);return er(C,Dl)},D_=function(){return tS([])},EM=function(e,n){return o=$t.fromDom(n.cloneContents()),i=kM(e,n),s=Rt(i,function(h,w){return Yi(w,h),w},o),0<i.length?tS([s]):s;var o,i,s},TM=function(e,n){return(o=e,i=n[0],Fc(i,"table",x(Xr,o))).bind(function(s){var h=n[0],w=n[n.length-1],C=wM(s);return CM(C,h,w).map(function(k){return tS([xM(k)])})}).getOrThunk(D_);var o,i},_M=function(e,n){var o,i,s=o1(n,e);return 0<s.length?TM(e,s):(o=e,0<(i=n).length&&i[0].collapsed?D_():EM(o,i[0]))},NM=function(e,n){if(n===void 0&&(n={}),n.get=!0,n.format=n.format||"html",n.selection=!0,(n=e.fire("BeforeGetContent",n)).isDefaultPrevented())return e.fire("GetContent",n),n.content;if(n.format==="text")return N=e,J.from(N.selection.getRng()).map(function(M){var F=N.dom.add(N.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},M.cloneContents()),te=ml(F.innerText);return N.dom.remove(F),te}).getOr("");n.getInner=!0;var o,i,s,h,w,C,k,N,O=(i=n,h=(o=e).selection.getRng(),w=o.dom.create("body"),C=o.selection.getSel(),k=eS(o,e1(C)),(s=i.contextual?_M($t.fromDom(o.getBody()),k).dom():h.cloneContents())&&w.appendChild(s),o.selection.serializer.serialize(w,i));return n.format==="tree"?O:(n.content=e.selection.isCollapsed()?"":O,e.fire("GetContent",n),n.content)},RM=function(e,n,o){var i,s,h,w,C=(i=n,mc(mc({format:"html"},o),{set:!0,selection:!0,content:i})),k=e.selection.getRng(),N=e.getDoc();if(C.no_events||!(C=e.fire("BeforeSetContent",C)).isDefaultPrevented()){if(n=function(M,F){if(F.format!=="raw"){var te=M.parser.parse(F.content,mc({isRootContent:!0,forced_root_block:!1},F));return Ul({validate:M.validate},M.schema).serialize(te)}return F.content}(e,C),k.insertNode){n+='<span id="__caret">_</span>',k.startContainer===N&&k.endContainer===N?N.body.innerHTML=n:(k.deleteContents(),N.body.childNodes.length===0?N.body.innerHTML=n:k.createContextualFragment?k.insertNode(k.createContextualFragment(n)):(h=N.createDocumentFragment(),w=N.createElement("div"),h.appendChild(w),w.outerHTML=n,k.insertNode(h))),s=e.dom.get("__caret"),(k=N.createRange()).setStartBefore(s),k.setEndBefore(s),e.selection.setRng(k),e.dom.remove("__caret");try{e.selection.setRng(k)}catch{}}else{var O=k;O.item&&(N.execCommand("Delete",!1,null),O=e.selection.getRng()),/^\s+/.test(n)?(O.pasteHTML('<span id="__mce_tmp">_</span>'+n),e.dom.remove("__mce_tmp")):O.pasteHTML(n)}C.no_events||e.fire("SetContent",C)}else e.fire("SetContent",C)},A_=function(e,n,o,i,s){var h=o?n.startContainer:n.endContainer,w=o?n.startOffset:n.endOffset;return J.from(h).map($t.fromDom).map(function(C){return i&&n.collapsed?C:fa(C,s(C,w)).getOr(C)}).bind(function(C){return bu(C)?J.some(C):Ts(C)}).map(function(C){return C.dom()}).getOr(e)},M_=function(e,n,o){return A_(e,n,!0,o,function(i,s){return Math.min(i.dom().childNodes.length,s)})},I_=function(e,n,o){return A_(e,n,!1,o,function(i,s){return 0<s?s-1:s})},B_=function(e,n){for(var o=e;e&&je.isText(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||o},cy=st.each,L_=function(e){return!!e.select},F_=function(e){return!(!e||!e.ownerDocument)&&wu($t.fromDom(e.ownerDocument),$t.fromDom(e))},H_=function(e,n,o,i){var s,h,w,C,k,N=function(q,Z){return RM(i,q,Z)},O=function(q){var Z=F();Z.collapse(!!q),te(Z)},M=function(){return n.getSelection?n.getSelection():n.document.selection},F=function(){var q,Z,le,xe,Ne=function(He,Mt,nt){try{return Mt.compareBoundaryPoints(He,nt)}catch{return-1}};if(!n||(xe=n.document)==null)return null;if(i.bookmark!==void 0&&Ru(i)===!1){var ge=fp(i);if(ge.isSome())return ge.map(function(He){return eS(i,[He])[0]}).getOr(xe.createRange())}try{(q=M())&&!je.isRestrictedNode(q.anchorNode)&&(Z=0<q.rangeCount?q.getRangeAt(0):q.createRange?q.createRange():xe.createRange())}catch{}return(Z=eS(i,[Z])[0])||(Z=xe.createRange?xe.createRange():xe.body.createTextRange()),Z.setStart&&Z.startContainer.nodeType===9&&Z.collapsed&&(le=e.getRoot(),Z.setStart(le,0),Z.setEnd(le,0)),w&&C&&(Ne(Z.START_TO_START,Z,w)===0&&Ne(Z.END_TO_END,Z,w)===0?Z=C:C=w=null),Z},te=function(q,Z){var le,xe;if((Ne=q)&&(L_(Ne)||F_(Ne.startContainer)&&F_(Ne.endContainer))){var Ne,ge=L_(q)?q:null;if(ge){C=null;try{ge.select()}catch{}}else{if(le=M(),q=i.fire("SetSelectionRange",{range:q,forward:Z}).range,le){C=q;try{le.removeAllRanges(),le.addRange(q)}catch{}Z===!1&&le.extend&&(le.collapse(q.endContainer,q.endOffset),le.extend(q.startContainer,q.startOffset)),w=0<le.rangeCount?le.getRangeAt(0):null}q.collapsed||q.startContainer!==q.endContainer||!le.setBaseAndExtent||Dn.ie||q.endOffset-q.startOffset<2&&q.startContainer.hasChildNodes()&&(xe=q.startContainer.childNodes[q.startOffset])&&xe.tagName==="IMG"&&(le.setBaseAndExtent(q.startContainer,q.startOffset,q.endContainer,q.endOffset),le.anchorNode===q.startContainer&&le.focusNode===q.endContainer||le.setBaseAndExtent(xe,0,xe,1)),i.fire("AfterSetSelectionRange",{range:q,forward:Z})}}},Y=function(){var q,Z,le=M();return!(le&&le.anchorNode&&le.focusNode)||((q=e.createRng()).setStart(le.anchorNode,le.anchorOffset),q.collapse(!0),(Z=e.createRng()).setStart(le.focusNode,le.focusOffset),Z.collapse(!0),q.compareBoundaryPoints(q.START_TO_START,Z)<=0)},ae={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:o,editor:i,collapse:O,setCursorLocation:function(q,Z){var le=e.createRng();q?(le.setStart(q,Z),le.setEnd(q,Z),te(le),O(!1)):(DC(e,le,i.getBody(),!0),te(le))},getContent:function(q){return NM(i,q)},setContent:N,getBookmark:function(q,Z){return s.getBookmark(q,Z)},moveToBookmark:function(q){return s.moveToBookmark(q)},select:function(q,Z){var le,xe,Ne;return(le=e,xe=q,Ne=Z,J.from(xe).map(function(ge){var He=le.nodeIndex(ge),Mt=le.createRng();return Mt.setStart(ge.parentNode,He),Mt.setEnd(ge.parentNode,He+1),Ne&&(DC(le,Mt,ge,!0),DC(le,Mt,ge,!1)),Mt})).each(te),q},isCollapsed:function(){var q=F(),Z=M();return!(!q||q.item)&&(q.compareEndPoints?q.compareEndPoints("StartToEnd",q)===0:!Z||q.collapsed)},isForward:Y,setNode:function(q){return N(e.getOuterHTML(q)),q},getNode:function(){return q=i.getBody(),(Z=F())?(xe=Z.startContainer,Ne=Z.endContainer,ge=Z.startOffset,He=Z.endOffset,le=Z.commonAncestorContainer,!Z.collapsed&&(xe===Ne&&He-ge<2&&xe.hasChildNodes()&&(le=xe.childNodes[ge]),xe.nodeType===3&&Ne.nodeType===3&&(xe=xe.length===ge?B_(xe.nextSibling,!0):xe.parentNode,Ne=He===0?B_(Ne.previousSibling,!1):Ne.parentNode,xe&&xe===Ne))?xe:le&&le.nodeType===3?le.parentNode:le):q;var q,Z,le,xe,Ne,ge,He},getSel:M,setRng:te,getRng:F,getStart:function(q){return M_(i.getBody(),F(),q)},getEnd:function(q){return I_(i.getBody(),F(),q)},getSelectedBlocks:function(q,Z){return function(le,xe,Ne,ge){var He,Mt,nt=[];if(Mt=le.getRoot(),Ne=le.getParent(Ne||M_(Mt,xe,xe.collapsed),le.isBlock),ge=le.getParent(ge||I_(Mt,xe,xe.collapsed),le.isBlock),Ne&&Ne!==Mt&&nt.push(Ne),Ne&&ge&&Ne!==ge)for(var Gt=new Ri(He=Ne,Mt);(He=Gt.next())&&He!==ge;)le.isBlock(He)&&nt.push(He);return ge&&Ne!==ge&&ge!==Mt&&nt.push(ge),nt}(e,F(),q,Z)},normalize:function(){var q=F(),Z=M();if(!jg(Z)&&AC(i)){var le=cp(e,q);return le.each(function(xe){te(xe,Y())}),le.getOr(q)}return q},selectorChanged:function(q,Z){var le;return k||(k={},le={},i.on("NodeChange",function(xe){var Ne=xe.element,ge=e.getParents(Ne,null,e.getRoot()),He={};cy(k,function(Mt,nt){cy(ge,function(Gt){if(e.is(Gt,nt))return le[nt]||(cy(Mt,function(Ct){Ct(!0,{node:Gt,selector:nt,parents:ge})}),le[nt]=Mt),He[nt]=Mt,!1})}),cy(le,function(Mt,nt){He[nt]||(delete le[nt],cy(Mt,function(Gt){Gt(!1,{node:Ne,selector:nt,parents:ge})}))})})),k[q]||(k[q]=[]),k[q].push(Z),ae},getScrollContainer:function(){for(var q,Z=e.getRoot();Z&&Z.nodeName!=="BODY";){if(Z.scrollHeight>Z.clientHeight){q=Z;break}Z=Z.parentNode}return q},scrollIntoView:function(q,Z){return c1(i,q,Z)},placeCaretAt:function(q,Z){return te(ZC(q,Z,i.getDoc()))},getBoundingClientRect:function(){var q=F();return q.collapsed?Rn.fromRangeStart(q).getClientRects()[0]:q.getBoundingClientRect()},destroy:function(){n=w=C=null,h.destroy()}};return s=k_(ae),h=T_(ae,i),ae.bookmarkManager=s,ae.controlSelection=h,ae};(Dm=Kf||(Kf={}))[Dm.Br=0]="Br",Dm[Dm.Block=1]="Block",Dm[Dm.Wrap=2]="Wrap",Dm[Dm.Eol=3]="Eol";var W1=function(e,n){return e===Eu.Backwards?n.reverse():n},z_=function(e,n,o,i){for(var s,h,w,C,k,N,O=Wu(o),M=i,F=[];M&&(k=O,N=M,s=n===Eu.Forwards?k.next(N):k.prev(N));){if(je.isBr(s.getNode(!1)))return n===Eu.Forwards?{positions:W1(n,F).concat([s]),breakType:Kf.Br,breakAt:J.some(s)}:{positions:W1(n,F),breakType:Kf.Br,breakAt:J.some(s)};if(s.isVisible()){if(e(M,s)){var te=(h=n,w=M,C=s,je.isBr(C.getNode(h===Eu.Forwards))?Kf.Br:ns(w,C)===!1?Kf.Block:Kf.Wrap);return{positions:W1(n,F),breakType:te,breakAt:J.some(s)}}F.push(s),M=s}else M=s}return{positions:W1(n,F),breakType:Kf.Eol,breakAt:J.none()}},j_=function(e,n,o,i){return n(o,i).breakAt.map(function(s){var h=n(o,s).positions;return e===Eu.Backwards?h.concat(s):[s].concat(h)}).getOr([])},rS=function(e,n){return Rt(e,function(o,i){return o.fold(function(){return J.some(i)},function(s){return ku(Jn(s.getClientRects()),Jn(i.getClientRects()),function(h,w){var C=Math.abs(n-h.left);return Math.abs(n-w.left)<=C?i:s}).or(o)})},J.none())},W_=function(e,n){return Jn(n.getClientRects()).bind(function(o){return rS(e,o.left)})},fy=x(z_,ta.isAbove,-1),dy=x(z_,ta.isBelow,1),OM=x(j_,-1,fy),PM=x(j_,1,dy),U_=je.isContentEditableFalse,$_=sd,DM=function(e,n,o,i){var s=e===Eu.Forwards,h=s?sf:lf;if(!i.collapsed){var w=$_(i);if(U_(w))return nl(e,n,w,e===Eu.Backwards,!0)}var C=Ml(i.startContainer),k=Gc(e,n.getBody(),i);if(h(k))return Kg(n,k.getNode(!s));var N=Nr.normalizePosition(s,o(k));if(!N)return C?i:null;if(h(N))return nl(e,n,N.getNode(!s),s,!0);var O=o(N);return O&&h(O)&&Th(N,O)?nl(e,n,O.getNode(!s),s,!0):C?Xg(n,N.toRange(),!0):null},AM=function(e,n,o,i){var s,h,w,C,k,N,O,M,F;if(F=$_(i),s=Gc(e,n.getBody(),i),h=o(n.getBody(),zT(1),s),w=qe(h,IC(1)),k=Mr.last(s.getClientRects()),(sf(s)||Ab(s))&&(F=s.getNode()),(lf(s)||Ux(s))&&(F=s.getNode(!0)),!k)return null;if(N=k.left,(C=B1(w,N))&&U_(C.node))return O=Math.abs(N-C.left),M=Math.abs(N-C.right),nl(e,n,C.node,O<M,!0);if(F){var te=function(Y,ae,q,Z){var le,xe,Ne,ge,He,Mt,nt=Wu(ae),Gt=[],Ct=0,hn=function(Xt){return Mr.last(Xt.getClientRects())};Y===1?(le=nt.next,xe=pc,Ne=zc,ge=Rn.after(Z)):(le=nt.prev,xe=zc,Ne=pc,ge=Rn.before(Z)),Mt=hn(ge);do if(ge.isVisible()&&!Ne(He=hn(ge),Mt)){if(0<Gt.length&&xe(He,Mr.last(Gt))&&Ct++,(He=Gs(He)).position=ge,He.line=Ct,q(He))return Gt;Gt.push(He)}while(ge=le(ge));return Gt}(e,n.getBody(),zT(1),F);if((C=B1(qe(te,IC(1)),N))||(C=Mr.last(qe(te,IC(0)))))return Xg(n,C.position.toRange(),!0)}},V_=function(e,n,o){var i,s,h,w,C=Wu(e.getBody()),k=x(ju,C.next),N=x(ju,C.prev);if(o.collapsed&&e.settings.forced_root_block){if(!(i=e.dom.getParent(o.startContainer,"PRE")))return;(n===1?k(Rn.fromRangeStart(o)):N(Rn.fromRangeStart(o)))||(w=(h=e).dom.create(vl(h)),(!Dn.ie||11<=Dn.ie)&&(w.innerHTML='<br data-mce-bogus="1">'),s=w,n===1?e.$(i).after(s):e.$(i).before(s),e.selection.select(s,!0),e.selection.collapse())}},q_=function(e,n){return function(){var o,i,s,h,w,C,k,N,O,M=(i=n,h=Wu((o=e).getBody()),w=x(ju,h.next),C=x(ju,h.prev),k=i?Eu.Forwards:Eu.Backwards,N=i?w:C,O=o.selection.getRng(),(s=DM(k,o,N,O))?s:(s=V_(o,k,O))||null);return!!M&&(qf(e,M),!0)}},Y_=function(e,n){return function(){var o,i,s,h,w,C,k=(h=(i=n)?1:-1,w=i?y2:v2,C=(o=e).selection.getRng(),(s=AM(h,o,w,C))?s:(s=V_(o,h,C))||null);return!!k&&(qf(e,k),!0)}},K_=function(e,n){return function(){var o,i=n?Rn.fromRangeEnd(e.selection.getRng()):Rn.fromRangeStart(e.selection.getRng()),s=n?dy(e.getBody(),i):fy(e.getBody(),i);return(n?Jr(s.positions):Jn(s.positions)).filter((o=n,function(h){return o?lf(h):sf(h)})).fold(l(!1),function(h){return e.selection.setRng(h.toRange()),!0})}},X_=function(e,n,o,i,s){var h,w,C,k,N=cs($t.fromDom(o),"td,th,caption").map(function(M){return M.dom()}),O=qe((h=e,xn(N,function(M){var F,te,Y=(F=Gs(M.getBoundingClientRect()),te=-1,{left:F.left-te,top:F.top-te,right:F.right+2*te,bottom:F.bottom+2*te,width:F.width+te,height:F.height+te});return[{x:Y.left,y:h(Y),cell:M},{x:Y.right,y:h(Y),cell:M}]})),function(M){return n(M,s)});return(w=O,C=i,k=s,Rt(w,function(M,F){return M.fold(function(){return J.some(F)},function(te){var Y=Math.sqrt(Math.abs(te.x-C)+Math.abs(te.y-k)),ae=Math.sqrt(Math.abs(F.x-C)+Math.abs(F.y-k));return J.some(ae<Y?F:te)})},J.none())).map(function(M){return M.cell})},MM=x(X_,function(e){return e.bottom},function(e,n){return e.y<n}),IM=x(X_,function(e){return e.top},function(e,n){return e.y>n}),BM=function(e,n){return Jn(n.getClientRects()).bind(function(o){return MM(e,o.left,o.top)}).bind(function(o){return W_((i=o,oo.lastPositionIn(i).map(function(s){return fy(i,s).positions.concat(s)}).getOr([])),n);var i})},LM=function(e,n){return Jr(n.getClientRects()).bind(function(o){return IM(e,o.left,o.top)}).bind(function(o){return W_((i=o,oo.firstPositionIn(i).map(function(s){return[s].concat(dy(i,s).positions)}).getOr([])),n);var i})},G_=function(e,n,o){var i,s,h,w,C=e(n,o);return(w=C).breakType===Kf.Wrap&&w.positions.length===0||!je.isBr(o.getNode())&&(h=C).breakType===Kf.Br&&h.positions.length===1?(i=e,s=n,!C.breakAt.map(function(k){return i(s,k).breakAt.isSome()}).getOr(!1)):C.breakAt.isNone()},FM=x(G_,fy),HM=x(G_,dy),zM=function(e,n,o,i){var s,h,w,C,k=e.selection.getRng(),N=n?1:-1;if(Sh()&&(s=n,h=k,w=o,C=Rn.fromRangeStart(h),oo.positionIn(!s,w).map(function(M){return M.isEqual(C)}).getOr(!1))){var O=nl(N,e,o,!n,!0);return qf(e,O),!0}return!1},jM=function(e,n){var o=n.getNode(e);return je.isElement(o)&&o.nodeName==="TABLE"?J.some(o):J.none()},J_=function(e,n,o){var i=jM(!!n,o),s=n===!1;i.fold(function(){return qf(e,o.toRange())},function(h){return oo.positionIn(s,e.getBody()).filter(function(w){return w.isEqual(o)}).fold(function(){return qf(e,o.toRange())},function(w){return C=n,N=h,O=o,void((M=vl(k=e))?k.undoManager.transact(function(){var F=$t.fromTag(M);iu(F,Uh(k)),Yi(F,$t.fromTag("br")),C?ja($t.fromDom(N),F):ea($t.fromDom(N),F);var te=k.dom.createRng();te.setStart(F.dom(),0),te.setEnd(F.dom(),0),qf(k,te)}):qf(k,O.toRange()));var C,k,N,O,M})})},WM=function(e,n,o,i){var s,h,w,C,k,N,O=e.selection.getRng(),M=Rn.fromRangeStart(O),F=e.getBody();if(!n&&FM(i,M)){var te=(C=F,BM(k=o,N=M).orThunk(function(){return Jn(N.getClientRects()).bind(function(Y){return rS(OM(C,Rn.before(k)),Y.left)})}).getOr(Rn.before(k)));return J_(e,n,te),!0}return!(!n||!HM(i,M))&&(s=F,te=LM(h=o,w=M).orThunk(function(){return Jn(w.getClientRects()).bind(function(Y){return rS(PM(s,Rn.after(h)),Y.left)})}).getOr(Rn.after(h)),J_(e,n,te),!0)},Q_=function(e,n){return function(){return J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(o){return J.from(e.dom.getParent(o,"table")).map(function(i){return zM(e,n,i)})}).getOr(!1)}},Z_=function(e,n){return function(){return J.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(o){return J.from(e.dom.getParent(o,"table")).map(function(i){return WM(e,n,i,o)})}).getOr(!1)}},UM=function(e){return Zn(["figcaption"],la(e))},eN=function(e){var n=t.document.createRange();return n.setStartBefore(e.dom()),n.setEndBefore(e.dom()),n},tN=function(e,n,o){o?Yi(e,n):Ja(e,n)},$M=function(e,n,o,i){return n===""?(O=e,M=i,F=$t.fromTag("br"),tN(O,F,M),eN(F)):(s=e,h=i,w=n,C=o,k=$t.fromTag(w),N=$t.fromTag("br"),iu(k,C),Yi(k,N),tN(s,k,h),eN(N));var s,h,w,C,k,N,O,M,F},VM=function(e,n,o){return n?(s=e.dom(),dy(s,o).breakAt.isNone()):(i=e.dom(),fy(i,o).breakAt.isNone());var i,s},qM=function(e,n){var o,i,s,h=$t.fromDom(e.getBody()),w=Rn.fromRangeStart(e.selection.getRng()),C=vl(e),k=Uh(e);return(o=w,i=h,s=x(Xr,i),ka($t.fromDom(o.container()),Aa,s).filter(UM)).exists(function(){if(VM(h,n,w)){var N=$M(h,C,k,n);return e.selection.setRng(N),!0}return!1})},nN=function(e,n){return function(){return!!e.selection.isCollapsed()&&qM(e,n)}},YM=function(e,n){return xn(er(e,function(o){return sy({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:r},o)}),function(o){return i=o,(s=n).keyCode===i.keyCode&&s.shiftKey===i.shiftKey&&s.altKey===i.altKey&&s.ctrlKey===i.ctrlKey&&s.metaKey===i.metaKey?[o]:[];var i,s})},vs=function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,i)}},my=function(e,n){return Kt(YM(e,n),function(o){return o.action()})},KM=function(e,n){e.on("keydown",function(o){var i,s,h,w;o.isDefaultPrevented()===!1&&(i=e,s=n,h=o,w=kn.detect().os,my([{keyCode:ii.RIGHT,action:q_(i,!0)},{keyCode:ii.LEFT,action:q_(i,!1)},{keyCode:ii.UP,action:Y_(i,!1)},{keyCode:ii.DOWN,action:Y_(i,!0)},{keyCode:ii.RIGHT,action:Q_(i,!0)},{keyCode:ii.LEFT,action:Q_(i,!1)},{keyCode:ii.UP,action:Z_(i,!1)},{keyCode:ii.DOWN,action:Z_(i,!0)},{keyCode:ii.RIGHT,action:Sm.move(i,s,!0)},{keyCode:ii.LEFT,action:Sm.move(i,s,!1)},{keyCode:ii.RIGHT,ctrlKey:!w.isOSX(),altKey:w.isOSX(),action:Sm.moveNextWord(i,s)},{keyCode:ii.LEFT,ctrlKey:!w.isOSX(),altKey:w.isOSX(),action:Sm.movePrevWord(i,s)},{keyCode:ii.UP,action:nN(i,!1)},{keyCode:ii.DOWN,action:nN(i,!0)}],h).each(function(C){h.preventDefault()}))})},XM=function(e,n){e.on("keydown",function(o){var i,s,h;o.isDefaultPrevented()===!1&&(i=e,s=n,h=o,my([{keyCode:ii.BACKSPACE,action:vs(Xh,i,!1)},{keyCode:ii.DELETE,action:vs(Xh,i,!0)},{keyCode:ii.BACKSPACE,action:vs(Gg,i,!1)},{keyCode:ii.DELETE,action:vs(Gg,i,!0)},{keyCode:ii.BACKSPACE,action:vs(Lg,i,s,!1)},{keyCode:ii.DELETE,action:vs(Lg,i,s,!0)},{keyCode:ii.BACKSPACE,action:vs(Vg,i,!1)},{keyCode:ii.DELETE,action:vs(Vg,i,!0)},{keyCode:ii.BACKSPACE,action:vs(qh,i,!1)},{keyCode:ii.DELETE,action:vs(qh,i,!0)},{keyCode:ii.BACKSPACE,action:vs($h,i,!1)},{keyCode:ii.DELETE,action:vs($h,i,!0)},{keyCode:ii.BACKSPACE,action:vs(Vf,i,!1)},{keyCode:ii.DELETE,action:vs(Vf,i,!0)}],h).each(function(w){h.preventDefault()}))}),e.on("keyup",function(o){var i,s;o.isDefaultPrevented()===!1&&(i=e,s=o,my([{keyCode:ii.BACKSPACE,action:vs(Lb,i)},{keyCode:ii.DELETE,action:vs(Lb,i)}],s))})},oS=function(e){return J.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},hy=function(e,n){var o,i,s,h=n,w=e.dom,C=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var k=function(N){for(;N;){if(N.nodeType===1||N.nodeType===3&&N.data&&/[\r\n\s]/.test(N.data))return N;N=N.nextSibling}}(n.firstChild);k&&/^(UL|OL|DL)$/.test(k.nodeName)&&n.insertBefore(w.doc.createTextNode("\xA0"),n.firstChild)}if(s=w.createRng(),n.normalize(),n.hasChildNodes()){for(o=new Ri(n,n);i=o.current();){if(je.isText(i)){s.setStart(i,0),s.setEnd(i,0);break}if(C[i.nodeName.toLowerCase()]){s.setStartBefore(i),s.setEndBefore(i);break}h=i,i=o.next()}i||(s.setStart(h,0),s.setEnd(h,0))}else je.isBr(n)?n.nextSibling&&w.isBlock(n.nextSibling)?(s.setStartBefore(n),s.setEndBefore(n)):(s.setStartAfter(n),s.setEndAfter(n)):(s.setStart(n,0),s.setEnd(n,0));e.selection.setRng(s),w.remove(void 0),e.selection.scrollIntoView(n)}},GM=function(e,n){var o,i,s=e.getRoot();for(o=n;o!==s&&e.getContentEditable(o)!=="false";)e.getContentEditable(o)==="true"&&(i=o),o=o.parentNode;return o!==s?i:s},JM=oS,QM=function(e){return oS(e).fold(l(""),function(n){return n.nodeName.toUpperCase()})},ZM=function(e){return oS(e).filter(function(n){return W($t.fromDom(n))}).isSome()},rN=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},oN=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},U1=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},$1=function(e,n,o){for(var i=e[o?"firstChild":"lastChild"];i&&!je.isElement(i);)i=i[o?"nextSibling":"previousSibling"];return i===n},eI=function(e,n,o,i,s){var h=e.dom,w=e.selection.getRng();if(o!==e.getBody()){var C;oN(C=o)&&oN(C.parentNode)&&(s="LI");var k,N,O=s?n(s):h.create("BR");if($1(o,i,!0)&&$1(o,i,!1))rN(o,"LI")?h.insertAfter(O,U1(o)):h.replace(O,o);else if($1(o,i,!0))rN(o,"LI")?(h.insertAfter(O,U1(o)),O.appendChild(h.doc.createTextNode(" ")),O.appendChild(o)):o.parentNode.insertBefore(O,o);else if($1(o,i,!1))h.insertAfter(O,U1(o));else{o=U1(o);var M=w.cloneRange();M.setStartAfter(i),M.setEndAfter(o);var F=M.extractContents();s==="LI"&&(N="LI",(k=F).firstChild&&k.firstChild.nodeName===N)?(O=F.firstChild,h.insertAfter(F,o)):(h.insertAfter(F,o),h.insertAfter(O,o))}h.remove(i),hy(e,O)}},iS=function(e){e.innerHTML='<br data-mce-bogus="1">'},aS=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},iN=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},uS=function(e,n,o){return je.isText(n)===!1?o:e?o===1&&n.data.charAt(o-1)===Qa?0:o:o===n.data.length-1&&n.data.charAt(o)===Qa?n.data.length:o},aN=function(e,n){var o,i,s=e.getRoot();for(o=n;o!==s&&e.getContentEditable(o)!=="false";)e.getContentEditable(o)==="true"&&(i=o),o=o.parentNode;return o!==s?i:s},tI=function(e,n,o){J.from(o.style).map(e.dom.parseStyle).each(function(C){var k=function(O){var M={},F=O.dom();if(ou(F))for(var te=0;te<F.style.length;te++){var Y=F.style.item(te);M[Y]=F.style[Y]}return M}($t.fromDom(n)),N=mc(mc({},k),C);e.dom.setStyles(n,N)});var i=J.from(o.class).map(function(C){return C.split(/\s+/)}),s=J.from(n.className).map(function(C){return qe(C.split(/\s+/),function(k){return k!==""})});ku(i,s,function(C,k){var N=qe(k,function(M){return!Zn(C,M)}),O=function(){for(var M=0,F=0,te=arguments.length;F<te;F++)M+=arguments[F].length;var Y=Array(M),ae=0;for(F=0;F<te;F++)for(var q=arguments[F],Z=0,le=q.length;Z<le;Z++,ae++)Y[ae]=q[Z];return Y}(C,N);e.dom.setAttrib(n,"class",O.join(" "))});var h=["style","class"],w=Dc(o,function(C,k){return!Zn(h,k)}).t;e.dom.setAttribs(n,w)},py=function(e,n){var o=vl(e);if(o&&o.toLowerCase()===n.tagName.toLowerCase()){var i=Uh(e);tI(e,n,i)}},nI=function(e,n){var o,i,s,h,w,C,k,N,O,M,F,te,Y,ae,q,Z,le,xe,Ne,ge=e.dom,He=e.schema,Mt=He.getNonEmptyElements(),nt=e.selection.getRng(),Gt=function(Xt){var pn,rr,fn,wn=s,vr=He.getTextInlineElements();if(fn=pn=Xt||M==="TABLE"||M==="HR"?ge.create(Xt||te):w.cloneNode(!1),E(e)===!1)ge.setAttrib(pn,"style",null),ge.setAttrib(pn,"class",null);else do if(vr[wn.nodeName]){if(Qs(wn)||ms(wn))continue;rr=wn.cloneNode(!1),ge.setAttrib(rr,"id",""),pn.hasChildNodes()?rr.appendChild(pn.firstChild):fn=rr,pn.appendChild(rr)}while((wn=wn.parentNode)&&wn!==i);return py(e,pn),iS(fn),pn},Ct=function(Xt){var pn,rr,fn,wn;if(wn=uS(Xt,s,h),je.isText(s)&&(Xt?0<wn:wn<s.nodeValue.length))return!1;if(s.parentNode===w&&Y&&!Xt||Xt&&je.isElement(s)&&s===w.firstChild)return!0;if(aS(s,"TABLE")||aS(s,"HR"))return Y&&!Xt||!Y&&Xt;for(pn=new Ri(s,w),je.isText(s)&&(Xt&&wn===0?pn.prev():Xt||wn!==s.nodeValue.length||pn.next());rr=pn.current();){if(je.isElement(rr)){if(!rr.getAttribute("data-mce-bogus")&&(fn=rr.nodeName.toLowerCase(),Mt[fn]&&fn!=="br"))return!1}else if(je.isText(rr)&&!/^[ \t\r\n]*$/.test(rr.nodeValue))return!1;Xt?pn.prev():pn.next()}return!0},hn=function(){k=/^(H[1-6]|PRE|FIGURE)$/.test(M)&&F!=="HGROUP"?Gt(te):Gt(),R(e)&&iN(ge,O)&&ge.isEmpty(w)?k=ge.split(O,w):ge.insertAfter(k,w),hy(e,k)};cp(ge,nt).each(function(Xt){nt.setStart(Xt.startContainer,Xt.startOffset),nt.setEnd(Xt.endContainer,Xt.endOffset)}),s=nt.startContainer,h=nt.startOffset,te=vl(e),C=n.shiftKey,je.isElement(s)&&s.hasChildNodes()&&(Y=h>s.childNodes.length-1,s=s.childNodes[Math.min(h,s.childNodes.length-1)]||s,h=Y&&je.isText(s)?s.nodeValue.length:0),(i=aN(ge,s))&&((te&&!C||!te&&C)&&(s=function(Xt,pn,rr,fn,wn){var vr,Vn,dn,In,Tr,Ir,Rr,Gn=pn||"P",Fr=Xt.dom,Be=aN(Fr,fn);if(!(Vn=Fr.getParent(fn,Fr.isBlock))||!iN(Fr,Vn)){if(Ir=(Vn=Vn||Be)===Xt.getBody()||(Rr=Vn)&&/^(TD|TH|CAPTION)$/.test(Rr.nodeName)?Vn.nodeName.toLowerCase():Vn.parentNode.nodeName.toLowerCase(),!Vn.hasChildNodes())return vr=Fr.create(Gn),py(Xt,vr),Vn.appendChild(vr),rr.setStart(vr,0),rr.setEnd(vr,0),vr;for(In=fn;In.parentNode!==Vn;)In=In.parentNode;for(;In&&!Fr.isBlock(In);)In=(dn=In).previousSibling;if(dn&&Xt.schema.isValidChild(Ir,Gn.toLowerCase())){for(vr=Fr.create(Gn),py(Xt,vr),dn.parentNode.insertBefore(vr,dn),In=dn;In&&!Fr.isBlock(In);)Tr=In.nextSibling,vr.appendChild(In),In=Tr;rr.setStart(fn,wn),rr.setEnd(fn,wn)}}return fn}(e,te,nt,s,h)),w=ge.getParent(s,ge.isBlock),O=w?ge.getParent(w.parentNode,ge.isBlock):null,M=w?w.nodeName.toUpperCase():"",(F=O?O.nodeName.toUpperCase():"")!=="LI"||n.ctrlKey||(O=(w=O).parentNode,M=F),/^(LI|DT|DD)$/.test(M)&&ge.isEmpty(w)?eI(e,Gt,O,w,te):te&&w===e.getBody()||(te=te||"P",Ml(w)?(k=Nf(w),ge.isEmpty(w)&&iS(w),py(e,k),hy(e,k)):Ct()?hn():Ct(!0)?(k=w.parentNode.insertBefore(Gt(),w),hy(e,aS(w,"HR")?k:w)):((o=(xe=nt,Ne=xe.cloneRange(),Ne.setStart(xe.startContainer,uS(!0,xe.startContainer,xe.startOffset)),Ne.setEnd(xe.endContainer,uS(!1,xe.endContainer,xe.endOffset)),Ne).cloneRange()).setEndAfter(w),N=o.extractContents(),le=N,Qt(Ud($t.fromDom(le),ba),function(Xt){var pn=Xt.dom();pn.nodeValue=ml(pn.nodeValue)}),function(Xt){for(;je.isText(Xt)&&(Xt.nodeValue=Xt.nodeValue.replace(/^[\r\n]+/,"")),Xt=Xt.firstChild;);}(N),k=N.firstChild,ge.insertAfter(N,w),function(Xt,pn,rr){var fn,wn=rr,vr=[];if(wn){for(;wn=wn.firstChild;){if(Xt.isBlock(wn))return;je.isElement(wn)&&!pn[wn.nodeName.toLowerCase()]&&vr.push(wn)}for(fn=vr.length;fn--;)!(wn=vr[fn]).hasChildNodes()||wn.firstChild===wn.lastChild&&wn.firstChild.nodeValue===""?Xt.remove(wn):(Vn=Xt,(dn=wn)&&dn.nodeName==="A"&&Vn.isEmpty(dn)&&Xt.remove(wn));var Vn,dn}}(ge,Mt,k),ae=ge,(q=w).normalize(),(Z=q.lastChild)&&!/^(left|right)$/gi.test(ae.getStyle(Z,"float",!0))||ae.add(q,"br"),ge.isEmpty(w)&&iS(w),k.normalize(),ge.isEmpty(k)?(ge.remove(k),hn()):(py(e,k),hy(e,k))),ge.setAttrib(k,"id",""),e.fire("NewBlock",{newBlock:k})))},uN=function(e,n){return JM(e).filter(function(o){return 0<n.length&&Da($t.fromDom(o),n)}).isSome()},rI=function(e){return uN(e,d(e))},oI=function(e){return uN(e,y(e))},xl=bd([{br:[]},{block:[]},{none:[]}]),iI=function(e,n){return oI(e)},sS=function(e){return function(n,o){return vl(n)===""===e}},sN=function(e){return function(n,o){return ZM(n)===e}},lN=function(e,n){return function(o,i){return QM(o)===e.toUpperCase()===n}},V1=function(e){return lN("pre",e)},q1=function(e){return function(n,o){return Cg(n)===e}},aI=function(e,n){return rI(e)},gy=function(e,n){return n},cN=function(e){var n=vl(e),o=GM(e.dom,e.selection.getStart());return o&&e.schema.isValidChild(o.nodeName,n||"P")},ql=function(e,n){return function(o,i){return Rt(e,function(s,h){return s&&h(o,i)},!0)?J.some(n):J.none()}},uI=function(e,n){return Wb([ql([iI],xl.none()),ql([lN("summary",!0)],xl.br()),ql([V1(!0),q1(!1),gy],xl.br()),ql([V1(!0),q1(!1)],xl.block()),ql([V1(!0),q1(!0),gy],xl.block()),ql([V1(!0),q1(!0)],xl.br()),ql([sN(!0),gy],xl.br()),ql([sN(!0)],xl.block()),ql([sS(!0),gy,cN],xl.block()),ql([sS(!0)],xl.br()),ql([aI],xl.br()),ql([sS(!1),gy],xl.br()),ql([cN],xl.block())],[e,n.shiftKey]).getOr(xl.none())},sI=function(e,n){uI(e,n).fold(function(){g1(e,n)},function(){nI(e,n)},r)},lI=function(e){e.on("keydown",function(n){var o,i,s;n.keyCode===ii.ENTER&&(o=e,(i=n).isDefaultPrevented()||(i.preventDefault(),(s=o.undoManager).typing&&(s.typing=!1,s.add()),o.undoManager.transact(function(){o.selection.isCollapsed()===!1&&o.execCommand("Delete"),sI(o,i)})))})},fN=function(e,n){var o=n.container(),i=n.offset();return je.isText(o)?(o.insertData(i,e),J.some(ta(o,i+e.length))):Jc(n).map(function(s){var h=$t.fromText(e);return n.isAtEnd()?ja(s,h):ea(s,h),ta(h.dom(),e.length)})},cI=x(fN,"\xA0"),fI=x(fN," "),lS=function(e,n,o){return oo.navigateIgnore(e,n,o,Pb)},dN=function(e,n){return Kt(uf($t.fromDom(n.container()),e),Aa)},mN=function(e,n,o){return lS(e,n.dom(),o).forall(function(i){return dN(n,o).fold(function(){return ns(i,o,n.dom())===!1},function(s){return ns(i,o,n.dom())===!1&&wu(s,$t.fromDom(i.container()))})})},hN=function(e,n,o){return dN(n,o).fold(function(){return lS(e,n.dom(),o).forall(function(i){return ns(i,o,n.dom())===!1})},function(i){return lS(e,i.dom(),o).isNone()})},pN=x(hN,!1),gN=x(hN,!0),dI=x(mN,!1),mI=x(mN,!0),vN=function(e){return ta.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},yN=function(e,n){var o=qe(uf($t.fromDom(n.container()),e),Aa);return Jn(o).getOr(e)},bN=function(e,n){return vN(n)?Eg(n):Eg(n)||oo.prevPosition(yN(e,n).dom(),n).exists(Eg)},wN=function(e,n){return vN(n)?d0(n):d0(n)||oo.nextPosition(yN(e,n).dom(),n).exists(d0)},cS=function(e){return Jc(e).bind(function(n){return ka(n,bu)}).exists(function(n){return o=oc(n,"white-space"),Zn(["pre","pre-wrap"],o);var o})},hI=function(e,n){return s=e,h=n,oo.prevPosition(s.dom(),h).isNone()||(o=e,i=n,oo.nextPosition(o.dom(),i).isNone())||pN(e,n)||gN(e,n)||c0(e,n)||Sg(e,n);var o,i,s,h},pI=function(e,n){var o,i,s,h=(i=(o=n).container(),s=o.offset(),je.isText(i)&&s<i.data.length?ta(i,s+1):o);return!cS(h)&&(gN(e,h)||mI(e,h)||Sg(e,h)||wN(e,h))},xN=function(e,n){return o=e,!cS(i=n)&&(pN(o,i)||dI(o,i)||c0(o,i)||bN(o,i))||pI(e,n);var o,i},CN=function(e,n){return kg(e.charAt(n))},gI=function(e){var n=e.container();return je.isText(n)&&ya(n.data,"\xA0")},vI=function(e){var n,o=e.data,i=(n=o.split(""),er(n,function(s,h){return kg(s)&&0<h&&h<n.length-1&&Rb(n[h-1])&&Rb(n[h+1])?" ":s}).join(""));return i!==o&&(e.data=i,!0)},yI=function(e,n){return J.some(n).filter(gI).bind(function(o){var i,s,h,w,C,k,N,O,M=o.container();return C=e,N=(k=M).data,O=ta(k,0),CN(N,0)&&!xN(C,O)&&(k.data=" "+N.slice(1),1)||vI(M)||(i=e,h=(s=M).data,w=ta(s,h.length-1),CN(h,h.length-1)&&!xN(i,w)&&(s.data=h.slice(0,-1)+" ",1))?J.some(o):J.none()})},SN=function(e){var n=$t.fromDom(e.getBody());e.selection.isCollapsed()&&yI(n,ta.fromRangeStart(e.selection.getRng())).each(function(o){e.selection.setRng(o.toRange())})},bI=function(e,n){return function(o){return i=e,!cS(s=o)&&(hI(i,s)||bN(i,s)||wN(i,s))?cI(n):fI(n);var i,s}},wI=function(e){var n,o,i=Rn.fromRangeStart(e.selection.getRng()),s=$t.fromDom(e.getBody());if(e.selection.isCollapsed()){var h=x(Nr.isInlineTarget,e),w=Rn.fromRangeStart(e.selection.getRng());return xc(h,e.getBody(),w).bind((o=s,function(C){return C.fold(function(k){return oo.prevPosition(o.dom(),Rn.before(k))},function(k){return oo.firstPositionIn(k)},function(k){return oo.lastPositionIn(k)},function(k){return oo.nextPosition(o.dom(),Rn.after(k))})})).bind(bI(s,i)).exists((n=e,function(C){return n.selection.setRng(C.toRange()),n.nodeChanged(),!0}))}return!1},xI=function(e){e.on("keydown",function(n){var o,i;n.isDefaultPrevented()===!1&&(o=e,i=n,my([{keyCode:ii.SPACEBAR,action:vs(wI,o)}],i).each(function(s){i.preventDefault()}))})},kN=function(e,n){var o;n.hasAttribute("data-mce-caret")&&(Nf(n),(o=e).selection.setRng(o.selection.getRng()),e.selection.scrollIntoView(n))},CI=function(e,n){var o,i=(o=e,Ks($t.fromDom(o.getBody()),"*[data-mce-caret]").fold(l(null),function(s){return s.dom()}));if(i)return n.type==="compositionstart"?(n.preventDefault(),n.stopPropagation(),void kN(e,i)):void($p(i)&&(kN(e,i),e.undoManager.add()))},SI=function(e){e.on("keyup compositionstart",x(CI,e))},kI=kn.detect().browser,EI=function(e){var n,o;n=e,o=sc(function(){n.composing||SN(n)},0),kI.isIE()&&(n.on("keypress",function(i){o.throttle()}),n.on("remove",function(i){o.cancel()})),e.on("input",function(i){i.isComposing===!1&&SN(e)})},TI=function(e){e.on("keydown",function(n){var o,i;n.isDefaultPrevented()===!1&&(o=e,i=n,my([{keyCode:ii.END,action:K_(o,!0)},{keyCode:ii.HOME,action:K_(o,!1)}],i).each(function(s){i.preventDefault()}))})},_I=function(e){var n=Sm.setupSelectedState(e);SI(e),KM(e,n),XM(e,n),lI(e),xI(e),EI(e),TI(e)};function NI(e){var n,o,i,s=st.each,h=ii.BACKSPACE,w=ii.DELETE,C=e.dom,k=e.selection,N=e.settings,O=e.parser,M=Dn.gecko,F=Dn.ie,te=Dn.webkit,Y="data:text/mce-internal,",ae=F?"Text":"URL",q=function(ge,He){try{e.getDoc().execCommand(ge,!1,He)}catch{}},Z=function(ge){return ge.isDefaultPrevented()},le=function(){e.shortcuts.add("meta+a",null,"SelectAll")},xe=function(){e.on("keydown",function(ge){if(!Z(ge)&&ge.keyCode===h&&k.isCollapsed()&&k.getRng().startOffset===0){var He=k.getNode().previousSibling;if(He&&He.nodeName&&He.nodeName.toLowerCase()==="table")return ge.preventDefault(),!1}})},Ne=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(ge){var He;if(ge.target.nodeName==="HTML"){if(11<Dn.ie)return void e.getBody().focus();He=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(He),e.selection.normalize(),e.nodeChanged()}}))};return e.on("keydown",function(ge){var He,Mt,nt,Gt,Ct;if(!Z(ge)&&ge.keyCode===ii.BACKSPACE&&(Mt=(He=k.getRng()).startContainer,nt=He.startOffset,Gt=C.getRoot(),Ct=Mt,He.collapsed&&nt===0)){for(;Ct&&Ct.parentNode&&Ct.parentNode.firstChild===Ct&&Ct.parentNode!==Gt;)Ct=Ct.parentNode;Ct.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,Ct),(He=C.createRng()).setStart(Mt,0),He.setEnd(Mt,0),k.setRng(He))}}),n=function(ge){var He=C.create("body"),Mt=ge.cloneContents();return He.appendChild(Mt),k.serializer.serialize(He,{format:"html"})},e.on("keydown",function(ge){var He,Mt,nt,Gt,Ct,hn=ge.keyCode;if(!Z(ge)&&(hn===w||hn===h)){if(He=e.selection.isCollapsed(),Mt=e.getBody(),He&&!C.isEmpty(Mt)||!He&&(nt=e.selection.getRng(),Gt=n(nt),(Ct=C.createRng()).selectNode(e.getBody()),Gt!==n(Ct)))return;ge.preventDefault(),e.setContent(""),Mt.firstChild&&C.isBlock(Mt.firstChild)?e.selection.setCursorLocation(Mt.firstChild,0):e.selection.setCursorLocation(Mt,0),e.nodeChanged()}}),Dn.windowsPhone||e.on("keyup focusin mouseup",function(ge){ii.modifierPressed(ge)||k.normalize()},!0),te&&(e.settings.content_editable||C.bind(e.getDoc(),"mousedown mouseup",function(ge){var He;if(ge.target===e.getDoc().documentElement)if(He=k.getRng(),e.getBody().focus(),ge.type==="mousedown"){if(fs(He.startContainer))return;k.placeCaretAt(ge.clientX,ge.clientY)}else k.setRng(He)}),e.on("click",function(ge){var He=ge.target;/^(IMG|HR)$/.test(He.nodeName)&&C.getContentEditableParent(He)!=="false"&&(ge.preventDefault(),e.selection.select(He),e.nodeChanged()),He.nodeName==="A"&&C.hasClass(He,"mce-item-anchor")&&(ge.preventDefault(),k.select(He))}),N.forced_root_block&&e.on("init",function(){q("DefaultParagraphSeparator",N.forced_root_block)}),e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(ge){ge.preventDefault()})}),xe(),O.addNodeFilter("br",function(ge){for(var He=ge.length;He--;)ge[He].attr("class")==="Apple-interchange-newline"&&ge[He].remove()}),Dn.iOS?(e.inline||e.on("keydown",function(){t.document.activeElement===t.document.body&&e.getWin().focus()}),Ne(),e.on("click",function(ge){var He=ge.target;do if(He.tagName==="A")return void ge.preventDefault();while(He=He.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):le()),11<=Dn.ie&&(Ne(),xe()),Dn.ie&&(le(),q("AutoUrlDetect",!1),e.on("dragstart",function(ge){var He,Mt,nt;(He=ge).dataTransfer&&(e.selection.isCollapsed()&&He.target.tagName==="IMG"&&k.select(He.target),0<(Mt=e.selection.getContent()).length&&(nt=Y+escape(e.id)+","+escape(Mt),He.dataTransfer.setData(ae,nt)))}),e.on("drop",function(ge){if(!Z(ge)){var He=(Ct=ge).dataTransfer&&(hn=Ct.dataTransfer.getData(ae))&&0<=hn.indexOf(Y)?(hn=hn.substr(Y.length).split(","),{id:unescape(hn[0]),html:unescape(hn[1])}):null;if(He&&He.id!==e.id){ge.preventDefault();var Mt=ZC(ge.x,ge.y,e.getDoc());k.setRng(Mt),nt=He.html,Gt=!0,e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:nt,internal:Gt}):e.execCommand("mceInsertContent",!1,nt)}}var nt,Gt,Ct,hn})),M&&(e.on("keydown",function(ge){if(!Z(ge)&&ge.keyCode===h){if(!e.getBody().getElementsByTagName("hr").length)return;if(k.isCollapsed()&&k.getRng().startOffset===0){var He=k.getNode(),Mt=He.previousSibling;if(He.nodeName==="HR")return C.remove(He),void ge.preventDefault();Mt&&Mt.nodeName&&Mt.nodeName.toLowerCase()==="hr"&&(C.remove(Mt),ge.preventDefault())}}}),t.Range.prototype.getClientRects||e.on("mousedown",function(ge){if(!Z(ge)&&ge.target.nodeName==="HTML"){var He=e.getBody();He.blur(),Qr.setEditorTimeout(e,function(){He.focus()})}}),o=function(){var ge=C.getAttribs(k.getStart().cloneNode(!1));return function(){var He=k.getStart();He!==e.getBody()&&(C.setAttrib(He,"style",null),s(ge,function(Mt){He.setAttributeNode(Mt.cloneNode(!0))}))}},i=function(){return!k.isCollapsed()&&C.getParent(k.getStart(),C.isBlock)!==C.getParent(k.getEnd(),C.isBlock)},e.on("keypress",function(ge){var He;if(!Z(ge)&&(ge.keyCode===8||ge.keyCode===46)&&i())return He=o(),e.getDoc().execCommand("delete",!1,null),He(),ge.preventDefault(),!1}),C.bind(e.getDoc(),"cut",function(ge){var He;!Z(ge)&&i()&&(He=o(),Qr.setEditorTimeout(e,function(){He()}))}),N.readonly||e.on("BeforeExecCommand MouseDown",function(){q("StyleWithCSS",!1),q("enableInlineTableEditing",!1),N.object_resizing||q("enableObjectResizing",!1)}),e.on("SetContent ExecCommand",function(ge){ge.type!=="setcontent"&&ge.command!=="mceInsertLink"||s(C.select("a"),function(He){var Mt=He.parentNode,nt=C.getRoot();if(Mt.lastChild===He){for(;Mt&&!C.isBlock(Mt);){if(Mt.parentNode.lastChild!==Mt||Mt===nt)return;Mt=Mt.parentNode}C.add(Mt,"br",{"data-mce-bogus":1})}})}),e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),Dn.mac&&e.on("keydown",function(ge){!ii.metaKeyPressed(ge)||ge.shiftKey||ge.keyCode!==37&&ge.keyCode!==39||(ge.preventDefault(),e.selection.getSel().modify("move",ge.keyCode===37?"backward":"forward","lineboundary"))}),xe()),{refreshContentEditable:function(){},isHidden:function(){var ge;return!M||e.removed?0:!(ge=e.selection.getSel())||!ge.rangeCount||ge.rangeCount===0}}}var EN=function(e){return je.isElement(e)&&T($t.fromDom(e))},RI=function(e){e.on("click",function(n){3<=n.detail&&function(o){var i=o.selection.getRng(),s=ta.fromRangeStart(i),h=ta.fromRangeEnd(i);if(ta.isElementPosition(s)){var w=s.container();EN(w)&&oo.firstPositionIn(w).each(function(C){return i.setStart(C.container(),C.offset())})}ta.isElementPosition(h)&&(w=s.container(),EN(w)&&oo.lastPositionIn(w).each(function(C){return i.setEnd(C.container(),C.offset())})),o.selection.setRng(Hh(i))}(e)})},OI=function(e){var n,o;(n=e).on("click",function(i){n.dom.getParent(i.target,"details")&&i.preventDefault()}),(o=e).parser.addNodeFilter("details",function(i){Qt(i,function(s){s.attr("data-mce-open",s.attr("open")),s.attr("open","open")})}),o.serializer.addNodeFilter("details",function(i){Qt(i,function(s){var h=s.attr("data-mce-open");s.attr("open",Ze(h)?h:null),s.attr("data-mce-open",null)})})},gp=vn.DOM,TN=function(e){var n;e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),(n=e).settings.auto_focus&&Qr.setEditorTimeout(n,function(){var o;(o=n.settings.auto_focus===!0?n:n.editorManager.get(n.settings.auto_focus)).destroyed||o.focus()},100)},fS=function(e,n){var o,i,s,h,w,C,k,N,O,M=e.settings,F=e.getElement(),te=e.getDoc();M.inline||(e.getElement().style.visibility=e.orgVisibility),n||M.content_editable||(te.open(),te.write(e.iframeHTML),te.close()),M.content_editable&&(e.on("remove",function(){var Y=this.getBody();gp.removeClass(Y,"mce-content-body"),gp.removeClass(Y,"mce-edit-focus"),gp.setAttrib(Y,"contentEditable",null)}),gp.addClass(F,"mce-content-body"),e.contentDocument=te=M.content_document||t.document,e.contentWindow=M.content_window||t.window,e.bodyElement=F,M.content_document=M.content_window=null,M.root_name=F.nodeName.toLowerCase()),(o=e.getBody()).disabled=!0,e.readonly=M.readonly,e.readonly||(e.inline&&gp.getStyle(o,"position",!0)==="static"&&(o.style.position="relative"),o.contentEditable=e.getParam("content_editable_state",!0)),o.disabled=!1,e.editorUpload=f2(e),e.schema=ce(M),e.dom=vn(te,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:M.force_hex_style_colors,class_filter:M.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:M.content_editable,schema:e.schema,contentCssCors:Nt(e),onSetAttrib:function(Y){e.fire("SetAttrib",Y)}}),e.parser=((h=JC((s=e).settings,s.schema)).addAttributeFilter("src,href,style,tabindex",function(Y,ae){for(var q,Z,le,xe=Y.length,Ne=s.dom;xe--;)if(Z=(q=Y[xe]).attr(ae),le="data-mce-"+ae,!q.attributes.map[le]){if(Z.indexOf("data:")===0||Z.indexOf("blob:")===0)continue;ae==="style"?((Z=Ne.serializeStyle(Ne.parseStyle(Z),q.name)).length||(Z=null),q.attr(le,Z),q.attr(ae,Z)):ae==="tabindex"?(q.attr(le,Z),q.attr(ae,null)):q.attr(le,s.convertURL(Z,ae,q.name))}}),h.addNodeFilter("script",function(Y){for(var ae,q,Z=Y.length;Z--;)(q=(ae=Y[Z]).attr("type")||"no/type").indexOf("mce-")!==0&&ae.attr("type","mce-"+q)}),h.addNodeFilter("#cdata",function(Y){for(var ae,q=Y.length;q--;)(ae=Y[q]).type=8,ae.name="#comment",ae.value="[CDATA["+ae.value+"]]"}),h.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(Y){for(var ae,q=Y.length,Z=s.schema.getNonEmptyElements();q--;)(ae=Y[q]).isEmpty(Z)&&ae.getAll("br").length===0&&(ae.append(new Cc("br",1)).shortEnded=!0)}),h),e.serializer=S_(M,e),e.selection=H_(e.dom,e.getWin(),e.serializer,e),e.annotator=gg(e),e.formatter=h_(e),e.undoManager=QT(e),e._nodeChangeDispatcher=new g2(e),e._selectionOverrides=R2(e),OI(e),RI(e),_I(e),h2(e),e.fire("PreInit"),M.browser_spellcheck||M.gecko_spellcheck||(te.body.spellcheck=!1,gp.setAttrib(o,"spellcheck","false")),e.quirks=NI(e),e.fire("PostRender"),M.directionality&&(o.dir=M.directionality),M.nowrap&&(o.style.whiteSpace="nowrap"),M.protect&&e.on("BeforeSetContent",function(Y){st.each(M.protect,function(ae){Y.content=Y.content.replace(ae,function(q){return"<!--mce:protected "+escape(q)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(Y){e.composing=Y.type==="compositionstart"}),0<e.contentStyles.length&&(i="",st.each(e.contentStyles,function(Y){i+=Y+`\r
`}),e.dom.addStyle(i)),(w=e,w.inline?gp.styleSheetLoader:w.dom.styleSheetLoader).loadAll(e.contentCSS,function(Y){TN(e)},function(Y){TN(e)}),M.content_style&&(C=e,k=M.content_style,N=$t.fromDom(C.getDoc().head),O=$t.fromTag("style"),Ju(O,"type","text/css"),Yi(O,$t.fromText(k)),Yi(N,O))},vy=vn.DOM,PI=function(e,n){var o,i,s,h,w,C,k,N=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),O=(o=e.id,i=N,s=n.height,h=wg(e),k=$t.fromTag("iframe"),iu(k,h),iu(k,{id:o+"_ifr",frameBorder:"0",allowTransparency:"true",title:i}),rc(k,{width:"100%",height:(w=s,C=typeof w=="number"?w+"px":w,C||""),display:"block"}),k).dom();O.onload=function(){O.onload=null,e.fire("load")};var M,F,te,Y,ae=function(q,Z){if(t.document.domain!==t.window.location.hostname&&Dn.ie&&Dn.ie<12){var le=RC.uuid("mce");q[le]=function(){fS(q)};var xe='javascript:(function(){document.open();document.domain="'+t.document.domain+'";var ed = window.parent.tinymce.get("'+q.id+'");document.write(ed.iframeHTML);document.close();ed.'+le+"(true);})()";return vy.setAttrib(Z,"src",xe),!0}return!1}(e,O);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=O,e.iframeHTML=(Y=jh(M=e)+"<html><head>",Wh(M)!==M.documentBaseUrl&&(Y+='<base href="'+M.documentBaseURI.getURI()+'" />'),Y+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',F=i0(M),te=a0(M),xg(M)&&(Y+='<meta http-equiv="Content-Security-Policy" content="'+xg(M)+'" />'),Y+='</head><body id="'+F+'" class="mce-content-body '+te+'" data-id="'+M.id+'"><br></body></html>'),vy.add(n.iframeContainer,O),ae},DI=function(e,n){var o=PI(e,n);n.editorContainer&&(vy.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=vy.isHidden(n.editorContainer)),e.getElement().style.display="none",vy.setAttrib(e.id,"aria-hidden","true"),o||fS(e)},yy=vn.DOM,_N=function(e,n,o){var i=Ed.get(o),s=Ed.urls[o]||e.documentBaseUrl.replace(/\/$/,"");if(o=st.trim(o),i&&st.inArray(n,o)===-1){if(st.each(Ed.dependencies(o),function(w){_N(e,n,w)}),e.plugins[o])return;try{var h=new i(e,s,e.$);(e.plugins[o]=h).init&&(h.init(e,s),n.push(o))}catch(w){uv.pluginInitError(e,o,w)}}},NN=function(e){return e.replace(/^\-/,"")},RN=function(e){return{editorContainer:e,iframeContainer:e}},AI=function(e){var n,o,i=e.getElement();return e.inline?RN(null):(n=i,o=yy.create("div"),yy.insertAfter(o,n),RN(o))},MI=function(e){var n,o,i,s,h,w,C,k,N,O,M,F=e.settings,te=e.getElement();return e.orgDisplay=te.style.display,Ze(F.theme)?(O=(s=e).settings,M=s.getElement(),h=O.width||yy.getStyle(M,"width")||"100%",w=O.height||yy.getStyle(M,"height")||M.offsetHeight,C=O.min_height||100,(k=/^[0-9\.]+(|px)$/i).test(""+h)&&(h=Math.max(parseInt(h,10),100)),k.test(""+w)&&(w=Math.max(parseInt(w,10),C)),N=s.theme.renderUI({targetNode:M,width:h,height:w,deltaWidth:O.delta_width,deltaHeight:O.delta_height}),O.content_editable||(w=(N.iframeHeight||w)+(typeof w=="number"?N.deltaHeight||0:""))<C&&(w=C),N.height=w,N):Vt(F.theme)?(i=(n=e).getElement(),(o=n.settings.theme(n,i)).editorContainer.nodeType&&(o.editorContainer.id=o.editorContainer.id||n.id+"_parent"),o.iframeContainer&&o.iframeContainer.nodeType&&(o.iframeContainer.id=o.iframeContainer.id||n.id+"_iframecontainer"),o.height=o.iframeHeight?o.iframeHeight:i.offsetHeight,o):AI(e)},ON=function(e){var n,o,i,s,h,w,C=e.settings,k=e.getElement();return e.rtl=C.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(C.language),C.aria_label=C.aria_label||yy.getAttrib(k,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),s=(o=e).settings.theme,Ze(s)?(o.settings.theme=NN(s),i=hp.get(s),o.theme=new i(o,hp.urls[s]),o.theme.init&&o.theme.init(o,hp.urls[s]||o.documentBaseUrl.replace(/\/$/,""),o.$)):o.theme={},h=e,w=[],st.each(h.settings.plugins.split(/[ ,]/),function(N){_N(h,w,NN(N))}),n=MI(e),e.editorContainer=n.editorContainer?n.editorContainer:null,C.content_css&&st.each(st.explode(C.content_css),function(N){e.contentCSS.push(e.documentBaseURI.toAbsolute(N))}),C.content_editable?fS(e):DI(e,n)},vp=vn.DOM,PN=function(e){return e.charAt(0)==="-"},II=function(e,n){var o=Ci.ScriptLoader;(function(i,s,h,w){var C=s.settings,k=C.theme;if(Ze(k)){if(!PN(k)&&!hp.urls.hasOwnProperty(k)){var N=C.theme_url;N?hp.load(k,s.documentBaseURI.toAbsolute(N)):hp.load(k,"themes/"+k+"/theme"+h+".js")}i.loadQueue(function(){hp.waitFor(k,w)})}else w()})(o,e,n,function(){var i,s,h,w,C;i=o,(h=(s=e).settings).language&&h.language!=="en"&&!h.language_url&&(h.language_url=s.editorManager.baseURL+"/langs/"+h.language+".js"),h.language_url&&!s.editorManager.i18n.data[h.language]&&i.add(h.language_url),w=e.settings,C=n,st.isArray(w.plugins)&&(w.plugins=w.plugins.join(" ")),st.each(w.external_plugins,function(k,N){Ed.load(N,k),w.plugins+=" "+N}),st.each(w.plugins.split(/[ ,]/),function(k){if((k=st.trim(k))&&!Ed.urls[k])if(PN(k)){k=k.substr(1,k.length);var N=Ed.dependencies(k);st.each(N,function(O){var M={prefix:"plugins/",resource:O,suffix:"/plugin"+C+".js"};O=Ed.createUrl(M,O),Ed.load(O.resource,O)})}else Ed.load(k,{prefix:"plugins/",resource:k,suffix:"/plugin"+C+".js"})}),o.loadQueue(function(){e.removed||ON(e)},e,function(k){uv.pluginLoadError(e,k[0]),e.removed||ON(e)})})},BI=function(e){var n=e.settings,o=e.id,i=function(){vp.unbind(t.window,"ready",i),e.render()};if(xt.Event.domLoaded){if(e.getElement()&&Dn.contentEditable){n.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var s=e.getElement().form||vp.getParent(o,"form");s&&(e.formElement=s,n.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(vp.insertAfter(vp.create("input",{type:"hidden",name:o}),o),e.hasHiddenInput=!0),e.formEventDelegate=function(h){e.fire(h.type,h)},vp.bind(s,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!n.submit_patch||s.submit.nodeType||s.submit.length||s._mceOldSubmit||(s._mceOldSubmit=s.submit,s.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),s._mceOldSubmit(s)})),e.windowManager=OT(e),e.notificationManager=RT(e),n.encoding==="xml"&&e.on("GetContent",function(h){h.save&&(h.content=vp.encode(h.content))}),n.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),n.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),II(e,e.suffix)}}else vp.bind(t.window,"ready",i)},LI=function(e,n,o){var i=e.sidebars?e.sidebars:[];i.push({name:n,settings:o}),e.sidebars=i},DN=st.each,FI=st.trim,HI="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),zI={ftp:21,http:80,https:443,mailto:25},Yl=function(e,n){var o,i,s=this;if(e=FI(e),o=(n=s.settings=n||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))s.source=e;else{var h=e.indexOf("//")===0;e.indexOf("/")!==0||h||(e=(o&&o.protocol||"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(i=n.base_uri?n.base_uri.path:new Yl(t.document.location.href).directory,n.base_uri.protocol==""?e="//mce_host"+s.toAbsPath(i,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(o&&o.protocol||"http")+"://mce_host"+s.toAbsPath(i,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),DN(HI,function(w,C){var k=e[C];k&&(k=k.replace(/\(mce_at\)/g,"@@")),s[w]=k}),o&&(s.protocol||(s.protocol=o.protocol),s.userInfo||(s.userInfo=o.userInfo),s.port||s.host!=="mce_host"||(s.port=o.port),s.host&&s.host!=="mce_host"||(s.host=o.host),s.source=""),h&&(s.protocol="")}};Yl.prototype={setPath:function(e){e=/^(.*?)\/?(\w+)?$/.exec(e),this.path=e[0],this.directory=e[1],this.file=e[2],this.source="",this.getURI()},toRelative:function(e){var n;if(e==="./")return e;if((e=new Yl(e,{base_uri:this})).host!=="mce_host"&&this.host!==e.host&&e.host||this.port!==e.port||this.protocol!==e.protocol&&e.protocol!=="")return e.getURI();var o=this.getURI(),i=e.getURI();return o===i||o.charAt(o.length-1)==="/"&&o.substr(0,o.length-1)===i?o:(n=this.toRelPath(this.path,e.path),e.query&&(n+="?"+e.query),e.anchor&&(n+="#"+e.anchor),n)},toAbsolute:function(e,n){return(e=new Yl(e,{base_uri:this})).getURI(n&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var n=zI[this.protocol];if(n&&(this.port||n)==(e.port||n))return!0}return!1},toRelPath:function(e,n){var o,i,s,h=0,w="";if(e=(e=e.substring(0,e.lastIndexOf("/"))).split("/"),o=n.split("/"),e.length>=o.length){for(i=0,s=e.length;i<s;i++)if(i>=o.length||e[i]!==o[i]){h=i+1;break}}if(e.length<o.length){for(i=0,s=o.length;i<s;i++)if(i>=e.length||e[i]!==o[i]){h=i+1;break}}if(h===1)return n;for(i=0,s=e.length-(h-1);i<s;i++)w+="../";for(i=h-1,s=o.length;i<s;i++)w+=i!==h-1?"/"+o[i]:o[i];return w},toAbsPath:function(e,n){var o,i,s,h=0,w=[];for(i=/\/$/.test(n)?"/":"",e=e.split("/"),n=n.split("/"),DN(e,function(C){C&&w.push(C)}),e=w,o=n.length-1,w=[];0<=o;o--)n[o].length!==0&&n[o]!=="."&&(n[o]!==".."?0<h?h--:w.push(n[o]):h++);return(s=(o=e.length-h)<=0?w.reverse().join("/"):e.slice(0,o).join("/")+"/"+w.reverse().join("/")).indexOf("/")!==0&&(s="/"+s),i&&s.lastIndexOf("/")!==s.length-1&&(s+=i),s},getURI:function(e){var n,o=this;return o.source&&!e||(n="",e||(o.protocol?n+=o.protocol+"://":n+="//",o.userInfo&&(n+=o.userInfo+"@"),o.host&&(n+=o.host),o.port&&(n+=":"+o.port)),o.path&&(n+=o.path),o.query&&(n+="?"+o.query),o.anchor&&(n+="#"+o.anchor),o.source=n),o.source}},Yl.parseDataUri=function(e){var n,o;return e=decodeURIComponent(e).split(","),(o=/data:([^;]+)/.exec(e[0]))&&(n=o[1]),{type:n,data:e[1]}},Yl.getDocumentBaseUrl=function(e){var n;return n=e.protocol.indexOf("http")!==0&&e.protocol!=="file:"?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/")),n};var jI=function(e,n,o){var i,s,h,w,C;if(n.format=n.format?n.format:"html",n.get=!0,n.getInner=!0,n.no_events||e.fire("BeforeGetContent",n),n.format==="raw")i=st.trim(KT.trimExternal(e.serializer,o.innerHTML));else if(n.format==="text")i=ml(o.innerText||o.textContent);else{if(n.format==="tree")return e.serializer.serialize(o,n);h=(s=e).serializer.serialize(o,n),w=vl(s),C=new RegExp("^(<"+w+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+w+`>[\r
]*|<br \\/>[\r
]*)$`),i=h.replace(C,"")}return n.format==="text"||Oe($t.fromDom(o))?n.content=i:n.content=st.trim(i),n.no_events||e.fire("GetContent",n),n.content},dS=function(e,n){n(e),e.firstChild&&dS(e.firstChild,n),e.next&&dS(e.next,n)},WI=function(e,n,o){var i=function(s,h,w){var C={},k={},N=[];for(var O in w.firstChild&&dS(w.firstChild,function(M){Qt(s,function(F){F.name===M.name&&(C[F.name]?C[F.name].nodes.push(M):C[F.name]={filter:F,nodes:[M]})}),Qt(h,function(F){typeof M.attr(F.name)=="string"&&(k[F.name]?k[F.name].nodes.push(M):k[F.name]={filter:F,nodes:[M]})})}),C)C.hasOwnProperty(O)&&N.push(C[O]);for(var O in k)k.hasOwnProperty(O)&&N.push(k[O]);return N}(e,n,o);Qt(i,function(s){Qt(s.filter.callbacks,function(h){h(s.nodes,s.filter.name,{})})})},mS=function(e){return e instanceof Cc},hS=function(e,n){var o;e.dom.setHTML(e.getBody(),n),Ru(o=e)&&oo.firstPositionIn(o.getBody()).each(function(i){var s=i.getNode(),h=je.isTable(s)?oo.firstPositionIn(s).getOr(i):i;o.selection.setRng(h.toRange())})},UI=function(e,n,o){return o===void 0&&(o={}),o.format=o.format?o.format:"html",o.set=!0,o.content=mS(n)?"":n,mS(n)||o.no_events||(e.fire("BeforeSetContent",o),n=o.content),J.from(e.getBody()).fold(l(n),function(i){return mS(n)?function(O,M,F,te){WI(O.parser.getNodeFilters(),O.parser.getAttributeFilters(),F);var Y=Ul({validate:O.validate},O.schema).serialize(F);return te.content=Oe($t.fromDom(M))?Y:st.trim(Y),hS(O,te.content),te.no_events||O.fire("SetContent",te),F}(e,i,n,o):(s=e,h=i,C=o,(w=n).length===0||/^\s+$/.test(w)?(N='<br data-mce-bogus="1">',h.nodeName==="TABLE"?w="<tr><td>"+N+"</td></tr>":/^(UL|OL)$/.test(h.nodeName)&&(w="<li>"+N+"</li>"),(k=vl(s))&&s.schema.isValidChild(h.nodeName.toLowerCase(),k.toLowerCase())?(w=N,w=s.dom.createHTML(k,s.settings.forced_root_block_attrs,w)):w||(w='<br data-mce-bogus="1">'),hS(s,w),s.fire("SetContent",C)):(C.format!=="raw"&&(w=Ul({validate:s.validate},s.schema).serialize(s.parser.parse(w,{isRootContent:!0,insert:!0}))),C.content=Oe($t.fromDom(h))?w:st.trim(w),hS(s,C.content),C.no_events||s.fire("SetContent",C)),C.content);var s,h,w,C,k,N})},Y1=vn.DOM,K1=function(e){return J.from(e).each(function(n){return n.destroy()})},$I=function(e){if(!e.removed){var n=e._selectionOverrides,o=e.editorUpload,i=e.getBody(),s=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s&&Y1.remove(s.nextSibling),kC(e),e.editorManager.remove(e),!e.inline&&i&&(h=e,Y1.setStyle(h.id,"display",h.orgDisplay)),EC(e),Y1.remove(e.getContainer()),K1(n),K1(o),e.destroy()}var h},VI=function(e,n){var o,i,s,h=e.selection,w=e.dom;e.destroyed||(n||e.removed?(n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),K1(h),K1(w)),(i=(o=e).formElement)&&(i._mceOldSubmit&&(i.submit=i._mceOldSubmit,i._mceOldSubmit=null),Y1.unbind(i,"submit reset",o.formEventDelegate)),(s=e).contentAreaContainer=s.formElement=s.container=s.editorContainer=null,s.bodyElement=s.contentDocument=s.contentWindow=null,s.iframeElement=s.targetElm=null,s.selection&&(s.selection=s.selection.win=s.selection.dom=s.selection.dom.doc=null),e.destroyed=!0):e.remove())},yp=vn.DOM,AN=st.extend,MN=st.each,IN=st.resolve,qI=Dn.ie,by=function(e,n,o){var i,s,h,w,C,k,N,O=this,M=O.documentBaseUrl=o.documentBaseURL,F=o.baseURI;i=O,s=e,h=M,w=o.defaultSettings,C=n,N={id:s,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:h,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:(k=i).convertURL,url_converter_scope:k,ie7_compat:!0},n=at(Pe,N,w,C),O.settings=n,pi.language=n.language||"en",pi.languageLoad=n.language_load,pi.baseURL=o.baseURL,O.id=e,O.setDirty(!1),O.plugins={},O.documentBaseURI=new Yl(n.document_base_url,{base_uri:F}),O.baseURI=F,O.contentCSS=[],O.contentStyles=[],O.shortcuts=new fi(O),O.loadedCSS={},O.editorCommands=new E1(O),O.suffix=o.suffix,O.editorManager=o,O.inline=n.inline,O.buttons={},O.menuItems={},n.cache_suffix&&(Dn.cacheSuffix=n.cache_suffix.replace(/^[\?\&]+/,"")),n.override_viewport===!1&&(Dn.overrideViewPort=!1),o.fire("SetupEditor",{editor:O}),O.execCallback("setup",O),O.$=br.overrideDefaults(function(){return{context:O.inline?O.getBody():O.getDoc(),element:O.getBody()}})};AN(by.prototype={render:function(){BI(this)},focus:function(e){wl(this,e)},hasFocus:function(){return Ru(this)},execCallback:function(e){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i,s=this.settings[e];if(s)return this.callbackLookup&&(i=this.callbackLookup[e])&&(s=i.func,i=i.scope),typeof s=="string"&&(i=(i=s.replace(/\.\w+$/,""))?IN(i):0,s=IN(s),this.callbackLookup=this.callbackLookup||{},this.callbackLookup[e]={func:s,scope:i}),s.apply(i||this,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&st.is(e,"string")){var n=this.settings.language||"en",o=this.editorManager.i18n;e=o.data[n+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(i,s){return o.data[n+"."+s]||"{#"+s+"}"})}return this.editorManager.translate(e)},getLang:function(e,n){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(n!==void 0?n:"{#"+e+"}")},getParam:function(e,n,o){return Sn(this,e,n,o)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,n){var o=this;n.cmd&&(n.onclick=function(){o.execCommand(n.cmd)}),n.stateSelector&&typeof n.active=="undefined"&&(n.active=!1),n.text||n.icon||(n.icon=e),n.tooltip=n.tooltip||n.title,o.buttons[e]=n},addSidebar:function(e,n){return LI(this,e,n)},addMenuItem:function(e,n){var o=this;n.cmd&&(n.onclick=function(){o.execCommand(n.cmd)}),o.menuItems[e]=n},addContextToolbar:function(e,n){var o,i=this;i.contextToolbars=i.contextToolbars||[],typeof e=="string"&&(o=e,e=function(s){return i.dom.is(s,o)}),i.contextToolbars.push({id:RC.uuid("mcet"),predicate:e,items:n})},addCommand:function(e,n,o){this.editorCommands.addCommand(e,n,o)},addQueryStateHandler:function(e,n,o){this.editorCommands.addQueryStateHandler(e,n,o)},addQueryValueHandler:function(e,n,o){this.editorCommands.addQueryValueHandler(e,n,o)},addShortcut:function(e,n,o,i){this.shortcuts.add(e,n,o,i)},execCommand:function(e,n,o,i){return this.editorCommands.execCommand(e,n,o,i)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(yp.show(this.getContainer()),yp.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var e=this,n=e.getDoc();e.hidden||(qI&&n&&!e.inline&&n.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(yp.hide(e.getContainer()),yp.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,n){this.fire("ProgressState",{state:e,time:n})},load:function(e){var n,o=this.getElement();return this.removed?"":o?((e=e||{}).load=!0,n=this.setContent(o.value!==void 0?o.value:o.innerHTML,e),e.element=o,e.no_events||this.fire("LoadContent",e),e.element=o=null,n):void 0},save:function(e){var n,o,i=this,s=i.getElement();if(s&&i.initialized&&!i.removed)return(e=e||{}).save=!0,e.element=s,e.content=i.getContent(e),e.no_events||i.fire("SaveContent",e),e.format==="raw"&&i.fire("RawSaveContent",e),n=e.content,/TEXTAREA|INPUT/i.test(s.nodeName)?s.value=n:(!e.is_removing&&i.inline||(s.innerHTML=n),(o=yp.getParent(i.id,"form"))&&MN(o.elements,function(h){if(h.name===i.id)return h.value=n,!1})),e.element=s=null,e.set_dirty!==!1&&i.setDirty(!1),n},setContent:function(e,n){return UI(this,e,n)},getContent:function(e){return n=this,(o=e)===void 0&&(o={}),J.from(n.getBody()).fold(l(o.format==="tree"?new Cc("body",11):""),function(i){return jI(n,o,i)});var n,o},insertContent:function(e,n){n&&(e=AN({content:e},n)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var n=!this.isNotDirty;this.isNotDirty=!e,e&&e!==n&&this.fire("dirty")},setMode:function(e){var n,o;(o=e)!==m(n=this)&&(n.initialized?u(n,o==="readonly"):n.on("init",function(){u(n,o==="readonly")}),T1(n,o))},getContainer:function(){return this.container||(this.container=yp.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=yp.get(this.id)),this.targetElm},getWin:function(){var e;return this.contentWindow||(e=this.iframeElement)&&(this.contentWindow=e.contentWindow),this.contentWindow},getDoc:function(){var e;return this.contentDocument||(e=this.getWin())&&(this.contentDocument=e.document),this.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,n,o){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",e,o,!0,n):!i.convert_urls||o&&o.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0?e:i.relative_urls?this.documentBaseURI.toRelative(e):e=this.documentBaseURI.toAbsolute(e,i.remove_script_host)},addVisual:function(e){var n,o=this,i=o.settings,s=o.dom;e=e||o.getBody(),o.hasVisual===void 0&&(o.hasVisual=i.visual),MN(s.select("table,a",e),function(h){var w;switch(h.nodeName){case"TABLE":return n=i.visual_table_class||"mce-item-table",void((w=s.getAttrib(h,"border"))&&w!=="0"||!o.hasVisual?s.removeClass(h,n):s.addClass(h,n));case"A":return void(s.getAttrib(h,"href")||(w=s.getAttrib(h,"name")||h.id,n=i.visual_anchor_class||"mce-item-anchor",w&&o.hasVisual?s.addClass(h,n):s.removeClass(h,n)))}}),o.fire("VisualAid",{element:e,hasVisual:o.hasVisual})},remove:function(){$I(this)},destroy:function(e){VI(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},ue);var wy,X1,Am,BN={isEditorUIElement:function(e){return e.className.toString().indexOf("mce-")!==-1}},YI=function(e,n){var o,i;kn.detect().browser.isIE()?(i=e).on("focusout",function(){nv(i)}):(o=n,e.on("mouseup touchend",function(s){o.throttle()})),e.on("keyup nodechange",function(s){var h;(h=s).type==="nodechange"&&h.selectionChange||nv(e)})},KI=function(e){var n,o,i,s=sc(function(){nv(e)},0);e.inline&&(n=e,o=s,i=function(){o.throttle()},vn.DOM.bind(t.document,"mouseup",i),n.on("remove",function(){vn.DOM.unbind(t.document,"mouseup",i)})),e.on("init",function(){YI(e,s)}),e.on("remove",function(){s.cancel()})},pS=vn.DOM,XI=function(e){return BN.isEditorUIElement(e)},LN=function(e,n){var o=e?e.settings.custom_ui_selector:"";return pS.getParent(n,function(i){return XI(i)||!!o&&e.dom.is(i,o)})!==null},GI=function(e,n){var o=n.editor;KI(o),o.on("focusin",function(){var i=e.focusedEditor;i!==this&&(i&&i.fire("blur",{focusedEditor:this}),e.setActive(this),(e.focusedEditor=this).fire("focus",{blurredEditor:i}),this.focus(!0))}),o.on("focusout",function(){var i=this;Qr.setEditorTimeout(i,function(){var s=e.focusedEditor;LN(i,function(){try{return t.document.activeElement}catch{return t.document.body}}())||s!==i||(i.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),wy||(wy=function(i){var s,h=e.activeEditor;s=i.target,h&&s.ownerDocument===t.document&&(s===t.document.body||LN(h,s)||e.focusedEditor!==h||(h.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},pS.bind(t.document,"focusin",wy))},JI=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(pS.unbind(t.document,"focusin",wy),wy=null)},QI=function(e){e.on("AddEditor",x(GI,e)),e.on("RemoveEditor",x(JI,e))},Cl=vn.DOM,ZI=st.explode,Xf=st.each,FN=st.extend,eB=0,HN=!1,Mm=[],Fs=[],zN=function(e){var n=e.type;Xf(Am.get(),function(o){switch(n){case"scroll":o.fire("ScrollWindow",e);break;case"resize":o.fire("ResizeWindow",e)}})},jN=function(e){e!==HN&&(e?br(window).on("resize scroll",zN):br(window).off("resize scroll",zN),HN=e)},WN=function(e){var n=Fs;delete Mm[e.id];for(var o=0;o<Mm.length;o++)if(Mm[o]===e){Mm.splice(o,1);break}return Fs=qe(Fs,function(i){return e!==i}),Am.activeEditor===e&&(Am.activeEditor=0<Fs.length?Fs[0]:null),Am.focusedEditor===e&&(Am.focusedEditor=null),n.length!==Fs.length};FN(Am={defaultSettings:{},$:br,majorVersion:"4",minorVersion:"9.11",releaseDate:"2020-07-13",editors:Mm,i18n:Om,activeEditor:null,settings:{},setup:function(){var e,n,o="";n=Yl.getDocumentBaseUrl(t.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)e=i.base||i.baseURL,o=i.suffix;else{for(var s=t.document.getElementsByTagName("script"),h=0;h<s.length;h++){var w;if((w=s[h].src||"")!==""){var C=w.substring(w.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(w)){C.indexOf(".min")!==-1&&(o=".min"),e=w.substring(0,w.lastIndexOf("/"));break}}}!e&&t.document.currentScript&&((w=t.document.currentScript.src).indexOf(".min")!==-1&&(o=".min"),e=w.substring(0,w.lastIndexOf("/")))}this.baseURL=new Yl(n).toAbsolute(e),this.documentBaseURL=n,this.baseURI=new Yl(this.baseURL),this.suffix=o,QI(this)},overrideDefaults:function(e){var n,o;(n=e.base_url)&&(this.baseURL=new Yl(this.documentBaseURL).toAbsolute(n.replace(/\/+$/,"")),this.baseURI=new Yl(this.baseURL)),o=e.suffix,e.suffix&&(this.suffix=o);var i=(this.defaultSettings=e).plugin_base_urls;for(var s in i)pi.PluginManager.urls[s]=i[s]},init:function(e){var n,o,i=this;o=st.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var s=function(k){var N=k.id;return N||(N=(N=k.name)&&!Cl.get(N)?k.name:Cl.uniqueId(),k.setAttribute("id",N)),N},h=function(k,N){return N.constructor===RegExp?N.test(k.className):Cl.hasClass(k,N)},w=function(k){n=k},C=function(){var k,N=0,O=[],M=function(F,te,Y){var ae=new by(F,te,i);O.push(ae),ae.on("init",function(){++N===k.length&&w(O)}),ae.targetElm=ae.targetElm||Y,ae.render()};Cl.unbind(window,"ready",C),function(F){var te=e[F];te&&te.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),k=br.unique(function(F){var te,Y=[];if(Dn.ie&&Dn.ie<11)return uv.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(F.types)return Xf(F.types,function(ae){Y=Y.concat(Cl.select(ae.selector))}),Y;if(F.selector)return Cl.select(F.selector);if(F.target)return[F.target];switch(F.mode){case"exact":0<(te=F.elements||"").length&&Xf(ZI(te),function(ae){var q;(q=Cl.get(ae))?Y.push(q):Xf(t.document.forms,function(Z){Xf(Z.elements,function(le){le.name===ae&&(ae="mce_editor_"+eB++,Cl.setAttrib(le,"id",ae),Y.push(le))})})});break;case"textareas":case"specific_textareas":Xf(Cl.select("textarea"),function(ae){F.editor_deselector&&h(ae,F.editor_deselector)||F.editor_selector&&!h(ae,F.editor_selector)||Y.push(ae)})}return Y}(e)),e.types?Xf(e.types,function(F){st.each(k,function(te){return!Cl.is(te,F.selector)||(M(s(te),FN({},e,F),te),!1)})}):(st.each(k,function(F){var te;(te=i.get(F.id))&&te.initialized&&!(te.getContainer()||te.getBody()).parentNode&&(WN(te),te.unbindAllNativeEvents(),te.destroy(!0),te.removed=!0,te=null)}),(k=st.grep(k,function(F){return!i.get(F.id)})).length===0?w([]):Xf(k,function(F){var te;te=F,e.inline&&te.tagName.toLowerCase()in o?uv.initError("Could not initialize inline editor on invalid inline target element",F):M(s(F),e,F)}))};return i.settings=e,Cl.bind(window,"ready",C),new yo(function(k){n?k(n):w=function(N){k(N)}})},get:function(e){return arguments.length===0?Fs.slice(0):Ze(e)?Kt(Fs,function(n){return n.id===e}).getOr(null):qt(e)&&Fs[e]?Fs[e]:null},add:function(e){var n=this;return Mm[e.id]===e||(n.get(e.id)===null&&(e.id!=="length"&&(Mm[e.id]=e),Mm.push(e),Fs.push(e)),jN(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),X1||(X1=function(){n.fire("BeforeUnload")},Cl.bind(window,"beforeunload",X1))),e},createEditor:function(e,n){return this.add(new by(e,n,this))},remove:function(e){var n,o,i=this;if(e){if(!Ze(e))return o=e,jt(i.get(o.id))?null:(WN(o)&&i.fire("RemoveEditor",{editor:o}),Fs.length===0&&Cl.unbind(window,"beforeunload",X1),o.remove(),jN(0<Fs.length),o);Xf(Cl.select(e),function(s){(o=i.get(s.id))&&i.remove(o)})}else for(n=Fs.length-1;0<=n;n--)i.remove(Fs[n])},execCommand:function(e,n,o){var i=this.get(o);switch(e){case"mceAddEditor":return this.get(o)||new by(o,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?i.isHidden()?i.show():i.hide():this.execCommand("mceAddEditor",0,o),!0}return!!this.activeEditor&&this.activeEditor.execCommand(e,n,o)},triggerSave:function(){Xf(Fs,function(e){e.save()})},addI18n:function(e,n){Om.add(e,n)},translate:function(e){return Om.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e}},iv),Am.setup();var G1,UN=Am;function gS(e){return{walk:function(n,o){return af(e,n,o)},split:rp,normalize:function(n){return cp(e,n).fold(l(!1),function(o){return n.setStart(o.startContainer,o.startOffset),n.setEnd(o.endContainer,o.endOffset),!0})}}}(G1=gS||(gS={})).compareRanges=lp,G1.getCaretRangeFromPoint=ZC,G1.getSelectedNode=sd,G1.getNode=gc;var $N,vS,tB=gS,VN=Math.min,fv=Math.max,J1=Math.round,qN=function(e,n,o){var i,s,h,w,C,k;return i=n.x,s=n.y,h=e.w,w=e.h,C=n.w,k=n.h,(o=(o||"").split(""))[0]==="b"&&(s+=k),o[1]==="r"&&(i+=C),o[0]==="c"&&(s+=J1(k/2)),o[1]==="c"&&(i+=J1(C/2)),o[3]==="b"&&(s-=w),o[4]==="r"&&(i-=h),o[3]==="c"&&(s-=J1(w/2)),o[4]==="c"&&(i-=J1(h/2)),dv(i,s,h,w)},dv=function(e,n,o,i){return{x:e,y:n,w:o,h:i}},nB={inflate:function(e,n,o){return dv(e.x-n,e.y-o,e.w+2*n,e.h+2*o)},relativePosition:qN,findBestRelativePosition:function(e,n,o,i){var s,h;for(h=0;h<i.length;h++)if((s=qN(e,n,i[h])).x>=o.x&&s.x+s.w<=o.w+o.x&&s.y>=o.y&&s.y+s.h<=o.h+o.y)return i[h];return null},intersect:function(e,n){var o,i,s,h;return o=fv(e.x,n.x),i=fv(e.y,n.y),s=VN(e.x+e.w,n.x+n.w),h=VN(e.y+e.h,n.y+n.h),s-o<0||h-i<0?null:dv(o,i,s-o,h-i)},clamp:function(e,n,o){var i,s,h,w,C,k,N,O,M,F;return C=e.x,k=e.y,N=e.x+e.w,O=e.y+e.h,M=n.x+n.w,F=n.y+n.h,i=fv(0,n.x-C),s=fv(0,n.y-k),h=fv(0,N-M),w=fv(0,O-F),C+=i,k+=s,o&&(N+=i,O+=s,C-=h,k-=w),dv(C,k,(N-=h)-C,(O-=w)-k)},create:dv,fromClientRect:function(e){return dv(e.left,e.top,e.width,e.height)}},xy={},rB={add:function(e,n){xy[e.toLowerCase()]=n},has:function(e){return!!xy[e.toLowerCase()]},get:function(e){var n=e.toLowerCase(),o=xy.hasOwnProperty(n)?xy[n]:null;if(o===null)throw new Error("Could not find module for type: "+e);return o},create:function(e,n){var o;if(typeof e=="string"?(n=n||{}).type=e:e=(n=e).type,e=e.toLowerCase(),!(o=xy[e]))throw new Error("Could not find control by type: "+e);return(o=new o(n)).type=e,o}},Q1=st.each,oB=st.extend,YN=function(){};YN.extend=$N=function(e){var n,o,i,s=this.prototype,h=function(){var k,N,O;if(!vS&&(this.init&&this.init.apply(this,arguments),N=this.Mixins))for(k=N.length;k--;)(O=N[k]).init&&O.init.apply(this,arguments)},w=function(){return this},C=function(k,N){return function(){var O,M=this._super;return this._super=s[k],O=N.apply(this,arguments),this._super=M,O}};for(o in vS=!0,n=new this,vS=!1,e.Mixins&&(Q1(e.Mixins,function(k){for(var N in k)N!=="init"&&(e[N]=k[N])}),s.Mixins&&(e.Mixins=s.Mixins.concat(e.Mixins))),e.Methods&&Q1(e.Methods.split(","),function(k){e[k]=w}),e.Properties&&Q1(e.Properties.split(","),function(k){var N="_"+k;e[k]=function(O){return O!==void 0?(this[N]=O,this):this[N]}}),e.Statics&&Q1(e.Statics,function(k,N){h[N]=k}),e.Defaults&&s.Defaults&&(e.Defaults=oB({},s.Defaults,e.Defaults)),e)typeof(i=e[o])=="function"&&s[o]?n[o]=C(o,i):n[o]=i;return h.prototype=n,(h.constructor=h).extend=$N,h};var Z1=Math.min,ew=Math.max,bp=Math.round,yS=function(e,n){var o,i,s,h;if(n=n||'"',e===null)return"null";if((s=typeof e)=="string")return i=`\bb	t
n\ff\rr""''\\\\`,n+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(w,C){return n==='"'&&w==="'"?w:(o=i.indexOf(C))+1?"\\"+i.charAt(o+1):(w=C.charCodeAt().toString(16),"\\u"+"0000".substring(w.length)+w)})+n;if(s==="object"){if(e.hasOwnProperty&&Object.prototype.toString.call(e)==="[object Array]"){for(o=0,i="[";o<e.length;o++)i+=(0<o?",":"")+yS(e[o],n);return i+"]"}for(h in i="{",e)e.hasOwnProperty(h)&&(i+=typeof e[h]!="function"?(1<i.length?","+n:n)+h+n+":"+yS(e[h],n):"");return i+"}"}return""+e},bS={serialize:yS,parse:function(e){try{return JSON.parse(e)}catch{}}},iB={callbacks:{},count:0,send:function(e){var n=this,o=vn.DOM,i=e.count!==void 0?e.count:n.count,s="tinymce_jsonp_"+i;n.callbacks[i]=function(h){o.remove(s),delete n.callbacks[i],e.callback(h)},o.add(o.doc.body,"script",{id:s,src:e.url,type:"text/javascript"}),n.count++}},Cy={send:function(e){var n,o=0,i=function(){!e.async||n.readyState===4||1e4<o++?(e.success&&o<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,1e4<o?"TIMED_OUT":"GENERAL",n,e),n=null):setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",Cy.fire("beforeInitialize",{settings:e}),n=NC()){if(n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&st.each(e.requestheaders,function(s){n.setRequestHeader(s.key,s.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),(n=Cy.fire("beforeSend",{xhr:n,settings:e}).xhr).send(e.data),!e.async)return i();setTimeout(i,10)}}};st.extend(Cy,iv);var wS,Sy,wp,xS,KN=st.extend,tw=function(e){this.settings=KN({},e),this.count=0};tw.sendRPC=function(e){return new tw().send(e)},tw.prototype={send:function(e){var n=e.error,o=e.success;(e=KN(this.settings,e)).success=function(i,s){(i=bS.parse(i))===void 0&&(i={error:"JSON Parse error."}),i.error?n.call(e.error_scope||e.scope,i.error,s):o.call(e.success_scope||e.scope,i.result)},e.error=function(i,s){n&&n.call(e.error_scope||e.scope,i,s)},e.data=bS.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",Cy.send(e)}};try{wS=t.window.localStorage}catch{Sy={},wp=[],xS={getItem:function(n){var o=Sy[n];return o||null},setItem:function(n,o){wp.push(n),Sy[n]=String(o)},key:function(n){return wp[n]},removeItem:function(n){wp=wp.filter(function(o){return o===n}),delete Sy[n]},clear:function(){wp=[],Sy={}},length:0},Object.defineProperty(xS,"length",{get:function(){return wp.length},configurable:!1,enumerable:!1}),wS=xS}var CS,XN=UN,aB={geom:{Rect:nB},util:{Promise:yo,Delay:Qr,Tools:st,VK:ii,URI:Yl,Class:YN,EventDispatcher:ov,Observable:iv,I18n:Om,XHR:Cy,JSON:bS,JSONRequest:tw,JSONP:iB,LocalStorage:wS,Color:function(e){var n={},o=0,i=0,s=0,h=function(w){var C;return typeof w=="object"?"r"in w?(o=w.r,i=w.g,s=w.b):"v"in w&&function(k,N,O){var M,F,te,Y;if(k=(parseInt(k,10)||0)%360,N=parseInt(N,10)/100,O=parseInt(O,10)/100,N=ew(0,Z1(N,1)),O=ew(0,Z1(O,1)),N!==0){switch(M=k/60,te=(F=O*N)*(1-Math.abs(M%2-1)),Y=O-F,Math.floor(M)){case 0:o=F,i=te,s=0;break;case 1:o=te,i=F,s=0;break;case 2:o=0,i=F,s=te;break;case 3:o=0,i=te,s=F;break;case 4:o=te,i=0,s=F;break;case 5:o=F,i=0,s=te;break;default:o=i=s=0}o=bp(255*(o+Y)),i=bp(255*(i+Y)),s=bp(255*(s+Y))}else o=i=s=bp(255*O)}(w.h,w.s,w.v):(C=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(w))?(o=parseInt(C[1],10),i=parseInt(C[2],10),s=parseInt(C[3],10)):(C=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(w))?(o=parseInt(C[1],16),i=parseInt(C[2],16),s=parseInt(C[3],16)):(C=/#([0-F])([0-F])([0-F])/gi.exec(w))&&(o=parseInt(C[1]+C[1],16),i=parseInt(C[2]+C[2],16),s=parseInt(C[3]+C[3],16)),o=o<0?0:255<o?255:o,i=i<0?0:255<i?255:i,s=s<0?0:255<s?255:s,n};return e&&h(e),n.toRgb=function(){return{r:o,g:i,b:s}},n.toHsv=function(){return w=o,C=i,k=s,O=0,(M=Z1(w/=255,Z1(C/=255,k/=255)))===(F=ew(w,ew(C,k)))?{h:0,s:0,v:100*(O=M)}:(N=(F-M)/F,{h:bp(60*((w===M?3:k===M?1:5)-(w===M?C-k:k===M?w-C:k-w)/((O=F)-M))),s:bp(100*N),v:bp(100*O)});var w,C,k,N,O,M,F},n.toHex=function(){var w=function(C){return 1<(C=parseInt(C,10).toString(16)).length?C:"0"+C};return"#"+w(o)+w(i)+w(s)},n.parse=h,n}},dom:{EventUtils:xt,Sizzle:fo,DomQuery:br,TreeWalker:Ri,DOMUtils:vn,ScriptLoader:Ci,RangeUtils:tB,Serializer:S_,ControlSelection:T_,BookmarkManager:k_,Selection:H_,Event:xt.Event},html:{Styles:We,Entities:Na,Node:Cc,Schema:ce,SaxParser:jC,DomParser:JC,Writer:yg,Serializer:Ul},ui:{Factory:rB},Env:Dn,AddOnManager:pi,Annotator:gg,Formatter:h_,UndoManager:QT,EditorCommands:E1,WindowManager:OT,NotificationManager:RT,EditorObservable:ue,Shortcuts:fi,Editor:by,FocusManager:BN,EditorManager:UN,DOM:vn.DOM,ScriptLoader:Ci.ScriptLoader,PluginManager:pi.PluginManager,ThemeManager:pi.ThemeManager,trim:st.trim,isArray:st.isArray,is:st.is,toArray:st.toArray,makeMap:st.makeMap,each:st.each,map:st.map,grep:st.grep,inArray:st.inArray,extend:st.extend,create:st.create,walk:st.walk,createNS:st.createNS,resolve:st.resolve,explode:st.explode,_addCacheSuffix:st._addCacheSuffix,isOpera:Dn.opera,isWebKit:Dn.webkit,isIE:Dn.ie,isGecko:Dn.gecko,isMac:Dn.mac},GN=XN=st.extend(XN,aB);CS=GN,window.tinymce=CS,window.tinyMCE=CS,function(e){if(typeof gE=="object")try{gE.exports=e}catch{}}(GN)})(window);(function(){var t,r,a,l,g,x=tinymce.util.Tools.resolve("tinymce.PluginManager"),D=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),L=tinymce.util.Tools.resolve("tinymce.Env"),U="[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",X="[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",se="[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",re="[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",ee="\\r",Me="\\n",De="[\v\f\x85\u2028\u2029]",ze="[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",mt="[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",G="[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",ve="[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",Ae="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",Ke={characterIndices:{ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},SETS:[new RegExp("[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]"),new RegExp(U),new RegExp(X),new RegExp(se),new RegExp(re),new RegExp(ee),new RegExp(Me),new RegExp(De),new RegExp(ze),new RegExp(mt),new RegExp(G),new RegExp(ve),new RegExp("@")],EMPTY_STRING:"",PUNCTUATION:new RegExp("^"+Ae+"$"),WHITESPACE:/^\s+$/},vt=function(){},Ie=function(Te){return function(){return Te}},Ce=Ie(!1),ut=Ie(!0),$e=function(){return Je},Je=(t=function(Te){return Te.isNone()},l={fold:function(Te,qe){return Te()},is:Ce,isSome:Ce,isNone:ut,getOr:a=function(Te){return Te},getOrThunk:r=function(Te){return Te()},getOrDie:function(Te){throw new Error(Te||"error: getOrDie called on none.")},getOrNull:Ie(null),getOrUndefined:Ie(void 0),or:a,orThunk:r,map:$e,each:vt,bind:$e,exists:Ce,forall:ut,filter:$e,equals:t,equals_:t,toArray:function(){return[]},toString:Ie("none()")},Object.freeze&&Object.freeze(l),l),Le=(g="function",function(Te){return function(qe){if(qe===null)return"null";var Rt=typeof qe;return Rt==="object"&&(Array.prototype.isPrototypeOf(qe)||qe.constructor&&qe.constructor.name==="Array")?"array":Rt==="object"&&(String.prototype.isPrototypeOf(qe)||qe.constructor&&qe.constructor.name==="String")?"string":Rt}(Te)===g}),J=(Le(Array.from)&&Array.from,Ke.SETS),Ge=Ke.characterIndices.OTHER,Ze=function(Te){var qe,Rt,Kt=Ge,mn=J.length;for(qe=0;qe<mn;++qe)if((Rt=J[qe])&&Rt.test(Te)){Kt=qe;break}return Kt},Wt=function(Te){var qe,Rt,Kt=(qe=Ze,Rt={},function(mn){if(Rt[mn])return Rt[mn];var xn=qe(mn);return Rt[mn]=xn});return function(mn,xn){for(var Un=mn.length,Or=new Array(Un),Jn=0;Jn<Un;Jn++){var Jr=mn[Jn];Or[Jn]=xn(Jr,Jn)}return Or}(Te.split(""),Kt)},fe=Ke.characterIndices,jt=function(Te,qe){var Rt,Kt,mn=Te[qe],xn=Te[qe+1];return!(qe<0||qe>Te.length-1&&qe!==0||mn===fe.ALETTER&&xn===fe.ALETTER||(Kt=Te[qe+2],mn===fe.ALETTER&&(xn===fe.MIDLETTER||xn===fe.MIDNUMLET||xn===fe.AT)&&Kt===fe.ALETTER||(Rt=Te[qe-1],(mn===fe.MIDLETTER||mn===fe.MIDNUMLET||xn===fe.AT)&&xn===fe.ALETTER&&Rt===fe.ALETTER||!(mn!==fe.NUMERIC&&mn!==fe.ALETTER||xn!==fe.NUMERIC&&xn!==fe.ALETTER)||(mn===fe.MIDNUM||mn===fe.MIDNUMLET)&&xn===fe.NUMERIC&&Rt===fe.NUMERIC||mn===fe.NUMERIC&&(xn===fe.MIDNUM||xn===fe.MIDNUMLET)&&Kt===fe.NUMERIC||mn===fe.EXTEND||mn===fe.FORMAT||Rt===fe.EXTEND||Rt===fe.FORMAT||xn===fe.EXTEND||xn===fe.FORMAT||mn===fe.CR&&xn===fe.LF||mn!==fe.NEWLINE&&mn!==fe.CR&&mn!==fe.LF&&xn!==fe.NEWLINE&&xn!==fe.CR&&xn!==fe.LF&&(mn===fe.KATAKANA&&xn===fe.KATAKANA||xn===fe.EXTENDNUMLET&&(mn===fe.ALETTER||mn===fe.NUMERIC||mn===fe.KATAKANA||mn===fe.EXTENDNUMLET)||mn===fe.EXTENDNUMLET&&(xn===fe.ALETTER||xn===fe.NUMERIC||xn===fe.KATAKANA)||mn===fe.AT))))},At=Ke.EMPTY_STRING,Vt=Ke.WHITESPACE,qt=Ke.PUNCTUATION,yn=function(Te,qe,Rt){var Kt=function(xn,Un){var Or;for(Or=Un;Or<xn.length;++Or){var Jn=xn.charAt(Or);if(Vt.test(Jn))break}return Or}(qe,Rt+1),mn=qe.substring(Rt+1,Kt);return mn.substr(0,3)==="://"?{word:Te+mn,index:Kt}:{word:Te,index:Rt}},Yn=function(Te,qe){return function(Rt,Kt){var mn,xn,Un,Or,Jn=0,Jr=Wt(Rt),co=Jr.length,eo=[],Ao=[];for(Kt||(Kt={}),Kt.ignoreCase&&(Rt=Rt.toLowerCase()),xn=Kt.includePunctuation,Un=Kt.includeWhitespace;Jn<co;++Jn)if(mn=Rt.charAt(Jn),eo.push(mn),jt(Jr,Jn)){if((eo=eo.join(At))&&(Un||!Vt.test(eo))&&(xn||!qt.test(eo)))if((Or=eo)==="http"||Or==="https"){var qr=yn(eo,Rt,Jn);Ao.push(qr.word),Jn=qr.index}else Ao.push(eo);eo=[]}return Ao}(Te.replace(/\ufeff/g,""),qe)},Pn=function(Te,qe){return L.ie?function(Rt,Kt){for(var mn,xn=Kt.getBlockElements(),Un=Kt.getShortEndedElements(),Or=Kt.getWhiteSpaceElements(),Jn="",Jr=new D(Rt,Rt);Rt=Jr.next();)Rt.nodeType===3?Jn+=Rt.data:(xn[(mn=Rt).nodeName]||Un[mn.nodeName]||Or[mn.nodeName])&&(Jn+=" ");return Jn}(Te,qe):Te.innerText},dr=function(Te){return Yn((qe=Te,qe.removed?"":Pn(qe.getBody(),qe.schema))).length;var qe},Zn=function(Te){return{getCount:function(){return dr(Te)}}},Cr=tinymce.util.Tools.resolve("tinymce.util.Delay"),er=tinymce.util.Tools.resolve("tinymce.util.I18n"),Qt=function(Te){var qe=function(Kt){return er.translate(["{0} words",dr(Kt)])},Rt=function(){Te.theme.panel.find("#wordcount").text(qe(Te))};Te.on("init",function(){var Kt=Te.theme.panel&&Te.theme.panel.find("#statusbar")[0],mn=Cr.debounce(Rt,300);Kt&&Cr.setEditorTimeout(Te,function(){Kt.insert({type:"label",name:"wordcount",text:qe(Te),classes:"wordcount",disabled:Te.settings.readonly},0),Te.on("setcontent beforeaddundo undo redo keyup",mn)},0)})};x.add("wordcount",function(Te){return Qt(Te),Zn(Te)})})();(function(t){var r,a,l,g,x,D,L=function(Te){var qe=Te,Rt=function(){return qe};return{get:Rt,set:function(Kt){qe=Kt},clone:function(){return L(Rt())}}},U=tinymce.util.Tools.resolve("tinymce.PluginManager"),X=function(Te){return{isEnabled:function(){return Te.get()}}},se=function(Te,qe){return Te.fire("VisualChars",{state:qe})},re=function(){},ee=function(Te){return function(){return Te}},Me=ee(!1),De=ee(!0),ze=function(){return mt},mt=(r=function(Te){return Te.isNone()},g={fold:function(Te,qe){return Te()},is:Me,isSome:Me,isNone:De,getOr:l=function(Te){return Te},getOrThunk:a=function(Te){return Te()},getOrDie:function(Te){throw new Error(Te||"error: getOrDie called on none.")},getOrNull:ee(null),getOrUndefined:ee(void 0),or:l,orThunk:a,map:ze,each:re,bind:ze,exists:Me,forall:De,filter:ze,equals:r,equals_:r,toArray:function(){return[]},toString:ee("none()")},Object.freeze&&Object.freeze(g),g),G=function(Te){var qe=ee(Te),Rt=function(){return mn},Kt=function(xn){return xn(Te)},mn={fold:function(xn,Un){return Un(Te)},is:function(xn){return Te===xn},isSome:De,isNone:Me,getOr:qe,getOrThunk:qe,getOrDie:qe,getOrNull:qe,getOrUndefined:qe,or:Rt,orThunk:Rt,map:function(xn){return G(xn(Te))},each:function(xn){xn(Te)},bind:Kt,exists:Kt,forall:Kt,filter:function(xn){return xn(Te)?mn:mt},toArray:function(){return[Te]},toString:function(){return"some("+Te+")"},equals:function(xn){return xn.is(Te)},equals_:function(xn,Un){return xn.fold(Me,function(Or){return Un(Te,Or)})}};return mn},ve=function(Te){return Te==null?mt:G(Te)},Ae=(x="function",function(Te){return function(qe){if(qe===null)return"null";var Rt=typeof qe;return Rt==="object"&&(Array.prototype.isPrototypeOf(qe)||qe.constructor&&qe.constructor.name==="Array")?"array":Rt==="object"&&(String.prototype.isPrototypeOf(qe)||qe.constructor&&qe.constructor.name==="String")?"string":Rt}(Te)===x}),Ke=function(Te,qe){for(var Rt=0,Kt=Te.length;Rt<Kt;Rt++)qe(Te[Rt],Rt)},vt=(Ae(Array.from)&&Array.from,function(Te){if(Te==null)throw new Error("Node cannot be null or undefined");return{dom:ee(Te)}}),Ie={fromHtml:function(Te,qe){var Rt=(qe||t.document).createElement("div");if(Rt.innerHTML=Te,!Rt.hasChildNodes()||1<Rt.childNodes.length)throw t.console.error("HTML does not have a single root node",Te),new Error("HTML must have a single root node");return vt(Rt.childNodes[0])},fromTag:function(Te,qe){var Rt=(qe||t.document).createElement(Te);return vt(Rt)},fromText:function(Te,qe){var Rt=(qe||t.document).createTextNode(Te);return vt(Rt)},fromDom:vt,fromPoint:function(Te,qe,Rt){var Kt=Te.dom();return ve(Kt.elementFromPoint(qe,Rt)).map(vt)}},Ce=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE,t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE,t.Node.TEXT_NODE),ut=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,typeof t.window!="undefined"?t.window:Function("return this;")(),function(Te){return Te.dom().nodeValue}),$e=(D=Ce,function(Te){return Te.dom().nodeType===D}),Je={"\xA0":"nbsp","\xAD":"shy"},Le=function(Te,qe){var Rt,Kt="";for(Rt in Te)Kt+=Rt;return new RegExp("["+Kt+"]",qe?"g":"")},J=function(Te){var qe,Rt="";for(qe in Te)Rt&&(Rt+=","),Rt+="span.mce-"+Te[qe];return Rt},Ge={charMap:Je,regExp:Le(Je),regExpGlobal:Le(Je,!0),selector:J(Je),charMapToRegExp:Le,charMapToSelector:J},Ze=function(Te){return'<span data-mce-bogus="1" class="mce-'+Ge.charMap[Te]+'">'+Te+"</span>"},Wt=function(Te,qe){var Rt=[],Kt=function(mn,xn){for(var Un=mn.length,Or=new Array(Un),Jn=0;Jn<Un;Jn++){var Jr=mn[Jn];Or[Jn]=xn(Jr,Jn)}return Or}(Te.dom().childNodes,Ie.fromDom);return Ke(Kt,function(mn){qe(mn)&&(Rt=Rt.concat([mn])),Rt=Rt.concat(Wt(mn,qe))}),Rt},fe={isMatch:function(Te){var qe=ut(Te);return $e(Te)&&qe!==void 0&&Ge.regExp.test(qe)},filterDescendants:Wt,findParentElm:function(Te,qe){for(;Te.parentNode;){if(Te.parentNode===qe)return Te;Te=Te.parentNode}},replaceWithSpans:function(Te){return Te.replace(Ge.regExpGlobal,Ze)}},jt=function(Te,qe){var Rt,Kt,mn=fe.filterDescendants(Ie.fromDom(qe),fe.isMatch);Ke(mn,function(xn){var Un=fe.replaceWithSpans(Te.dom.encode(ut(xn)));for(Kt=Te.dom.create("div",null,Un);Rt=Kt.lastChild;)Te.dom.insertAfter(Rt,xn.dom());Te.dom.remove(xn.dom())})},At=function(Te,qe){var Rt=Te.dom.select(Ge.selector,qe);Ke(Rt,function(Kt){Te.dom.remove(Kt,1)})},Vt=jt,qt=At,yn=function(Te){var qe=Te.getBody(),Rt=Te.selection.getBookmark(),Kt=fe.findParentElm(Te.selection.getNode(),qe);Kt=Kt!==void 0?Kt:qe,At(Te,Kt),jt(Te,Kt),Te.selection.moveToBookmark(Rt)},Yn=function(Te,qe){var Rt,Kt=Te.getBody(),mn=Te.selection;qe.set(!qe.get()),se(Te,qe.get()),Rt=mn.getBookmark(),qe.get()===!0?Vt(Te,Kt):qt(Te,Kt),mn.moveToBookmark(Rt)},Pn=function(Te,qe){Te.addCommand("mceVisualChars",function(){Yn(Te,qe)})},dr=tinymce.util.Tools.resolve("tinymce.util.Delay"),Zn=function(Te,qe){var Rt=dr.debounce(function(){yn(Te)},300);Te.settings.forced_root_block!==!1&&Te.on("keydown",function(Kt){qe.get()===!0&&(Kt.keyCode===13?yn(Te):Rt())})},Cr=function(Te){return Te.getParam("visualchars_default_state",!1)},er=function(Te,qe){Te.on("init",function(){var Rt=!Cr(Te);qe.set(Rt),Yn(Te,qe)})},Qt=function(Te){return function(qe){var Rt=qe.control;Te.on("VisualChars",function(Kt){Rt.active(Kt.state)})}};U.add("visualchars",function(Te){var qe,Rt=L(!1);return Pn(Te,Rt),(qe=Te).addButton("visualchars",{active:!1,title:"Show invisible characters",cmd:"mceVisualChars",onPostRender:Qt(qe)}),qe.addMenuItem("visualchars",{text:"Show invisible characters",cmd:"mceVisualChars",onPostRender:Qt(qe),selectable:!0,context:"view",prependToContext:!0}),Zn(Te,Rt),er(Te,Rt),X(Rt)})})(window);(function(){var t=function(De){var ze=De,mt=function(){return ze};return{get:mt,set:function(G){ze=G},clone:function(){return t(mt())}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(De,ze){De.fire("VisualBlocks",{state:ze})},l=function(De){return De.getParam("visualblocks_default_state",!1)},g=function(De){return De.settings.visualblocks_content_css},x=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),D=tinymce.util.Tools.resolve("tinymce.util.Tools"),L=x.DOM.uniqueId(),U=function(De,ze){var mt=D.toArray(De.getElementsByTagName("link"));if(D.grep(mt,function(ve){return ve.id===L}).length===0){var G=x.DOM.create("link",{id:L,rel:"stylesheet",href:ze});De.getElementsByTagName("head")[0].appendChild(G)}},X=function(De,ze,mt){var G=De.dom,ve=g(De);U(De.getDoc(),ve||ze+"/css/visualblocks.css"),G.toggleClass(De.getBody(),"mce-visualblocks"),mt.set(!mt.get()),a(De,mt.get())},se=function(De,ze,mt){De.addCommand("mceVisualBlocks",function(){X(De,ze,mt)})},re=function(De,ze,mt){De.on("PreviewFormats AfterPreviewFormats",function(G){mt.get()&&De.dom.toggleClass(De.getBody(),"mce-visualblocks",G.type==="afterpreviewformats")}),De.on("init",function(){l(De)&&X(De,ze,mt)}),De.on("remove",function(){De.dom.removeClass(De.getBody(),"mce-visualblocks")})},ee=function(De,ze){return function(mt){var G=mt.control;G.active(ze.get()),De.on("VisualBlocks",function(ve){G.active(ve.state)})}},Me=function(De,ze){De.addButton("visualblocks",{active:!1,title:"Show blocks",cmd:"mceVisualBlocks",onPostRender:ee(De,ze)}),De.addMenuItem("visualblocks",{text:"Show blocks",cmd:"mceVisualBlocks",onPostRender:ee(De,ze),selectable:!0,context:"view",prependToContext:!0})};r.add("visualblocks",function(De,ze){var mt=t(!1);se(De,ze,mt),Me(De,mt),re(De,ze,mt)})})();(function(t){var r,a,l,g,x,D=function(Te){var qe=Te,Rt=function(){return qe};return{get:Rt,set:function(Kt){qe=Kt},clone:function(){return D(Rt())}}},L=tinymce.util.Tools.resolve("tinymce.PluginManager"),U=function(){},X=function(Te){return function(){return Te}},se=X(!1),re=X(!0),ee=function(){return Me},Me=(r=function(Te){return Te.isNone()},g={fold:function(Te,qe){return Te()},is:se,isSome:se,isNone:re,getOr:l=function(Te){return Te},getOrThunk:a=function(Te){return Te()},getOrDie:function(Te){throw new Error(Te||"error: getOrDie called on none.")},getOrNull:X(null),getOrUndefined:X(void 0),or:l,orThunk:a,map:ee,each:U,bind:ee,exists:se,forall:re,filter:ee,equals:r,equals_:r,toArray:function(){return[]},toString:X("none()")},Object.freeze&&Object.freeze(g),g),De=function(Te){var qe=X(Te),Rt=function(){return mn},Kt=function(xn){return xn(Te)},mn={fold:function(xn,Un){return Un(Te)},is:function(xn){return Te===xn},isSome:re,isNone:se,getOr:qe,getOrThunk:qe,getOrDie:qe,getOrNull:qe,getOrUndefined:qe,or:Rt,orThunk:Rt,map:function(xn){return De(xn(Te))},each:function(xn){xn(Te)},bind:Kt,exists:Kt,forall:Kt,filter:function(xn){return xn(Te)?mn:Me},toArray:function(){return[Te]},toString:function(){return"some("+Te+")"},equals:function(xn){return xn.is(Te)},equals_:function(xn,Un){return xn.fold(se,function(Or){return Un(Te,Or)})}};return mn},ze={some:De,none:ee,from:function(Te){return Te==null?Me:De(Te)}},mt=(x="function",function(Te){return function(qe){if(qe===null)return"null";var Rt=typeof qe;return Rt==="object"&&(Array.prototype.isPrototypeOf(qe)||qe.constructor&&qe.constructor.name==="Array")?"array":Rt==="object"&&(String.prototype.isPrototypeOf(qe)||qe.constructor&&qe.constructor.name==="String")?"string":Rt}(Te)===x}),G=Array.prototype.slice,ve=function(Te,qe){for(var Rt=[],Kt=0,mn=Te.length;Kt<mn;Kt++){var xn=Te[Kt];qe(xn,Kt)&&Rt.push(xn)}return Rt},Ae=(mt(Array.from)&&Array.from,Object.hasOwnProperty),Ke=function(Te,qe){return Ae.call(Te,qe)},vt=function(Te){return Ke(Te,"start")&&Ke(Te,"end")},Ie=function(Te){return!Ke(Te,"end")&&!Ke(Te,"replacement")},Ce=function(Te){return Ke(Te,"replacement")},ut=function(Te){return qe=Te,Rt=function(mn,xn){return mn.start.length===xn.start.length?0:mn.start.length>xn.start.length?-1:1},(Kt=G.call(qe,0)).sort(Rt),Kt;var qe,Rt,Kt},$e=function(Te){return{inlinePatterns:ut(ve(Te,vt)),blockPatterns:ut(ve(Te,Ie)),replacementPatterns:ve(Te,Ce)}},Je=function(Te){return{setPatterns:function(qe){Te.set($e(qe))},getPatterns:function(){return function(){for(var qe=0,Rt=0,Kt=arguments.length;Rt<Kt;Rt++)qe+=arguments[Rt].length;var mn=Array(qe),xn=0;for(Rt=0;Rt<Kt;Rt++)for(var Un=arguments[Rt],Or=0,Jn=Un.length;Or<Jn;Or++,xn++)mn[xn]=Un[Or];return mn}(Te.get().inlinePatterns,Te.get().blockPatterns,Te.get().replacementPatterns)}}},Le=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"***",end:"***",format:["bold","italic"]},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],J=function(Te){var qe,Rt,Kt=(qe=Te,Rt="textpattern_patterns",Ke(qe,Rt)?ze.from(qe[Rt]):ze.none()).getOr(Le);return $e(Kt)},Ge=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ze=tinymce.util.Tools.resolve("tinymce.util.VK"),Wt=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),fe=tinymce.util.Tools.resolve("tinymce.util.Tools"),jt=function(Te,qe){for(var Rt=0;Rt<Te.length;Rt++){var Kt=Te[Rt];if(qe.indexOf(Kt.start)===0&&(!Kt.end||qe.lastIndexOf(Kt.end)===qe.length-Kt.end.length))return Kt}},At=function(Te,qe,Rt){if(qe.collapsed!==!1){var Kt=qe.startContainer,mn=Kt.data,xn=Rt===!0?1:0;if(Kt.nodeType===3){var Un=function(eo,Ao,qr,it){var Fn,Wn,Tn,or,Kr,Dn;for(Wn=0;Wn<eo.length;Wn++)if((Fn=eo[Wn]).end!==void 0&&(or=Fn,Kr=qr,Dn=it,Ao.substr(Kr-or.end.length-Dn,or.end.length)===or.end)&&0<qr-it-(Tn=Fn).end.length-Tn.start.length)return Fn}(Te,mn,qe.startOffset,xn);if(Un!==void 0){var Or=mn.lastIndexOf(Un.end,qe.startOffset-xn),Jn=mn.lastIndexOf(Un.start,Or-Un.end.length);if(Or=mn.indexOf(Un.end,Jn+Un.start.length),Jn!==-1){var Jr=t.document.createRange();Jr.setStart(Kt,Jn),Jr.setEnd(Kt,Or+Un.end.length);var co=jt(Te,Jr.toString());if(!(Un===void 0||co!==Un||Kt.data.length<=Un.start.length+Un.end.length))return{pattern:Un,startOffset:Jn,endOffset:Or}}}}}},Vt=function(Te){return Te&&Te.nodeType===3},qt=function(Te,qe,Rt){var Kt=Te.dom.createRng();Kt.setStart(qe,Rt),Kt.setEnd(qe,Rt),Te.selection.setRng(Kt)},yn=function(Te,qe,Rt){var Kt=Te.selection.getRng();return ze.from(At(qe,Kt,Rt)).map(function(mn){return function(xn,Un,Or,Jn){var Jr=fe.isArray(Or.pattern.format)?Or.pattern.format:[Or.pattern.format];if(fe.grep(Jr,function(co){var eo=xn.formatter.get(co);return eo&&eo[0].inline}).length!==0)return xn.undoManager.transact(function(){var co,eo,Ao,qr;co=Un,eo=Or.pattern,Ao=Or.endOffset,qr=Or.startOffset,(co=0<qr?co.splitText(qr):co).splitText(Ao-qr+eo.end.length),co.deleteData(0,eo.start.length),co.deleteData(co.data.length-eo.end.length,eo.end.length),Un=co,Jn&&xn.selection.setCursorLocation(Un.nextSibling,1),Jr.forEach(function(it){xn.formatter.apply(it,{},Un)})}),Un}(Te,Kt.startContainer,mn,Rt)})},Yn=function(Te,qe,Rt){var Kt=Te.selection.getRng(),mn=Kt.startContainer;Kt.collapsed&&Vt(mn)&&function(xn,Un,Or){for(var Jn=0;Jn<xn.length;Jn++){var Jr=Or.lastIndexOf(xn[Jn].start,Un);if(Jr!==-1)return ze.some({pattern:xn[Jn],startOffset:Jr})}return ze.none()}(qe,Kt.startOffset,mn.data).each(function(xn){var Un,Or,Jn,Jr,co,eo,Ao,qr=Rt?ze.some((Un=mn,Jn=(Or=xn).startOffset+Or.pattern.start.length,Jr=Un.data.slice(Jn,Jn+1),Un.deleteData(Jn,1),Jr)):ze.none();co=Te,Ao=xn,(eo=mn).deleteData(Ao.startOffset,Ao.pattern.start.length),co.insertContent(Ao.pattern.replacement),ze.from(eo.nextSibling).filter(Vt).each(function(it){it.insertData(0,eo.data),co.dom.remove(eo)}),qr.each(function(it){return function(Fn,Wn){var Tn=Fn.selection.getRng(),or=Tn.startContainer;if(Vt(or)){var Kr=Tn.startOffset;or.insertData(Kr,Wn),qt(Fn,or,Kr+Wn.length)}else{var Dn=Fn.dom.doc.createTextNode(Wn);Tn.insertNode(Dn),qt(Fn,Dn,Dn.length)}}(Te,it)})})},Pn=function(Te,qe,Rt){for(var Kt=0;Kt<Te.length;Kt++)if(Rt(Te[Kt],qe))return!0},dr=function(Te,qe){var Rt,Kt,mn,xn;Rt=Te,Kt=qe.replacementPatterns,Yn(Rt,Kt,!1),mn=Te,xn=qe.inlinePatterns,yn(mn,xn,!1).each(function(Un){qt(mn,Un,Un.data.length)}),function(Un,Or){var Jn,Jr,co,eo,Ao,qr,it,Fn,Wn,Tn,or;if(Jn=Un.selection,Jr=Un.dom,Jn.isCollapsed()&&(it=Jr.getParent(Jn.getStart(),"p"))){for(Wn=new Wt(it,it);Ao=Wn.next();)if(Vt(Ao)){eo=Ao;break}if(eo){if(!(Fn=jt(Or,eo.data))||(co=(Tn=Jn.getRng(!0)).startContainer,or=Tn.startOffset,eo===co&&(or=Math.max(0,or-Fn.start.length)),fe.trim(eo.data).length===Fn.start.length))return;Fn.format&&(qr=Un.formatter.get(Fn.format))&&qr[0].block&&(eo.deleteData(0,Fn.start.length),Un.formatter.apply(Fn.format,{},eo),Tn.setStart(co,or),Tn.collapse(!0),Jn.setRng(Tn)),Fn.cmd&&Un.undoManager.transact(function(){eo.deleteData(0,Fn.start.length),Un.execCommand(Fn.cmd)})}}}(Te,qe.blockPatterns)},Zn=function(Te,qe){var Rt,Kt,mn,xn;Rt=Te,Kt=qe.replacementPatterns,Yn(Rt,Kt,!0),mn=Te,xn=qe.inlinePatterns,yn(mn,xn,!0).each(function(Un){var Or=Un.data.slice(-1);if(/[\u00a0 ]/.test(Or)){Un.deleteData(Un.data.length-1,1);var Jn=mn.dom.doc.createTextNode(Or);mn.dom.insertAfter(Jn,Un.parentNode),qt(mn,Jn,1)}})},Cr=function(Te,qe){return Pn(Te,qe,function(Rt,Kt){return Rt.charCodeAt(0)===Kt.charCode})},er=function(Te,qe){return Pn(Te,qe,function(Rt,Kt){return Rt===Kt.keyCode&&Ze.modifierPressed(Kt)===!1})},Qt=function(Te,qe){var Rt=[",",".",";",":","!","?"],Kt=[32];Te.on("keydown",function(mn){mn.keyCode!==13||Ze.modifierPressed(mn)||dr(Te,qe.get())},!0),Te.on("keyup",function(mn){er(Kt,mn)&&Zn(Te,qe.get())}),Te.on("keypress",function(mn){Cr(Rt,mn)&&Ge.setEditorTimeout(Te,function(){Zn(Te,qe.get())})})};L.add("textpattern",function(Te){var qe=D(J(Te.settings));return Qt(Te,qe),Je(qe)})})(window);(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(J,Ge){var Ze;return J.dom.getParents(J.selection.getStart(),function(Wt){var fe;(fe=Wt.style[Ge==="forecolor"?"color":"background-color"])&&(Ze=Ze||fe)}),Ze},a=function(J){var Ge,Ze=[];for(Ge=0;Ge<J.length;Ge+=2)Ze.push({text:J[Ge+1],color:"#"+J[Ge]});return Ze},l=function(J,Ge,Ze){J.undoManager.transact(function(){J.focus(),J.formatter.apply(Ge,{value:Ze}),J.nodeChanged()})},g=function(J,Ge){J.undoManager.transact(function(){J.focus(),J.formatter.remove(Ge,{value:null},null,!0),J.nodeChanged()})},x=function(J){J.addCommand("mceApplyTextcolor",function(Ge,Ze){l(J,Ge,Ze)}),J.addCommand("mceRemoveTextcolor",function(Ge){g(J,Ge)})},D=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),L=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],X=function(J){return J.getParam("textcolor_map",U)},se=function(J){return J.getParam("textcolor_rows",5)},re=function(J){return J.getParam("textcolor_cols",8)},ee=function(J){return J.getParam("color_picker_callback",null)},Me=function(J){return J.getParam("forecolor_map",X(J))},De=function(J){return J.getParam("backcolor_map",X(J))},ze=function(J){return J.getParam("forecolor_rows",se(J))},mt=function(J){return J.getParam("backcolor_rows",se(J))},G=function(J){return J.getParam("forecolor_cols",re(J))},ve=function(J){return J.getParam("backcolor_cols",re(J))},Ae=ee,Ke=function(J){return typeof ee(J)=="function"},vt=tinymce.util.Tools.resolve("tinymce.util.I18n"),Ie=function(J,Ge,Ze,Wt){var fe,jt,At,Vt,qt,yn,Yn,Pn=0,dr=D.DOM.uniqueId("mcearia"),Zn=function(Cr,er){var Qt=Cr==="transparent";return'<td class="mce-grid-cell'+(Qt?" mce-colorbtn-trans":"")+'"><div id="'+dr+"-"+Pn+++'" data-mce-color="'+(Cr||"")+'" role="option" tabIndex="-1" style="'+(Cr?"background-color: "+Cr:"")+'" title="'+vt.translate(er)+'">'+(Qt?"&#215;":"")+"</div></td>"};for((fe=a(Ze)).push({text:vt.translate("No color"),color:"transparent"}),At='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',Vt=fe.length-1,yn=0;yn<Ge;yn++){for(At+="<tr>",qt=0;qt<J;qt++)At+=Vt<(Yn=yn*J+qt)?"<td></td>":Zn((jt=fe[Yn]).color,jt.text);At+="</tr>"}if(Wt){for(At+='<tr><td colspan="'+J+'" class="mce-custom-color-btn"><div id="'+dr+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+dr+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+vt.translate("Custom...")+"</button></div></td></tr>",At+="<tr>",qt=0;qt<J;qt++)At+=Zn("","Custom color");At+="</tr>"}return At+="</tbody></table>"},Ce=function(J,Ge){J.style.background=Ge,J.setAttribute("data-mce-color",Ge)},ut=function(J){return function(Ge){var Ze=Ge.control;Ze._color?J.execCommand("mceApplyTextcolor",Ze.settings.format,Ze._color):J.execCommand("mceRemoveTextcolor",Ze.settings.format)}},$e=function(J,Ge){return function(Ze){var Wt,fe=this.parent(),jt=r(J,fe.settings.format),At=function(Vt){J.execCommand("mceApplyTextcolor",fe.settings.format,Vt),fe.hidePanel(),fe.color(Vt)};D.DOM.getParent(Ze.target,".mce-custom-color-btn")&&(fe.hidePanel(),Ae(J).call(J,function(Vt){var qt,yn,Yn,Pn=fe.panel.getEl().getElementsByTagName("table")[0];for(qt=L.map(Pn.rows[Pn.rows.length-1].childNodes,function(dr){return dr.firstChild}),Yn=0;Yn<qt.length&&(yn=qt[Yn]).getAttribute("data-mce-color");Yn++);if(Yn===Ge)for(Yn=0;Yn<Ge-1;Yn++)Ce(qt[Yn],qt[Yn+1].getAttribute("data-mce-color"));Ce(yn,Vt),At(Vt)},jt)),(Wt=Ze.target.getAttribute("data-mce-color"))?(this.lastId&&D.DOM.get(this.lastId).setAttribute("aria-selected","false"),Ze.target.setAttribute("aria-selected",!0),this.lastId=Ze.target.id,Wt==="transparent"?(J.execCommand("mceRemoveTextcolor",fe.settings.format),fe.hidePanel(),fe.resetColor()):At(Wt)):Wt!==null&&fe.hidePanel()}},Je=function(J,Ge){return function(){var Ze=Ge?G(J):ve(J),Wt=Ge?ze(J):mt(J),fe=Ge?Me(J):De(J),jt=Ke(J);return Ie(Ze,Wt,fe,jt)}},Le=function(J){J.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:Je(J,!0),onclick:$e(J,G(J))},onclick:ut(J)}),J.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:Je(J,!1),onclick:$e(J,ve(J))},onclick:ut(J)})};t.add("textcolor",function(J){x(J),Le(J)})})();(function(t){var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(){},l=function(d,y){return function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];return d(y.apply(null,E))}},g=function(d){return function(){return d}},x=function(d){return d};function D(d){for(var y=[],E=1;E<arguments.length;E++)y[E-1]=arguments[E];return function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];var z=y.concat(R);return d.apply(null,z)}}var L,U,X,se,re=function(d){return function(){for(var y=[],E=0;E<arguments.length;E++)y[E]=arguments[E];return!d.apply(null,y)}},ee=g(!1),Me=g(!0),De=function(){return ze},ze=(L=function(d){return d.isNone()},se={fold:function(d,y){return d()},is:ee,isSome:ee,isNone:Me,getOr:X=function(d){return d},getOrThunk:U=function(d){return d()},getOrDie:function(d){throw new Error(d||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:X,orThunk:U,map:De,each:a,bind:De,exists:ee,forall:Me,filter:De,equals:L,equals_:L,toArray:function(){return[]},toString:g("none()")},Object.freeze&&Object.freeze(se),se),mt=function(d){var y=g(d),E=function(){return B},R=function(z){return z(d)},B={fold:function(z,K){return K(d)},is:function(z){return d===z},isSome:Me,isNone:ee,getOr:y,getOrThunk:y,getOrDie:y,getOrNull:y,getOrUndefined:y,or:E,orThunk:E,map:function(z){return mt(z(d))},each:function(z){z(d)},bind:R,exists:R,forall:R,filter:function(z){return z(d)?B:ze},toArray:function(){return[d]},toString:function(){return"some("+d+")"},equals:function(z){return z.is(d)},equals_:function(z,K){return z.fold(ee,function(ie){return K(d,ie)})}};return B},G={some:mt,none:De,from:function(d){return d==null?ze:mt(d)}},ve=function(d){return function(y){return function(E){if(E===null)return"null";var R=typeof E;return R==="object"&&(Array.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="Array")?"array":R==="object"&&(String.prototype.isPrototypeOf(E)||E.constructor&&E.constructor.name==="String")?"string":R}(y)===d}},Ae=ve("string"),Ke=ve("array"),vt=ve("boolean"),Ie=ve("function"),Ce=ve("number"),ut=Array.prototype.slice,$e=Array.prototype.indexOf,Je=Array.prototype.push,Le=function(d,y){return E=d,R=y,-1<$e.call(E,R);var E,R},J=function(d,y){for(var E=0,R=d.length;E<R;E++)if(y(d[E],E))return!0;return!1},Ge=function(d,y){for(var E=d.length,R=new Array(E),B=0;B<E;B++){var z=d[B];R[B]=y(z,B)}return R},Ze=function(d,y){for(var E=0,R=d.length;E<R;E++)y(d[E],E)},Wt=function(d,y){for(var E=[],R=0,B=d.length;R<B;R++){var z=d[R];y(z,R)&&E.push(z)}return E},fe=function(d,y,E){return function(R,B){for(var z=R.length-1;0<=z;z--)B(R[z],z)}(d,function(R){E=y(E,R)}),E},jt=function(d,y,E){return Ze(d,function(R){E=y(E,R)}),E},At=function(d,y){for(var E=0,R=d.length;E<R;E++){var B=d[E];if(y(B,E))return G.some(B)}return G.none()},Vt=function(d,y){for(var E=0,R=d.length;E<R;E++)if(y(d[E],E))return G.some(E);return G.none()},qt=function(d){for(var y=[],E=0,R=d.length;E<R;++E){if(!Ke(d[E]))throw new Error("Arr.flatten item "+E+" was not an array, input: "+d);Je.apply(y,d[E])}return y},yn=function(d,y){var E=Ge(d,y);return qt(E)},Yn=function(d,y){for(var E=0,R=d.length;E<R;++E)if(y(d[E],E)!==!0)return!1;return!0},Pn=function(d){var y=ut.call(d,0);return y.reverse(),y},dr=(Ie(Array.from)&&Array.from,Object.keys),Zn=function(d,y){for(var E=dr(d),R=0,B=E.length;R<B;R++){var z=E[R];y(d[z],z)}},Cr=function(d,y){return er(d,function(E,R){return{k:R,v:y(E,R)}})},er=function(d,y){var E={};return Zn(d,function(R,B){var z=y(R,B);E[z.k]=z.v}),E},Qt=function(){for(var d=[],y=0;y<arguments.length;y++)d[y]=arguments[y];return function(){for(var E=[],R=0;R<arguments.length;R++)E[R]=arguments[R];if(d.length!==E.length)throw new Error('Wrong number of arguments to struct. Expected "['+d.length+']", got '+E.length+" arguments");var B={};return Ze(d,function(z,K){B[z]=g(E[K])}),B}},Te=function(d){return d.slice(0).sort()},qe=function(d,y){throw new Error("All required keys ("+Te(d).join(", ")+") were not specified. Specified keys were: "+Te(y).join(", ")+".")},Rt=function(d){throw new Error("Unsupported keys for object: "+Te(d).join(", "))},Kt=function(d,y){if(!Ke(y))throw new Error("The "+d+" fields must be an array. Was: "+y+".");Ze(y,function(E){if(!Ae(E))throw new Error("The value "+E+" in the "+d+" fields was not a string.")})},mn=function(d){var y=Te(d);At(y,function(E,R){return R<y.length-1&&E===y[R+1]}).each(function(E){throw new Error("The field: "+E+" occurs more than once in the combined fields: ["+y.join(", ")+"].")})},xn=function(d,y){var E=d.concat(y);if(E.length===0)throw new Error("You must specify at least one required or optional field.");return Kt("required",d),Kt("optional",y),mn(E),function(R){var B=dr(R);Yn(d,function(ie){return Le(B,ie)})||qe(d,B);var z=Wt(B,function(ie){return!Le(E,ie)});0<z.length&&Rt(z);var K={};return Ze(d,function(ie){K[ie]=g(R[ie])}),Ze(y,function(ie){K[ie]=g(Object.prototype.hasOwnProperty.call(R,ie)?G.some(R[ie]):G.none())}),K}},Un=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE),Or=t.Node.DOCUMENT_NODE,Jn=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),Jr=t.Node.TEXT_NODE,co=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,typeof t.window!="undefined"?t.window:Function("return this;")()),eo=function(d,y){return function(E,R){for(var B=R!=null?R:co,z=0;z<E.length&&B!==void 0&&B!==null;++z)B=B[E[z]];return B}(d.split("."),y)},Ao=function(d,y){var E=eo(d,y);if(E==null)throw new Error(d+" not available on this browser");return E},qr=function(d){return d.dom().nodeName.toLowerCase()},it=function(d){return d.dom().nodeType},Fn=function(d){return function(y){return it(y)===d}},Wn=function(d){return it(d)===Un||qr(d)==="#comment"},Tn=Fn(Jn),or=Fn(Jr),Kr=function(d,y,E){if(!(Ae(E)||vt(E)||Ce(E)))throw t.console.error("Invalid call to Attr.set. Key ",y,":: Value ",E,":: Element ",d),new Error("Attribute value was not simple");d.setAttribute(y,E+"")},Dn=function(d,y,E){Kr(d.dom(),y,E)},yo=function(d,y){var E=d.dom();Zn(y,function(R,B){Kr(E,B,R)})},Ho=function(d,y){var E=d.dom().getAttribute(y);return E===null?void 0:E},Wo=function(d,y){var E=d.dom();return!(!E||!E.hasAttribute)&&E.hasAttribute(y)},Xo=function(d,y){d.dom().removeAttribute(y)},Qr=function(d){return jt(d.dom().attributes,function(y,E){return y[E.name]=E.value,y},{})},kr=function(d,y){return d.indexOf(y)!==-1},sn=function(d){return d.style!==void 0&&Ie(d.style.getPropertyValue)},qo=function(d){var y,E=!1;return function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];return E||(E=!0,y=d.apply(null,R)),y}},wr=function(d){if(d==null)throw new Error("Node cannot be null or undefined");return{dom:g(d)}},Bn={fromHtml:function(d,y){var E=(y||t.document).createElement("div");if(E.innerHTML=d,!E.hasChildNodes()||1<E.childNodes.length)throw t.console.error("HTML does not have a single root node",d),new Error("HTML must have a single root node");return wr(E.childNodes[0])},fromTag:function(d,y){var E=(y||t.document).createElement(d);return wr(E)},fromText:function(d,y){var E=(y||t.document).createTextNode(d);return wr(E)},fromDom:wr,fromPoint:function(d,y,E){var R=d.dom();return G.from(R.elementFromPoint(y,E)).map(wr)}},Zo=function(d){var y=or(d)?d.dom().parentNode:d.dom();return y!=null&&y.ownerDocument.body.contains(y)},Xe=qo(function(){return zt(Bn.fromDom(t.document))}),zt=function(d){var y=d.dom().body;if(y==null)throw new Error("Body is not available yet");return Bn.fromDom(y)},xt=function(d,y,E){if(!Ae(E))throw t.console.error("Invalid call to CSS.set. Property ",y,":: Value ",E,":: Element ",d),new Error("CSS value must be a string: "+E);sn(d)&&d.style.setProperty(y,E)},Jt=function(d,y,E){var R=d.dom();xt(R,y,E)},kt=function(d,y){var E=d.dom();Zn(y,function(R,B){xt(E,B,R)})},yt=function(d,y){var E=d.dom(),R=t.window.getComputedStyle(E).getPropertyValue(y),B=R!==""||Zo(d)?R:lr(E,y);return B===null?void 0:B},lr=function(d,y){return sn(d)?d.style.getPropertyValue(y):""},mr=function(d,y){var E=d.dom(),R=lr(E,y);return G.from(R).filter(function(B){return 0<B.length})},Ur=function(d,y){var E,R,B=d.dom();R=y,sn(E=B)&&E.style.removeProperty(R),Wo(d,"style")&&Ho(d,"style").replace(/^\s+|\s+$/g,"")===""&&Xo(d,"style")},uo=function(){return Ao("Node")},Eo=function(d,y,E){return(d.compareDocumentPosition(y)&E)!=0},Vr=function(d,y){return Eo(d,y,uo().DOCUMENT_POSITION_CONTAINED_BY)},lo=function(d,y){var E=function(B,z){for(var K=0;K<B.length;K++){var ie=B[K];if(ie.test(z))return ie}}(d,y);if(!E)return{major:0,minor:0};var R=function(B){return Number(y.replace(E,"$"+B))};return ai(R(1),R(2))},Mo=function(){return ai(0,0)},ai=function(d,y){return{major:d,minor:y}},Ee={nu:ai,detect:function(d,y){var E=String(y).toLowerCase();return d.length===0?Mo():lo(d,E)},unknown:Mo},gt="Firefox",Pt=function(d,y){return function(){return y===d}},tn=function(d){var y=d.current;return{current:y,version:d.version,isEdge:Pt("Edge",y),isChrome:Pt("Chrome",y),isIE:Pt("IE",y),isOpera:Pt("Opera",y),isFirefox:Pt(gt,y),isSafari:Pt("Safari",y)}},bn={unknown:function(){return tn({current:void 0,version:Ee.unknown()})},nu:tn,edge:g("Edge"),chrome:g("Chrome"),ie:g("IE"),opera:g("Opera"),firefox:g(gt),safari:g("Safari")},ir="Windows",Cn="Android",$r="Solaris",To="FreeBSD",ui=function(d,y){return function(){return y===d}},Pi=function(d){var y=d.current;return{current:y,version:d.version,isWindows:ui(ir,y),isiOS:ui("iOS",y),isAndroid:ui(Cn,y),isOSX:ui("OSX",y),isLinux:ui("Linux",y),isSolaris:ui($r,y),isFreeBSD:ui(To,y)}},ci={unknown:function(){return Pi({current:void 0,version:Ee.unknown()})},nu:Pi,windows:g(ir),ios:g("iOS"),android:g(Cn),linux:g("Linux"),osx:g("OSX"),solaris:g($r),freebsd:g(To)},Xi=function(d,y){var E=String(y).toLowerCase();return At(d,function(R){return R.search(E)})},Ui=function(d,y){return Xi(d,y).map(function(E){var R=Ee.detect(E.versionRegexes,y);return{current:E.name,version:R}})},ma=function(d,y){return Xi(d,y).map(function(E){var R=Ee.detect(E.versionRegexes,y);return{current:E.name,version:R}})},Ya=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,si=function(d){return function(y){return kr(y,d)}},Fa=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(d){return kr(d,"edge/")&&kr(d,"chrome")&&kr(d,"safari")&&kr(d,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ya],search:function(d){return kr(d,"chrome")&&!kr(d,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(d){return kr(d,"msie")||kr(d,"trident")}},{name:"Opera",versionRegexes:[Ya,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:si("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:si("firefox")},{name:"Safari",versionRegexes:[Ya,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(d){return(kr(d,"safari")||kr(d,"mobile/"))&&kr(d,"applewebkit")}}],pu=[{name:"Windows",search:si("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(d){return kr(d,"iphone")||kr(d,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:si("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:si("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:si("linux"),versionRegexes:[]},{name:"Solaris",search:si("sunos"),versionRegexes:[]},{name:"FreeBSD",search:si("freebsd"),versionRegexes:[]}],di={browsers:g(Fa),oses:g(pu)},Ha=function(d){var y,E,R,B,z,K,ie,we,Ve,pt,Yt,en=di.browsers(),Ht=di.oses(),Nt=Ui(en,d).fold(bn.unknown,bn.nu),jn=ma(Ht,d).fold(ci.unknown,ci.nu);return{browser:Nt,os:jn,deviceType:(E=Nt,R=d,B=(y=jn).isiOS()&&/ipad/i.test(R)===!0,z=y.isiOS()&&!B,K=y.isAndroid()&&y.version.major===3,ie=y.isAndroid()&&y.version.major===4,we=B||K||ie&&/mobile/i.test(R)===!0,Ve=y.isiOS()||y.isAndroid(),pt=Ve&&!we,Yt=E.isSafari()&&y.isiOS()&&/safari/i.test(R)===!1,{isiPad:g(B),isiPhone:g(z),isTablet:g(we),isPhone:g(pt),isTouch:g(Ve),isAndroid:y.isAndroid,isiOS:y.isiOS,isWebView:g(Yt)})}},oe={detect:qo(function(){var d=t.navigator.userAgent;return Ha(d)})},Fe=Jn,ft=Or,dt=function(d,y){var E=d.dom();if(E.nodeType!==Fe)return!1;var R=E;if(R.matches!==void 0)return R.matches(y);if(R.msMatchesSelector!==void 0)return R.msMatchesSelector(y);if(R.webkitMatchesSelector!==void 0)return R.webkitMatchesSelector(y);if(R.mozMatchesSelector!==void 0)return R.mozMatchesSelector(y);throw new Error("Browser lacks native selectors")},Ft=function(d){return d.nodeType!==Fe&&d.nodeType!==ft||d.childElementCount===0},Bt=function(d,y){return d.dom()===y.dom()},ur=oe.detect().browser.isIE()?function(d,y){return Vr(d.dom(),y.dom())}:function(d,y){var E=d.dom(),R=y.dom();return E!==R&&E.contains(R)},Zt=dt,Hn=function(d){return Bn.fromDom(d.dom().ownerDocument)},Kn=function(d){return G.from(d.dom().parentNode).map(Bn.fromDom)},_n=function(d,y){for(var E=Ie(y)?y:ee,R=d.dom(),B=[];R.parentNode!==null&&R.parentNode!==void 0;){var z=R.parentNode,K=Bn.fromDom(z);if(B.push(K),E(K)===!0)break;R=z}return B},gn=function(d){return G.from(d.dom().previousSibling).map(Bn.fromDom)},zn=function(d){return G.from(d.dom().nextSibling).map(Bn.fromDom)},Qn=function(d){return Ge(d.dom().childNodes,Bn.fromDom)},Nn=function(d,y){var E=d.dom().childNodes;return G.from(E[y]).map(Bn.fromDom)},xr=(Qt("element","offset"),function(d,y){Kn(d).each(function(E){E.dom().insertBefore(y.dom(),d.dom())})}),Hr=function(d,y){zn(d).fold(function(){Kn(d).each(function(E){Er(E,y)})},function(E){xr(E,y)})},Yr=function(d,y){Nn(d,0).fold(function(){Er(d,y)},function(E){d.dom().insertBefore(y.dom(),E.dom())})},Er=function(d,y){d.dom().appendChild(y.dom())},ei=function(d,y){xr(d,y),Er(y,d)},fo=function(d,y){Ze(y,function(E,R){var B=R===0?d:y[R-1];Hr(B,E)})},$i=function(d,y){Ze(y,function(E){Er(d,E)})},ye=function(d){d.dom().textContent="",Ze(Qn(d),function(y){Re(y)})},Re=function(d){var y=d.dom();y.parentNode!==null&&y.parentNode.removeChild(y)},tt=function(d){var y,E=Qn(d);0<E.length&&(y=d,Ze(E,function(R){xr(y,R)})),Re(d)},bt=(Qt("width","height"),Qt("width","height"),Qt("rows","columns")),Ot=Qt("row","column"),Dt=(Qt("x","y"),Qt("element","rowspan","colspan")),cn=Qt("element","rowspan","colspan","isNew"),On=Qt("element","rowspan","colspan","row","column"),sr=Qt("element","cells","section"),$n=Qt("element","isNew"),An=Qt("element","cells","section","isNew"),hr=Qt("cells","section"),yr=Qt("details","section"),_r=Qt("startRow","startCol","finishRow","finishCol"),Sr=function(d,y){var E=[];return Ze(Qn(d),function(R){y(R)&&(E=E.concat([R])),E=E.concat(Sr(R,y))}),E},bo=function(d,y,E){return R=function(B){return dt(B,y)},Wt(_n(d,E),R);var R},Mr=function(d,y){return E=function(R){return dt(R,y)},Wt(Qn(d),E);var E},Ro=function(d,y){return E=y,B=(R=d)===void 0?t.document:R.dom(),Ft(B)?[]:Ge(B.querySelectorAll(E),Bn.fromDom);var E,R,B};function Di(d,y,E,R,B){return d(E,R)?G.some(E):Ie(B)&&B(E)?G.none():y(E,R,B)}var Go,ar,st,xo=function(d,y,E){for(var R=d.dom(),B=Ie(E)?E:g(!1);R.parentNode;){R=R.parentNode;var z=Bn.fromDom(R);if(y(z))return G.some(z);if(B(z))break}return G.none()},mo=function(d,y,E){return xo(d,function(R){return dt(R,y)},E)},no=function(d,y){return E=function(R){return dt(R,y)},At(d.dom().childNodes,function(R){return E(Bn.fromDom(R))}).map(Bn.fromDom);var E},Vo=function(d,y){return E=y,B=(R=d)===void 0?t.document:R.dom(),Ft(B)?G.none():G.from(B.querySelector(E)).map(Bn.fromDom);var E,R,B},Oo=function(d,y,E){return Di(dt,mo,d,y,E)},mi=function(d,y,E){return yn(Qn(d),function(R){return dt(R,y)?E(R)?[R]:[]:mi(R,y,E)})},Uo={firstLayer:function(d,y){return mi(d,y,g(!0))},filterFirstLayer:mi},ra=function(d,y,E){return E===void 0&&(E=ee),E(y)?G.none():Le(d,qr(y))?G.some(y):mo(y,d.join(","),function(R){return dt(R,"table")||E(R)})},_a=function(d,y){return Kn(y).map(function(E){return Mr(E,d)})},Ni=D(_a,"th,td"),oa=D(_a,"tr"),ga=function(d,y){return parseInt(Ho(d,y),10)},vi={cell:function(d,y){return ra(["td","th"],d,y)},firstCell:function(d){return Vo(d,"th,td")},cells:function(d){return Uo.firstLayer(d,"th,td")},neighbourCells:Ni,table:function(d,y){return Oo(d,"table",y)},row:function(d,y){return ra(["tr"],d,y)},rows:function(d){return Uo.firstLayer(d,"tr")},notCell:function(d,y){return ra(["caption","tr","tbody","tfoot","thead"],d,y)},neighbourRows:oa,attr:ga,grid:function(d,y,E){var R=ga(d,y),B=ga(d,E);return bt(R,B)}},Si=function(d){var y=vi.rows(d);return Ge(y,function(E){var R=E,B=Kn(R).map(function(K){var ie=qr(K);return ie==="tfoot"||ie==="thead"||ie==="tbody"?ie:"tbody"}).getOr("tbody"),z=Ge(vi.cells(E),function(K){var ie=Wo(K,"rowspan")?parseInt(Ho(K,"rowspan"),10):1,we=Wo(K,"colspan")?parseInt(Ho(K,"colspan"),10):1;return Dt(K,ie,we)});return sr(R,z,B)})},Ka=function(d,y){return Ge(d,function(E){var R=Ge(vi.cells(E),function(B){var z=Wo(B,"rowspan")?parseInt(Ho(B,"rowspan"),10):1,K=Wo(B,"colspan")?parseInt(Ho(B,"colspan"),10):1;return Dt(B,z,K)});return sr(E,R,y.section())})},Gi=function(d,y){return d+","+y},ki=function(d,y){var E=yn(d.all(),function(R){return R.cells()});return Wt(E,y)},ti={generate:function(d){var y={},E=[],R=d.length,B=0;Ze(d,function(K,ie){var we=[];Ze(K.cells(),function(Ve){for(var pt=0;y[Gi(ie,pt)]!==void 0;)pt++;for(var Yt=On(Ve.element(),Ve.rowspan(),Ve.colspan(),ie,pt),en=0;en<Ve.colspan();en++)for(var Ht=0;Ht<Ve.rowspan();Ht++){var Nt=pt+en,jn=Gi(ie+Ht,Nt);y[jn]=Yt,B=Math.max(B,Nt+1)}we.push(Yt)}),E.push(sr(K.element(),we,K.section()))});var z=bt(R,B);return{grid:g(z),access:g(y),all:g(E)}},getAt:function(d,y,E){var R=d.access()[Gi(y,E)];return R!==void 0?G.some(R):G.none()},findItem:function(d,y,E){var R=ki(d,function(B){return E(y,B.element())});return 0<R.length?G.some(R[0]):G.none()},filterItems:ki,justCells:function(d){var y=Ge(d.all(),function(E){return E.cells()});return qt(y)}},br=Qt("minRow","minCol","maxRow","maxCol"),gu=function(d,y){var E,R,B,z,K,ie,we,Ve,pt,Yt,en=function(po){return dt(po.element(),y)},Ht=Si(d),Nt=ti.generate(Ht),jn=(R=en,B=(E=Nt).grid().columns(),z=E.grid().rows(),K=B,we=ie=0,Zn(E.access(),function(po){if(R(po)){var Ar=po.row(),gr=Ar+po.rowspan()-1,so=po.column(),_o=so+po.colspan()-1;Ar<z?z=Ar:ie<gr&&(ie=gr),so<K?K=so:we<_o&&(we=_o)}}),br(z,K,ie,we)),nr="th:not("+y+"),td:not("+y+")",Nr=Uo.filterFirstLayer(d,"th,td",function(po){return dt(po,nr)});return Ze(Nr,Re),function(po,Ar,gr,so){for(var _o,ji,Ua,yl=Ar.grid().columns(),fu=Ar.grid().rows(),Tu=0;Tu<fu;Tu++)for(var yd=!1,bl=0;bl<yl;bl++)Tu<gr.minRow()||Tu>gr.maxRow()||bl<gr.minCol()||bl>gr.maxCol()||(ti.getAt(Ar,Tu,bl).filter(so).isNone()?(_o=yd,ji=po[Tu].element(),Ua=Bn.fromTag("td"),Er(Ua,Bn.fromTag("br")),(_o?Er:Yr)(ji,Ua)):yd=!0)}(Ht,Nt,jn,en),Ve=d,pt=jn,Yt=Wt(Uo.firstLayer(Ve,"tr"),function(po){return po.dom().childElementCount===0}),Ze(Yt,Re),pt.minCol()!==pt.maxCol()&&pt.minRow()!==pt.maxRow()||Ze(Uo.firstLayer(Ve,"th,td"),function(po){Xo(po,"rowspan"),Xo(po,"colspan")}),Xo(Ve,"width"),Xo(Ve,"height"),Ur(Ve,"width"),Ur(Ve,"height"),d},vu=(Go=or,ar="text",{get:function(d){if(!Go(d))throw new Error("Can only get "+ar+" value of a "+ar+" node");return st(d).getOr("")},getOption:st=function(d){return Go(d)?G.from(d.dom().nodeValue):G.none()},set:function(d,y){if(!Go(d))throw new Error("Can only set raw "+ar+" value of a "+ar+" node");d.dom().nodeValue=y}}),go=function(d){return vu.get(d)},zo=function(d){return vu.getOption(d)},Ei=function(d,y){vu.set(d,y)},Vi=function(d){return qr(d)==="img"?1:zo(d).fold(function(){return Qn(d).length},function(y){return y.length})},ne=["img","br"],be=function(d){return zo(d).filter(function(y){return y.trim().length!==0||-1<y.indexOf("\xA0")}).isSome()||Le(ne,qr(d))},me=function(d){return y=be,(E=function(R){for(var B=0;B<R.childNodes.length;B++){var z=Bn.fromDom(R.childNodes[B]);if(y(z))return G.some(z);var K=E(R.childNodes[B]);if(K.isSome())return K}return G.none()})(d.dom());var y,E},Ye=function(d){return Qe(d,be)},Qe=function(d,y){var E=function(R){for(var B=Qn(R),z=B.length-1;0<=z;z--){var K=B[z];if(y(K))return G.some(K);var ie=E(K);if(ie.isSome())return ie}return G.none()};return E(d)},Et=function(d,y){return Bn.fromDom(d.dom().cloneNode(y))},Ut=function(d){return Et(d,!1)},Mn=function(d){return Et(d,!0)},qn=function(d,y){var E,R,B,z,K=(E=d,R=y,B=Bn.fromTag(R),z=Qr(E),yo(B,z),B),ie=Qn(Mn(d));return $i(K,ie),K},pr=function(){var d=Bn.fromTag("td");return Er(d,Bn.fromTag("br")),d},Zr=function(d,y,E){var R=qn(d,y);return Zn(E,function(B,z){B===null?Xo(R,z):Dn(R,z,B)}),R},Co=function(d){return d},So=function(d){return function(){return Bn.fromTag("tr",d.dom())}},Ko=function(d,y,E){return{row:So(y),cell:function(R){var B,z,K,ie,we,Ve,pt,Yt=Hn(R.element()),en=Bn.fromTag(qr(R.element()),Yt.dom()),Ht=E.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),Nt=0<Ht.length?(B=R.element(),z=en,K=Ht,me(B).map(function(jn){var nr=K.join(","),Nr=bo(jn,nr,function(po){return Bt(po,B)});return fe(Nr,function(po,Ar){var gr=Ut(Ar);return Xo(gr,"contenteditable"),Er(po,gr),gr},z)}).getOr(z)):en;return Er(Nt,Bn.fromTag("br")),ie=R.element(),we=en,Ve=ie.dom(),pt=we.dom(),sn(Ve)&&sn(pt)&&(pt.style.cssText=Ve.style.cssText),Ur(en,"height"),R.colspan()!==1&&Ur(R.element(),"width"),d(R.element(),en),en},replace:Zr,gap:pr}},Io=function(d){return{row:So(d),cell:pr,replace:Co,gap:pr}},Ai=function(d,y){return y.column()>=d.startCol()&&y.column()+y.colspan()-1<=d.finishCol()&&y.row()>=d.startRow()&&y.row()+y.rowspan()-1<=d.finishRow()},Hi=function(d,y){var E=y.column(),R=y.column()+y.colspan()-1,B=y.row(),z=y.row()+y.rowspan()-1;return E<=d.finishCol()&&R>=d.startCol()&&B<=d.finishRow()&&z>=d.startRow()},yi=function(d,y){for(var E=!0,R=D(Ai,y),B=y.startRow();B<=y.finishRow();B++)for(var z=y.startCol();z<=y.finishCol();z++)E=E&&ti.getAt(d,B,z).exists(R);return E?G.some(y):G.none()},Bi=function(d,y,E){var R=ti.findItem(d,y,Bt),B=ti.findItem(d,E,Bt);return R.bind(function(z){return B.map(function(K){return ie=z,we=K,_r(Math.min(ie.row(),we.row()),Math.min(ie.column(),we.column()),Math.max(ie.row()+ie.rowspan()-1,we.row()+we.rowspan()-1),Math.max(ie.column()+ie.colspan()-1,we.column()+we.colspan()-1));var ie,we})})},tu=Bi,tc=function(d,y,E){return Bi(d,y,E).bind(function(R){return yi(d,R)})},Cs=function(d,y,E,R){return ti.findItem(d,y,Bt).bind(function(B){var z=0<E?B.row()+B.rowspan()-1:B.row(),K=0<R?B.column()+B.colspan()-1:B.column();return ti.getAt(d,z+E,K+R).map(function(ie){return ie.element()})})},nu=function(d,y,E){return tu(d,y,E).map(function(R){var B=ti.filterItems(d,D(Hi,R));return Ge(B,function(z){return z.element()})})},Ol=function(d,y){return ti.findItem(d,y,function(E,R){return ur(R,E)}).map(function(E){return E.element()})},va=function(d){var y=Si(d);return ti.generate(y)},Us=function(d,y,E){return vi.table(d).bind(function(R){var B=va(R);return Cs(B,d,y,E)})},nc=function(d,y,E){var R=va(d);return nu(R,y,E)},us=function(d,y,E,R,B){var z=va(d),K=Bt(d,E)?G.some(y):Ol(z,y),ie=Bt(d,B)?G.some(R):Ol(z,R);return K.bind(function(we){return ie.bind(function(Ve){return nu(z,we,Ve)})})},ya=function(d,y,E){var R=va(d);return tc(R,y,E)},Cf=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function Xn(){return{up:g({selector:mo,closest:Oo,predicate:xo,all:_n}),down:g({selector:Ro,predicate:Sr}),styles:g({get:yt,getRaw:mr,set:Jt,remove:Ur}),attrs:g({get:Ho,set:Dn,remove:Xo,copyTo:function(d,y){var E=Qr(d);yo(y,E)}}),insert:g({before:xr,after:Hr,afterAll:fo,append:Er,appendAll:$i,prepend:Yr,wrap:ei}),remove:g({unwrap:tt,remove:Re}),create:g({nu:Bn.fromTag,clone:function(d){return Bn.fromDom(d.dom().cloneNode(!1))},text:Bn.fromText}),query:g({comparePosition:function(d,y){return d.dom().compareDocumentPosition(y.dom())},prevSibling:gn,nextSibling:zn}),property:g({children:Qn,name:qr,parent:Kn,document:function(d){return d.dom().ownerDocument},isText:or,isComment:Wn,isElement:Tn,getText:go,setText:Ei,isBoundary:function(d){return!!Tn(d)&&(qr(d)==="body"||Le(Cf,qr(d)))},isEmptyTag:function(d){return!!Tn(d)&&Le(["br","img","hr","input"],qr(d))}}),eq:Bt,is:Zt}}var Du=Qt("left","right"),Ku=Qt("first","second","splits"),Xu=function(d,y,E){var R=d.property().children(y);return Vt(R,D(d.eq,E)).map(function(B){return{before:g(R.slice(0,B)),after:g(R.slice(B+1))}})},bi=function(d,y,E,R){var B=y(d,E);return fe(R,function(z,K){var ie=y(d,K);return Pl(d,z,ie)},B)},Pl=function(d,y,E){return y.bind(function(R){return E.filter(D(d.eq,R))})},sl=function(d,y){return D(d.eq,y)},kn=function(d,y,E,R){R===void 0&&(R=ee);var B=[y].concat(d.up().all(y)),z=[E].concat(d.up().all(E)),K=function(pt){return Vt(pt,R).fold(function(){return pt},function(Yt){return pt.slice(0,Yt+1)})},ie=K(B),we=K(z),Ve=At(ie,function(pt){return J(we,sl(d,pt))});return{firstpath:g(ie),secondpath:g(we),shared:g(Ve)}},ru={sharedOne:function(d,y,E){return 0<E.length?bi(d,y,(R=E)[0],R.slice(1)):G.none();var R},subset:function(d,y,E){var R=kn(d,y,E);return R.shared().bind(function(B){return function(z,K,ie,we){var Ve=z.property().children(K);if(z.eq(K,ie[0]))return G.some([ie[0]]);if(z.eq(K,we[0]))return G.some([we[0]]);var pt=function(Ht){var Nt=Pn(Ht),jn=Vt(Nt,sl(z,K)).getOr(-1),nr=jn<Nt.length-1?Nt[jn+1]:Nt[jn];return Vt(Ve,sl(z,nr))},Yt=pt(ie),en=pt(we);return Yt.bind(function(Ht){return en.map(function(Nt){var jn=Math.min(Ht,Nt),nr=Math.max(Ht,Nt);return Ve.slice(jn,nr+1)})})}(d,B,R.firstpath(),R.secondpath())})},ancestors:kn,breakToLeft:function(d,y,E){return Xu(d,y,E).map(function(R){var B=d.create().clone(y);return d.insert().appendAll(B,R.before().concat([E])),d.insert().appendAll(y,R.after()),d.insert().before(y,B),Du(B,y)})},breakToRight:function(d,y,E){return Xu(d,y,E).map(function(R){var B=d.create().clone(y);return d.insert().appendAll(B,R.after()),d.insert().after(y,B),Du(y,B)})},breakPath:function(d,y,E,R){var B=function(z,K,ie){var we=Ku(z,G.none(),ie);return E(z)?Ku(z,K,ie):d.property().parent(z).bind(function(Ve){return R(d,Ve,z).map(function(pt){var Yt=[{first:pt.left,second:pt.right}],en=E(Ve)?Ve:pt.left();return B(en,G.some(pt.right()),ie.concat(Yt))})}).getOr(we)};return B(y,G.none(),[])}},$t=Xn(),Gu={sharedOne:function(d,y){return ru.sharedOne($t,function(E,R){return d(R)},y)},subset:function(d,y){return ru.subset($t,d,y)},ancestors:function(d,y,E){return ru.ancestors($t,d,y,E)},breakToLeft:function(d,y){return ru.breakToLeft($t,d,y)},breakToRight:function(d,y){return ru.breakToRight($t,d,y)},breakPath:function(d,y,E){return ru.breakPath($t,d,y,function(R,B,z){return E(B,z)})}},yu={create:xn(["boxes","start","finish"],[])},Ti=function(d){return mo(d,"table")},la=function(d,y,E){var R=function(B){return function(z){return E!==void 0&&E(z)||Bt(z,B)}};return Bt(d,y)?G.some(yu.create({boxes:G.some([d]),start:d,finish:y})):Ti(d).bind(function(B){return Ti(y).bind(function(z){if(Bt(B,z))return G.some(yu.create({boxes:nc(B,d,y),start:d,finish:y}));if(ur(B,z)){var K=0<(ie=bo(y,"td,th",R(B))).length?ie[ie.length-1]:y;return G.some(yu.create({boxes:us(B,d,B,y,z),start:d,finish:K}))}if(ur(z,B)){var ie,we=0<(ie=bo(d,"td,th",R(z))).length?ie[ie.length-1]:d;return G.some(yu.create({boxes:us(z,d,B,y,z),start:d,finish:we}))}return Gu.ancestors(d,y).shared().bind(function(Ve){return Oo(Ve,"table",E).bind(function(pt){var Yt=bo(y,"td,th",R(pt)),en=0<Yt.length?Yt[Yt.length-1]:y,Ht=bo(d,"td,th",R(pt)),Nt=0<Ht.length?Ht[Ht.length-1]:d;return G.some(yu.create({boxes:us(pt,d,B,y,z),start:Nt,finish:en}))})})})})},Lo=la,bu=function(d,y){var E=Ro(d,y);return 0<E.length?G.some(E):G.none()},ba=function(d,y,E,R,B){return(z=d,K=B,At(z,function(ie){return dt(ie,K)})).bind(function(ie){return Us(ie,y,E).bind(function(we){return pt=R,mo(Ve=we,"table").bind(function(Yt){return Vo(Yt,pt).bind(function(en){return la(en,Ve).bind(function(Ht){return Ht.boxes().map(function(Nt){return{boxes:g(Nt),start:g(Ht.start()),finish:g(Ht.finish())}})})})});var Ve,pt})});var z,K},Ss=function(d,y,E){return Vo(d,y).bind(function(R){return Vo(d,E).bind(function(B){return Gu.sharedOne(Ti,[R,B]).map(function(z){return{first:g(R),last:g(B),table:g(z)}})})})},Pc=function(d,y){return bu(d,y)},Au=function(d,y,E){return Ss(d,y,E).bind(function(R){var B=function(ie){return Bt(d,ie)},z=mo(R.first(),"thead,tfoot,tbody,table",B),K=mo(R.last(),"thead,tfoot,tbody,table",B);return z.bind(function(ie){return K.bind(function(we){return Bt(ie,we)?ya(R.table(),R.first(),R.last()):G.none()})})})},Sf="data-mce-selected",Dc="data-mce-first-selected",ca="data-mce-last-selected",ou={selected:g(Sf),selectedSelector:g("td[data-mce-selected],th[data-mce-selected]"),attributeSelector:g("[data-mce-selected]"),firstSelected:g(Dc),firstSelectedSelector:g("td[data-mce-first-selected],th[data-mce-first-selected]"),lastSelected:g(ca),lastSelectedSelector:g("td[data-mce-last-selected],th[data-mce-last-selected]")},Mi=function(d){if(!Ke(d))throw new Error("cases must be an array");if(d.length===0)throw new Error("there must be at least one case");var y=[],E={};return Ze(d,function(R,B){var z=dr(R);if(z.length!==1)throw new Error("one and only one name per case");var K=z[0],ie=R[K];if(E[K]!==void 0)throw new Error("duplicate key detected:"+K);if(K==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ke(ie))throw new Error("case arguments must be an array");y.push(K),E[K]=function(){var we=arguments.length;if(we!==ie.length)throw new Error("Wrong number of arguments to case "+K+". Expected "+ie.length+" ("+ie+"), got "+we);for(var Ve=new Array(we),pt=0;pt<Ve.length;pt++)Ve[pt]=arguments[pt];return{fold:function(){if(arguments.length!==d.length)throw new Error("Wrong number of arguments to fold. Expected "+d.length+", got "+arguments.length);return arguments[B].apply(null,Ve)},match:function(Yt){var en=dr(Yt);if(y.length!==en.length)throw new Error("Wrong number of arguments to match. Expected: "+y.join(",")+`
Actual: `+en.join(","));if(!Yn(y,function(Ht){return Le(en,Ht)}))throw new Error("Not all branches were specified when using match. Specified: "+en.join(", ")+`
Required: `+y.join(", "));return Yt[K].apply(null,Ve)},log:function(Yt){t.console.log(Yt,{constructors:y,constructor:K,params:Ve})}}}}),E},Ju=Mi([{none:[]},{multiple:["elements"]},{single:["selection"]}]),iu={cata:function(d,y,E,R){return d.fold(y,E,R)},none:Ju.none,multiple:Ju.multiple,single:Ju.single},Pa=function(d,y){return iu.cata(y.get(),g([]),x,g([d]))},ks=function(d,y){return iu.cata(y.get(),G.none,function(E,R){return E.length===0?G.none():Au(d,ou.firstSelectedSelector(),ou.lastSelectedSelector()).bind(function(B){return 1<E.length?G.some({bounds:g(B),cells:g(E)}):G.none()})},G.none)},rc=function(d,y){var E=Pa(d,y);return 0<E.length&&Yn(E,function(R){return Wo(R,"rowspan")&&1<parseInt(Ho(R,"rowspan"),10)||Wo(R,"colspan")&&1<parseInt(Ho(R,"colspan"),10)})?G.some(E):G.none()},oc=Pa,Ac=function(d){return{element:g(d),mergable:G.none,unmergable:G.none,selection:g([d])}},Mu=Qt("element","clipboard","generators"),Es={noMenu:Ac,forMenu:function(d,y,E){return{element:g(E),mergable:g(ks(y,d)),unmergable:g(rc(E,d)),selection:g(oc(E,d))}},notCell:function(d){return Ac(d)},paste:Mu,pasteRows:function(d,y,E,R,B){return{element:g(E),mergable:G.none,unmergable:G.none,selection:g(oc(E,d)),clipboard:g(R),generators:g(B)}}},Mc=function(d,y,E,R){d.on("BeforeGetContent",function(B){B.selection===!0&&iu.cata(y.get(),a,function(z){var K;B.preventDefault(),(K=z,vi.table(K[0]).map(Mn).map(function(ie){return[gu(ie,ou.attributeSelector())]})).each(function(ie){var we;B.content=B.format==="text"?Ge(ie,function(Ve){return Ve.dom().innerText}).join(""):(we=d,Ge(ie,function(Ve){return we.selection.serializer.serialize(Ve.dom(),{})}).join(""))})},a)}),d.on("BeforeSetContent",function(B){B.selection===!0&&B.paste===!0&&G.from(d.dom.getParent(d.selection.getStart(),"th,td")).each(function(z){var K=Bn.fromDom(z);vi.table(K).each(function(ie){var we,Ve,pt=Wt((we=B.content,(Ve=t.document.createElement("div")).innerHTML=we,Qn(Bn.fromDom(Ve))),function(Nt){return qr(Nt)!=="meta"});if(pt.length===1&&qr(pt[0])==="table"){B.preventDefault();var Yt=Bn.fromDom(d.getDoc()),en=Io(Yt),Ht=Es.paste(K,pt[0],en);E.pasteCells(ie,Ht).each(function(Nt){d.selection.setRng(Nt),d.focus(),R.clear(ie)})}})})})};function kf(d,y){var E=function(B){var z=y(B);if(z<=0||z===null){var K=yt(B,d);return parseFloat(K)||0}return z},R=function(B,z){return jt(z,function(K,ie){var we=yt(B,ie),Ve=we===void 0?0:parseInt(we,10);return isNaN(Ve)?K:K+Ve},0)};return{set:function(B,z){if(!Ce(z)&&!z.match(/^[0-9]+$/))throw new Error(d+".set accepts only positive integer values. Value was "+z);var K=B.dom();sn(K)&&(K.style[d]=z+"px")},get:E,getOuter:E,aggregate:R,max:function(B,z,K){var ie=R(B,K);return ie<z?z-ie:0}}}var Ic=kf("height",function(d){var y=d.dom();return Zo(d)?y.getBoundingClientRect().height:y.offsetHeight}),ll=function(d){return Ic.get(d)},ic=function(d){return Ic.getOuter(d)},Da=kf("width",function(d){return d.dom().offsetWidth}),au=function(d){return Da.get(d)},Xr=function(d){return Da.getOuter(d)},wu=oe.detect(),ia=function(d,y,E){return R=yt(d,y),B=E,z=parseFloat(R),isNaN(z)?B:z;var R,B,z},Ef=function(d){return wu.browser.isIE()||wu.browser.isEdge()?(E=ia(y=d,"padding-top",0),R=ia(y,"padding-bottom",0),B=ia(y,"border-top-width",0),z=ia(y,"border-bottom-width",0),K=y.dom().getBoundingClientRect().height,yt(y,"box-sizing")==="border-box"?K:K-E-R-(B+z)):ia(d,"height",ll(d));var y,E,R,B,z,K},Ts=/(\d+(\.\d+)?)(\w|%)*/,$s=/(\d+(\.\d+)?)%/,jo=/(\d+(\.\d+)?)px|em/,Vs=function(d,y){Jt(d,"height",y+"px")},hi=function(d,y,E,R){var B,z,K,ie,we,Ve,pt,Yt,en,Ht=parseInt(d,10);return Yt=Ve="%",en=(pt=d).length-Ve.length,Yt!==""&&(pt.length<Yt.length||pt.substr(en,en+Yt.length)!==Yt)||qr(y)==="table"?Ht:(B=y,z=Ht,K=E,ie=R,we=vi.table(B).map(function(Nt){var jn=K(Nt);return Math.floor(z/100*jn)}).getOr(z),ie(B,we),we)},Xa=function(d){var y,E=mr(y=d,"height").getOrThunk(function(){return Ef(y)+"px"});return E?hi(E,d,ll,Vs):ll(d)},fa=function(d,y){return Wo(d,y)?parseInt(Ho(d,y),10):1},_s=function(d){return mr(d,"width").fold(function(){return G.from(Ho(d,"width"))},function(y){return G.some(y)})},qs=function(d,y){return d/y.pixelWidth()*100},Ji={percentageBasedSizeRegex:g($s),pixelBasedSizeRegex:g(jo),setPixelWidth:function(d,y){Jt(d,"width",y+"px")},setPercentageWidth:function(d,y){Jt(d,"width",y+"%")},setHeight:Vs,getPixelWidth:function(d,y){return _s(d).fold(function(){return au(d)},function(E){return function(R,B,z){var K=jo.exec(B);if(K!==null)return parseInt(K[1],10);var ie=$s.exec(B);if(ie!==null){var we=parseFloat(ie[1]);return we/100*z.pixelWidth()}return au(R)}(d,E,y)})},getPercentageWidth:function(d,y){return _s(d).fold(function(){var E=au(d);return qs(E,y)},function(E){return function(R,B,z){var K=$s.exec(B);if(K!==null)return parseFloat(K[1]);var ie=au(R);return qs(ie,z)}(d,E,y)})},getGenericWidth:function(d){return _s(d).bind(function(y){var E=Ts.exec(y);return E!==null?G.some({width:g(parseFloat(E[1])),unit:g(E[3])}):G.none()})},setGenericWidth:function(d,y,E){Jt(d,"width",y+E)},getHeight:function(d){return E="rowspan",Xa(y=d)/fa(y,E);var y,E},getRawWidth:_s},ac=function(d,y){Ji.getGenericWidth(d).each(function(E){var R=E.width()/2;Ji.setGenericWidth(d,R,E.unit()),Ji.setGenericWidth(y,R,E.unit())})},uc=function(d,y){return{left:g(d),top:g(y),translate:function(E,R){return uc(d+E,y+R)}}},Ii=uc,qi=function(d,y){return d!==void 0?d:y!==void 0?y:0},cl=function(d){var y=d.dom().ownerDocument,E=y.body,R=y.defaultView,B=y.documentElement,z=qi(R.pageYOffset,B.scrollTop),K=qi(R.pageXOffset,B.scrollLeft),ie=qi(B.clientTop,E.clientTop),we=qi(B.clientLeft,E.clientLeft);return Qu(d).translate(K-we,z-ie)},Qu=function(d){var y,E=d.dom(),R=E.ownerDocument.body;return R===E?Ii(R.offsetLeft,R.offsetTop):Zo(d)?(y=E.getBoundingClientRect(),Ii(y.left,y.top)):Ii(0,0)},Bc=Qt("row","y"),Zu=Qt("col","x"),Ns=function(d){return cl(d).left()+Xr(d)},ss=function(d){return cl(d).left()},wi=function(d,y){return Zu(d,ss(y))},fl=function(d,y){return Zu(d,Ns(y))},xu=function(d){return cl(d).top()},Ys=function(d,y){return Bc(d,xu(y))},Rs=function(d,y){return Bc(d,xu(y)+ic(y))},Ri=function(d,y,E){if(E.length===0)return[];var R=Ge(E.slice(1),function(z,K){return z.map(function(ie){return d(K,ie)})}),B=E[E.length-1].map(function(z){return y(E.length-1,z)});return R.concat([B])},uu={height:{delta:x,positions:function(d){return Ri(Ys,Rs,d)},edge:xu},rtl:{delta:function(d){return-d},edge:Ns,positions:function(d){return Ri(fl,wi,d)}},ltr:{delta:x,edge:ss,positions:function(d){return Ri(wi,fl,d)}}},Cu={ltr:uu.ltr,rtl:uu.rtl};function Lc(d){var y=function(E){return d(E).isRtl()?Cu.rtl:Cu.ltr};return{delta:function(E,R){return y(R).delta(E,R)},edge:function(E){return y(E).edge(E)},positions:function(E,R){return y(R).positions(E,R)}}}var Iu=function(d){var y=Si(d);return ti.generate(y).grid()},Bu=function(){return(Bu=Object.assign||function(d){for(var y,E=1,R=arguments.length;E<R;E++)for(var B in y=arguments[E])Object.prototype.hasOwnProperty.call(y,B)&&(d[B]=y[B]);return d}).apply(this,arguments)},Aa=function(d){for(var y=[],E=function(B){y.push(B)},R=0;R<d.length;R++)d[R].each(E);return y},f=function(d,y){for(var E=0;E<d.length;E++){var R=y(d[E],E);if(R.isSome())return R}return G.none()},v=function(d,y,E,R){E===R?Xo(d,y):Dn(d,y,E)},T=function(d,y){var E=[],R=[],B=function(we,Ve){0<we.length?function(pt,Yt){var en=no(d,Yt).getOrThunk(function(){var Nt=Bn.fromTag(Yt,Hn(d).dom());return Er(d,Nt),Nt});ye(en);var Ht=Ge(pt,function(Nt){Nt.isNew()&&E.push(Nt.element());var jn=Nt.element();return ye(jn),Ze(Nt.cells(),function(nr){nr.isNew()&&R.push(nr.element()),v(nr.element(),"colspan",nr.colspan(),1),v(nr.element(),"rowspan",nr.rowspan(),1),Er(jn,nr.element())}),jn});$i(en,Ht)}(we,Ve):no(d,Ve).each(Re)},z=[],K=[],ie=[];return Ze(y,function(we){switch(we.section()){case"thead":z.push(we);break;case"tbody":K.push(we);break;case"tfoot":ie.push(we)}}),B(z,"thead"),B(K,"tbody"),B(ie,"tfoot"),{newRows:g(E),newCells:g(R)}},A=function(d){return Ge(d,function(y){var E=Ut(y.element());return Ze(y.cells(),function(R){var B=Mn(R.element());v(B,"colspan",R.colspan(),1),v(B,"rowspan",R.rowspan(),1),Er(E,B)}),E})},W=function(d,y){var E=Ho(d,y);return E===void 0||E===""?[]:E.split(" ")},V=function(d){return d.dom().classList!==void 0},pe=function(d,y){return B=y,z=W(E=d,R="class").concat([B]),Dn(E,R,z.join(" ")),!0;var E,R,B,z},ke=function(d,y){return B=y,0<(z=Wt(W(E=d,R="class"),function(K){return K!==B})).length?Dn(E,R,z.join(" ")):Xo(E,R),!1;var E,R,B,z},Oe=function(d,y){V(d)?d.dom().classList.add(y):pe(d,y)},ot=function(d){(V(d)?d.dom().classList:W(d,"class")).length===0&&Xo(d,"class")},It=function(d,y){return V(d)&&d.dom().classList.contains(y)},et=function(d,y){for(var E=[],R=d;R<y;R++)E.push(R);return E},Tt=function(d,y){if(y<0||y>=d.length-1)return G.none();var E=d[y].fold(function(){var B=Pn(d.slice(0,y));return f(B,function(z,K){return z.map(function(ie){return{value:ie,delta:K+1}})})},function(B){return G.some({value:B,delta:0})}),R=d[y+1].fold(function(){var B=d.slice(y+1);return f(B,function(z,K){return z.map(function(ie){return{value:ie,delta:K+1}})})},function(B){return G.some({value:B,delta:1})});return E.bind(function(B){return R.map(function(z){var K=z.delta+B.delta;return Math.abs(z.value-B.value)/K})})},nn=function(d,y,E){var R=d();return At(R,y).orThunk(function(){return G.from(R[0]).orThunk(E)}).map(function(B){return B.element()})},an=function(d){var y=d.grid(),E=et(0,y.columns()),R=et(0,y.rows());return Ge(E,function(B){return nn(function(){return yn(R,function(z){return ti.getAt(d,z,B).filter(function(K){return K.column()===B}).fold(g([]),function(K){return[K]})})},function(z){return z.colspan()===1},function(){return ti.getAt(d,0,B)})})},Gr=function(d){var y=d.grid(),E=et(0,y.rows()),R=et(0,y.columns());return Ge(E,function(B){return nn(function(){return yn(R,function(z){return ti.getAt(d,B,z).filter(function(K){return K.row()===B}).fold(g([]),function(K){return[K]})})},function(z){return z.rowspan()===1},function(){return ti.getAt(d,B,0)})})},Wr=function(d){var y=d.replace(/\./g,"-");return{resolve:function(E){return y+"-"+E}}},to={resolve:Wr("ephox-snooker").resolve},vo=function(d,y,E,R,B){var z=Bn.fromTag("div");return kt(z,{position:"absolute",left:y-R/2+"px",top:E+"px",height:B+"px",width:R+"px"}),yo(z,{"data-column":d,role:"presentation"}),z},Ln=function(d,y,E,R,B){var z=Bn.fromTag("div");return kt(z,{position:"absolute",left:y+"px",top:E-B/2+"px",height:B+"px",width:R+"px"}),yo(z,{"data-row":d,role:"presentation"}),z},je=to.resolve("resizer-bar"),Br=to.resolve("resizer-rows"),Bo=to.resolve("resizer-cols"),li=function(d){var y=Ro(d.parent(),"."+je);Ze(y,Re)},wa=function(d,y,E){var R=d.origin();Ze(y,function(B,z){B.each(function(K){var ie=E(R,K);Oe(ie,je),Er(d.parent(),ie)})})},xa=function(d,y,E,R,B,z){var K,ie,we,Ve,pt=cl(y),Yt=0<E.length?B.positions(E,y):[];K=d,ie=Yt,we=pt,Ve=Xr(y),wa(K,ie,function(Nr,po){var Ar=Ln(po.row(),we.left()-Nr.left(),po.y()-Nr.top(),Ve,7);return Oe(Ar,Br),Ar});var en,Ht,Nt,jn,nr=0<R.length?z.positions(R,y):[];en=d,Ht=nr,Nt=pt,jn=ic(y),wa(en,Ht,function(Nr,po){var Ar=vo(po.col(),po.x()-Nr.left(),Nt.top()-Nr.top(),7,jn);return Oe(Ar,Bo),Ar})},Oi=function(d,y){var E=Ro(d.parent(),"."+je);Ze(E,y)},ha=function(d,y,E,R){li(d);var B=Si(y),z=ti.generate(B),K=Gr(z),ie=an(z);xa(d,y,K,ie,E,R)},Ca=function(d){Oi(d,function(y){Jt(y,"display","none")})},Qi=function(d){Oi(d,function(y){Jt(y,"display","block")})},Sa=li,es=function(d){return It(d,Br)},ts=function(d){return It(d,Bo)},Ga=function(d,y){return hr(y,d.section())},Na=function(d,y){return d.cells()[y]},ro={addCell:function(d,y,E){var R=d.cells(),B=R.slice(0,y),z=R.slice(y),K=B.concat([E]).concat(z);return Ga(d,K)},setCells:Ga,mutateCell:function(d,y,E){d.cells()[y]=E},getCell:Na,getCellElement:function(d,y){return Na(d,y).element()},mapCells:function(d,y){var E=d.cells(),R=Ge(E,y);return hr(R,d.section())},cellLength:function(d){return d.cells().length}},ni=function(d,y){if(d.length===0)return 0;var E=d[0];return Vt(d,function(R){return!y(E.element(),R.element())}).fold(function(){return d.length},function(R){return R})},Lu=function(d,y,E,R){var B,z,K,ie,we=(B=d,z=y,B[z]).cells().slice(E),Ve=ni(we,R),pt=(K=d,ie=E,Ge(K,function(en){return ro.getCell(en,ie)})).slice(y),Yt=ni(pt,R);return{colspan:g(Ve),rowspan:g(Yt)}},Zi=function(d,y){var E=Ge(d,function(R,B){return Ge(R.cells(),function(z,K){return!1})});return Ge(d,function(R,B){var z=yn(R.cells(),function(K,ie){if(E[B][ie]===!1){var we=Lu(d,B,ie,y);return function(Ve,pt,Yt,en){for(var Ht=Ve;Ht<Ve+Yt;Ht++)for(var Nt=pt;Nt<pt+en;Nt++)E[Ht][Nt]=!0}(B,ie,we.rowspan(),we.colspan()),[cn(K.element(),we.rowspan(),we.colspan(),K.isNew())]}return[]});return yr(z,R.section())})},c=function(d,y,E){for(var R=[],B=0;B<d.grid().rows();B++){for(var z=[],K=0;K<d.grid().columns();K++){var ie=ti.getAt(d,B,K).map(function(Ve){return $n(Ve.element(),E)}).getOrThunk(function(){return $n(y.gap(),!0)});z.push(ie)}var we=hr(z,d.all()[B].section());R.push(we)}return R},p=function(d,y){return Ge(d,function(E){var R,B=(R=E.details(),f(R,function(z){return Kn(z.element()).map(function(K){var ie=Kn(K).isNone();return $n(K,ie)})}).getOrThunk(function(){return $n(y.row(),!0)}));return An(B.element(),E.details(),E.section(),B.isNew())})},S=function(d,y){var E=Zi(d,Bt);return p(E,y)},P=function(d,y){var E=qt(Ge(d.all(),function(R){return R.cells()}));return At(E,function(R){return Bt(y,R.element())})},H=function(d,y,E,R,B){return function(z,K,ie,we,Ve){var pt=Si(K),Yt=ti.generate(pt);return y(Yt,ie).map(function(en){var Ht=c(Yt,we,!1),Nt=d(Ht,en,Bt,B(we)),jn=S(Nt.grid(),we);return{grid:g(jn),cursor:Nt.cursor}}).fold(function(){return G.none()},function(en){var Ht=T(K,en.grid());return E(K,en.grid(),Ve),R(K),ha(z,K,uu.height,Ve),G.some({cursor:en.cursor,newRows:Ht.newRows,newCells:Ht.newCells})})}},$=function(d,y){return vi.cell(y.element()).bind(function(E){return P(d,E)})},ce=function(d,y){var E=Ge(y.selection(),function(B){return vi.cell(B).bind(function(z){return P(d,z)})}),R=Aa(E);return 0<R.length?G.some({cells:R,generators:y.generators,clipboard:y.clipboard}):G.none()},he=function(d,y){var E=Ge(y.selection(),function(B){return vi.cell(B).bind(function(z){return P(d,z)})}),R=Aa(E);return 0<R.length?G.some(R):G.none()},We=function(d){return{is:function(y){return d===y},isValue:Me,isError:ee,getOr:g(d),getOrThunk:g(d),getOrDie:g(d),or:function(y){return We(d)},orThunk:function(y){return We(d)},fold:function(y,E){return E(d)},map:function(y){return We(y(d))},mapError:function(y){return We(d)},each:function(y){y(d)},bind:function(y){return y(d)},exists:function(y){return y(d)},forall:function(y){return y(d)},toOption:function(){return G.some(d)}}},lt=function(d){return{is:ee,isValue:ee,isError:Me,getOr:x,getOrThunk:function(y){return y()},getOrDie:function(){return y=String(d),function(){throw new Error(y)}();var y},or:function(y){return y},orThunk:function(y){return y()},fold:function(y,E){return y(d)},map:function(y){return lt(d)},mapError:function(y){return lt(y(d))},each:a,bind:function(y){return lt(d)},exists:ee,forall:Me,toOption:G.none}},rt={value:We,error:lt,fromOption:function(d,y){return d.fold(function(){return lt(y)},We)}},ht=function(d,y){return Ge(d,function(){return $n(y.cell(),!0)})},Lt=function(d,y,E){return d.concat(function(R,B){for(var z=[],K=0;K<R;K++)z.push(B(K));return z}(y,function(R){return ro.setCells(d[d.length-1],ht(d[d.length-1].cells(),E))}))},on=function(d,y,E){return Ge(d,function(R){return ro.setCells(R,R.cells().concat(ht(et(0,y),E)))})},rn=function(d,y,E){if(d.row()>=y.length||d.column()>ro.cellLength(y[0]))return rt.error("invalid start address out of table bounds, row: "+d.row()+", column: "+d.column());var R=y.slice(d.row()),B=R[0].cells().slice(d.column()),z=ro.cellLength(E[0]),K=E.length;return rt.value({rowDelta:g(R.length-K),colDelta:g(B.length-z)})},zr=function(d,y){var E=ro.cellLength(d[0]),R=ro.cellLength(y[0]);return{rowDelta:g(0),colDelta:g(E-R)}},jr=function(d,y,E){var R=y.colDelta()<0?on:x;return(y.rowDelta()<0?Lt:x)(R(d,Math.abs(y.colDelta()),E),Math.abs(y.rowDelta()),E)},Po=function(d,y,E,R){if(d.length===0)return d;for(var B=y.startRow();B<=y.finishRow();B++)for(var z=y.startCol();z<=y.finishCol();z++)ro.mutateCell(d[B],z,$n(R(),!1));return d},Do=function(d,y,E,R){for(var B=!0,z=0;z<d.length;z++)for(var K=0;K<ro.cellLength(d[0]);K++){var ie=E(ro.getCellElement(d[z],K),y);ie===!0&&B===!1?ro.mutateCell(d[z],K,$n(R(),!0)):ie===!0&&(B=!1)}return d},vn=function(d,y,E,R){if(0<y&&y<d.length){var B=d[y-1].cells(),z=(K=E,jt(B,function(ie,we){return J(ie,function(Ve){return K(Ve.element(),we.element())})?ie:ie.concat([we])},[]));Ze(z,function(ie){for(var we=G.none(),Ve=function(Yt){for(var en=function(Nt){var jn=d[Yt].cells()[Nt];E(jn.element(),ie.element())&&(we.isNone()&&(we=G.some(R())),we.each(function(nr){ro.mutateCell(d[Yt],Nt,$n(nr,!0))}))},Ht=0;Ht<ro.cellLength(d[0]);Ht++)en(Ht)},pt=y;pt<d.length;pt++)Ve(pt)})}var K;return d},Dr=function(d,y,E,R,B){return rn(d,y,E).map(function(z){var K=jr(y,z,R);return function(ie,we,Ve,pt,Yt){for(var en,Ht,Nt,jn,nr,Nr=ie.row(),po=ie.column(),Ar=Nr+Ve.length,gr=po+ro.cellLength(Ve[0]),so=Nr;so<Ar;so++)for(var _o=po;_o<gr;_o++){en=we,Ht=so,Nt=_o,nr=jn=void 0,jn=D(Yt,ro.getCell(en[Ht],Nt).element()),nr=en[Ht],1<en.length&&1<ro.cellLength(nr)&&(0<Nt&&jn(ro.getCellElement(nr,Nt-1))||Nt<nr.cells().length-1&&jn(ro.getCellElement(nr,Nt+1))||0<Ht&&jn(ro.getCellElement(en[Ht-1],Nt))||Ht<en.length-1&&jn(ro.getCellElement(en[Ht+1],Nt)))&&Do(we,ro.getCellElement(we[so],_o),Yt,pt.cell);var ji=ro.getCellElement(Ve[so-Nr],_o-po),Ua=pt.replace(ji);ro.mutateCell(we[so],_o,$n(Ua,!0))}return we}(d,K,E,R,B)})},ho=function(d,y,E,R,B){vn(y,d,B,R.cell);var z=zr(E,y),K=jr(E,z,R),ie=zr(y,K),we=jr(y,ie,R);return we.slice(0,d).concat(K).concat(we.slice(d,we.length))},ri=function(d,y,E,R,B){var z=d.slice(0,y),K=d.slice(y),ie=ro.mapCells(d[E],function(we,Ve){return 0<y&&y<d.length&&R(ro.getCellElement(d[y-1],Ve),ro.getCellElement(d[y],Ve))?ro.getCell(d[y],Ve):$n(B(we.element(),R),!0)});return z.concat([ie]).concat(K)},xi=function(d,y,E,R,B){return Ge(d,function(z){var K=0<y&&y<ro.cellLength(z)&&R(ro.getCellElement(z,y-1),ro.getCellElement(z,y))?ro.getCell(z,y):$n(B(ro.getCellElement(z,E),R),!0);return ro.addCell(z,y,K)})},Ci=function(d,y,E,R,B){var z=E+1;return Ge(d,function(K,ie){var we=ie===y?$n(B(ro.getCellElement(K,E),R),!0):ro.getCell(K,E);return ro.addCell(K,z,we)})},Fu=function(d,y,E,R,B){var z=y+1,K=d.slice(0,z),ie=d.slice(z),we=ro.mapCells(d[y],function(Ve,pt){return pt===E?$n(B(Ve.element(),R),!0):Ve});return K.concat([we]).concat(ie)},za=function(d,y,E){return d.slice(0,y).concat(d.slice(E+1))},pi=function(d,y,E){var R=Ge(d,function(B){var z=B.cells().slice(0,y).concat(B.cells().slice(E+1));return hr(z,B.section())});return Wt(R,function(B){return 0<B.cells().length})},ea=function(d,y,E,R){return Ge(d,function(B){return ro.mapCells(B,function(z){return K=z,J(y,function(ie){return E(K.element(),ie.element())})?$n(R(z.element(),E),!0):z;var K})})},ja=function(d,y,E,R){return ro.getCellElement(d[y],E)!==void 0&&0<y&&R(ro.getCellElement(d[y-1],E),ro.getCellElement(d[y],E))},Ja=function(d,y,E){return 0<y&&E(ro.getCellElement(d,y-1),ro.getCellElement(d,y))},Yi=function(d,y,E,R){var B=yn(d,function(z,K){return ja(d,K,y,E)||Ja(z,y,E)?[]:[ro.getCell(z,y)]});return ea(d,B,E,R)},Hu=function(d,y,E,R){var B=d[y],z=yn(B.cells(),function(K,ie){return ja(d,y,ie,E)||Ja(B,ie,E)?[]:[K]});return ea(d,z,E,R)},ko=Mi([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),oi=Bu({},ko),Su=function(d,y,E,R){var B,z,K=d.slice(0),ie=(z=y,(B=d).length===0?oi.none():B.length===1?oi.only(0):z===0?oi.left(0,1):z===B.length-1?oi.right(z-1,z):0<z&&z<B.length-1?oi.middle(z-1,z,z+1):oi.none()),we=function(en){return Ge(en,g(0))},Ve=g(we(K)),pt=function(en,Ht){if(0<=E){var Nt=Math.max(R.minCellWidth(),K[Ht]-E);return we(K.slice(0,en)).concat([E,Nt-K[Ht]]).concat(we(K.slice(Ht+1)))}var jn=Math.max(R.minCellWidth(),K[en]+E),nr=K[en]-jn;return we(K.slice(0,en)).concat([jn-K[en],nr]).concat(we(K.slice(Ht+1)))},Yt=pt;return ie.fold(Ve,function(en){return R.singleColumnWidth(K[en],E)},Yt,function(en,Ht,Nt){return pt(Ht,Nt)},function(en,Ht){if(0<=E)return we(K.slice(0,Ht)).concat([E]);var Nt=Math.max(R.minCellWidth(),K[Ht]+E);return we(K.slice(0,Ht)).concat([Nt-K[Ht]])})},sc=function(d,y){return Wo(d,y)&&1<parseInt(Ho(d,y),10)},aa={hasColspan:function(d){return sc(d,"colspan")},hasRowspan:function(d){return sc(d,"rowspan")},minWidth:g(10),minHeight:g(10),getInt:function(d,y){return parseInt(yt(d,y),10)}},Fo=function(d,y,E){return mr(d,y).fold(function(){return E(d)+"px"},function(R){return R})},ls=function(d,y){return Fo(d,"width",function(E){return Ji.getPixelWidth(E,y)})},lc=function(d){return Fo(d,"height",Ji.getHeight)},cc=function(d,y,E,R,B){var z=an(d),K=Ge(z,function(ie){return ie.map(y.edge)});return Ge(z,function(ie,we){return ie.filter(re(aa.hasColspan)).fold(function(){var Ve=Tt(K,we);return R(Ve)},function(Ve){return E(Ve,B)})})},fc=function(d){return d.map(function(y){return y+"px"}).getOr("")},jd=function(d,y,E,R){var B=Gr(d),z=Ge(B,function(K){return K.map(y.edge)});return Ge(B,function(K,ie){return K.filter(re(aa.hasRowspan)).fold(function(){var we=Tt(z,ie);return R(we)},function(we){return E(we)})})},Wd={getRawWidths:function(d,y,E){return cc(d,y,ls,fc,E)},getPixelWidths:function(d,y,E){return cc(d,y,Ji.getPixelWidth,function(R){return R.getOrThunk(E.minCellWidth)},E)},getPercentageWidths:function(d,y,E){return cc(d,y,Ji.getPercentageWidth,function(R){return R.fold(function(){return E.minCellWidth()},function(B){return B/E.pixelWidth()*100})},E)},getPixelHeights:function(d,y){return jd(d,y,Ji.getHeight,function(E){return E.getOrThunk(aa.minHeight)})},getRawHeights:function(d,y){return jd(d,y,lc,fc)}},Ud=function(d,y,E){for(var R=0,B=d;B<y;B++)R+=E[B]!==void 0?E[B]:0;return R},cs=function(d,y){var E=ti.justCells(d);return Ge(E,function(R){var B=Ud(R.column(),R.column()+R.colspan(),y);return{element:R.element,width:g(B),colspan:R.colspan}})},uh=function(d,y){var E=ti.justCells(d);return Ge(E,function(R){var B=Ud(R.row(),R.row()+R.rowspan(),y);return{element:R.element,height:g(B),rowspan:R.rowspan}})},zu=function(d,y){return Ge(d.all(),function(E,R){return{element:E.element,height:g(y[R])}})},Tf=function(d){var y=x;return{width:g(d),pixelWidth:g(d),getWidths:Wd.getPixelWidths,getCellDelta:y,singleColumnWidth:function(E,R){return[Math.max(aa.minWidth(),E+R)-E]},minCellWidth:aa.minWidth,setElementWidth:Ji.setPixelWidth,setTableWidth:function(E,R,B){var z=fe(R,function(K,ie){return K+ie},0);Ji.setPixelWidth(E,z)}}},ka=function(d,y){var E,R,B,z,K=Ji.percentageBasedSizeRegex().exec(y);if(K!==null)return E=K[1],R=d,B=parseFloat(E),z=au(R),{width:g(B),pixelWidth:g(z),getWidths:Wd.getPercentageWidths,getCellDelta:function(pt){return pt/z*100},singleColumnWidth:function(pt,Yt){return[100-pt]},minCellWidth:function(){return aa.minWidth()/z*100},setElementWidth:Ji.setPercentageWidth,setTableWidth:function(pt,Yt,en){var Ht=en/100*B;Ji.setPercentageWidth(pt,B+Ht)}};var ie=Ji.pixelBasedSizeRegex().exec(y);if(ie!==null){var we=parseInt(ie[1],10);return Tf(we)}var Ve=au(d);return Tf(Ve)},Fc=function(d){return Ji.getRawWidth(d).fold(function(){var y=au(d);return Tf(y)},function(y){return ka(d,y)})},Ks=function(d){return ti.generate(d)},$d=function(d){var y=Si(d);return Ks(y)},sh=function(d,y,E,R){var B=Fc(d),z=B.getCellDelta(y),K=$d(d),ie=B.getWidths(K,R,B),we=Su(ie,E,z,B),Ve=Ge(we,function(Yt,en){return Yt+ie[en]}),pt=cs(K,Ve);Ze(pt,function(Yt){B.setElementWidth(Yt.element(),Yt.width())}),E===K.grid().columns()-1&&B.setTableWidth(d,Ve,z)},rd=function(d,y,E,R){var B=$d(d),z=Wd.getPixelHeights(B,R),K=Ge(z,function(pt,Yt){return E===Yt?Math.max(y+pt,aa.minHeight()):pt}),ie=uh(B,K),we=zu(B,K);Ze(we,function(pt){Ji.setHeight(pt.element(),pt.height())}),Ze(ie,function(pt){Ji.setHeight(pt.element(),pt.height())});var Ve=fe(K,function(pt,Yt){return pt+Yt},0);Ji.setHeight(d,Ve)},dc=function(d,y,E){var R=Fc(d),B=Ks(y),z=R.getWidths(B,E,R),K=cs(B,z);Ze(K,function(ie){R.setElementWidth(ie.element(),ie.width())}),0<K.length&&R.setTableWidth(d,z,R.getCellDelta(0))},dl=function(d){var y=d,E=function(){return y};return{get:E,set:function(R){y=R},clone:function(){return dl(E())}}},Gv=function(d,y,E){if(y.length===0)throw new Error("You must specify at least one required field.");return Kt("required",y),mn(y),function(R){var B=dr(R);Yn(y,function(K){return Le(B,K)})||qe(y,B),d(y,B);var z=Wt(y,function(K){return!E.validate(R[K],K)});return 0<z.length&&function(K,ie){throw new Error("All values need to be of type: "+ie+". Keys ("+Te(K).join(", ")+") were not.")}(z,E.label),R}},jp=function(d,y){var E=Wt(y,function(R){return!Le(d,R)});0<E.length&&Rt(E)},Vd=function(d){return Gv(jp,d,{validate:Ie,label:"function"})},mc=Vd(["cell","row","replace","gap"]),Jv=function(d){var y=Wo(d,"colspan")?parseInt(Ho(d,"colspan"),10):1,E=Wo(d,"rowspan")?parseInt(Ho(d,"rowspan"),10):1;return{element:g(d),colspan:g(y),rowspan:g(E)}},su=function(d,y){y===void 0&&(y=Jv),mc(d);var E=dl(G.none()),R=function(K){var ie,we=y(K);return ie=we,d.cell(ie)},B=function(K){var ie=R(K);return E.get().isNone()&&E.set(G.some(ie)),z=G.some({item:K,replacement:ie}),ie},z=G.none();return{getOrInit:function(K,ie){return z.fold(function(){return B(K)},function(we){return ie(K,we.item)?we.replacement:B(K)})},cursor:E.get}},Dl=function(d,y){return function(E){var R=dl(G.none());mc(E);var B=[],z=function(K){var ie={scope:d},we=E.replace(K,y,ie);return B.push({item:K,sub:we}),R.get().isNone()&&R.set(G.some(we)),we};return{replaceOrInit:function(K,ie){return(we=K,Ve=ie,At(B,function(pt){return Ve(pt.item,we)})).fold(function(){return z(K)},function(pt){return ie(K,pt.item)?pt.sub:z(K)});var we,Ve},cursor:R.get}}},qd=function(d){mc(d);var y=dl(G.none());return{combine:function(E){return y.get().isNone()&&y.set(G.some(E)),function(){var R=d.cell({element:g(E),colspan:g(1),rowspan:g(1)});return Ur(R,"width"),Ur(E,"width"),R}},cursor:y.get}},Wp=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Yd=function(d,y){var E=d.property().name(y);return Le(Wp,E)},Kd=function(d,y){return Le(["br","img","hr","input"],d.property().name(y))},Qa=Yd,ml=function(d,y){var E=d.property().name(y);return Le(["ol","ul"],E)},Up=Kd,Al=Xn(),Ml=function(d){return Qa(Al,d)},Il=function(d){return ml(Al,d)},fs=function(d){return Up(Al,d)},$p=function(d){var y,E=function(z){return qr(z)==="br"},R=function(z){return Ye(z).bind(function(K){var ie=zn(K).map(function(we){return!!Ml(we)||!!fs(we)&&qr(we)!=="img"}).getOr(!1);return Kn(K).map(function(we){return ie===!0||qr(Ve=we)==="li"||xo(Ve,Il).isSome()||E(K)||Ml(we)&&!Bt(z,we)?[]:[Bn.fromTag("br")];var Ve})}).getOr([])},B=(y=yn(d,function(z){var K=Qn(z);return Yn(K,function(ie){return E(ie)||or(ie)&&go(ie).trim().length===0})?[]:K.concat(R(z))})).length===0?[Bn.fromTag("br")]:y;ye(d[0]),$i(d[0],B)},od=function(d){vi.cells(d).length===0&&Re(d)},Xs=Qt("grid","cursor"),_f=function(d,y,E){return Hc(d,y,E).orThunk(function(){return Hc(d,0,0)})},Hc=function(d,y,E){return G.from(d[y]).bind(function(R){return G.from(R.cells()[E]).bind(function(B){return G.from(B.element())})})},Za=function(d,y,E){return Xs(d,Hc(d,y,E))},Nf=function(d){return jt(d,function(y,E){return J(y,function(R){return R.row()===E.row()})?y:y.concat([E])},[]).sort(function(y,E){return y.row()-E.row()})},Xd=function(d){return jt(d,function(y,E){return J(y,function(R){return R.column()===E.column()})?y:y.concat([E])},[]).sort(function(y,E){return y.column()-E.column()})},id=function(d,y,E){var R=Ka(d,E),B=ti.generate(R);return c(B,y,!0)},Bl=dc,Os={insertRowBefore:H(function(d,y,E,R){var B=y.row(),z=y.row(),K=ri(d,z,B,E,R.getOrInit);return Za(K,z,y.column())},$,a,a,su),insertRowsBefore:H(function(d,y,E,R){var B=y[0].row(),z=y[0].row(),K=Nf(y),ie=jt(K,function(we,Ve){return ri(we,z,B,E,R.getOrInit)},d);return Za(ie,z,y[0].column())},he,a,a,su),insertRowAfter:H(function(d,y,E,R){var B=y.row(),z=y.row()+y.rowspan(),K=ri(d,z,B,E,R.getOrInit);return Za(K,z,y.column())},$,a,a,su),insertRowsAfter:H(function(d,y,E,R){var B=Nf(y),z=B[B.length-1].row(),K=B[B.length-1].row()+B[B.length-1].rowspan(),ie=jt(B,function(we,Ve){return ri(we,K,z,E,R.getOrInit)},d);return Za(ie,K,y[0].column())},he,a,a,su),insertColumnBefore:H(function(d,y,E,R){var B=y.column(),z=y.column(),K=xi(d,z,B,E,R.getOrInit);return Za(K,y.row(),z)},$,Bl,a,su),insertColumnsBefore:H(function(d,y,E,R){var B=Xd(y),z=B[0].column(),K=B[0].column(),ie=jt(B,function(we,Ve){return xi(we,K,z,E,R.getOrInit)},d);return Za(ie,y[0].row(),K)},he,Bl,a,su),insertColumnAfter:H(function(d,y,E,R){var B=y.column(),z=y.column()+y.colspan(),K=xi(d,z,B,E,R.getOrInit);return Za(K,y.row(),z)},$,Bl,a,su),insertColumnsAfter:H(function(d,y,E,R){var B=y[y.length-1].column(),z=y[y.length-1].column()+y[y.length-1].colspan(),K=Xd(y),ie=jt(K,function(we,Ve){return xi(we,z,B,E,R.getOrInit)},d);return Za(ie,y[0].row(),z)},he,Bl,a,su),splitCellIntoColumns:H(function(d,y,E,R){var B=Ci(d,y.row(),y.column(),E,R.getOrInit);return Za(B,y.row(),y.column())},$,Bl,a,su),splitCellIntoRows:H(function(d,y,E,R){var B=Fu(d,y.row(),y.column(),E,R.getOrInit);return Za(B,y.row(),y.column())},$,a,a,su),eraseColumns:H(function(d,y,E,R){var B=Xd(y),z=pi(d,B[0].column(),B[B.length-1].column()),K=_f(z,y[0].row(),y[0].column());return Xs(z,K)},he,Bl,od,su),eraseRows:H(function(d,y,E,R){var B=Nf(y),z=za(d,B[0].row(),B[B.length-1].row()),K=_f(z,y[0].row(),y[0].column());return Xs(z,K)},he,a,od,su),makeColumnHeader:H(function(d,y,E,R){var B=Yi(d,y.column(),E,R.replaceOrInit);return Za(B,y.row(),y.column())},$,a,a,Dl("row","th")),unmakeColumnHeader:H(function(d,y,E,R){var B=Yi(d,y.column(),E,R.replaceOrInit);return Za(B,y.row(),y.column())},$,a,a,Dl(null,"td")),makeRowHeader:H(function(d,y,E,R){var B=Hu(d,y.row(),E,R.replaceOrInit);return Za(B,y.row(),y.column())},$,a,a,Dl("col","th")),unmakeRowHeader:H(function(d,y,E,R){var B=Hu(d,y.row(),E,R.replaceOrInit);return Za(B,y.row(),y.column())},$,a,a,Dl(null,"td")),mergeCells:H(function(d,y,E,R){var B=y.cells();$p(B);var z=Po(d,y.bounds(),E,g(B[0]));return Xs(z,G.from(B[0]))},function(d,y){return y.mergable()},a,a,qd),unmergeCells:H(function(d,y,E,R){var B=fe(y,function(z,K){return Do(z,K,E,R.combine(K))},d);return Xs(B,G.from(y[0]))},function(d,y){return y.unmergable()},Bl,a,qd),pasteCells:H(function(d,y,E,R){var B,z,K,ie,we=(B=y.clipboard(),z=y.generators(),K=Si(B),ie=ti.generate(K),c(ie,z,!0)),Ve=Ot(y.row(),y.column());return Dr(Ve,d,we,y.generators(),E).fold(function(){return Xs(d,G.some(y.element()))},function(pt){var Yt=_f(pt,y.row(),y.column());return Xs(pt,Yt)})},function(d,y){return vi.cell(y.element()).bind(function(E){return P(d,E).map(function(R){return Bu(Bu({},R),{generators:y.generators,clipboard:y.clipboard})})})},Bl,a,su),pasteRowsBefore:H(function(d,y,E,R){var B=d[y.cells[0].row()],z=y.cells[0].row(),K=id(y.clipboard(),y.generators(),B),ie=ho(z,d,K,y.generators(),E),we=_f(ie,y.cells[0].row(),y.cells[0].column());return Xs(ie,we)},ce,a,a,su),pasteRowsAfter:H(function(d,y,E,R){var B=d[y.cells[0].row()],z=y.cells[y.cells.length-1].row()+y.cells[y.cells.length-1].rowspan(),K=id(y.clipboard(),y.generators(),B),ie=ho(z,d,K,y.generators(),E),we=_f(ie,y.cells[0].row(),y.cells[0].column());return Xs(ie,we)},ce,a,a,su)},hc=function(d){return Bn.fromDom(d.getBody())},ad=function(d){return d.getBoundingClientRect().width},Vp=function(d){return d.getBoundingClientRect().height},qp=function(d){return function(y){return Bt(y,hc(d))}},Ma=function(d){return/^[0-9]+$/.test(d)&&(d+="px"),d},ud=function(d){var y=Ro(d,"td[data-mce-style],th[data-mce-style]");Xo(d,"data-mce-style"),Ze(y,function(E){Xo(E,"data-mce-style")})},Rf={isRtl:g(!1)},Of={isRtl:g(!0)},Gs={directionAt:function(d){return(yt(d,"direction")==="rtl"?"rtl":"ltr")=="rtl"?Of:Rf}},lh=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],ch={"border-collapse":"collapse",width:"100%"},zc={border:"1"},pc=function(d){return d.getParam("table_cell_advtab",!0,"boolean")},Gd=function(d){return d.getParam("table_row_advtab",!0,"boolean")},sd=function(d){return d.getParam("table_advtab",!0,"boolean")},gc=function(d){return d.getParam("table_style_by_css",!1,"boolean")},ld=function(d){return d.getParam("table_cell_class_list",[],"array")},Jd=function(d){return d.getParam("table_row_class_list",[],"array")},ku=function(d){return d.getParam("table_class_list",[],"array")},Qd=function(d){return d.getParam("table_responsive_width")===!1},fh=function(d,y){return d.fire("newrow",{node:y})},Yp=function(d,y){return d.fire("newcell",{node:y})},Pf=function(d,y,E,R){d.fire("ObjectResizeStart",{target:y,width:E,height:R})},dh=function(d,y,E,R){d.fire("ObjectResized",{target:y,width:E,height:R})},mh=function(d,y){var E,R=function(K){return qr(hc(K))==="table"},B=(E=d.getParam("table_clone_elements"),Ae(E)?G.some(E.split(/[ ,]/)):Array.isArray(E)?G.some(E):G.none()),z=function(K,ie,we,Ve){return function(pt,Yt){ud(pt);var en=Ve(),Ht=Bn.fromDom(d.getDoc()),Nt=Lc(Gs.directionAt),jn=Ko(we,Ht,B);return ie(pt)?K(en,pt,Yt,jn,Nt).bind(function(nr){return Ze(nr.newRows(),function(Nr){fh(d,Nr.dom())}),Ze(nr.newCells(),function(Nr){Yp(d,Nr.dom())}),nr.cursor().map(function(Nr){var po=d.dom.createRng();return po.setStart(Nr.dom(),0),po.setEnd(Nr.dom(),0),po})}):G.none()}};return{deleteRow:z(Os.eraseRows,function(K){var ie=Iu(K);return R(d)===!1||1<ie.rows()},a,y),deleteColumn:z(Os.eraseColumns,function(K){var ie=Iu(K);return R(d)===!1||1<ie.columns()},a,y),insertRowsBefore:z(Os.insertRowsBefore,Me,a,y),insertRowsAfter:z(Os.insertRowsAfter,Me,a,y),insertColumnsBefore:z(Os.insertColumnsBefore,Me,ac,y),insertColumnsAfter:z(Os.insertColumnsAfter,Me,ac,y),mergeCells:z(Os.mergeCells,Me,a,y),unmergeCells:z(Os.unmergeCells,Me,a,y),pasteRowsBefore:z(Os.pasteRowsBefore,Me,a,y),pasteRowsAfter:z(Os.pasteRowsAfter,Me,a,y),pasteCells:z(Os.pasteCells,Me,a,y)}},Qv=function(d,y,E){var R=Si(d),B=ti.generate(R);return he(B,y).map(function(z){var K=c(B,E,!1).slice(z[0].row(),z[z.length-1].row()+z[z.length-1].rowspan()),ie=S(K,E);return A(ie)})},Ki=tinymce.util.Tools.resolve("tinymce.util.Tools"),hh=function(d,y,E){E&&d.formatter.apply("align"+E,{},y)},cd=function(d,y,E){E&&d.formatter.apply("valign"+E,{},y)},fd=function(d,y){Ki.each("left center right".split(" "),function(E){d.formatter.remove("align"+E,{},y)})},Kp=function(d,y){Ki.each("top middle bottom".split(" "),function(E){d.formatter.remove("valign"+E,{},y)})},dd=function(d,y,E){var R;return R=function(B,z){for(var K=0;K<z.length;K++){var ie=d.getStyle(z[K],E);if(B===void 0&&(B=ie),B!==ie)return""}return B}(R,d.select("td,th",y))},jc=function(d,y){var E=d.dom,R=y.control.rootControl,B=R.toJSON(),z=E.parseStyle(B.style);z["border-style"]=B.borderStyle,z["border-color"]=B.borderColor,z["background-color"]=B.backgroundColor,z.width=B.width?Ma(B.width):"",z.height=B.height?Ma(B.height):"",R.find("#style").value(E.serializeStyle(E.parseStyle(E.serializeStyle(z))))},Df=function(d,y){var E=d.dom,R=y.control.rootControl,B=R.toJSON(),z=E.parseStyle(B.style);R.find("#borderStyle").value(z["border-style"]||""),R.find("#borderColor").value(z["border-color"]||""),R.find("#backgroundColor").value(z["background-color"]||""),R.find("#width").value(z.width||""),R.find("#height").value(z.height||"")},Ia={createStyleForm:function(d){var y=function(){var E=d.getParam("color_picker_callback");if(E)return function(R){return E.call(d,function(B){R.control.value(B).fire("change")},R.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:D(jc,d)},items:[{label:"Style",name:"style",type:"textbox",onchange:D(Df,d)},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:D(jc,d),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:y()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:y()}]}]}},buildListItems:function(d,y,E){var R=function(B,z){return z=z||[],Ki.each(B,function(K){var ie={text:K.text||K.title};K.menu?ie.menu=R(K.menu):(ie.value=K.value,y&&y(ie)),z.push(ie)}),z};return R(d,E||[])},updateStyleField:jc,extractAdvancedStyles:function(d,y){var E=d.parseStyle(d.getAttrib(y,"style")),R={};return E["border-style"]&&(R.borderStyle=E["border-style"]),E["border-color"]&&(R.borderColor=E["border-color"]),E["background-color"]&&(R.backgroundColor=E["background-color"]),R.style=d.serializeStyle(E),R},updateAdvancedFields:Df,syncAdvancedStyleFields:function(d,y){y.control.rootControl.find("#style")[0].getEl().isEqualNode(t.document.activeElement)?Df(d,y):jc(d,y)}},Zd=function(d,y,E){var R,B=d.dom;function z(ie,we,Ve){(y.length===1||Ve)&&B.setAttrib(ie,we,Ve)}function K(ie,we,Ve){(y.length===1||Ve)&&B.setStyle(ie,we,Ve)}pc(d)&&Ia.syncAdvancedStyleFields(d,E),R=E.control.rootControl.toJSON(),d.undoManager.transact(function(){Ki.each(y,function(ie){var we,Ve;z(ie,"scope",R.scope),y.length===1?z(ie,"style",R.style):(we=ie,Ve=R.style,delete we.dataset.mceStyle,we.style.cssText+=";"+Ve),z(ie,"class",R.class),K(ie,"width",Ma(R.width)),K(ie,"height",Ma(R.height)),R.type&&ie.nodeName.toLowerCase()!==R.type&&(ie=B.rename(ie,R.type)),y.length===1&&(fd(d,ie),Kp(d,ie)),R.align&&hh(d,ie,R.align),R.valign&&cd(d,ie,R.valign)}),d.focus()})},Xp=function(d){var y,E,R,B=[];if(B=d.dom.select("td[data-mce-selected],th[data-mce-selected]"),y=d.dom.getParent(d.selection.getStart(),"td,th"),!B.length&&y&&B.push(y),y=y||B[0]){var z,K,ie,we;1<B.length?E={width:"",height:"",scope:"",class:"",align:"",valign:"",style:"",type:y.nodeName.toLowerCase()}:(K=y,ie=(z=d).dom,we={width:ie.getStyle(K,"width")||ie.getAttrib(K,"width"),height:ie.getStyle(K,"height")||ie.getAttrib(K,"height"),scope:ie.getAttrib(K,"scope"),class:ie.getAttrib(K,"class"),type:K.nodeName.toLowerCase(),style:"",align:"",valign:""},Ki.each("left center right".split(" "),function(pt){z.formatter.matchNode(K,"align"+pt)&&(we.align=pt)}),Ki.each("top middle bottom".split(" "),function(pt){z.formatter.matchNode(K,"valign"+pt)&&(we.valign=pt)}),pc(z)&&Ki.extend(we,Ia.extractAdvancedStyles(ie,K)),E=we),0<ld(d).length&&(R={name:"class",type:"listbox",label:"Class",values:Ia.buildListItems(ld(d),function(pt){pt.value&&(pt.textStyle=function(){return d.formatter.getCssText({block:"td",classes:[pt.value]})})})});var Ve={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:D(Ia.updateStyleField,d)},{label:"Height",name:"height",onchange:D(Ia.updateStyleField,d)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},R]};pc(d)?d.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:E,body:[{title:"General",type:"form",items:Ve},Ia.createStyleForm(d)],onsubmit:D(Zd,d,B)}):d.windowManager.open({title:"Cell properties",data:E,body:Ve,onsubmit:D(Zd,d,B)})}};function Ll(d,y,E,R){var B=d.dom;function z(ie,we,Ve){(y.length===1||Ve)&&B.setAttrib(ie,we,Ve)}Gd(d)&&Ia.syncAdvancedStyleFields(d,R);var K=R.control.rootControl.toJSON();d.undoManager.transact(function(){Ki.each(y,function(ie){var we,Ve,pt,Yt,en,Ht,Nt,jn,nr;z(ie,"scope",K.scope),z(ie,"style",K.style),z(ie,"class",K.class),we=ie,Ve="height",pt=Ma(K.height),(y.length===1||pt)&&B.setStyle(we,Ve,pt),K.type!==ie.parentNode.nodeName.toLowerCase()&&(Yt=d.dom,en=ie,Ht=K.type,Nt=Yt.getParent(en,"table"),jn=en.parentNode,(nr=Yt.select(Ht,Nt)[0])||(nr=Yt.create(Ht),Nt.firstChild?Nt.firstChild.nodeName==="CAPTION"?Yt.insertAfter(nr,Nt.firstChild):Nt.insertBefore(nr,Nt.firstChild):Nt.appendChild(nr)),nr.appendChild(en),jn.hasChildNodes()||Yt.remove(jn)),K.align!==E.align&&(fd(d,ie),hh(d,ie,K.align))}),d.focus()})}var Wc=function(d){var y,E,R,B,z,K,ie,we,Ve,pt,Yt=d.dom,en=[];y=Yt.getParent(d.selection.getStart(),"table"),E=Yt.getParent(d.selection.getStart(),"td,th"),Ki.each(y.rows,function(Ht){Ki.each(Ht.cells,function(Nt){if(Yt.getAttrib(Nt,"data-mce-selected")||Nt===E)return en.push(Ht),!1})}),(R=en[0])&&(1<en.length?z={height:"",scope:"",style:"",class:"",align:"",type:R.parentNode.nodeName.toLowerCase()}:(we=R,Ve=(ie=d).dom,pt={height:Ve.getStyle(we,"height")||Ve.getAttrib(we,"height"),scope:Ve.getAttrib(we,"scope"),class:Ve.getAttrib(we,"class"),align:"",style:"",type:we.parentNode.nodeName.toLowerCase()},Ki.each("left center right".split(" "),function(Ht){ie.formatter.matchNode(we,"align"+Ht)&&(pt.align=Ht)}),Gd(ie)&&Ki.extend(pt,Ia.extractAdvancedStyles(Ve,we)),z=pt),0<Jd(d).length&&(B={name:"class",type:"listbox",label:"Class",values:Ia.buildListItems(Jd(d),function(Ht){Ht.value&&(Ht.textStyle=function(){return d.formatter.getCssText({block:"tr",classes:[Ht.value]})})})}),K={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},B]},Gd(d)?d.windowManager.open({title:"Row properties",data:z,bodyType:"tabpanel",body:[{title:"General",type:"form",items:K},Ia.createStyleForm(d)],onsubmit:D(Ll,d,en,z)}):d.windowManager.open({title:"Row properties",data:z,body:K,onsubmit:D(Ll,d,en,z)}))},ph=tinymce.util.Tools.resolve("tinymce.Env"),ta={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Eu=function(d,y,E,R,B){B===void 0&&(B=ta);var z=Bn.fromTag("table");kt(z,B.styles),yo(z,B.attributes);var K=Bn.fromTag("tbody");Er(z,K);for(var ie=[],we=0;we<d;we++){for(var Ve=Bn.fromTag("tr"),pt=0;pt<y;pt++){var Yt=we<E||pt<R?Bn.fromTag("th"):Bn.fromTag("td");pt<R&&Dn(Yt,"scope","row"),we<E&&Dn(Yt,"scope","col"),Er(Yt,Bn.fromTag("br")),B.percentages&&Jt(Yt,"width",100/y+"%"),Er(Ve,Yt)}ie.push(Ve)}return $i(K,ie),z},em=function(d,y){d.selection.select(y.dom(),!0),d.selection.collapse(!0)},Rn=function(d,y,E){var R,B,z=d.getParam("table_default_styles",ch,"object"),K={styles:z,attributes:(B=d,B.getParam("table_default_attributes",zc,"object")),percentages:(R=z.width,Ae(R)&&R.indexOf("%")!==-1&&!Qd(d))},ie=Eu(E,y,0,0,K);Dn(ie,"data-mce-id","__mce");var we,Ve,pt,Yt=(we=ie,Ve=Bn.fromTag("div"),pt=Bn.fromDom(we.dom().cloneNode(!0)),Er(Ve,pt),Ve.dom().innerHTML);return d.insertContent(Yt),Vo(hc(d),'table[data-mce-id="__mce"]').map(function(en){var Ht,Nt;return Qd(d)&&Jt(en,"width",yt(en,"width")),Xo(en,"data-mce-id"),Ht=d,Ze(Ro(en,"tr"),function(jn){fh(Ht,jn.dom()),Ze(Ro(jn,"th,td"),function(nr){Yp(Ht,nr.dom())})}),Nt=d,Vo(en,"td,th").each(D(em,Nt)),en.dom()}).getOr(null)};function Ps(d,y,E,R){if(y.tagName==="TD"||y.tagName==="TH")d.setStyle(y,E,R);else if(y.children)for(var B=0;B<y.children.length;B++)Ps(d,y.children[B],E,R)}var gh,vh=function(d,y,E){var R,B,z=d.dom;sd(d)&&Ia.syncAdvancedStyleFields(d,E),(B=E.control.rootControl.toJSON()).class===!1&&delete B.class,d.undoManager.transact(function(){y||(y=Rn(d,B.cols||1,B.rows||1)),function(K,ie,we){var Ve,pt=K.dom,Yt={},en={};if(Yt.class=we.class,en.height=Ma(we.height),pt.getAttrib(ie,"width")&&!gc(K)?Yt.width=(Ve=we.width)?Ve.replace(/px$/,""):"":en.width=Ma(we.width),gc(K)?(en["border-width"]=Ma(we.border),en["border-spacing"]=Ma(we.cellspacing),Ki.extend(Yt,{"data-mce-border-color":we.borderColor,"data-mce-cell-padding":we.cellpadding,"data-mce-border":we.border})):Ki.extend(Yt,{border:we.border,cellpadding:we.cellpadding,cellspacing:we.cellspacing}),gc(K)&&ie.children)for(var Ht=0;Ht<ie.children.length;Ht++)Ps(pt,ie.children[Ht],{"border-width":Ma(we.border),"border-color":we.borderColor,padding:Ma(we.cellpadding)});we.style?Ki.extend(en,pt.parseStyle(we.style)):en=Ki.extend({},pt.parseStyle(pt.getAttrib(ie,"style")),en),Yt.style=pt.serializeStyle(en),pt.setAttribs(ie,Yt)}(d,y,B),(R=z.select("caption",y)[0])&&!B.caption&&z.remove(R),!R&&B.caption&&((R=z.create("caption")).innerHTML=ph.ie?"\xA0":'<br data-mce-bogus="1"/>',y.insertBefore(R,y.firstChild)),fd(d,y),B.align&&hh(d,y,B.align),d.focus(),d.addVisual()})},yh=function(d,y){var E,R,B,z,K,ie,we,Ve,pt,Yt,en=d.dom,Ht={};y===!0?(E=en.getParent(d.selection.getStart(),"table"))&&(we=E,Ve=(ie=d).dom,pt={width:Ve.getStyle(we,"width")||Ve.getAttrib(we,"width"),height:Ve.getStyle(we,"height")||Ve.getAttrib(we,"height"),cellspacing:Ve.getStyle(we,"border-spacing")||Ve.getAttrib(we,"cellspacing"),cellpadding:Ve.getAttrib(we,"data-mce-cell-padding")||Ve.getAttrib(we,"cellpadding")||dd(ie.dom,we,"padding"),border:Ve.getAttrib(we,"data-mce-border")||Ve.getAttrib(we,"border")||dd(ie.dom,we,"border"),borderColor:Ve.getAttrib(we,"data-mce-border-color"),caption:!!Ve.select("caption",we)[0],class:Ve.getAttrib(we,"class")},Ki.each("left center right".split(" "),function(Nt){ie.formatter.matchNode(we,"align"+Nt)&&(pt.align=Nt)}),sd(ie)&&Ki.extend(pt,Ia.extractAdvancedStyles(Ve,we)),Ht=pt):(R={label:"Cols",name:"cols"},B={label:"Rows",name:"rows"}),0<ku(d).length&&(Ht.class&&(Ht.class=Ht.class.replace(/\s*mce\-item\-table\s*/g,"")),z={name:"class",type:"listbox",label:"Class",values:Ia.buildListItems(ku(d),function(Nt){Nt.value&&(Nt.textStyle=function(){return d.formatter.getCssText({block:"table",classes:[Nt.value]})})})}),K={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:(Yt=d,Yt.getParam("table_appearance_options",!0,"boolean")?[R,B,{label:"Width",name:"width",onchange:D(Ia.updateStyleField,d)},{label:"Height",name:"height",onchange:D(Ia.updateStyleField,d)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[R,B,{label:"Width",name:"width",onchange:D(Ia.updateStyleField,d)},{label:"Height",name:"height",onchange:D(Ia.updateStyleField,d)}])},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},z]},sd(d)?d.windowManager.open({title:"Table properties",data:Ht,bodyType:"tabpanel",body:[{title:"General",type:"form",items:K},Ia.createStyleForm(d)],onsubmit:D(vh,d,E)}):d.windowManager.open({title:"Table properties",data:Ht,body:K,onsubmit:D(vh,d,E)})},tm=Ki.each,Ea=function(d,y,E,R,B){var z=qp(d),K=function(Nt){return function(){return G.from(d.dom.getParent(d.selection.getStart(),Nt)).map(Bn.fromDom)}},ie=K("caption"),we=K("th,td"),Ve=function(Nt){return vi.table(Nt,z)},pt=function(Nt){return{width:ad(Nt.dom()),height:ad(Nt.dom())}},Yt=function(Nt){we().each(function(jn){Ve(jn).each(function(nr){var Nr=Es.forMenu(R,nr,jn),po=pt(nr);Nt(nr,Nr).each(function(Ar){var gr,so,_o,ji;gr=d,so=po,ji=pt(_o=nr),so.width===ji.width&&so.height===ji.height||(Pf(gr,_o.dom(),so.width,so.height),dh(gr,_o.dom(),ji.width,ji.height)),d.selection.setRng(Ar),d.focus(),E.clear(nr),ud(nr)})})})},en=function(Nt){return we().bind(function(jn){return Ve(jn).bind(function(nr){var Nr=Bn.fromDom(d.getDoc()),po=Es.forMenu(R,nr,jn),Ar=Ko(a,Nr,G.none());return Qv(nr,po,Ar)})})},Ht=function(Nt){B.get().each(function(jn){var nr=Ge(jn,function(Nr){return Mn(Nr)});we().each(function(Nr){Ve(Nr).each(function(po){var Ar=Bn.fromDom(d.getDoc()),gr=Io(Ar),so=Es.pasteRows(R,po,Nr,nr,gr);Nt(po,so).each(function(_o){d.selection.setRng(_o),d.focus(),E.clear(po)})})})})};tm({mceTableSplitCells:function(){Yt(y.unmergeCells)},mceTableMergeCells:function(){Yt(y.mergeCells)},mceTableInsertRowBefore:function(){Yt(y.insertRowsBefore)},mceTableInsertRowAfter:function(){Yt(y.insertRowsAfter)},mceTableInsertColBefore:function(){Yt(y.insertColumnsBefore)},mceTableInsertColAfter:function(){Yt(y.insertColumnsAfter)},mceTableDeleteCol:function(){Yt(y.deleteColumn)},mceTableDeleteRow:function(){Yt(y.deleteRow)},mceTableCutRow:function(Nt){B.set(en()),Yt(y.deleteRow)},mceTableCopyRow:function(Nt){B.set(en())},mceTablePasteRowBefore:function(Nt){Ht(y.pasteRowsBefore)},mceTablePasteRowAfter:function(Nt){Ht(y.pasteRowsAfter)},mceTableDelete:function(){we().orThunk(ie).each(function(Nt){vi.table(Nt,z).filter(re(z)).each(function(jn){var nr=Bn.fromText("");Hr(jn,nr),Re(jn);var Nr=d.dom.createRng();Nr.setStart(nr.dom(),0),Nr.setEnd(nr.dom(),0),d.selection.setRng(Nr)})})}},function(Nt,jn){d.addCommand(jn,Nt)}),tm({mceInsertTable:D(yh,d),mceTableProps:D(yh,d,!0),mceTableRowProps:D(Wc,d),mceTableCellProps:D(Xp,d)},function(Nt,jn){d.addCommand(jn,function(nr,Nr){Nt(Nr)})})},Ds=function(d){var y=G.from(d.dom().documentElement).map(Bn.fromDom).getOr(d);return{parent:g(y),view:g(d),origin:g(Ii(0,0))}},Js=function(d,y){return{parent:g(y),view:g(d),origin:g(Ii(0,0))}},ds=function(d){var y=Qt.apply(null,d),E=[];return{bind:function(R){if(R===void 0)throw new Error("Event bind error: undefined handler");E.push(R)},unbind:function(R){E=Wt(E,function(B){return B!==R})},trigger:function(){for(var R=[],B=0;B<arguments.length;B++)R[B]=arguments[B];var z=y.apply(null,R);Ze(E,function(K){K(z)})}}},As={create:function(d){return{registry:Cr(d,function(y){return{bind:y.bind,unbind:y.unbind}}),trigger:Cr(d,function(y){return y.trigger})}}},bh=function(d,y){return function(E){if(d(E)){var R,B,z,K,ie,we,Ve,pt=Bn.fromDom(E.target),Yt=function(){E.stopPropagation()},en=function(){E.preventDefault()},Ht=l(en,Yt),Nt=(R=pt,B=E.clientX,z=E.clientY,K=Yt,ie=en,we=Ht,Ve=E,{target:g(R),x:g(B),y:g(z),stop:K,prevent:ie,kill:we,raw:g(Ve)});y(Nt)}}},md=function(d,y,E,R){return B=d,z=y,K=!1,ie=bh(E,R),B.dom().addEventListener(z,ie,K),{unbind:D(Gp,B,z,ie,K)};var B,z,K,ie},Gp=function(d,y,E,R){d.dom().removeEventListener(y,E,R)},nm=g(!0),Uc=function(d,y,E){return md(d,y,nm,E)},wh=Object.prototype.hasOwnProperty,Jp=(gh=function(d,y){return y},function(){for(var d=new Array(arguments.length),y=0;y<d.length;y++)d[y]=arguments[y];if(d.length===0)throw new Error("Can't merge zero objects");for(var E={},R=0;R<d.length;R++){var B=d[R];for(var z in B)wh.call(B,z)&&(E[z]=gh(E[z],B[z]))}return E}),hl={resolve:Wr("ephox-dragster").resolve},rm=Vd(["compare","extract","mutate","sink"]),om=Vd(["element","start","stop","destroy"]),vc=Vd(["forceDrop","drop","move","delayDrop"]),im=rm({compare:function(d,y){return Ii(y.left()-d.left(),y.top()-d.top())},extract:function(d){return G.some(Ii(d.x(),d.y()))},sink:function(d,y){var E,R,B,z=(E=y,R=Jp({layerClass:hl.resolve("blocker")},E),B=Bn.fromTag("div"),Dn(B,"role","presentation"),kt(B,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Oe(B,hl.resolve("blocker")),Oe(B,R.layerClass),{element:function(){return B},destroy:function(){Re(B)}}),K=Uc(z.element(),"mousedown",d.forceDrop),ie=Uc(z.element(),"mouseup",d.drop),we=Uc(z.element(),"mousemove",d.move),Ve=Uc(z.element(),"mouseout",d.delayDrop);return om({element:z.element,start:function(pt){Er(pt,z.element())},stop:function(){Re(z.element())},destroy:function(){z.destroy(),ie.unbind(),we.unbind(),Ve.unbind(),K.unbind()}})},mutate:function(d,y){d.mutate(y.left(),y.top())}});function Qs(){var d=G.none(),y=As.create({move:ds(["info"])});return{onEvent:function(E,R){R.extract(E).each(function(B){var z,K,ie;(z=R,K=B,ie=d.map(function(we){return z.compare(we,K)}),d=G.some(K),ie).each(function(we){y.trigger.move(we)})})},reset:function(){d=G.none()},events:y.registry}}function Fl(){var d={onEvent:a,reset:a},y=Qs(),E=d;return{on:function(){E.reset(),E=y},off:function(){E.reset(),E=d},isOn:function(){return E===y},onEvent:function(R,B){E.onEvent(R,B)},events:y.events}}var xh=function(d,y,E){var R,B,z,K=!1,ie=As.create({start:ds([]),stop:ds([])}),we=Fl(),Ve=function(){en.stop(),we.isOn()&&(we.off(),ie.trigger.stop())},pt=(R=Ve,B=200,z=null,{cancel:function(){z!==null&&(t.clearTimeout(z),z=null)},throttle:function(){for(var Ht=[],Nt=0;Nt<arguments.length;Nt++)Ht[Nt]=arguments[Nt];z!==null&&t.clearTimeout(z),z=t.setTimeout(function(){R.apply(null,Ht),z=null},B)}});we.events.move.bind(function(Ht){y.mutate(d,Ht.info())});var Yt=function(Ht){return function(){for(var Nt=[],jn=0;jn<arguments.length;jn++)Nt[jn]=arguments[jn];K&&Ht.apply(null,Nt)}},en=y.sink(vc({forceDrop:Ve,drop:Yt(Ve),move:Yt(function(Ht){pt.cancel(),we.onEvent(Ht,y)}),delayDrop:Yt(pt.throttle)}),E);return{element:en.element,go:function(Ht){en.start(Ht),we.on(),ie.trigger.start()},on:function(){K=!0},off:function(){K=!1},destroy:function(){en.destroy()},events:ie.registry}},Qp=function(d,y){y===void 0&&(y={});var E=y.mode!==void 0?y.mode:im;return xh(d,E,y)},Zp=function(){var d,y=As.create({drag:ds(["xDelta","yDelta","target"])}),E=G.none(),R={mutate:function(B,z){d.trigger.drag(B,z)},events:(d=As.create({drag:ds(["xDelta","yDelta"])})).registry};return R.events.drag.bind(function(B){E.each(function(z){y.trigger.drag(B.xDelta(),B.yDelta(),z)})}),{assign:function(B){E=G.some(B)},get:function(){return E},mutate:R.mutate,events:y.registry}},eg=function(d){return Ho(d,"contenteditable")==="true"},tg=to.resolve("resizer-bar-dragging"),am=function(d,y,E){var R=Zp(),B=Qp(R,{}),z=G.none(),K=function(Nt,jn){return G.from(Ho(Nt,jn))};R.events.drag.bind(function(Nt){K(Nt.target(),"data-row").each(function(jn){var nr=aa.getInt(Nt.target(),"top");Jt(Nt.target(),"top",nr+Nt.yDelta()+"px")}),K(Nt.target(),"data-column").each(function(jn){var nr=aa.getInt(Nt.target(),"left");Jt(Nt.target(),"left",nr+Nt.xDelta()+"px")})});var ie=function(Nt,jn){return aa.getInt(Nt,jn)-parseInt(Ho(Nt,"data-initial-"+jn),10)};B.events.stop.bind(function(){R.get().each(function(Nt){z.each(function(jn){K(Nt,"data-row").each(function(nr){var Nr=ie(Nt,"top");Xo(Nt,"data-initial-top"),Ht.trigger.adjustHeight(jn,Nr,parseInt(nr,10))}),K(Nt,"data-column").each(function(nr){var Nr=ie(Nt,"left");Xo(Nt,"data-initial-left"),Ht.trigger.adjustWidth(jn,Nr,parseInt(nr,10))}),ha(d,jn,E,y)})})});var we=function(Nt,jn){Ht.trigger.startAdjust(),R.assign(Nt),Dn(Nt,"data-initial-"+jn,parseInt(yt(Nt,jn),10)),Oe(Nt,tg),Jt(Nt,"opacity","0.2"),B.go(d.parent())},Ve=Uc(d.parent(),"mousedown",function(Nt){es(Nt.target())&&we(Nt.target(),"top"),ts(Nt.target())&&we(Nt.target(),"left")}),pt=function(Nt){return Bt(Nt,d.view())},Yt=function(Nt){return Oo(Nt,"table",pt).filter(function(jn){return(nr=jn,Nr=pt,Oo(nr,"[contenteditable]",Nr)).exists(eg);var nr,Nr})},en=Uc(d.view(),"mouseover",function(Nt){Yt(Nt.target()).fold(function(){Zo(Nt.target())&&Sa(d)},function(jn){z=G.some(jn),ha(d,jn,E,y)})}),Ht=As.create({adjustHeight:ds(["table","delta","row"]),adjustWidth:ds(["table","delta","column"]),startAdjust:ds([])});return{destroy:function(){Ve.unbind(),en.unbind(),B.destroy(),Sa(d)},refresh:function(Nt){ha(d,Nt,E,y)},on:B.on,off:B.off,hideBars:D(Ca,d),showBars:D(Qi,d),events:Ht.registry}},um=function(d,y){var E=uu.height,R=am(d,y,E),B=As.create({beforeResize:ds(["table"]),afterResize:ds(["table"]),startDrag:ds([])});return R.events.adjustHeight.bind(function(z){B.trigger.beforeResize(z.table());var K=E.delta(z.delta(),z.table());rd(z.table(),K,z.row(),E),B.trigger.afterResize(z.table())}),R.events.startAdjust.bind(function(z){B.trigger.startDrag()}),R.events.adjustWidth.bind(function(z){B.trigger.beforeResize(z.table());var K=y.delta(z.delta(),z.table());sh(z.table(),K,z.column(),y),B.trigger.afterResize(z.table())}),{on:R.on,off:R.off,hideBars:R.hideBars,showBars:R.showBars,destroy:R.destroy,events:B.registry}},ng=function(d,y){return d.inline?Js(hc(d),(E=Bn.fromTag("div"),kt(E,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Er(Xe(),E),E)):Ds(Bn.fromDom(d.getDoc()));var E},sm=function(d,y){d.inline&&Re(y.parent())},$c=function(d){var y,E,R=G.none(),B=G.none(),z=G.none(),K=/(\d+(\.\d+)?)%/,ie=function(we){return we.nodeName==="TABLE"};return d.on("init",function(){var we,Ve=Lc(Gs.directionAt),pt=ng(d);if(z=G.some(pt),((we=d.getParam("object_resizing",!0))==="table"||we)&&d.getParam("table_resize_bars",!0,"boolean")){var Yt=um(pt,Ve);Yt.on(),Yt.events.startDrag.bind(function(en){R=G.some(d.selection.getRng())}),Yt.events.beforeResize.bind(function(en){var Ht=en.table().dom();Pf(d,Ht,ad(Ht),Vp(Ht))}),Yt.events.afterResize.bind(function(en){var Ht=en.table(),Nt=Ht.dom();ud(Ht),R.each(function(jn){d.selection.setRng(jn),d.focus()}),dh(d,Nt,ad(Nt),Vp(Nt)),d.undoManager.add()}),B=G.some(Yt)}}),d.on("ObjectResizeStart",function(we){var Ve,pt=we.target;ie(pt)&&(y=we.width,Ve=pt,E=d.dom.getStyle(Ve,"width")||d.dom.getAttrib(Ve,"width"))}),d.on("ObjectResized",function(we){var Ve=we.target;if(ie(Ve)){var pt=Ve;if(K.test(E)){var Yt=parseFloat(K.exec(E)[1]),en=we.width*Yt/y;d.dom.setStyle(pt,"width",en+"%")}else{var Ht=[];Ki.each(pt.rows,function(Nt){Ki.each(Nt.cells,function(jn){var nr=d.dom.getStyle(jn,"width",!0);Ht.push({cell:jn,width:nr})})}),Ki.each(Ht,function(Nt){d.dom.setStyle(Nt.cell,"width",Nt.width),d.dom.setAttrib(Nt.cell,"width",null)})}}}),{lazyResize:function(){return B},lazyWire:function(){return z.getOr(Ds(Bn.fromDom(d.getBody())))},destroy:function(){B.each(function(we){we.destroy()}),z.each(function(we){sm(d,we)})}}},Af=Mi([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Vc=Bu(Bu({},Af),{none:function(d){return d===void 0&&(d=void 0),Af.none(d)}}),Ch=function(d,y){return vi.table(d,y).bind(function(E){var R=vi.cells(E);return Vt(R,function(B){return Bt(d,B)}).map(function(B){return{index:g(B),all:g(R)}})})},rg=function(d,y){return Ch(d,y).fold(function(){return Vc.none(d)},function(E){return E.index()+1<E.all().length?Vc.middle(d,E.all()[E.index()+1]):Vc.last(d)})},Sh=function(d,y){return Ch(d,y).fold(function(){return Vc.none()},function(E){return 0<=E.index()-1?Vc.middle(d,E.all()[E.index()-1]):Vc.first(d)})},Ba={create:Qt("start","soffset","finish","foffset")},qc=Mi([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lu={before:qc.before,on:qc.on,after:qc.after,cata:function(d,y,E,R){return d.fold(y,E,R)},getStart:function(d){return d.fold(x,x,x)}},Mf=Mi([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zs={domRange:Mf.domRange,relative:Mf.relative,exact:Mf.exact,exactFromRange:function(d){return Mf.exact(d.start(),d.soffset(),d.finish(),d.foffset())},getWin:function(d){var y,E=d.match({domRange:function(R){return Bn.fromDom(R.startContainer)},relative:function(R,B){return lu.getStart(R)},exact:function(R,B,z,K){return R}});return y=E,Bn.fromDom(y.dom().ownerDocument.defaultView)},range:Ba.create},kh=function(d,y){d.selectNodeContents(y.dom())},Eh=function(d,y,E){var R,B,z=d.document.createRange();return R=z,y.fold(function(K){R.setStartBefore(K.dom())},function(K,ie){R.setStart(K.dom(),ie)},function(K){R.setStartAfter(K.dom())}),B=z,E.fold(function(K){B.setEndBefore(K.dom())},function(K,ie){B.setEnd(K.dom(),ie)},function(K){B.setEndAfter(K.dom())}),z},el=function(d,y,E,R,B){var z=d.document.createRange();return z.setStart(y.dom(),E),z.setEnd(R.dom(),B),z},Yc=function(d){return{left:g(d.left),top:g(d.top),right:g(d.right),bottom:g(d.bottom),width:g(d.width),height:g(d.height)}},If=Mi([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),yc=function(d,y,E){return y(Bn.fromDom(E.startContainer),E.startOffset,Bn.fromDom(E.endContainer),E.endOffset)},pl=function(d,y){var E,R,B,z=(E=d,y.match({domRange:function(K){return{ltr:g(K),rtl:G.none}},relative:function(K,ie){return{ltr:qo(function(){return Eh(E,K,ie)}),rtl:qo(function(){return G.some(Eh(E,ie,K))})}},exact:function(K,ie,we,Ve){return{ltr:qo(function(){return el(E,K,ie,we,Ve)}),rtl:qo(function(){return G.some(el(E,we,Ve,K,ie))})}}}));return(B=(R=z).ltr()).collapsed?R.rtl().filter(function(K){return K.collapsed===!1}).map(function(K){return If.rtl(Bn.fromDom(K.endContainer),K.endOffset,Bn.fromDom(K.startContainer),K.startOffset)}).getOrThunk(function(){return yc(0,If.ltr,B)}):yc(0,If.ltr,B)},ns=function(d,y){return pl(d,y).match({ltr:function(E,R,B,z){var K=d.document.createRange();return K.setStart(E.dom(),R),K.setEnd(B.dom(),z),K},rtl:function(E,R,B,z){var K=d.document.createRange();return K.setStart(B.dom(),z),K.setEnd(E.dom(),R),K}})},bc=function(d,y,E){return y>=d.left&&y<=d.right&&E>=d.top&&E<=d.bottom},hd=function(d,y,E,R,B){var z=function(we){var Ve=d.dom().createRange();return Ve.setStart(y.dom(),we),Ve.collapse(!0),Ve},K=go(y).length,ie=function(we,Ve,pt,Yt,en){if(en===0)return 0;if(Ve===Yt)return en-1;for(var Ht=Yt,Nt=1;Nt<en;Nt++){var jn=we(Nt),nr=Math.abs(Ve-jn.left);if(pt<=jn.bottom){if(pt<jn.top||Ht<nr)return Nt-1;Ht=nr}}return 0}(function(we){return z(we).getBoundingClientRect()},E,R,B.right,K);return z(ie)},lm=function(d,y,E,R){return or(y)?function(pt,Yt,en,Ht){var Nt=pt.dom().createRange();Nt.selectNode(Yt.dom());var jn=Nt.getClientRects();return f(jn,function(nr){return bc(nr,en,Ht)?G.some(nr):G.none()}).map(function(nr){return hd(pt,Yt,en,Ht,nr)})}(d,y,E,R):(z=y,K=E,ie=R,we=(B=d).dom().createRange(),Ve=Qn(z),f(Ve,function(pt){return we.selectNode(pt.dom()),bc(we.getBoundingClientRect(),K,ie)?lm(B,pt,K,ie):G.none()}));var B,z,K,ie,we,Ve},Kc=function(d,y){return y-d.left<d.right-y},Xc=function(d,y,E){var R=d.dom().createRange();return R.selectNode(y.dom()),R.collapse(E),R},cm=function(d,y,E){var R=d.dom().createRange();R.selectNode(y.dom());var B=R.getBoundingClientRect(),z=Kc(B,E);return(z===!0?me:Ye)(y).map(function(K){return Xc(d,K,z)})},og=function(d,y,E){var R=y.dom().getBoundingClientRect(),B=Kc(R,E);return G.some(Xc(d,y,B))},Gc=function(d,y,E,R){var B=d.dom().createRange();B.selectNode(y.dom());var z=B.getBoundingClientRect();return function(K,ie,we,Ve){var pt=K.dom().createRange();pt.selectNode(ie.dom());var Yt=pt.getBoundingClientRect(),en=Math.max(Yt.left,Math.min(Yt.right,we)),Ht=Math.max(Yt.top,Math.min(Yt.bottom,Ve));return lm(K,ie,en,Ht)}(d,y,Math.max(z.left,Math.min(z.right,E)),Math.max(z.top,Math.min(z.bottom,R)))},Jc=document.caretPositionFromPoint?function(d,y,E){return G.from(d.dom().caretPositionFromPoint(y,E)).bind(function(R){if(R.offsetNode===null)return G.none();var B=d.dom().createRange();return B.setStart(R.offsetNode,R.offset),B.collapse(),G.some(B)})}:document.caretRangeFromPoint?function(d,y,E){return G.from(d.dom().caretRangeFromPoint(y,E))}:function(d,y,E){return Bn.fromPoint(d,y,E).bind(function(R){var B=function(){return z=d,ie=y,(Qn(K=R).length===0?og:cm)(z,K,ie);var z,K,ie};return Qn(R).length===0?B():Gc(d,R,y,E).orThunk(B)})},ju=function(d,y){var E=qr(d);return E==="input"?lu.after(d):Le(["br","img"],E)?y===0?lu.before(d):lu.after(d):lu.on(d,y)},Th=function(d,y){var E=d.fold(lu.before,ju,lu.after),R=y.fold(lu.before,ju,lu.after);return Zs.relative(E,R)},Bf=function(d,y,E,R){var B=ju(d,y),z=ju(E,R);return Zs.relative(B,z)},zi=function(d,y,E,R){var B,z,K,ie,we,Ve=(z=y,K=E,ie=R,(we=Hn(B=d).dom().createRange()).setStart(B.dom(),z),we.setEnd(K.dom(),ie),we),pt=Bt(d,E)&&y===R;return Ve.collapsed&&!pt},Hl=function(d,y){G.from(d.getSelection()).each(function(E){E.removeAllRanges(),E.addRange(y)})},fm=function(d,y,E,R,B){var z=el(d,y,E,R,B);Hl(d,z)},rs=function(d,y){return pl(d,y).match({ltr:function(E,R,B,z){fm(d,E,R,B,z)},rtl:function(E,R,B,z){var K,ie,we,Ve,pt,Yt=d.getSelection();if(Yt.setBaseAndExtent)Yt.setBaseAndExtent(E.dom(),R,B.dom(),z);else if(Yt.extend)try{ie=E,we=R,Ve=B,pt=z,(K=Yt).collapse(ie.dom(),we),K.extend(Ve.dom(),pt)}catch{fm(d,B,z,E,R)}else fm(d,B,z,E,R)}})},zl=function(d){var y=Zs.getWin(d).dom(),E=function(B,z,K,ie){return el(y,B,z,K,ie)},R=d.match({domRange:function(B){var z=Bn.fromDom(B.startContainer),K=Bn.fromDom(B.endContainer);return Bf(z,B.startOffset,K,B.endOffset)},relative:Th,exact:Bf});return pl(y,R).match({ltr:E,rtl:E})},dm=function(d){var y=Bn.fromDom(d.anchorNode),E=Bn.fromDom(d.focusNode);return zi(y,d.anchorOffset,E,d.focusOffset)?G.some(Ba.create(y,d.anchorOffset,E,d.focusOffset)):function(R){if(0<R.rangeCount){var B=R.getRangeAt(0),z=R.getRangeAt(R.rangeCount-1);return G.some(Ba.create(Bn.fromDom(B.startContainer),B.startOffset,Bn.fromDom(z.endContainer),z.endOffset))}return G.none()}(d)},Qc=function(d,y){var E,R,B=(E=y,R=d.document.createRange(),kh(R,E),R);Hl(d,B)},_h=function(d){return(y=d,G.from(y.getSelection()).filter(function(E){return 0<E.rangeCount}).bind(dm)).map(function(E){return Zs.exact(E.start(),E.soffset(),E.finish(),E.foffset())});var y},mm=function(d,y){var E,R,B,z=ns(d,y);return R=(E=z).getClientRects(),0<(B=0<R.length?R[0]:E.getBoundingClientRect()).width||0<B.height?G.some(B).map(Yc):G.none()},Nh=function(d,y,E){return R=d,B=y,z=E,K=Bn.fromDom(R.document),Jc(K,B,z).map(function(ie){return Ba.create(Bn.fromDom(ie.startContainer),ie.startOffset,Bn.fromDom(ie.endContainer),ie.endOffset)});var R,B,z,K},ig=tinymce.util.Tools.resolve("tinymce.util.VK"),Rh=function(d,y,E,R){return Ph(d,y,rg(E),R)},Wu=function(d,y,E,R){return Ph(d,y,Sh(E),R)},Oh=function(d,y){var E=Zs.exact(y,0,y,0);return zl(E)},ag=function(d,y){var E,R=Ro(y,"tr");return(E=R,E.length===0?G.none():G.some(E[E.length-1])).bind(function(B){return Vo(B,"td,th").map(function(z){return Oh(0,z)})})},Ph=function(d,y,E,R,B){return E.fold(G.none,G.none,function(z,K){return me(K).map(function(ie){return Oh(0,ie)})},function(z){return vi.table(z,y).bind(function(K){var ie=Es.noMenu(z);return d.undoManager.transact(function(){R.insertRowsAfter(K,ie)}),ag(0,K)})})},Dh=["table","li","dl"],Zc=function(d,y,E,R){if(d.keyCode===ig.TAB){var B=hc(y),z=function(we){var Ve=qr(we);return Bt(we,B)||Le(Dh,Ve)},K=y.selection.getRng();if(K.collapsed){var ie=Bn.fromDom(K.startContainer);vi.cell(ie,z).each(function(we){d.preventDefault(),(d.shiftKey?Wu:Rh)(y,z,we,E).each(function(Ve){y.selection.setRng(Ve)})})}}},ef={create:Qt("selection","kill")},pd=function(d,y,E,R){return{start:g(lu.on(d,y)),finish:g(lu.on(E,R))}},jl={convertToRange:function(d,y){var E=ns(d,y);return Ba.create(Bn.fromDom(E.startContainer),E.startOffset,Bn.fromDom(E.endContainer),E.endOffset)},makeSitus:pd},ug=function(d,y,E,R,B){return Bt(E,R)?G.none():Lo(E,R,y).bind(function(z){var K=z.boxes().getOr([]);return 0<K.length?(B(d,K,z.start(),z.finish()),G.some(ef.create(G.some(jl.makeSitus(E,0,E,Vi(E))),!0))):G.none()})},Ah={sync:function(d,y,E,R,B,z,K){return Bt(E,B)&&R===z?G.none():Oo(E,"td,th",y).bind(function(ie){return Oo(B,"td,th",y).bind(function(we){return ug(d,y,ie,we,K)})})},detect:ug,update:function(d,y,E,R,B){return ba(R,d,y,B.firstSelectedSelector(),B.lastSelectedSelector()).map(function(z){return B.clear(E),B.selectRange(E,z.boxes(),z.start(),z.finish()),z.boxes()})}},oo=Qt("item","mode"),hm=function(d,y,E,R){return R===void 0&&(R=Lf),d.property().parent(y).map(function(B){return oo(B,R)})},Lf=function(d,y,E,R){return R===void 0&&(R=tf),E.sibling(d,y).map(function(B){return oo(B,R)})},tf=function(d,y,E,R){R===void 0&&(R=tf);var B=d.property().children(y);return E.first(B).map(function(z){return oo(z,R)})},sg=[{current:hm,next:Lf,fallback:G.none()},{current:Lf,next:tf,fallback:G.some(hm)},{current:tf,next:tf,fallback:G.some(Lf)}],pm=function(d,y,E,R,B){return B===void 0&&(B=sg),At(B,function(z){return z.current===E}).bind(function(z){return z.current(d,y,R,z.next).orThunk(function(){return z.fallback.bind(function(K){return pm(d,y,K,R)})})})},lg=function(){return{sibling:function(d,y){return d.query().prevSibling(y)},first:function(d){return 0<d.length?G.some(d[d.length-1]):G.none()}}},Zv=function(){return{sibling:function(d,y){return d.query().nextSibling(y)},first:function(d){return 0<d.length?G.some(d[0]):G.none()}}},na=function(d,y,E,R,B,z){return pm(d,y,R,B).bind(function(K){return z(K.item())?G.none():E(K.item())?G.some(K.item()):na(d,K.item(),E,K.mode(),B,z)})},cg=function(d){return function(y){return d.property().children(y).length===0}},ms=function(d,y,E,R){return na(d,y,E,Lf,lg(),R)},gm=function(d,y,E,R){return na(d,y,E,Lf,Zv(),R)},nf=Xn(),rf=function(d,y){return R=y,ms(E=nf,d,cg(E),R);var E,R},Yo=function(d,y){return R=y,gm(E=nf,d,cg(E),R);var E,R},Wa=Qt("element","offset"),Ff=(Qt("element","deltaOffset"),Qt("element","start","finish"),Qt("begin","end"),Qt("element","text"),Mi([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])),fg=function(d){return Oo(d,"tr")},Hf=Bu(Bu({},Ff),{verify:function(d,y,E,R,B,z,K){return Oo(R,"td,th",K).bind(function(ie){return Oo(y,"td,th",K).map(function(we){return Bt(ie,we)?Bt(R,ie)&&Vi(ie)===B?z(we):Ff.none("in same cell"):Gu.sharedOne(fg,[ie,we]).fold(function(){return pt=we,Yt=ie,en=(Ve=d).getRect(pt),(Ht=Ve.getRect(Yt)).right>en.left&&Ht.left<en.right?Ff.success():z(we);var Ve,pt,Yt,en,Ht},function(Ve){return z(we)})})}).getOr(Ff.none("default"))},cata:function(d,y,E,R,B){return d.fold(y,E,R,B)}}),dg=(Qt("ancestor","descendants","element","index"),Qt("parent","children","element","index")),mg=function(d,y){return Vt(d,D(Bt,y))},of=function(d){return qr(d)==="br"},gd=function(d,y,E){return y(d,E).bind(function(R){return or(R)&&go(R).trim().length===0?gd(R,y,E):G.some(R)})},vm=function(d,y,E,R){return(B=y,z=E,Nn(B,z).filter(of).orThunk(function(){return Nn(B,z-1).filter(of)})).bind(function(K){return R.traverse(K).fold(function(){return gd(K,R.gather,d).map(R.relative)},function(ie){return(we=ie,Kn(we).bind(function(Ve){var pt=Qn(Ve);return mg(pt,we).map(function(Yt){return dg(Ve,pt,we,Yt)})})).map(function(Ve){return lu.on(Ve.parent(),Ve.index())});var we})});var B,z},hg=function(d,y,E,R){var B,z,K;return(of(y)?(B=d,z=y,(K=R).traverse(z).orThunk(function(){return gd(z,K.gather,B)}).map(K.relative)):vm(d,y,E,R)).map(function(ie){return{start:g(ie),finish:g(ie)}})},ym=function(d){return Hf.cata(d,function(y){return G.none()},function(){return G.none()},function(y){return G.some(Wa(y,0))},function(y){return G.some(Wa(y,Vi(y)))})},cu=xn(["left","top","right","bottom"],[]),hs={nu:cu,moveUp:function(d,y){return cu({left:d.left(),top:d.top()-y,right:d.right(),bottom:d.bottom()-y})},moveDown:function(d,y){return cu({left:d.left(),top:d.top()+y,right:d.right(),bottom:d.bottom()+y})},moveBottomTo:function(d,y){var E=d.bottom()-d.top();return cu({left:d.left(),top:y-E,right:d.right(),bottom:y})},moveTopTo:function(d,y){var E=d.bottom()-d.top();return cu({left:d.left(),top:y,right:d.right(),bottom:y+E})},getTop:function(d){return d.top()},getBottom:function(d){return d.bottom()},translate:function(d,y,E){return cu({left:d.left()+y,top:d.top()+E,right:d.right()+y,bottom:d.bottom()+E})},toString:function(d){return"("+d.left()+", "+d.top()+") -> ("+d.right()+", "+d.bottom()+")"}},af=function(d){return hs.nu({left:d.left,top:d.top,right:d.right,bottom:d.bottom})},Mh=function(d,y){return G.some(d.getRect(y))},bm=function(d,y,E){return Tn(y)?Mh(d,y).map(af):or(y)?(R=d,B=y,z=E,0<=z&&z<Vi(B)?R.getRangedRect(B,z,B,z+1):0<z?R.getRangedRect(B,z-1,B,z):G.none()).map(af):G.none();var R,B,z},vd=function(d,y){return Tn(y)?Mh(d,y).map(af):or(y)?d.getRangedRect(y,0,y,Vi(y)).map(af):G.none()},Uu=Mi([{none:[]},{retry:["caret"]}]),Ih=function(d,y,E){return(R=y,B=Ml,Di(function(K,ie){return ie(K)},xo,R,B,z)).fold(g(!1),function(K){return vd(d,K).exists(function(ie){return Ve=ie,(we=E).left()<Ve.left()||Math.abs(Ve.right()-we.left())<1||we.left()>Ve.right();var we,Ve})});var R,B,z},pg={point:hs.getTop,adjuster:function(d,y,E,R,B){var z=hs.moveUp(B,5);return Math.abs(E.top()-R.top())<1||E.bottom()<B.top()?Uu.retry(z):E.bottom()===B.top()?Uu.retry(hs.moveUp(B,1)):Ih(d,y,B)?Uu.retry(hs.translate(z,5,0)):Uu.none()},move:hs.moveUp,gather:rf},gg={point:hs.getBottom,adjuster:function(d,y,E,R,B){var z=hs.moveDown(B,5);return Math.abs(E.bottom()-R.bottom())<1||E.top()>B.bottom()?Uu.retry(z):E.top()===B.bottom()?Uu.retry(hs.moveDown(B,1)):Ih(d,y,B)?Uu.retry(hs.translate(z,5,0)):Uu.none()},move:hs.moveDown,gather:Yo},Bh=function(d,y,E,R,B){return B===0?G.some(R):(we=d,Ve=R.left(),pt=y.point(R),we.elementFromPoint(Ve,pt).filter(function(Yt){return qr(Yt)==="table"}).isSome()?(K=R,ie=B-1,Bh(d,z=y,E,z.move(K,5),ie)):d.situsFromPoint(R.left(),y.point(R)).bind(function(Yt){return Yt.start().fold(G.none,function(en){return vd(d,en).bind(function(Ht){return y.adjuster(d,en,Ht,E,R).fold(G.none,function(Nt){return Bh(d,y,E,Nt,B-1)})}).orThunk(function(){return G.some(R)})},G.none)}));var z,K,ie,we,Ve,pt},Lh=function(d,y,E){var R,B,z,K=d.move(E,5),ie=Bh(y,d,E,K,100).getOr(K);return(R=d,B=ie,z=y,R.point(B)>z.getInnerHeight()?G.some(R.point(B)-z.getInnerHeight()):R.point(B)<0?G.some(-R.point(B)):G.none()).fold(function(){return y.situsFromPoint(ie.left(),d.point(ie))},function(we){return y.scrollBy(0,we),y.situsFromPoint(ie.left(),d.point(ie)-we)})},Wl={tryUp:D(Lh,pg),tryDown:D(Lh,gg),ieTryUp:function(d,y){return d.situsFromPoint(y.left(),y.top()-5)},ieTryDown:function(d,y){return d.situsFromPoint(y.left(),y.bottom()+5)},getJumpSize:g(5)},gl=oe.detect(),wm=function(d,y,E,R,B,z){return z===0?G.none():e0(d,y,E,R,B).bind(function(K){var ie=d.fromSitus(K),we=Hf.verify(d,E,R,ie.finish(),ie.foffset(),B.failure,y);return Hf.cata(we,function(){return G.none()},function(){return G.some(K)},function(Ve){return Bt(E,Ve)&&R===0?Fh(d,E,R,hs.moveUp,B):wm(d,y,Ve,0,B,z-1)},function(Ve){return Bt(E,Ve)&&R===Vi(Ve)?Fh(d,E,R,hs.moveDown,B):wm(d,y,Ve,Vi(Ve),B,z-1)})})},Fh=function(d,y,E,R,B){return bm(d,y,E).bind(function(z){return xm(d,B,R(z,Wl.getJumpSize()))})},xm=function(d,y,E){return gl.browser.isChrome()||gl.browser.isSafari()||gl.browser.isFirefox()||gl.browser.isEdge()?y.otherRetry(d,E):gl.browser.isIE()?y.ieRetry(d,E):G.none()},e0=function(d,y,E,R,B){return bm(d,E,R).bind(function(z){return xm(d,B,z)})},t0=function(d,y,E){return(R=d,B=y,z=E,R.getSelection().bind(function(K){return hg(B,K.finish(),K.foffset(),z).fold(function(){return G.some(Wa(K.finish(),K.foffset()))},function(ie){var we=R.fromSitus(ie),Ve=Hf.verify(R,K.finish(),K.foffset(),we.finish(),we.foffset(),z.failure,B);return ym(Ve)})})).bind(function(K){return wm(d,y,K.element(),K.offset(),E,20).map(d.fromSitus)});var R,B,z},n0=oe.detect(),zf=function(d,y){return xo(d,function(R){return Kn(R).exists(function(B){return Bt(B,y)})},E).isSome();var E},vg=function(d,y,E,R,B){return Oo(R,"td,th",y).bind(function(z){return Oo(z,"table",y).bind(function(K){return zf(B,K)?t0(d,y,E).bind(function(ie){return Oo(ie.finish(),"td,th",y).map(function(we){return{start:g(z),finish:g(we),range:g(ie)}})}):G.none()})})},jf=function(d,y,E,R,B,z){return n0.browser.isIE()?G.none():z(R,y).orThunk(function(){return vg(d,y,E,R,B).map(function(K){var ie=K.range();return ef.create(G.some(jl.makeSitus(ie.start(),ie.soffset(),ie.finish(),ie.foffset())),!0)})})},Ms=function(d,y,E,R,B,z,K){return vg(d,E,R,B,z).bind(function(ie){return Ah.detect(y,E,ie.start(),ie.finish(),K)})},Is=function(d,y){return Oo(d,"tr",y).bind(function(E){return Oo(E,"table",y).bind(function(R){var B,z,K,ie=Ro(R,"tr");return Bt(E,ie[0])?(B=R,z=function(we){return Ye(we).isSome()},K=y,ms(nf,B,z,K)).map(function(we){var Ve=Vi(we);return ef.create(G.some(jl.makeSitus(we,Ve,we,Ve)),!0)}):G.none()})})},yg=function(d,y){return Oo(d,"tr",y).bind(function(E){return Oo(E,"table",y).bind(function(R){var B,z,K,ie=Ro(R,"tr");return Bt(E,ie[ie.length-1])?(B=R,z=function(we){return me(we).isSome()},K=y,gm(nf,B,z,K)).map(function(we){return ef.create(G.some(jl.makeSitus(we,0,we,0)),!0)}):G.none()})})},Ul=function(d,y){return Oo(d,"td,th",y)},Wf={down:{traverse:zn,gather:Yo,relative:lu.before,otherRetry:Wl.tryDown,ieRetry:Wl.ieTryDown,failure:Hf.failedDown},up:{traverse:gn,gather:rf,relative:lu.before,otherRetry:Wl.tryUp,ieRetry:Wl.ieTryUp,failure:Hf.failedUp}},Uf=function(d){return function(y){return y===d}},Hh=Uf(38),r0=Uf(40),ps={ltr:{isBackward:Uf(37),isForward:Uf(39)},rtl:{isBackward:Uf(39),isForward:Uf(37)},isUp:Hh,isDown:r0,isNavigation:function(d){return 37<=d&&d<=40}},o0=function(d){return{left:d.left(),top:d.top(),right:d.right(),bottom:d.bottom(),width:d.width(),height:d.height()}},bg=(oe.detect().browser.isSafari(),function(d){return{elementFromPoint:function(y,E){return Bn.fromPoint(Bn.fromDom(d.document),y,E)},getRect:function(y){return y.dom().getBoundingClientRect()},getRangedRect:function(y,E,R,B){var z=Zs.exact(y,E,R,B);return mm(d,z).map(o0)},getSelection:function(){return _h(d).map(function(y){return jl.convertToRange(d,y)})},fromSitus:function(y){var E=Zs.relative(y.start(),y.finish());return jl.convertToRange(d,E)},situsFromPoint:function(y,E){return Nh(d,y,E).map(function(R){return pd(R.start(),R.soffset(),R.finish(),R.foffset())})},clearSelection:function(){d.getSelection().removeAllRanges()},setSelection:function(y){var E,R,B,z,K,ie;E=d,R=y.start(),B=y.soffset(),z=y.finish(),K=y.foffset(),ie=Bf(R,B,z,K),rs(E,ie)},setRelativeSelection:function(y,E){var R,B;R=d,B=Th(y,E),rs(R,B)},selectContents:function(y){Qc(d,y)},getInnerHeight:function(){return d.innerHeight},getScrollY:function(){var y,E,R,B;return(y=Bn.fromDom(d.document),E=y!==void 0?y.dom():t.document,R=E.body.scrollLeft||E.documentElement.scrollLeft,B=E.body.scrollTop||E.documentElement.scrollTop,Ii(R,B)).top()},scrollBy:function(y,E){var R,B,z;R=y,B=E,((z=Bn.fromDom(d.document))!==void 0?z.dom():t.document).defaultView.scrollBy(R,B)}}}),$l=Qt("rows","cols"),zh={mouse:function(d,y,E,R){var B,z,K,ie,we,Ve,pt=bg(d),Yt=(B=pt,z=y,K=E,ie=R,we=G.none(),Ve=function(){we=G.none()},{mousedown:function(en){ie.clear(z),we=Ul(en.target(),K)},mouseover:function(en){we.each(function(Ht){ie.clear(z),Ul(en.target(),K).each(function(Nt){Lo(Ht,Nt,K).each(function(jn){var nr=jn.boxes().getOr([]);(1<nr.length||nr.length===1&&!Bt(Ht,Nt))&&(ie.selectRange(z,nr,jn.start(),jn.finish()),B.selectContents(Nt))})})})},mouseup:function(en){we.each(Ve)}});return{mousedown:Yt.mousedown,mouseover:Yt.mouseover,mouseup:Yt.mouseup}},keyboard:function(d,y,E,R){var B=bg(d),z=function(){return R.clear(y),G.none()};return{keydown:function(K,ie,we,Ve,pt,Yt){var en=K.raw(),Ht=en.which,Nt=en.shiftKey===!0;return bu(y,R.selectedSelector()).fold(function(){return ps.isDown(Ht)&&Nt?D(Ms,B,y,E,Wf.down,Ve,ie,R.selectRange):ps.isUp(Ht)&&Nt?D(Ms,B,y,E,Wf.up,Ve,ie,R.selectRange):ps.isDown(Ht)?D(jf,B,E,Wf.down,Ve,ie,yg):ps.isUp(Ht)?D(jf,B,E,Wf.up,Ve,ie,Is):G.none},function(jn){var nr=function(Nr){return function(){return f(Nr,function(po){return Ah.update(po.rows(),po.cols(),y,jn,R)}).fold(function(){return Ss(y,R.firstSelectedSelector(),R.lastSelectedSelector()).map(function(po){var Ar=ps.isDown(Ht)||Yt.isForward(Ht)?lu.after:lu.before;return B.setRelativeSelection(lu.on(po.first(),0),Ar(po.table())),R.clear(y),ef.create(G.none(),!0)})},function(po){return G.some(ef.create(G.none(),!0))})}};return ps.isDown(Ht)&&Nt?nr([$l(1,0)]):ps.isUp(Ht)&&Nt?nr([$l(-1,0)]):Yt.isBackward(Ht)&&Nt?nr([$l(0,-1),$l(-1,0)]):Yt.isForward(Ht)&&Nt?nr([$l(0,1),$l(1,0)]):ps.isNavigation(Ht)&&Nt===!1?z:G.none})()},keyup:function(K,ie,we,Ve,pt){return bu(y,R.selectedSelector()).fold(function(){var Yt=K.raw(),en=Yt.which;return Yt.shiftKey===!0==0?G.none():ps.isNavigation(en)?Ah.sync(y,E,ie,we,Ve,pt,R.selectRange):G.none()},G.none)}}}},wg=function(d,y){Ze(y,function(E){var R,B;B=E,V(R=d)?R.dom().classList.remove(B):ke(R,B),ot(R)})},jh={byClass:function(d){var y,E,R=(y=d.selected(),function(K){Oe(K,y)}),B=(E=[d.selected(),d.lastSelected(),d.firstSelected()],function(K){wg(K,E)}),z=function(K){var ie=Ro(K,d.selectedSelector());Ze(ie,B)};return{clear:z,selectRange:function(K,ie,we,Ve){z(K),Ze(ie,R),Oe(we,d.firstSelected()),Oe(Ve,d.lastSelected())},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}},byAttr:function(d){var y=function(B){Xo(B,d.selected()),Xo(B,d.firstSelected()),Xo(B,d.lastSelected())},E=function(B){Dn(B,d.selected(),"1")},R=function(B){var z=Ro(B,d.selectedSelector());Ze(z,y)};return{clear:R,selectRange:function(B,z,K,ie){R(B),Ze(z,E),Dn(K,d.firstSelected(),"1"),Dn(ie,d.lastSelected(),"1")},selectedSelector:d.selectedSelector,firstSelectedSelector:d.firstSelectedSelector,lastSelectedSelector:d.lastSelectedSelector}}},Wh=function(d){return It(Bn.fromDom(d.target),"ephox-snooker-resizer-bar")===!1};function i0(d,y){var E=xn(["mousedown","mouseover","mouseup","keyup","keydown"],[]),R=G.none(),B=jh.byAttr(ou);return d.on("init",function(z){var K=d.getWin(),ie=hc(d),we=qp(d),Ve=zh.mouse(K,ie,we,B),pt=zh.keyboard(K,ie,we,B),Yt=function(gr,so){gr.raw().shiftKey===!0&&(so.kill()&&gr.kill(),so.selection().each(function(_o){var ji=Zs.relative(_o.start(),_o.finish()),Ua=ns(K,ji);d.selection.setRng(Ua)}))},en=function(gr){var so=jn(gr);if(so.raw().shiftKey&&ps.isNavigation(so.raw().which)){var _o=d.selection.getRng(),ji=Bn.fromDom(_o.startContainer),Ua=Bn.fromDom(_o.endContainer);pt.keyup(so,ji,_o.startOffset,Ua,_o.endOffset).each(function(yl){Yt(so,yl)})}},Ht=function(gr){var so=jn(gr);y().each(function(Tu){Tu.hideBars()});var _o=d.selection.getRng(),ji=Bn.fromDom(d.selection.getStart()),Ua=Bn.fromDom(_o.startContainer),yl=Bn.fromDom(_o.endContainer),fu=Gs.directionAt(ji).isRtl()?ps.rtl:ps.ltr;pt.keydown(so,Ua,_o.startOffset,yl,_o.endOffset,fu).each(function(Tu){Yt(so,Tu)}),y().each(function(Tu){Tu.showBars()})},Nt=function(gr){return gr.hasOwnProperty("x")&&gr.hasOwnProperty("y")},jn=function(gr){var so=Bn.fromDom(gr.target),_o=function(){gr.stopPropagation()},ji=function(){gr.preventDefault()},Ua=l(ji,_o);return{target:g(so),x:g(Nt(gr)?gr.x:null),y:g(Nt(gr)?gr.y:null),stop:_o,prevent:ji,kill:Ua,raw:g(gr)}},nr=function(gr){return gr.button===0},Nr=function(gr){nr(gr)&&Wh(gr)&&Ve.mousedown(jn(gr))},po=function(gr){var so;((so=gr).buttons===void 0||ph.ie&&12<=ph.ie&&so.buttons===0||(1&so.buttons)!=0)&&Wh(gr)&&Ve.mouseover(jn(gr))},Ar=function(gr){nr(gr)&&Wh(gr)&&Ve.mouseup(jn(gr))};d.on("mousedown",Nr),d.on("mouseover",po),d.on("mouseup",Ar),d.on("keyup",en),d.on("keydown",Ht),d.on("nodechange",function(){var gr=d.selection,so=Bn.fromDom(gr.getStart()),_o=Bn.fromDom(gr.getEnd());Gu.sharedOne(vi.table,[so,_o]).fold(function(){B.clear(ie)},a)}),R=G.some(E({mousedown:Nr,mouseover:po,mouseup:Ar,keyup:en,keydown:Ht}))}),{clear:B.clear,destroy:function(){R.each(function(z){})}}}var a0=Ki.each,xg=function(d){var y=[];function E(R){return function(){d.execCommand(R)}}a0("inserttable tableprops deletetable | cell row column".split(" "),function(R){R==="|"?y.push({text:"-"}):y.push(d.menuItems[R])}),d.addButton("table",{type:"menubutton",title:"Table",menu:y}),d.addButton("tableprops",{title:"Table properties",onclick:E("mceTableProps"),icon:"table"}),d.addButton("tabledelete",{title:"Delete table",onclick:E("mceTableDelete")}),d.addButton("tablecellprops",{title:"Cell properties",onclick:E("mceTableCellProps")}),d.addButton("tablemergecells",{title:"Merge cells",onclick:E("mceTableMergeCells")}),d.addButton("tablesplitcells",{title:"Split cell",onclick:E("mceTableSplitCells")}),d.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:E("mceTableInsertRowBefore")}),d.addButton("tableinsertrowafter",{title:"Insert row after",onclick:E("mceTableInsertRowAfter")}),d.addButton("tabledeleterow",{title:"Delete row",onclick:E("mceTableDeleteRow")}),d.addButton("tablerowprops",{title:"Row properties",onclick:E("mceTableRowProps")}),d.addButton("tablecutrow",{title:"Cut row",onclick:E("mceTableCutRow")}),d.addButton("tablecopyrow",{title:"Copy row",onclick:E("mceTableCopyRow")}),d.addButton("tablepasterowbefore",{title:"Paste row before",onclick:E("mceTablePasteRowBefore")}),d.addButton("tablepasterowafter",{title:"Paste row after",onclick:E("mceTablePasteRowAfter")}),d.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:E("mceTableInsertColBefore")}),d.addButton("tableinsertcolafter",{title:"Insert column after",onclick:E("mceTableInsertColAfter")}),d.addButton("tabledeletecol",{title:"Delete column",onclick:E("mceTableDeleteCol")})},Cg=function(d){var y,E=(y=d.getParam("table_toolbar",lh))===""||y===!1?[]:Ae(y)?y.split(/[ ,]/):Ke(y)?y:[];0<E.length&&d.addContextToolbar(function(R){return d.dom.is(R,"table")&&d.getBody().contains(R)},E.join(" "))},vl=function(d,y){var E=G.none(),R=[],B=[],z=[],K=[],ie=function(Ar){Ar.disabled(!0)},we=function(Ar){Ar.disabled(!1)},Ve=function(){var Ar=this;R.push(Ar),E.fold(function(){ie(Ar)},function(gr){we(Ar)})},pt=function(){var Ar=this;B.push(Ar),E.fold(function(){ie(Ar)},function(gr){we(Ar)})};d.on("init",function(){d.on("nodechange",function(Ar){var gr=G.from(d.dom.getParent(d.selection.getStart(),"th,td"));(E=gr.bind(function(so){var _o=Bn.fromDom(so);return vi.table(_o).map(function(ji){return Es.forMenu(y,ji,_o)})})).fold(function(){Ze(R,ie),Ze(B,ie),Ze(z,ie),Ze(K,ie)},function(so){Ze(R,we),Ze(B,we),Ze(z,function(_o){_o.disabled(so.mergable().isNone())}),Ze(K,function(_o){_o.disabled(so.unmergable().isNone())})})})});var Yt=function(Ar,gr,so,_o){var ji,Ua,yl,fu,Tu,yd=_o.getEl().getElementsByTagName("table")[0],bl=_o.isRtl()||_o.parent().rel==="tl-tr";for(yd.nextSibling.innerHTML=gr+1+" x "+(so+1),bl&&(gr=9-gr),Ua=0;Ua<10;Ua++)for(ji=0;ji<10;ji++)fu=yd.rows[Ua].childNodes[ji].firstChild,Tu=(bl?gr<=ji:ji<=gr)&&Ua<=so,Ar.dom.toggleClass(fu,"mce-active",Tu),Tu&&(yl=fu);return yl.parentNode},en=d.getParam("table_grid",!0,"boolean")===!1?{text:"Table",icon:"table",context:"table",onclick:Ht("mceInsertTable")}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(Ar){Ar.aria&&(this.parent().hideAll(),Ar.stopImmediatePropagation(),d.execCommand("mceInsertTable"))},onshow:function(){Yt(d,0,0,this.menu.items()[0])},onhide:function(){var Ar=this.menu.items()[0].getEl().getElementsByTagName("a");d.dom.removeClass(Ar,"mce-active"),d.dom.addClass(Ar[0],"mce-active")},menu:[{type:"container",html:function(){var Ar="";Ar='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var gr=0;gr<10;gr++){Ar+="<tr>";for(var so=0;so<10;so++)Ar+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*gr+so)+'" href="#" data-mce-x="'+so+'" data-mce-y="'+gr+'"></a></td>';Ar+="</tr>"}return Ar+="</table>",Ar+='<div class="mce-text-center" role="presentation">1 x 1</div>'}(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(Ar){var gr,so,_o=Ar.target;_o.tagName.toUpperCase()==="A"&&(gr=parseInt(_o.getAttribute("data-mce-x"),10),so=parseInt(_o.getAttribute("data-mce-y"),10),(this.isRtl()||this.parent().rel==="tl-tr")&&(gr=9-gr),gr===this.lastX&&so===this.lastY||(Yt(d,gr,so,Ar.control),this.lastX=gr,this.lastY=so))},onclick:function(Ar){var gr=this;Ar.target.tagName.toUpperCase()==="A"&&(Ar.preventDefault(),Ar.stopPropagation(),gr.parent().cancel(),d.undoManager.transact(function(){Rn(d,gr.lastX+1,gr.lastY+1)}),d.addVisual())}}]};function Ht(Ar){return function(){d.execCommand(Ar)}}var Nt={text:"Table properties",context:"table",onPostRender:Ve,onclick:Ht("mceTableProps")},jn={text:"Delete table",context:"table",onPostRender:Ve,cmd:"mceTableDelete"},nr={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:Ht("mceTableInsertRowBefore"),onPostRender:pt},{text:"Insert row after",onclick:Ht("mceTableInsertRowAfter"),onPostRender:pt},{text:"Delete row",onclick:Ht("mceTableDeleteRow"),onPostRender:pt},{text:"Row properties",onclick:Ht("mceTableRowProps"),onPostRender:pt},{text:"-"},{text:"Cut row",onclick:Ht("mceTableCutRow"),onPostRender:pt},{text:"Copy row",onclick:Ht("mceTableCopyRow"),onPostRender:pt},{text:"Paste row before",onclick:Ht("mceTablePasteRowBefore"),onPostRender:pt},{text:"Paste row after",onclick:Ht("mceTablePasteRowAfter"),onPostRender:pt}]},Nr={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:Ht("mceTableInsertColBefore"),onPostRender:pt},{text:"Insert column after",onclick:Ht("mceTableInsertColAfter"),onPostRender:pt},{text:"Delete column",onclick:Ht("mceTableDeleteCol"),onPostRender:pt}]},po={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:Ht("mceTableCellProps"),onPostRender:pt},{text:"Merge cells",onclick:Ht("mceTableMergeCells"),onPostRender:function(){var Ar=this;z.push(Ar),E.fold(function(){ie(Ar)},function(gr){Ar.disabled(gr.mergable().isNone())})}},{text:"Split cell",onclick:Ht("mceTableSplitCells"),onPostRender:function(){var Ar=this;K.push(Ar),E.fold(function(){ie(Ar)},function(gr){Ar.disabled(gr.unmergable().isNone())})}}]};d.addMenuItem("inserttable",en),d.addMenuItem("tableprops",Nt),d.addMenuItem("deletetable",jn),d.addMenuItem("row",nr),d.addMenuItem("column",Nr),d.addMenuItem("cell",po)},Uh=function(d,y){return{insertTable:function(E,R){return Rn(d,E,R)},setClipboardRows:function(E){return R=y,B=Ge(E,Bn.fromDom),void R.set(G.from(B));var R,B},getClipboardRows:function(){return y.get().fold(function(){},function(E){return Ge(E,function(R){return R.dom()})})}}};r.add("table",function(d){var y,E=$c(d),R=i0(d,E.lazyResize),B=mh(d,E.lazyWire),z=(y=d,{get:function(){var ie=hc(y);return Pc(ie,ou.selectedSelector()).fold(function(){return y.selection.getStart()===void 0?iu.none():iu.single(y.selection)},function(we){return iu.multiple(we)})}}),K=dl(G.none());return Ea(d,B,R,z,K),Mc(d,z,B,R),vl(d,z),xg(d),Cg(d),d.on("PreInit",function(){d.serializer.addTempAttr(ou.firstSelected()),d.serializer.addTempAttr(ou.lastSelected())}),d.getParam("table_tab_navigation",!0,"boolean")&&d.on("keydown",function(ie){Zc(ie,d,B)}),d.on("remove",function(){E.destroy(),R.destroy()}),Uh(d,K)})})(window);(function(t){var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l=tinymce.util.Tools.resolve("tinymce.EditorManager"),g=tinymce.util.Tools.resolve("tinymce.Env"),x=tinymce.util.Tools.resolve("tinymce.util.Delay"),D=tinymce.util.Tools.resolve("tinymce.util.Tools"),L=tinymce.util.Tools.resolve("tinymce.util.VK"),U=function(ee){return ee.getParam("tab_focus",ee.getParam("tabfocus_elements",":prev,:next"))},X=a.DOM,se=function(ee){ee.keyCode!==L.TAB||ee.ctrlKey||ee.altKey||ee.metaKey||ee.preventDefault()},re=function(ee){function Me(De){var ze,mt,G,ve;if(!(De.keyCode!==L.TAB||De.ctrlKey||De.altKey||De.metaKey||De.isDefaultPrevented())&&((G=D.explode(U(ee))).length===1&&(G[1]=G[0],G[0]=":prev"),mt=De.shiftKey?G[0]===":prev"?Ke(-1):X.get(G[0]):G[1]===":next"?Ke(1):X.get(G[1]))){var Ae=l.get(mt.id||mt.name);mt.id&&Ae?Ae.focus():x.setTimeout(function(){g.webkit||t.window.focus(),mt.focus()},10),De.preventDefault()}function Ke(vt){function Ie(Ce){return/INPUT|TEXTAREA|BUTTON/.test(Ce.tagName)&&l.get(De.id)&&Ce.tabIndex!==-1&&function ut($e){return $e.nodeName==="BODY"||$e.type!=="hidden"&&$e.style.display!=="none"&&$e.style.visibility!=="hidden"&&ut($e.parentNode)}(Ce)}if(mt=X.select(":input:enabled,*[tabindex]:not(iframe)"),D.each(mt,function(Ce,ut){if(Ce.id===ee.id)return ze=ut,!1}),0<vt){for(ve=ze+1;ve<mt.length;ve++)if(Ie(mt[ve]))return mt[ve]}else for(ve=ze-1;0<=ve;ve--)if(Ie(mt[ve]))return mt[ve];return null}}ee.on("init",function(){ee.inline&&X.setAttrib(ee.getBody(),"tabIndex",null),ee.on("keyup",se),g.gecko?ee.on("keypress keydown",Me):ee.on("keydown",Me)})};r.add("tabfocus",function(ee){re(ee)})})(window);(function(){var t=function(Ie){var Ce=Ie,ut=function(){return Ce};return{get:ut,set:function($e){Ce=$e},clone:function(){return t(ut())}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools");function l(Ie){return Ie&&Ie.nodeType===1&&Ie.contentEditable==="false"}var g={findAndReplaceDOMText:function(Ie,Ce,ut,$e,Je){var Le,J,Ge,Ze,Wt,fe,jt=[],At=0;function Vt(qt,yn){if(yn=yn||0,!qt[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");var Yn=qt.index;if(0<yn){var Pn=qt[yn];if(!Pn)throw new Error("Invalid capture group");Yn+=qt[0].indexOf(Pn),qt[0]=Pn}return[Yn,Yn+qt[0].length,[qt[0]]]}if(Ge=Ce.ownerDocument,Ze=Je.getBlockElements(),Wt=Je.getWhiteSpaceElements(),fe=Je.getShortEndedElements(),J=function qt(yn){var Yn;if(yn.nodeType===3)return yn.data;if(Wt[yn.nodeName]&&!Ze[yn.nodeName])return"";if(Yn="",l(yn))return`
`;if((Ze[yn.nodeName]||fe[yn.nodeName])&&(Yn+=`
`),yn=yn.firstChild)for(;Yn+=qt(yn),yn=yn.nextSibling;);return Yn}(Ce)){if(Ie.global)for(;Le=Ie.exec(J);)jt.push(Vt(Le,$e));else Le=J.match(Ie),jt.push(Vt(Le,$e));return jt.length&&(At=jt.length,function(qt,yn,Yn){var Pn,dr,Zn,Cr,er=[],Qt=0,Te=qt,qe=yn.shift(),Rt=0;e:for(;;){if((Ze[Te.nodeName]||fe[Te.nodeName]||l(Te))&&Qt++,Te.nodeType===3&&(!dr&&Te.length+Qt>=qe[1]?(dr=Te,Cr=qe[1]-Qt):Pn&&er.push(Te),!Pn&&Te.length+Qt>qe[0]&&(Pn=Te,Zn=qe[0]-Qt),Qt+=Te.length),Pn&&dr){if(Te=Yn({startNode:Pn,startNodeIndex:Zn,endNode:dr,endNodeIndex:Cr,innerNodes:er,match:qe[2],matchIndex:Rt}),Qt-=dr.length-Cr,dr=Pn=null,er=[],Rt++,!(qe=yn.shift()))break}else if(Wt[Te.nodeName]&&!Ze[Te.nodeName]||!Te.firstChild){if(Te.nextSibling){Te=Te.nextSibling;continue}}else if(!l(Te)){Te=Te.firstChild;continue}for(;;){if(Te.nextSibling){Te=Te.nextSibling;break}if(Te.parentNode===qt)break e;Te=Te.parentNode}}}(Ce,jt,function(qt){var yn;if(typeof qt!="function"){var Yn=qt.nodeType?qt:Ge.createElement(qt);yn=function(Pn,dr){var Zn=Yn.cloneNode(!1);return Zn.setAttribute("data-mce-index",dr),Pn&&Zn.appendChild(Ge.createTextNode(Pn)),Zn}}else yn=qt;return function(Pn){var dr,Zn,Cr,er=Pn.startNode,Qt=Pn.endNode,Te=Pn.matchIndex;if(er===Qt){var qe=er;Cr=qe.parentNode,0<Pn.startNodeIndex&&(dr=Ge.createTextNode(qe.data.substring(0,Pn.startNodeIndex)),Cr.insertBefore(dr,qe));var Rt=yn(Pn.match[0],Te);return Cr.insertBefore(Rt,qe),Pn.endNodeIndex<qe.length&&(Zn=Ge.createTextNode(qe.data.substring(Pn.endNodeIndex)),Cr.insertBefore(Zn,qe)),qe.parentNode.removeChild(qe),Rt}dr=Ge.createTextNode(er.data.substring(0,Pn.startNodeIndex)),Zn=Ge.createTextNode(Qt.data.substring(Pn.endNodeIndex));for(var Kt=yn(er.data.substring(Pn.startNodeIndex),Te),mn=0,xn=Pn.innerNodes.length;mn<xn;++mn){var Un=Pn.innerNodes[mn],Or=yn(Un.data,Te);Un.parentNode.replaceChild(Or,Un)}var Jn=yn(Qt.data.substring(0,Pn.endNodeIndex),Te);return(Cr=er.parentNode).insertBefore(dr,er),Cr.insertBefore(Kt,er),Cr.removeChild(er),(Cr=Qt.parentNode).insertBefore(Jn,Qt),Cr.insertBefore(Zn,Qt),Cr.removeChild(Qt),Jn}}(ut))),At}}},x=function(Ie){var Ce=Ie.getAttribute("data-mce-index");return typeof Ce=="number"?""+Ce:Ce},D=function(Ie){var Ce=Ie.parentNode;Ie.firstChild&&Ce.insertBefore(Ie.firstChild,Ie),Ie.parentNode.removeChild(Ie)},L=function(Ie,Ce){var ut,$e=[];if((ut=a.toArray(Ie.getBody().getElementsByTagName("span"))).length)for(var Je=0;Je<ut.length;Je++){var Le=x(ut[Je]);Le!==null&&Le.length&&Le===Ce.toString()&&$e.push(ut[Je])}return $e},U=function(Ie,Ce,ut){var $e=Ce.get(),Je=Ie.dom;(ut=ut!==!1)?$e++:$e--,Je.removeClass(L(Ie,Ce.get()),"mce-match-marker-selected");var Le=L(Ie,$e);return Le.length?(Je.addClass(L(Ie,$e),"mce-match-marker-selected"),Ie.selection.scrollIntoView(Le[0]),$e):-1},X=function(Ie,Ce){var ut=Ce.parentNode;Ie.remove(Ce),Ie.isEmpty(ut)&&Ie.remove(ut)},se=function(Ie,Ce){var ut=U(Ie,Ce,!0);ut!==-1&&Ce.set(ut)},re=function(Ie,Ce){var ut=U(Ie,Ce,!1);ut!==-1&&Ce.set(ut)},ee=function(Ie){var Ce=x(Ie);return Ce!==null&&0<Ce.length},Me=function(Ie,Ce,ut){var $e,Je,Le,J;for(Je=a.toArray(Ie.getBody().getElementsByTagName("span")),$e=0;$e<Je.length;$e++){var Ge=x(Je[$e]);Ge!==null&&Ge.length&&(Ge===Ce.get().toString()&&(Le||(Le=Je[$e].firstChild),J=Je[$e].firstChild),D(Je[$e]))}if(Le&&J){var Ze=Ie.dom.createRng();return Ze.setStart(Le,0),Ze.setEnd(J,J.data.length),ut!==!1&&Ie.selection.setRng(Ze),Ze}},De=function(Ie,Ce){return 0<L(Ie,Ce.get()+1).length},ze=function(Ie,Ce){return 0<L(Ie,Ce.get()-1).length},mt={done:Me,find:function(Ie,Ce,ut,$e,Je){ut=(ut=ut.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")).replace(/\s/g,"[^\\S\\r\\n]"),ut=Je?"\\b"+ut+"\\b":ut;var Le,J,Ge,Ze,Wt,fe=(Le=Ie,J=Ce,Ge=new RegExp(ut,$e?"g":"gi"),(Wt=Le.dom.create("span",{"data-mce-bogus":1})).className="mce-match-marker",Ze=Le.getBody(),Me(Le,J,!1),g.findAndReplaceDOMText(Ge,Ze,Wt,!1,Le.schema));return fe&&(Ce.set(-1),Ce.set(U(Ie,Ce,!0))),fe},next:se,prev:re,replace:function(Ie,Ce,ut,$e,Je){var Le,J,Ge,Ze,Wt,fe,jt=Ce.get();for($e=$e!==!1,Ge=Ie.getBody(),J=a.grep(a.toArray(Ge.getElementsByTagName("span")),ee),Le=0;Le<J.length;Le++){var At=x(J[Le]);if(Ze=Wt=parseInt(At,10),Je||Ze===Ce.get()){for(ut.length?(J[Le].firstChild.nodeValue=ut,D(J[Le])):X(Ie.dom,J[Le]);J[++Le];){if((Ze=parseInt(x(J[Le]),10))!==Wt){Le--;break}X(Ie.dom,J[Le])}$e&&jt--}else Wt>Ce.get()&&J[Le].setAttribute("data-mce-index",Wt-1)}return Ce.set(jt),$e?(fe=De(Ie,Ce),se(Ie,Ce)):(fe=ze(Ie,Ce),re(Ie,Ce)),!Je&&fe},hasNext:De,hasPrev:ze},G=function(Ie,Ce){return{done:function(ut){return mt.done(Ie,Ce,ut)},find:function(ut,$e,Je){return mt.find(Ie,Ce,ut,$e,Je)},next:function(){return mt.next(Ie,Ce)},prev:function(){return mt.prev(Ie,Ce)},replace:function(ut,$e,Je){return mt.replace(Ie,Ce,ut,$e,Je)}}},ve=function(Ie,Ce){var ut,$e={};function Je(){J.statusbar.find("#next").disabled(mt.hasNext(Ie,Ce)===!1),J.statusbar.find("#prev").disabled(mt.hasPrev(Ie,Ce)===!1)}function Le(){Ie.windowManager.alert("Could not find the specified string.",function(){J.find("#find")[0].focus()})}Ie.undoManager.add(),ut=a.trim(Ie.selection.getContent({format:"text"}));var J=Ie.windowManager.open({layout:"flex",pack:"center",align:"center",onClose:function(){Ie.focus(),mt.done(Ie,Ce),Ie.undoManager.add()},onSubmit:function(Ge){var Ze,Wt,fe,jt;return Ge.preventDefault(),Wt=J.find("#case").checked(),jt=J.find("#words").checked(),(fe=J.find("#find").value()).length?$e.text===fe&&$e.caseState===Wt&&$e.wholeWord===jt?mt.hasNext(Ie,Ce)?(mt.next(Ie,Ce),void Je()):void Le():((Ze=mt.find(Ie,Ce,fe,Wt,jt))||Le(),J.statusbar.items().slice(1).disabled(Ze===0),Je(),void($e={text:fe,caseState:Wt,wholeWord:jt})):(mt.done(Ie,Ce,!1),void J.statusbar.items().slice(1).disabled(!0))},buttons:[{text:"Find",subtype:"primary",onclick:function(){J.submit()}},{text:"Replace",disabled:!0,onclick:function(){mt.replace(Ie,Ce,J.find("#replace").value())||(J.statusbar.items().slice(1).disabled(!0),Ce.set(-1),$e={})}},{text:"Replace all",disabled:!0,onclick:function(){mt.replace(Ie,Ce,J.find("#replace").value(),!0,!0),J.statusbar.items().slice(1).disabled(!0),$e={}}},{type:"spacer",flex:1},{text:"Prev",name:"prev",disabled:!0,onclick:function(){mt.prev(Ie,Ce),Je()}},{text:"Next",name:"next",disabled:!0,onclick:function(){mt.next(Ie,Ce),Je()}}],title:"Find and replace",items:{type:"form",padding:20,labelGap:30,spacing:10,items:[{type:"textbox",name:"find",size:40,label:"Find",value:ut},{type:"textbox",name:"replace",size:40,label:"Replace with"},{type:"checkbox",name:"case",text:"Match case",label:" "},{type:"checkbox",name:"words",text:"Whole words",label:" "}]}})},Ae=function(Ie,Ce){Ie.addCommand("SearchReplace",function(){ve(Ie,Ce)})},Ke=function(Ie,Ce){return function(){ve(Ie,Ce)}},vt=function(Ie,Ce){Ie.addMenuItem("searchreplace",{text:"Find and replace",shortcut:"Meta+F",onclick:Ke(Ie,Ce),separator:"before",context:"edit"}),Ie.addButton("searchreplace",{tooltip:"Find and replace",onclick:Ke(Ie,Ce)}),Ie.shortcuts.add("Meta+F","",Ke(Ie,Ce))};r.add("searchreplace",function(Ie){var Ce=t(-1);return Ae(Ie,Ce),vt(Ie,Ce),G(Ie,Ce)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(ee){return ee.getParam("save_enablewhendirty",!0)},g=function(ee){return!!ee.getParam("save_onsavecallback")},x=function(ee){return!!ee.getParam("save_oncancelcallback")},D=function(ee,Me){ee.notificationManager.open({text:ee.translate(Me),type:"error"})},L=function(ee){var Me;if(Me=r.DOM.getParent(ee.id,"form"),!l(ee)||ee.isDirty()){if(ee.save(),g(ee))return ee.execCallback("save_onsavecallback",ee),void ee.nodeChanged();Me?(ee.setDirty(!1),Me.onsubmit&&!Me.onsubmit()||(typeof Me.submit=="function"?Me.submit():D(ee,"Error: Form submit field collision.")),ee.nodeChanged()):D(ee,"Error: No form element found.")}},U=function(ee){var Me=a.trim(ee.startContent);x(ee)?ee.execCallback("save_oncancelcallback",ee):(ee.setContent(Me),ee.undoManager.clear(),ee.nodeChanged())},X=function(ee){ee.addCommand("mceSave",function(){L(ee)}),ee.addCommand("mceCancel",function(){U(ee)})},se=function(ee){return function(Me){var De=Me.control;ee.on("nodeChange dirty",function(){De.disabled(l(ee)&&!ee.isDirty())})}},re=function(ee){ee.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:se(ee)}),ee.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:se(ee)}),ee.addShortcut("Meta+S","","mceSave")};t.add("save",function(ee){re(ee),X(ee)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),a=function(re){return parseInt(re.getParam("plugin_preview_width","650"),10)},l=function(re){return parseInt(re.getParam("plugin_preview_height","500"),10)},g=function(re){return re.getParam("content_style","")},x=tinymce.util.Tools.resolve("tinymce.util.Tools"),D=function(re){var ee="",Me=re.dom.encode,De=g(re);ee+='<base href="'+Me(re.documentBaseURI.getURI())+'">',De&&(ee+='<style type="text/css">'+De+"</style>"),x.each(re.contentCSS,function(ve){ee+='<link type="text/css" rel="stylesheet" href="'+Me(re.documentBaseURI.toAbsolute(ve))+'">'});var ze=re.settings.body_id||"tinymce";ze.indexOf("=")!==-1&&(ze=(ze=re.getParam("body_id","","hash"))[re.id]||ze);var mt=re.settings.body_class||"";mt.indexOf("=")!==-1&&(mt=(mt=re.getParam("body_class","","hash"))[re.id]||"");var G=re.settings.directionality?' dir="'+re.settings.directionality+'"':"";return"<!DOCTYPE html><html><head>"+ee+'</head><body id="'+Me(ze)+'" class="mce-content-body '+Me(mt)+'"'+Me(G)+">"+re.getContent()+'<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A") {e.preventDefault();}}}, false);<\/script> </body></html>'},L=function(re,ee,Me){var De=D(re);if(Me)ee.src="data:text/html;charset=utf-8,"+encodeURIComponent(De);else{var ze=ee.contentWindow.document;ze.open(),ze.write(De),ze.close()}},U=function(re){var ee=!r.ie,Me='<iframe src="" frameborder="0"'+(ee?' sandbox="allow-scripts"':"")+"></iframe>",De=a(re),ze=l(re);re.windowManager.open({title:"Preview",width:De,height:ze,html:Me,buttons:{text:"Close",onclick:function(mt){mt.control.parent().parent().close()}},onPostRender:function(mt){var G=mt.control.getEl("body").firstChild;L(re,G,ee)}})},X=function(re){re.addCommand("mcePreview",function(){U(re)})},se=function(re){re.addButton("preview",{title:"Preview",cmd:"mcePreview"}),re.addMenuItem("preview",{text:"Preview",cmd:"mcePreview",context:"view"})};t.add("preview",function(re){X(re),se(re)})})();(function(t){var r=function(oe){var Fe=oe,ft=function(){return Fe};return{get:ft,set:function(dt){Fe=dt},clone:function(){return r(ft())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=function(oe){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(oe.settings.plugins)||!a.get("powerpaste")||(typeof t.window.console!="undefined"&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))},g=function(oe,Fe){return{clipboard:oe,quirks:Fe}},x=function(oe,Fe,ft,dt){return oe.fire("PastePreProcess",{content:Fe,internal:ft,wordContent:dt})},D=function(oe,Fe,ft,dt){return oe.fire("PastePostProcess",{node:Fe,internal:ft,wordContent:dt})},L=function(oe,Fe){return oe.fire("PastePlainTextToggle",{state:Fe})},U=function(oe,Fe){return oe.fire("paste",{ieFake:Fe})},X={shouldPlainTextInform:function(oe){return oe.getParam("paste_plaintext_inform",!0)},shouldBlockDrop:function(oe){return oe.getParam("paste_block_drop",!1)},shouldPasteDataImages:function(oe){return oe.getParam("paste_data_images",!1)},shouldFilterDrop:function(oe){return oe.getParam("paste_filter_drop",!0)},getPreProcess:function(oe){return oe.getParam("paste_preprocess")},getPostProcess:function(oe){return oe.getParam("paste_postprocess")},getWebkitStyles:function(oe){return oe.getParam("paste_webkit_styles")},shouldRemoveWebKitStyles:function(oe){return oe.getParam("paste_remove_styles_if_webkit",!0)},shouldMergeFormats:function(oe){return oe.getParam("paste_merge_formats",!0)},isSmartPasteEnabled:function(oe){return oe.getParam("smart_paste",!0)},isPasteAsTextEnabled:function(oe){return oe.getParam("paste_as_text",!1)},getRetainStyleProps:function(oe){return oe.getParam("paste_retain_style_properties")},getWordValidElements:function(oe){return oe.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},shouldConvertWordFakeLists:function(oe){return oe.getParam("paste_convert_word_fake_lists",!0)},shouldUseDefaultFilters:function(oe){return oe.getParam("paste_enable_default_filters",!0)}},se=function(oe,Fe,ft){var dt,Ft,Bt;Fe.pasteFormat.get()==="text"?(Fe.pasteFormat.set("html"),L(oe,!1)):(Fe.pasteFormat.set("text"),L(oe,!0),Bt=oe,ft.get()===!1&&X.shouldPlainTextInform(Bt)&&(Ft="Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off.",(dt=oe).notificationManager.open({text:dt.translate(Ft),type:"info"}),ft.set(!0))),oe.focus()},re=function(oe,Fe,ft){oe.addCommand("mceTogglePlainTextPaste",function(){se(oe,Fe,ft)}),oe.addCommand("mceInsertClipboardContent",function(dt,Ft){Ft.content&&Fe.pasteHtml(Ft.content,Ft.internal),Ft.text&&Fe.pasteText(Ft.text)})},ee=tinymce.util.Tools.resolve("tinymce.Env"),Me=tinymce.util.Tools.resolve("tinymce.util.Delay"),De=tinymce.util.Tools.resolve("tinymce.util.Tools"),ze=tinymce.util.Tools.resolve("tinymce.util.VK"),mt="x-tinymce/html",G="<!-- "+mt+" -->",ve=function(oe){return G+oe},Ae=function(oe){return oe.replace(G,"")},Ke=function(oe){return oe.indexOf(G)!==-1},vt=function(){return mt},Ie=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ce=function(oe){return oe.replace(/\r?\n/g,"<br>")},ut=function(oe,Fe,ft){var dt=oe.split(/\n\n/),Ft=function(Zt,Hn){var Kn,_n=[],gn="<"+Zt;if(typeof Hn=="object"){for(Kn in Hn)Hn.hasOwnProperty(Kn)&&_n.push(Kn+'="'+Ie.encodeAllRaw(Hn[Kn])+'"');_n.length&&(gn+=" "+_n.join(" "))}return gn+">"}(Fe,ft),Bt="</"+Fe+">",ur=De.map(dt,function(Zt){return Zt.split(/\n/).join("<br />")});return ur.length===1?ur[0]:De.map(ur,function(Zt){return Ft+Zt+Bt}).join("")},$e=function(oe){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(oe)},Je=function(oe,Fe,ft){return Fe?ut(oe,Fe,ft):Ce(oe)},Le=tinymce.util.Tools.resolve("tinymce.html.DomParser"),J=tinymce.util.Tools.resolve("tinymce.html.Serializer"),Ge=tinymce.util.Tools.resolve("tinymce.html.Node"),Ze=tinymce.util.Tools.resolve("tinymce.html.Schema");function Wt(oe,Fe){return De.each(Fe,function(ft){oe=ft.constructor===RegExp?oe.replace(ft,""):oe.replace(ft[0],ft[1])}),oe}var fe={filter:Wt,innerText:function(oe){var Fe=Ze(),ft=Le({},Fe),dt="",Ft=Fe.getShortEndedElements(),Bt=De.makeMap("script noscript style textarea video audio iframe object"," "),ur=Fe.getBlockElements();return oe=Wt(oe,[/<!\[[^\]]+\]>/g]),function Zt(Hn){var Kn=Hn.name,_n=Hn;if(Kn!=="br"){if(Kn!=="wbr")if(Ft[Kn]&&(dt+=" "),Bt[Kn])dt+=" ";else{if(Hn.type===3&&(dt+=Hn.value),!Hn.shortEnded&&(Hn=Hn.firstChild))for(;Zt(Hn),Hn=Hn.next;);ur[Kn]&&_n.next&&(dt+=`
`,Kn==="p"&&(dt+=`
`))}}else dt+=`
`}(ft.parse(oe)),dt},trimHtml:function(oe){return oe=Wt(oe,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(Fe,ft,dt){return ft||dt?"\xA0":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(oe){var Fe=0;return function(){return oe+Fe++}},isMsEdge:function(){return t.navigator.userAgent.indexOf(" Edge/")!==-1}};function jt(oe){var Fe,ft;return ft=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],oe=oe.replace(/^[\u00a0 ]+/,""),De.each(ft,function(dt){if(dt.test(oe))return!(Fe=!0)}),Fe}function At(oe){var Fe,ft,dt=1;function Ft(Qn){var Nn="";if(Qn.type===3)return Qn.value;if(Qn=Qn.firstChild)for(;Nn+=Ft(Qn),Qn=Qn.next;);return Nn}function Bt(Qn,Nn){if(Qn.type===3&&Nn.test(Qn.value))return Qn.value=Qn.value.replace(Nn,""),!1;if(Qn=Qn.firstChild)do if(!Bt(Qn,Nn))return!1;while(Qn=Qn.next);return!0}function ur(Qn,Nn,xr){var Hr=Qn._listLevel||dt;Hr!==dt&&(Hr<dt?Fe&&(Fe=Fe.parent.parent):(ft=Fe,Fe=null)),Fe&&Fe.name===Nn?Fe.append(Qn):(ft=ft||Fe,Fe=new Ge(Nn,1),1<xr&&Fe.attr("start",""+xr),Qn.wrap(Fe)),Qn.name="li",dt<Hr&&ft&&ft.lastChild.append(Fe),dt=Hr,function Yr(Er){if(Er._listIgnore)Er.remove();else if(Er=Er.firstChild)for(;Yr(Er),Er=Er.next;);}(Qn),Bt(Qn,/^\u00a0+/),Bt(Qn,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Bt(Qn,/^\u00a0+/)}for(var Zt=[],Hn=oe.firstChild;Hn!=null;)if(Zt.push(Hn),(Hn=Hn.walk())!==null)for(;Hn!==void 0&&Hn.parent!==oe;)Hn=Hn.walk();for(var Kn=0;Kn<Zt.length;Kn++)if((oe=Zt[Kn]).name==="p"&&oe.firstChild){var _n=Ft(oe);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(_n)){ur(oe,"ul");continue}if(jt(_n)){var gn=/([0-9]+)\./.exec(_n),zn=1;gn&&(zn=parseInt(gn[1],10)),ur(oe,"ol",zn);continue}if(oe._listLevel){ur(oe,"ul",1);continue}Fe=null}else ft=Fe,Fe=null}function Vt(oe,Fe,ft,dt){var Ft,Bt={},ur=oe.dom.parseStyle(dt);return De.each(ur,function(Zt,Hn){switch(Hn){case"mso-list":(Ft=/\w+ \w+([0-9]+)/i.exec(dt))&&(ft._listLevel=parseInt(Ft[1],10)),/Ignore/i.test(Zt)&&ft.firstChild&&(ft._listIgnore=!0,ft.firstChild._listIgnore=!0);break;case"horiz-align":Hn="text-align";break;case"vert-align":Hn="vertical-align";break;case"font-color":case"mso-foreground":Hn="color";break;case"mso-background":case"mso-highlight":Hn="background";break;case"font-weight":case"font-style":return void(Zt!=="normal"&&(Bt[Hn]=Zt));case"mso-element":if(/^(comment|comment-list)$/i.test(Zt))return void ft.remove()}Hn.indexOf("mso-comment")!==0?Hn.indexOf("mso-")!==0&&(X.getRetainStyleProps(oe)==="all"||Fe&&Fe[Hn])&&(Bt[Hn]=Zt):ft.remove()}),/(bold)/i.test(Bt["font-weight"])&&(delete Bt["font-weight"],ft.wrap(new Ge("b",1))),/(italic)/i.test(Bt["font-style"])&&(delete Bt["font-style"],ft.wrap(new Ge("i",1))),(Bt=oe.dom.serializeStyle(Bt,ft.name))||null}var qt,yn,Yn,Pn,dr,Zn,Cr,er,Qt,Te={preProcess:function(oe,Fe){return X.shouldUseDefaultFilters(oe)?function(ft,dt){var Ft,Bt;(Ft=X.getRetainStyleProps(ft))&&(Bt=De.makeMap(Ft.split(/[, ]/))),dt=fe.filter(dt,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"\xA0"],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(_n,gn){return 0<gn.length?gn.replace(/./," ").slice(Math.floor(gn.length/2)).split("").join("\xA0"):""}]]);var ur=X.getWordValidElements(ft),Zt=Ze({valid_elements:ur,valid_children:"-li[p]"});De.each(Zt.elements,function(_n){_n.attributes.class||(_n.attributes.class={},_n.attributesOrder.push("class")),_n.attributes.style||(_n.attributes.style={},_n.attributesOrder.push("style"))});var Hn=Le({},Zt);Hn.addAttributeFilter("style",function(_n){for(var gn,zn=_n.length;zn--;)(gn=_n[zn]).attr("style",Vt(ft,Bt,gn,gn.attr("style"))),gn.name==="span"&&gn.parent&&!gn.attributes.length&&gn.unwrap()}),Hn.addAttributeFilter("class",function(_n){for(var gn,zn,Qn=_n.length;Qn--;)zn=(gn=_n[Qn]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(zn)&&gn.remove(),gn.attr("class",null)}),Hn.addNodeFilter("del",function(_n){for(var gn=_n.length;gn--;)_n[gn].remove()}),Hn.addNodeFilter("a",function(_n){for(var gn,zn,Qn,Nn=_n.length;Nn--;)if(zn=(gn=_n[Nn]).attr("href"),Qn=gn.attr("name"),zn&&zn.indexOf("#_msocom_")!==-1)gn.remove();else if(zn&&zn.indexOf("file://")===0&&(zn=zn.split("#")[1])&&(zn="#"+zn),zn||Qn){if(Qn&&!/^_?(?:toc|edn|ftn)/i.test(Qn)){gn.unwrap();continue}gn.attr({href:zn,name:Qn})}else gn.unwrap()});var Kn=Hn.parse(dt);return X.shouldConvertWordFakeLists(ft)&&At(Kn),dt=J({validate:ft.settings.validate},Zt).serialize(Kn)}(oe,Fe):Fe},isWordContent:function(oe){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(oe)||/class="OutlineElement/.test(oe)||/id="?docs\-internal\-guid\-/.test(oe)}},qe=function(oe,Fe){return{content:oe,cancelled:Fe}},Rt=function(oe,Fe,ft,dt){var Ft,Bt,ur,Zt,Hn,Kn,_n=x(oe,Fe,ft,dt),gn=function(zn,Qn){var Nn=Le({},zn.schema);Nn.addNodeFilter("meta",function(Hr){De.each(Hr,function(Yr){return Yr.remove()})});var xr=Nn.parse(Qn,{forced_root_block:!1,isRootContent:!0});return J({validate:zn.settings.validate},zn.schema).serialize(xr)}(oe,_n.content);return oe.hasEventListeners("PastePostProcess")&&!_n.isDefaultPrevented()?(Bt=gn,ur=ft,Zt=dt,Hn=(Ft=oe).dom.create("div",{style:"display:none"},Bt),Kn=D(Ft,Hn,ur,Zt),qe(Kn.node.innerHTML,Kn.isDefaultPrevented())):qe(gn,_n.isDefaultPrevented())},Kt=function(oe,Fe,ft){var dt=Te.isWordContent(Fe),Ft=dt?Te.preProcess(oe,Fe):Fe;return Rt(oe,Ft,ft,dt)},mn=function(oe,Fe){return oe.insertContent(Fe,{merge:X.shouldMergeFormats(oe),paste:!0}),!0},xn=function(oe){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(oe)},Un=function(oe){return xn(oe)&&/.(gif|jpe?g|png)$/.test(oe)},Or=function(oe,Fe,ft){return!(oe.selection.isCollapsed()!==!1||!xn(Fe)||(Ft=Fe,Bt=ft,(dt=oe).undoManager.extra(function(){Bt(dt,Ft)},function(){dt.execCommand("mceInsertLink",!1,Ft)}),0));var dt,Ft,Bt},Jn=function(oe,Fe,ft){return!!Un(Fe)&&(Ft=Fe,Bt=ft,(dt=oe).undoManager.extra(function(){Bt(dt,Ft)},function(){dt.insertContent('<img src="'+Ft+'">')}),!0);var dt,Ft,Bt},Jr=function(oe,Fe){var ft,dt;X.isSmartPasteEnabled(oe)===!1?mn(oe,Fe):(ft=oe,dt=Fe,De.each([Or,Jn,mn],function(Ft){return Ft(ft,dt,mn)!==!0}))},co=function(){},eo=function(oe){return function(){return oe}},Ao=eo(!1),qr=eo(!0),it=function(){return Fn},Fn=(qt=function(oe){return oe.isNone()},Pn={fold:function(oe,Fe){return oe()},is:Ao,isSome:Ao,isNone:qr,getOr:Yn=function(oe){return oe},getOrThunk:yn=function(oe){return oe()},getOrDie:function(oe){throw new Error(oe||"error: getOrDie called on none.")},getOrNull:eo(null),getOrUndefined:eo(void 0),or:Yn,orThunk:yn,map:it,each:co,bind:it,exists:Ao,forall:qr,filter:it,equals:qt,equals_:qt,toArray:function(){return[]},toString:eo("none()")},Object.freeze&&Object.freeze(Pn),Pn),Wn=function(oe){var Fe=eo(oe),ft=function(){return Ft},dt=function(Bt){return Bt(oe)},Ft={fold:function(Bt,ur){return ur(oe)},is:function(Bt){return oe===Bt},isSome:qr,isNone:Ao,getOr:Fe,getOrThunk:Fe,getOrDie:Fe,getOrNull:Fe,getOrUndefined:Fe,or:ft,orThunk:ft,map:function(Bt){return Wn(Bt(oe))},each:function(Bt){Bt(oe)},bind:dt,exists:dt,forall:dt,filter:function(Bt){return Bt(oe)?Ft:Fn},toArray:function(){return[oe]},toString:function(){return"some("+oe+")"},equals:function(Bt){return Bt.is(oe)},equals_:function(Bt,ur){return Bt.fold(Ao,function(Zt){return ur(oe,Zt)})}};return Ft},Tn={some:Wn,none:it,from:function(oe){return oe==null?Fn:Wn(oe)}},or=(dr="function",function(oe){return function(Fe){if(Fe===null)return"null";var ft=typeof Fe;return ft==="object"&&(Array.prototype.isPrototypeOf(Fe)||Fe.constructor&&Fe.constructor.name==="Array")?"array":ft==="object"&&(String.prototype.isPrototypeOf(Fe)||Fe.constructor&&Fe.constructor.name==="String")?"string":ft}(oe)===dr}),Kr=Array.prototype.slice,Dn=function(oe,Fe){for(var ft=oe.length,dt=new Array(ft),Ft=0;Ft<ft;Ft++){var Bt=oe[Ft];dt[Ft]=Fe(Bt,Ft)}return dt},yo=function(oe,Fe){for(var ft=0,dt=oe.length;ft<dt;ft++)Fe(oe[ft],ft)},Ho=or(Array.from)?Array.from:function(oe){return Kr.call(oe)},Wo={},Xo={exports:Wo};Zn=void 0,Cr=Wo,er=Xo,Qt=void 0,function(oe){typeof Cr=="object"&&er!==void 0?er.exports=oe():typeof Zn=="function"&&Zn.amd?Zn([],oe):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).EphoxContactWrapper=oe()}(function(){return function oe(Fe,ft,dt){function Ft(Zt,Hn){if(!ft[Zt]){if(!Fe[Zt]){var Kn=typeof Qt=="function"&&Qt;if(!Hn&&Kn)return Kn(Zt,!0);if(Bt)return Bt(Zt,!0);var _n=new Error("Cannot find module '"+Zt+"'");throw _n.code="MODULE_NOT_FOUND",_n}var gn=ft[Zt]={exports:{}};Fe[Zt][0].call(gn.exports,function(zn){return Ft(Fe[Zt][1][zn]||zn)},gn,gn.exports,oe,Fe,ft,dt)}return ft[Zt].exports}for(var Bt=typeof Qt=="function"&&Qt,ur=0;ur<dt.length;ur++)Ft(dt[ur]);return Ft}({1:[function(oe,Fe,ft){var dt,Ft,Bt=Fe.exports={};function ur(){throw new Error("setTimeout has not been defined")}function Zt(){throw new Error("clearTimeout has not been defined")}function Hn(Yr){if(dt===setTimeout)return setTimeout(Yr,0);if((dt===ur||!dt)&&setTimeout)return dt=setTimeout,setTimeout(Yr,0);try{return dt(Yr,0)}catch{try{return dt.call(null,Yr,0)}catch{return dt.call(this,Yr,0)}}}(function(){try{dt=typeof setTimeout=="function"?setTimeout:ur}catch{dt=ur}try{Ft=typeof clearTimeout=="function"?clearTimeout:Zt}catch{Ft=Zt}})();var Kn,_n=[],gn=!1,zn=-1;function Qn(){gn&&Kn&&(gn=!1,Kn.length?_n=Kn.concat(_n):zn=-1,_n.length&&Nn())}function Nn(){if(!gn){var Yr=Hn(Qn);gn=!0;for(var Er=_n.length;Er;){for(Kn=_n,_n=[];++zn<Er;)Kn&&Kn[zn].run();zn=-1,Er=_n.length}Kn=null,gn=!1,function(ei){if(Ft===clearTimeout)return clearTimeout(ei);if((Ft===Zt||!Ft)&&clearTimeout)return Ft=clearTimeout,clearTimeout(ei);try{Ft(ei)}catch{try{return Ft.call(null,ei)}catch{return Ft.call(this,ei)}}}(Yr)}}function xr(Yr,Er){this.fun=Yr,this.array=Er}function Hr(){}Bt.nextTick=function(Yr){var Er=new Array(arguments.length-1);if(1<arguments.length)for(var ei=1;ei<arguments.length;ei++)Er[ei-1]=arguments[ei];_n.push(new xr(Yr,Er)),_n.length!==1||gn||Hn(Nn)},xr.prototype.run=function(){this.fun.apply(null,this.array)},Bt.title="browser",Bt.browser=!0,Bt.env={},Bt.argv=[],Bt.version="",Bt.versions={},Bt.on=Hr,Bt.addListener=Hr,Bt.once=Hr,Bt.off=Hr,Bt.removeListener=Hr,Bt.removeAllListeners=Hr,Bt.emit=Hr,Bt.prependListener=Hr,Bt.prependOnceListener=Hr,Bt.listeners=function(Yr){return[]},Bt.binding=function(Yr){throw new Error("process.binding is not supported")},Bt.cwd=function(){return"/"},Bt.chdir=function(Yr){throw new Error("process.chdir is not supported")},Bt.umask=function(){return 0}},{}],2:[function(oe,Fe,ft){(function(dt){(function(Ft){var Bt=setTimeout;function ur(){}function Zt(Nn){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Nn!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Qn(Nn,this)}function Hn(Nn,xr){for(;Nn._state===3;)Nn=Nn._value;Nn._state!==0?(Nn._handled=!0,Zt._immediateFn(function(){var Hr=Nn._state===1?xr.onFulfilled:xr.onRejected;if(Hr!==null){var Yr;try{Yr=Hr(Nn._value)}catch(Er){return void _n(xr.promise,Er)}Kn(xr.promise,Yr)}else(Nn._state===1?Kn:_n)(xr.promise,Nn._value)})):Nn._deferreds.push(xr)}function Kn(Nn,xr){try{if(xr===Nn)throw new TypeError("A promise cannot be resolved with itself.");if(xr&&(typeof xr=="object"||typeof xr=="function")){var Hr=xr.then;if(xr instanceof Zt)return Nn._state=3,Nn._value=xr,void gn(Nn);if(typeof Hr=="function")return void Qn((Yr=Hr,Er=xr,function(){Yr.apply(Er,arguments)}),Nn)}Nn._state=1,Nn._value=xr,gn(Nn)}catch(ei){_n(Nn,ei)}var Yr,Er}function _n(Nn,xr){Nn._state=2,Nn._value=xr,gn(Nn)}function gn(Nn){Nn._state===2&&Nn._deferreds.length===0&&Zt._immediateFn(function(){Nn._handled||Zt._unhandledRejectionFn(Nn._value)});for(var xr=0,Hr=Nn._deferreds.length;xr<Hr;xr++)Hn(Nn,Nn._deferreds[xr]);Nn._deferreds=null}function zn(Nn,xr,Hr){this.onFulfilled=typeof Nn=="function"?Nn:null,this.onRejected=typeof xr=="function"?xr:null,this.promise=Hr}function Qn(Nn,xr){var Hr=!1;try{Nn(function(Yr){Hr||(Hr=!0,Kn(xr,Yr))},function(Yr){Hr||(Hr=!0,_n(xr,Yr))})}catch(Yr){if(Hr)return;Hr=!0,_n(xr,Yr)}}Zt.prototype.catch=function(Nn){return this.then(null,Nn)},Zt.prototype.then=function(Nn,xr){var Hr=new this.constructor(ur);return Hn(this,new zn(Nn,xr,Hr)),Hr},Zt.all=function(Nn){var xr=Array.prototype.slice.call(Nn);return new Zt(function(Hr,Yr){if(xr.length===0)return Hr([]);var Er=xr.length;function ei($i,ye){try{if(ye&&(typeof ye=="object"||typeof ye=="function")){var Re=ye.then;if(typeof Re=="function")return void Re.call(ye,function(tt){ei($i,tt)},Yr)}xr[$i]=ye,--Er==0&&Hr(xr)}catch(tt){Yr(tt)}}for(var fo=0;fo<xr.length;fo++)ei(fo,xr[fo])})},Zt.resolve=function(Nn){return Nn&&typeof Nn=="object"&&Nn.constructor===Zt?Nn:new Zt(function(xr){xr(Nn)})},Zt.reject=function(Nn){return new Zt(function(xr,Hr){Hr(Nn)})},Zt.race=function(Nn){return new Zt(function(xr,Hr){for(var Yr=0,Er=Nn.length;Yr<Er;Yr++)Nn[Yr].then(xr,Hr)})},Zt._immediateFn=typeof dt=="function"?function(Nn){dt(Nn)}:function(Nn){Bt(Nn,0)},Zt._unhandledRejectionFn=function(Nn){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Nn)},Zt._setImmediateFn=function(Nn){Zt._immediateFn=Nn},Zt._setUnhandledRejectionFn=function(Nn){Zt._unhandledRejectionFn=Nn},Fe!==void 0&&Fe.exports?Fe.exports=Zt:Ft.Promise||(Ft.Promise=Zt)})(this)}).call(this,oe("timers").setImmediate)},{timers:3}],3:[function(oe,Fe,ft){(function(dt,Ft){var Bt=oe("process/browser.js").nextTick,ur=Function.prototype.apply,Zt=Array.prototype.slice,Hn={},Kn=0;function _n(gn,zn){this._id=gn,this._clearFn=zn}ft.setTimeout=function(){return new _n(ur.call(setTimeout,window,arguments),clearTimeout)},ft.setInterval=function(){return new _n(ur.call(setInterval,window,arguments),clearInterval)},ft.clearTimeout=ft.clearInterval=function(gn){gn.close()},_n.prototype.unref=_n.prototype.ref=function(){},_n.prototype.close=function(){this._clearFn.call(window,this._id)},ft.enroll=function(gn,zn){clearTimeout(gn._idleTimeoutId),gn._idleTimeout=zn},ft.unenroll=function(gn){clearTimeout(gn._idleTimeoutId),gn._idleTimeout=-1},ft._unrefActive=ft.active=function(gn){clearTimeout(gn._idleTimeoutId);var zn=gn._idleTimeout;0<=zn&&(gn._idleTimeoutId=setTimeout(function(){gn._onTimeout&&gn._onTimeout()},zn))},ft.setImmediate=typeof dt=="function"?dt:function(gn){var zn=Kn++,Qn=!(arguments.length<2)&&Zt.call(arguments,1);return Hn[zn]=!0,Bt(function(){Hn[zn]&&(Qn?gn.apply(null,Qn):gn.call(null),ft.clearImmediate(zn))}),zn},ft.clearImmediate=typeof Ft=="function"?Ft:function(gn){delete Hn[gn]}}).call(this,oe("timers").setImmediate,oe("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(oe,Fe,ft){var dt=oe("promise-polyfill"),Ft=typeof window!="undefined"?window:Function("return this;")();Fe.exports={boltExport:Ft.Promise||dt}},{"promise-polyfill":2}]},{},[4])(4)});var Qr=Xo.exports.boltExport,kr=function(oe){var Fe=Tn.none(),ft=[],dt=function(Zt){Ft()?ur(Zt):ft.push(Zt)},Ft=function(){return Fe.isSome()},Bt=function(Zt){yo(Zt,ur)},ur=function(Zt){Fe.each(function(Hn){t.setTimeout(function(){Zt(Hn)},0)})};return oe(function(Zt){Fe=Tn.some(Zt),Bt(ft),ft=[]}),{get:dt,map:function(Zt){return kr(function(Hn){dt(function(Kn){Hn(Zt(Kn))})})},isReady:Ft}},sn={nu:kr,pure:function(oe){return kr(function(Fe){Fe(oe)})}},qo=function(oe){t.setTimeout(function(){throw oe},0)},wr=function(oe){var Fe=function(ft){oe().then(ft,qo)};return{map:function(ft){return wr(function(){return oe().then(ft)})},bind:function(ft){return wr(function(){return oe().then(function(dt){return ft(dt).toPromise()})})},anonBind:function(ft){return wr(function(){return oe().then(function(){return ft.toPromise()})})},toLazy:function(){return sn.nu(Fe)},toCached:function(){var ft=null;return wr(function(){return ft===null&&(ft=oe()),ft})},toPromise:oe,get:Fe}},Bn=function(oe){return wr(function(){return new Qr(oe)})},Zo=function(oe,Fe){return Fe(function(ft){var dt=[],Ft=0;oe.length===0?ft([]):yo(oe,function(Bt,ur){var Zt;Bt.get((Zt=ur,function(Hn){dt[Zt]=Hn,++Ft>=oe.length&&ft(dt)}))})})},Xe=function(oe,Fe){return ft=Dn(oe,Fe),Zo(ft,Bn);var ft},zt=function(oe,Fe,ft){var dt=ft||Ke(Fe),Ft=Kt(oe,Ae(Fe),dt);Ft.cancelled===!1&&Jr(oe,Ft.content)},xt=function(oe,Fe){Fe=oe.dom.encode(Fe).replace(/\r\n/g,`
`),Fe=Je(Fe,oe.settings.forced_root_block,oe.settings.forced_root_block_attrs),zt(oe,Fe,!1)},Jt=function(oe){var Fe={};if(oe){if(oe.getData){var ft=oe.getData("Text");ft&&0<ft.length&&ft.indexOf("data:text/mce-internal,")===-1&&(Fe["text/plain"]=ft)}if(oe.types)for(var dt=0;dt<oe.types.length;dt++){var Ft=oe.types[dt];try{Fe[Ft]=oe.getData(Ft)}catch{Fe[Ft]=""}}}return Fe},kt=function(oe,Fe){return Fe in oe&&0<oe[Fe].length},yt=function(oe){return kt(oe,"text/html")||kt(oe,"text/plain")},lr=fe.createIdGenerator("mceclip"),mr=function(oe,Fe,ft){var dt,Ft,Bt,ur,Zt=Fe.type==="paste"?Fe.clipboardData:Fe.dataTransfer;if(oe.settings.paste_data_images&&Zt){var Hn=(Bt=(Ft=Zt).items?Dn(Ho(Ft.items),function(Kn){return Kn.getAsFile()}):[],ur=Ft.files?Ho(Ft.files):[],function(Kn,_n){for(var gn=[],zn=0,Qn=Kn.length;zn<Qn;zn++){var Nn=Kn[zn];_n(Nn,zn)&&gn.push(Nn)}return gn}(0<Bt.length?Bt:ur,function(Kn){return/^image\/(jpeg|png|gif|bmp)$/.test(Kn.type)}));if(0<Hn.length)return Fe.preventDefault(),(dt=Hn,Xe(dt,function(Kn){return Bn(function(_n){var gn=Kn.getAsFile?Kn.getAsFile():Kn,zn=new window.FileReader;zn.onload=function(){_n({blob:gn,uri:zn.result})},zn.readAsDataURL(gn)})})).get(function(Kn){ft&&oe.selection.setRng(ft),yo(Kn,function(_n){(function(gn,zn){var Qn,Nn,xr,Hr,Yr,Er,ei,fo=(Qn=zn.uri,(Nn=Qn.indexOf(","))!==-1?Qn.substr(Nn+1):null),$i=lr(),ye=gn.settings.images_reuse_filename&&zn.blob.name?(xr=gn,Hr=zn.blob.name,(Yr=Hr.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i))?xr.dom.encode(Yr[1]):null):$i,Re=new t.Image;if(Re.src=zn.uri,Er=gn.settings,ei=Re,!Er.images_dataimg_filter||Er.images_dataimg_filter(ei)){var tt,bt=gn.editorUpload.blobCache,Ot=void 0;(tt=bt.findFirst(function(Dt){return Dt.base64()===fo}))?Ot=tt:(Ot=bt.create($i,zn.blob,fo,ye),bt.add(Ot)),zt(gn,'<img src="'+Ot.blobUri()+'">',!1)}else zt(gn,'<img src="'+zn.uri+'">',!1)})(oe,_n)})}),!0}return!1},Ur=function(oe){return ze.metaKeyPressed(oe)&&oe.keyCode===86||oe.shiftKey&&oe.keyCode===45},uo=function(oe,Fe,ft){var dt,Ft,Bt=(dt=r(Tn.none()),{clear:function(){dt.set(Tn.none())},set:function(Zt){dt.set(Tn.some(Zt))},isSet:function(){return dt.get().isSome()},on:function(Zt){dt.get().each(Zt)}});function ur(Zt,Hn,Kn,_n){var gn,zn;kt(Zt,"text/html")?gn=Zt["text/html"]:(gn=Fe.getHtml(),_n=_n||Ke(gn),Fe.isDefaultContent(gn)&&(Kn=!0)),gn=fe.trimHtml(gn),Fe.remove(),zn=_n===!1&&$e(gn),gn.length&&!zn||(Kn=!0),Kn&&(gn=kt(Zt,"text/plain")&&zn?Zt["text/plain"]:fe.innerText(gn)),Fe.isDefaultContent(gn)?Hn||oe.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):Kn?xt(oe,gn):zt(oe,gn,_n)}oe.on("keydown",function(Zt){function Hn(Kn){Ur(Kn)&&!Kn.isDefaultPrevented()&&Fe.remove()}if(Ur(Zt)&&!Zt.isDefaultPrevented()){if((Ft=Zt.shiftKey&&Zt.keyCode===86)&&ee.webkit&&t.navigator.userAgent.indexOf("Version/")!==-1)return;if(Zt.stopImmediatePropagation(),Bt.set(Zt),window.setTimeout(function(){Bt.clear()},100),ee.ie&&Ft)return Zt.preventDefault(),void U(oe,!0);Fe.remove(),Fe.create(),oe.once("keyup",Hn),oe.once("paste",function(){oe.off("keyup",Hn)})}}),oe.on("paste",function(Zt){var Hn,Kn,_n,gn=Bt.isSet(),zn=(Hn=oe,Kn=Jt(Zt.clipboardData||Hn.getDoc().dataTransfer),fe.isMsEdge()?De.extend(Kn,{"text/html":""}):Kn),Qn=ft.get()==="text"||Ft,Nn=kt(zn,vt());Ft=!1,Zt.isDefaultPrevented()||(_n=Zt.clipboardData,t.navigator.userAgent.indexOf("Android")!==-1&&_n&&_n.items&&_n.items.length===0)?Fe.remove():yt(zn)||!mr(oe,Zt,Fe.getLastRng()||oe.selection.getRng())?(gn||Zt.preventDefault(),!ee.ie||gn&&!Zt.ieFake||kt(zn,"text/html")||(Fe.create(),oe.dom.bind(Fe.getEl(),"paste",function(xr){xr.stopPropagation()}),oe.getDoc().execCommand("Paste",!1,null),zn["text/html"]=Fe.getHtml()),kt(zn,"text/html")?(Zt.preventDefault(),Nn||(Nn=Ke(zn["text/html"])),ur(zn,gn,Qn,Nn)):Me.setEditorTimeout(oe,function(){ur(zn,gn,Qn,Nn)},0)):Fe.remove()})},Eo=function(oe){return ee.ie&&oe.inline?t.document.body:oe.getBody()},Vr=function(oe,Fe,ft){var dt;Eo(dt=oe)!==dt.getBody()&&oe.dom.bind(Fe,"paste keyup",function(Ft){ai(oe,ft)||oe.fire("paste")})},lo=function(oe){return oe.dom.get("mcepastebin")},Mo=function(oe,Fe){return Fe===oe},ai=function(oe,Fe){var ft,dt=lo(oe);return(ft=dt)&&ft.id==="mcepastebin"&&Mo(Fe,dt.innerHTML)},Ee=function(oe){var Fe=r(null),ft="%MCEPASTEBIN%";return{create:function(){return Ft=Fe,Bt=ft,Zt=(dt=oe).dom,Hn=dt.getBody(),Ft.set(dt.selection.getRng()),ur=dt.dom.add(Eo(dt),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},Bt),(ee.ie||ee.gecko)&&Zt.setStyle(ur,"left",Zt.getStyle(Hn,"direction",!0)==="rtl"?65535:-65535),Zt.bind(ur,"beforedeactivate focusin focusout",function(Kn){Kn.stopPropagation()}),Vr(dt,ur,Bt),ur.focus(),void dt.selection.select(ur,!0);var dt,Ft,Bt,ur,Zt,Hn},remove:function(){return function(dt,Ft){if(lo(dt)){for(var Bt=void 0,ur=Ft.get();Bt=dt.dom.get("mcepastebin");)dt.dom.remove(Bt),dt.dom.unbind(Bt);ur&&dt.selection.setRng(ur)}Ft.set(null)}(oe,Fe)},getEl:function(){return lo(oe)},getHtml:function(){return function(dt){var Ft,Bt,ur,Zt,Hn,Kn=function(_n,gn){_n.appendChild(gn),dt.dom.remove(gn,!0)};for(Bt=De.grep(Eo(dt).childNodes,function(_n){return _n.id==="mcepastebin"}),Ft=Bt.shift(),De.each(Bt,function(_n){Kn(Ft,_n)}),ur=(Zt=dt.dom.select("div[id=mcepastebin]",Ft)).length-1;0<=ur;ur--)Hn=dt.dom.create("div"),Ft.insertBefore(Hn,Zt[ur]),Kn(Hn,Zt[ur]);return Ft?Ft.innerHTML:""}(oe)},getLastRng:function(){return Fe.get()},isDefault:function(){return ai(oe,ft)},isDefaultContent:function(dt){return Mo(ft,dt)}}},gt=function(oe,Fe){var ft=Ee(oe);return oe.on("preInit",function(){return uo(dt=oe,ft,Fe),void dt.parser.addNodeFilter("img",function(Bt,ur,Zt){var Hn,Kn=function(gn){gn.attr("data-mce-object")||Ft===ee.transparentSrc||gn.remove()};if(!dt.settings.paste_data_images&&(Hn=Zt).data&&Hn.data.paste===!0)for(var _n=Bt.length;_n--;)(Ft=Bt[_n].attributes.map.src)&&(Ft.indexOf("webkit-fake-url")===0?Kn(Bt[_n]):dt.settings.allow_html_data_urls||Ft.indexOf("data:")!==0||Kn(Bt[_n]))});var dt,Ft}),{pasteFormat:Fe,pasteHtml:function(dt,Ft){return zt(oe,dt,Ft)},pasteText:function(dt){return xt(oe,dt)},pasteImageData:function(dt,Ft){return mr(oe,dt,Ft)},getDataTransferItems:Jt,hasHtmlOrText:yt,hasContentType:kt}},Pt=function(){},tn=function(oe,Fe,ft){if(dt=oe,ee.iOS!==!1||dt===void 0||typeof dt.setData!="function"||fe.isMsEdge()===!0)return!1;try{return oe.clearData(),oe.setData("text/html",Fe),oe.setData("text/plain",ft),oe.setData(vt(),Fe),!0}catch{return!1}var dt},bn=function(oe,Fe,ft,dt){tn(oe.clipboardData,Fe.html,Fe.text)?(oe.preventDefault(),dt()):ft(Fe.html,dt)},ir=function(oe){return function(Fe,ft){var dt=ve(Fe),Ft=oe.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Bt=oe.dom.create("div",{contenteditable:"true"},dt);oe.dom.setStyles(Ft,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),Ft.appendChild(Bt),oe.dom.add(oe.getBody(),Ft);var ur=oe.selection.getRng();Bt.focus();var Zt=oe.dom.createRng();Zt.selectNodeContents(Bt),oe.selection.setRng(Zt),setTimeout(function(){oe.selection.setRng(ur),Ft.parentNode.removeChild(Ft),ft()},0)}},Cn=function(oe){return{html:oe.selection.getContent({contextual:!0}),text:oe.selection.getContent({format:"text"})}},$r=function(oe){return!oe.selection.isCollapsed()||!!(Fe=oe).dom.getParent(Fe.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",Fe.getBody());var Fe},To=function(oe){var Fe,ft;oe.on("cut",(Fe=oe,function(dt){$r(Fe)&&bn(dt,Cn(Fe),ir(Fe),function(){setTimeout(function(){Fe.execCommand("Delete")},0)})})),oe.on("copy",(ft=oe,function(dt){$r(ft)&&bn(dt,Cn(ft),ir(ft),Pt)}))},ui=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pi=function(oe,Fe){return ui.getCaretRangeFromPoint(Fe.clientX,Fe.clientY,oe.getDoc())},ci=function(oe,Fe){oe.focus(),oe.selection.setRng(Fe)},Xi=function(oe,Fe,ft){X.shouldBlockDrop(oe)&&oe.on("dragend dragover draggesture dragdrop drop drag",function(dt){dt.preventDefault(),dt.stopPropagation()}),X.shouldPasteDataImages(oe)||oe.on("drop",function(dt){var Ft=dt.dataTransfer;Ft&&Ft.files&&0<Ft.files.length&&dt.preventDefault()}),oe.on("drop",function(dt){var Ft,Bt;if(Bt=Pi(oe,dt),!dt.isDefaultPrevented()&&!ft.get()){Ft=Fe.getDataTransferItems(dt.dataTransfer);var ur,Zt=Fe.hasContentType(Ft,vt());if((Fe.hasHtmlOrText(Ft)&&(!(ur=Ft["text/plain"])||ur.indexOf("file://")!==0)||!Fe.pasteImageData(dt,Bt))&&Bt&&X.shouldFilterDrop(oe)){var Hn=Ft["mce-internal"]||Ft["text/html"]||Ft["text/plain"];Hn&&(dt.preventDefault(),Me.setEditorTimeout(oe,function(){oe.undoManager.transact(function(){Ft["mce-internal"]&&oe.execCommand("Delete"),ci(oe,Bt),Hn=fe.trimHtml(Hn),Ft["text/html"]?Fe.pasteHtml(Hn,Zt):Fe.pasteText(Hn)})}))}}}),oe.on("dragstart",function(dt){ft.set(!0)}),oe.on("dragover dragend",function(dt){X.shouldPasteDataImages(oe)&&ft.get()===!1&&(dt.preventDefault(),ci(oe,Pi(oe,dt))),dt.type==="dragend"&&ft.set(!1)})},Ui=function(oe){var Fe=oe.plugins.paste,ft=X.getPreProcess(oe);ft&&oe.on("PastePreProcess",function(Ft){ft.call(Fe,Fe,Ft)});var dt=X.getPostProcess(oe);dt&&oe.on("PastePostProcess",function(Ft){dt.call(Fe,Fe,Ft)})};function ma(oe,Fe){oe.on("PastePreProcess",function(ft){ft.content=Fe(oe,ft.content,ft.internal,ft.wordContent)})}function Ya(oe,Fe){if(!Te.isWordContent(Fe))return Fe;var ft=[];De.each(oe.schema.getBlockElements(),function(Ft,Bt){ft.push(Bt)});var dt=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+ft.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return Fe=fe.filter(Fe,[[dt,"$1"]]),Fe=fe.filter(Fe,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function si(oe,Fe,ft,dt){if(dt||ft)return Fe;var Ft,Bt=X.getWebkitStyles(oe);if(X.shouldRemoveWebKitStyles(oe)===!1||Bt==="all")return Fe;if(Bt&&(Ft=Bt.split(/[, ]/)),Ft){var ur=oe.dom,Zt=oe.selection.getNode();Fe=Fe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(Hn,Kn,_n,gn){var zn=ur.parseStyle(ur.decode(_n)),Qn={};if(Ft==="none")return Kn+gn;for(var Nn=0;Nn<Ft.length;Nn++){var xr=zn[Ft[Nn]],Hr=ur.getStyle(Zt,Ft[Nn],!0);/color/.test(Ft[Nn])&&(xr=ur.toHex(xr),Hr=ur.toHex(Hr)),Hr!==xr&&(Qn[Ft[Nn]]=xr)}return(Qn=ur.serializeStyle(Qn,"span"))?Kn+' style="'+Qn+'"'+gn:Kn+gn})}else Fe=Fe.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return Fe=Fe.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(Hn,Kn,_n,gn){return Kn+' style="'+_n+'"'+gn})}function Fa(oe,Fe){oe.$("a",Fe).find("font,u").each(function(ft,dt){oe.dom.remove(dt,!0)})}var pu=function(oe){var Fe,ft;ee.webkit&&ma(oe,si),ee.ie&&(ma(oe,Ya),ft=Fa,(Fe=oe).on("PastePostProcess",function(dt){ft(Fe,dt.node)}))},di=function(oe,Fe,ft){var dt=ft.control;dt.active(Fe.pasteFormat.get()==="text"),oe.on("PastePlainTextToggle",function(Ft){dt.active(Ft.state)})},Ha=function(oe,Fe){var ft=function(dt){for(var Ft=[],Bt=1;Bt<arguments.length;Bt++)Ft[Bt-1]=arguments[Bt];return function(){for(var ur=[],Zt=0;Zt<arguments.length;Zt++)ur[Zt]=arguments[Zt];var Hn=Ft.concat(ur);return dt.apply(null,Hn)}}(di,oe,Fe);oe.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:ft}),oe.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:Fe.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:ft})};a.add("paste",function(oe){if(l(oe)===!1){var Fe=r(!1),ft=r(!1),dt=r(X.isPasteAsTextEnabled(oe)?"text":"html"),Ft=gt(oe,dt),Bt=pu(oe);return Ha(oe,Ft),re(oe,Ft,Fe),Ui(oe),To(oe),Xi(oe,Ft,ft),g(Ft,Bt)}})})(window);(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),a=function(ee){return ee.getParam("pagebreak_separator","<!-- pagebreak -->")},l=function(ee){return ee.getParam("pagebreak_split_block",!1)},g=function(){return"mce-pagebreak"},x=function(){return'<img src="'+r.transparentSrc+'" class="mce-pagebreak" data-mce-resize="false" data-mce-placeholder />'},D=function(ee){var Me=a(ee),De=new RegExp(Me.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(ze){return"\\"+ze}),"gi");ee.on("BeforeSetContent",function(ze){ze.content=ze.content.replace(De,x())}),ee.on("PreInit",function(){ee.serializer.addNodeFilter("img",function(ze){for(var mt,G,ve=ze.length;ve--;)if((G=(mt=ze[ve]).attr("class"))&&G.indexOf("mce-pagebreak")!==-1){var Ae=mt.parent;if(ee.schema.getBlockElements()[Ae.name]&&l(ee)){Ae.type=3,Ae.value=Me,Ae.raw=!0,mt.remove();continue}mt.type=3,mt.value=Me,mt.raw=!0}})})},L=x,U=g,X=function(ee){ee.addCommand("mcePageBreak",function(){ee.settings.pagebreak_split_block?ee.insertContent("<p>"+L()+"</p>"):ee.insertContent(L())})},se=function(ee){ee.on("ResolveName",function(Me){Me.target.nodeName==="IMG"&&ee.dom.hasClass(Me.target,U())&&(Me.name="pagebreak")})},re=function(ee){ee.addButton("pagebreak",{title:"Page break",cmd:"mcePageBreak"}),ee.addMenuItem("pagebreak",{text:"Page break",icon:"pagebreak",cmd:"mcePageBreak",context:"insert"})};t.add("pagebreak",function(ee){X(ee),re(ee),D(ee),se(ee)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(U){return U.getParam("noneditable_noneditable_class","mceNonEditable")},l=function(U){return U.getParam("noneditable_editable_class","mceEditable")},g=function(U){var X=U.getParam("noneditable_regexp",[]);return X&&X.constructor===RegExp?[X]:X},x=function(U){return function(X){return(" "+X.attr("class")+" ").indexOf(U)!==-1}},D=function(U,X,se){return function(re){var ee=arguments,Me=ee[ee.length-2],De=0<Me?X.charAt(Me-1):"";if(De==='"')return re;if(De===">"){var ze=X.lastIndexOf("<",Me);if(ze!==-1&&X.substring(ze,Me).indexOf('contenteditable="false"')!==-1)return re}return'<span class="'+se+'" data-mce-content="'+U.dom.encode(ee[0])+'">'+U.dom.encode(typeof ee[1]=="string"?ee[1]:ee[0])+"</span>"}},L=function(U){var X,se,re="contenteditable";X=" "+r.trim(l(U))+" ",se=" "+r.trim(a(U))+" ";var ee=x(X),Me=x(se),De=g(U);U.on("PreInit",function(){0<De.length&&U.on("BeforeSetContent",function(ze){(function(mt,G,ve){var Ae=G.length,Ke=ve.content;if(ve.format!=="raw"){for(;Ae--;)Ke=Ke.replace(G[Ae],D(mt,Ke,a(mt)));ve.content=Ke}})(U,De,ze)}),U.parser.addAttributeFilter("class",function(ze){for(var mt,G=ze.length;G--;)mt=ze[G],ee(mt)?mt.attr(re,"true"):Me(mt)&&mt.attr(re,"false")}),U.serializer.addAttributeFilter(re,function(ze){for(var mt,G=ze.length;G--;)mt=ze[G],(ee(mt)||Me(mt))&&(0<De.length&&mt.attr("data-mce-content")?(mt.name="#text",mt.type=3,mt.raw=!0,mt.value=mt.attr("data-mce-content")):mt.attr(re,null))})})};t.add("noneditable",function(U){L(U)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(L,U){var X,se=(X=L).plugins.visualchars&&X.plugins.visualchars.isEnabled()?'<span class="mce-nbsp">&nbsp;</span>':"&nbsp;";L.insertContent(function(re,ee){for(var Me="",De=0;De<ee;De++)Me+=re;return Me}(se,U)),L.dom.setAttrib(L.dom.select("span.mce-nbsp"),"data-mce-bogus","1")},a=function(L){L.addCommand("mceNonBreaking",function(){r(L,1)})},l=tinymce.util.Tools.resolve("tinymce.util.VK"),g=function(L){var U=L.getParam("nonbreaking_force_tab",0);return typeof U=="boolean"?U===!0?3:0:U},x=function(L){var U=g(L);0<U&&L.on("keydown",function(X){if(X.keyCode===l.TAB&&!X.isDefaultPrevented()){if(X.shiftKey)return;X.preventDefault(),X.stopImmediatePropagation(),r(L,U)}})},D=function(L){L.addButton("nonbreaking",{title:"Nonbreaking space",cmd:"mceNonBreaking"}),L.addMenuItem("nonbreaking",{icon:"nonbreaking",text:"Nonbreaking space",cmd:"mceNonBreaking",context:"insert"})};t.add("nonbreaking",function(L){a(L),D(L),x(L)})})();(function(){var t,r,a,l,g=tinymce.util.Tools.resolve("tinymce.PluginManager"),x=tinymce.util.Tools.resolve("tinymce.Env"),D=tinymce.util.Tools.resolve("tinymce.util.Tools"),L=function(Xe){return Xe.getParam("media_scripts")},U=function(Xe){return Xe.getParam("audio_template_callback")},X=function(Xe){return Xe.getParam("video_template_callback")},se=function(Xe){return Xe.getParam("media_live_embeds",!0)},re=function(Xe){return Xe.getParam("media_filter_html",!0)},ee=function(Xe){return Xe.getParam("media_url_resolver")},Me=function(Xe){return Xe.getParam("media_alt_source",!0)},De=function(Xe){return Xe.getParam("media_poster",!0)},ze=function(Xe){return Xe.getParam("media_dimensions",!0)},mt=function(Xe){var zt=Xe,xt=function(){return zt};return{get:xt,set:function(Jt){zt=Jt},clone:function(){return mt(xt())}}},G=function(){},ve=function(Xe){return function(){return Xe}},Ae=ve(!1),Ke=ve(!0),vt=function(){return Ie},Ie=(t=function(Xe){return Xe.isNone()},l={fold:function(Xe,zt){return Xe()},is:Ae,isSome:Ae,isNone:Ke,getOr:a=function(Xe){return Xe},getOrThunk:r=function(Xe){return Xe()},getOrDie:function(Xe){throw new Error(Xe||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:a,orThunk:r,map:vt,each:G,bind:vt,exists:Ae,forall:Ke,filter:vt,equals:t,equals_:t,toArray:function(){return[]},toString:ve("none()")},Object.freeze&&Object.freeze(l),l),Ce=function(Xe){var zt=ve(Xe),xt=function(){return kt},Jt=function(yt){return yt(Xe)},kt={fold:function(yt,lr){return lr(Xe)},is:function(yt){return Xe===yt},isSome:Ke,isNone:Ae,getOr:zt,getOrThunk:zt,getOrDie:zt,getOrNull:zt,getOrUndefined:zt,or:xt,orThunk:xt,map:function(yt){return Ce(yt(Xe))},each:function(yt){yt(Xe)},bind:Jt,exists:Jt,forall:Jt,filter:function(yt){return yt(Xe)?kt:Ie},toArray:function(){return[Xe]},toString:function(){return"some("+Xe+")"},equals:function(yt){return yt.is(Xe)},equals_:function(yt,lr){return yt.fold(Ae,function(mr){return lr(Xe,mr)})}};return kt},ut=vt,$e=function(Xe){return Xe==null?Ie:Ce(Xe)},Je=Object.hasOwnProperty,Le=function(Xe,zt){return J(Xe,zt)?$e(Xe[zt]):ut()},J=function(Xe,zt){return Je.call(Xe,zt)},Ge=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ze=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Wt=function(Xe,zt){if(Xe){for(var xt=0;xt<Xe.length;xt++)if(zt.indexOf(Xe[xt].filter)!==-1)return Xe[xt]}},fe=Ge.DOM,jt=function(Xe){return Xe.replace(/px$/,"")},At=function(Xe,zt){var xt=mt(!1),Jt={};return Ze({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(kt,yt){if(!xt.get())if(J(yt.map,"data-ephox-embed-iri"))xt.set(!0),Ur=(mr=yt).map.style,uo=Ur?fe.parseStyle(Ur):{},Jt={type:"ephox-embed-iri",source1:mr.map["data-ephox-embed-iri"],source2:"",poster:"",width:Le(uo,"max-width").map(jt).getOr(""),height:Le(uo,"max-height").map(jt).getOr("")};else{if(Jt.source1||kt!=="param"||(Jt.source1=yt.map.movie),kt!=="iframe"&&kt!=="object"&&kt!=="embed"&&kt!=="video"&&kt!=="audio"||(Jt.type||(Jt.type=kt),Jt=D.extend(yt.map,Jt)),kt==="script"){var lr=Wt(Xe,yt.map.src);if(!lr)return;Jt={type:"script",source1:yt.map.src,width:lr.width,height:lr.height}}kt==="source"&&(Jt.source1?Jt.source2||(Jt.source2=yt.map.src):Jt.source1=yt.map.src),kt!=="img"||Jt.poster||(Jt.poster=yt.map.src)}var mr,Ur,uo}}).parse(zt),Jt.source1=Jt.source1||Jt.src||Jt.data,Jt.source2=Jt.source2||"",Jt.poster=Jt.poster||"",Jt},Vt=tinymce.util.Tools.resolve("tinymce.util.Promise"),qt=function(Xe){var zt={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"}[Xe.toLowerCase().split(".").pop()];return zt||""},yn=tinymce.util.Tools.resolve("tinymce.html.Schema"),Yn=tinymce.util.Tools.resolve("tinymce.html.Writer"),Pn=Ge.DOM,dr=function(Xe){return/^[0-9.]+$/.test(Xe)?Xe+"px":Xe},Zn=function(Xe,zt){for(var xt in zt){var Jt=""+zt[xt];if(Xe.map[xt])for(var kt=Xe.length;kt--;){var yt=Xe[kt];yt.name===xt&&(Jt?(Xe.map[xt]=Jt,yt.value=Jt):(delete Xe.map[xt],Xe.splice(kt,1)))}else Jt&&(Xe.push({name:xt,value:Jt}),Xe.map[xt]=Jt)}},Cr=function(Xe,zt,xt){var Jt,kt=Yn(),yt=mt(!1),lr=0;return Ze({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(mr){kt.comment(mr)},cdata:function(mr){kt.cdata(mr)},text:function(mr,Ur){kt.text(mr,Ur)},start:function(mr,Ur,uo){if(!yt.get())if(J(Ur.map,"data-ephox-embed-iri"))yt.set(!0),Eo=zt,lo=(Vr=Ur).map.style,(Mo=lo?Pn.parseStyle(lo):{})["max-width"]=dr(Eo.width),Mo["max-height"]=dr(Eo.height),Zn(Vr,{style:Pn.serializeStyle(Mo)});else{switch(mr){case"video":case"object":case"embed":case"img":case"iframe":zt.height!==void 0&&zt.width!==void 0&&Zn(Ur,{width:zt.width,height:zt.height})}if(xt)switch(mr){case"video":Zn(Ur,{poster:zt.poster,src:""}),zt.source2&&Zn(Ur,{src:""});break;case"iframe":Zn(Ur,{src:zt.source1});break;case"source":if(++lr<=2&&(Zn(Ur,{src:zt["source"+lr],type:zt["source"+lr+"mime"]}),!zt["source"+lr]))return;break;case"img":if(!zt.poster)return;Jt=!0}}var Eo,Vr,lo,Mo;kt.start(mr,Ur,uo)},end:function(mr){if(!yt.get()){if(mr==="video"&&xt){for(var Ur=1;Ur<=2;Ur++)if(zt["source"+Ur]){var uo=[];uo.map={},lr<Ur&&(Zn(uo,{src:zt["source"+Ur],type:zt["source"+Ur+"mime"]}),kt.start("source",uo,!0))}}if(zt.poster&&mr==="object"&&xt&&!Jt){var Eo=[];Eo.map={},Zn(Eo,{src:zt.poster,width:zt.width,height:zt.height}),kt.start("img",Eo,!0)}}kt.end(mr)}},yn({})).parse(Xe),kt.getContent()},er=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Qt=function(Xe,zt){var xt=D.extend({},zt);if(!xt.source1&&(D.extend(xt,At(L(Xe),xt.embed)),!xt.source1))return"";xt.source2||(xt.source2=""),xt.poster||(xt.poster=""),xt.source1=Xe.convertURL(xt.source1,"source"),xt.source2=Xe.convertURL(xt.source2,"source"),xt.source1mime=qt(xt.source1),xt.source2mime=qt(xt.source2),xt.poster=Xe.convertURL(xt.poster,"poster");var Jt,kt,yt=(Jt=xt.source1,0<(kt=er.filter(function(Pt){return Pt.regex.test(Jt)})).length?D.extend({},kt[0],{url:function(Pt,tn){for(var bn=Pt.regex.exec(tn),ir=Pt.url,Cn=function(To){ir=ir.replace("$"+To,function(){return bn[To]?bn[To]:""})},$r=0;$r<bn.length;$r++)Cn($r);return ir.replace(/\?$/,"")}(kt[0],Jt)}):null);if(yt&&(xt.source1=yt.url,xt.type=yt.type,xt.allowFullscreen=yt.allowFullscreen,xt.width=xt.width||yt.w,xt.height=xt.height||yt.h),xt.embed)return Cr(xt.embed,xt,!0);var lr=Wt(L(Xe),xt.source1);lr&&(xt.type="script",xt.width=lr.width,xt.height=lr.height);var mr,Ur,uo,Eo,Vr,lo,Mo,ai,Ee=U(Xe),gt=X(Xe);return xt.width=xt.width||300,xt.height=xt.height||150,D.each(xt,function(Pt,tn){xt[tn]=Xe.dom.encode(Pt)}),xt.type==="iframe"?(ai=(Mo=xt).allowFullscreen?' allowFullscreen="1"':"",'<iframe src="'+Mo.source1+'" width="'+Mo.width+'" height="'+Mo.height+'"'+ai+"></iframe>"):xt.source1mime==="application/x-shockwave-flash"?(lo='<object data="'+(Vr=xt).source1+'" width="'+Vr.width+'" height="'+Vr.height+'" type="application/x-shockwave-flash">',Vr.poster&&(lo+='<img src="'+Vr.poster+'" width="'+Vr.width+'" height="'+Vr.height+'" />'),lo+="</object>"):xt.source1mime.indexOf("audio")!==-1?(uo=xt,(Eo=Ee)?Eo(uo):'<audio controls="controls" src="'+uo.source1+'">'+(uo.source2?`
<source src="`+uo.source2+'"'+(uo.source2mime?' type="'+uo.source2mime+'"':"")+` />
`:"")+"</audio>"):xt.type==="script"?'<script src="'+xt.source1+'"><\/script>':(mr=xt,(Ur=gt)?Ur(mr):'<video width="'+mr.width+'" height="'+mr.height+'"'+(mr.poster?' poster="'+mr.poster+'"':"")+` controls="controls">
<source src="`+mr.source1+'"'+(mr.source1mime?' type="'+mr.source1mime+'"':"")+` />
`+(mr.source2?'<source src="'+mr.source2+'"'+(mr.source2mime?' type="'+mr.source2mime+'"':"")+` />
`:"")+"</video>")},Te={},qe=function(Xe){return function(zt){return Qt(Xe,zt)}},Rt=function(Xe,zt){var xt,Jt,kt,yt,lr,mr=ee(Xe);return mr?(kt=zt,yt=qe(Xe),lr=mr,new Vt(function(Ur,uo){var Eo=function(Vr){return Vr.html&&(Te[kt.source1]=Vr),Ur({url:kt.source1,html:Vr.html?Vr.html:yt(kt)})};Te[kt.source1]?Eo(Te[kt.source1]):lr({url:kt.source1},Eo,uo)})):(xt=zt,Jt=qe(Xe),new Vt(function(Ur){Ur({html:Jt(xt),url:xt.source1})}))},Kt=function(Xe){return Te.hasOwnProperty(Xe)},mn=function(Xe){return function(zt){return zt?zt.style[Xe].replace(/px$/,""):""}},xn=function(Xe){return function(zt,xt){var Jt;zt&&(zt.style[Xe]=/^[0-9.]+$/.test(Jt=xt)?Jt+"px":Jt)}},Un={getMaxWidth:mn("maxWidth"),getMaxHeight:mn("maxHeight"),setMaxWidth:xn("maxWidth"),setMaxHeight:xn("maxHeight")},Or=function(Xe,zt){Xe.state.set("oldVal",Xe.value()),zt.state.set("oldVal",zt.value())},Jn=function(Xe,zt){var xt=Xe.find("#width")[0],Jt=Xe.find("#height")[0],kt=Xe.find("#constrain")[0];xt&&Jt&&kt&&zt(xt,Jt,kt.checked())},Jr=function(Xe,zt,xt){var Jt=Xe.state.get("oldVal"),kt=zt.state.get("oldVal"),yt=Xe.value(),lr=zt.value();xt&&Jt&&kt&&yt&&lr&&(yt!==Jt?(lr=Math.round(yt/Jt*lr),isNaN(lr)||zt.value(lr)):(yt=Math.round(lr/kt*yt),isNaN(yt)||Xe.value(yt))),Or(Xe,zt)},co=function(Xe){Jn(Xe,Jr)},eo=function(Xe){var zt=function(){Xe(function(xt){co(xt)})};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:zt,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:zt,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},Ao=function(Xe){Jn(Xe,Or)},qr=co,it=x.ie&&x.ie<=8?"onChange":"onInput",Fn=function(Xe){return function(zt){var xt=zt&&zt.msg?"Media embed handler error: "+zt.msg:"Media embed handler threw unknown error.";Xe.notificationManager.open({type:"error",text:xt})}},Wn=function(Xe,zt){return function(xt){var Jt=xt.html,kt=Xe.find("#embed")[0],yt=D.extend(At(L(zt),Jt),{source1:xt.url});Xe.fromJSON(yt),kt&&(kt.value(Jt),qr(Xe))}},Tn=function(Xe,zt){var xt=Xe.dom.select("img[data-mce-object]");Xe.insertContent(zt),function(Jt,kt){var yt,lr,mr=Jt.dom.select("img[data-mce-object]");for(yt=0;yt<kt.length;yt++)for(lr=mr.length-1;0<=lr;lr--)kt[yt]===mr[lr]&&mr.splice(lr,1);Jt.selection.select(mr[0])}(Xe,xt),Xe.nodeChanged()},or=function(Xe){var zt,xt,Jt,kt,yt,lr=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){Rt(Xe,zt.toJSON()).then(Wn(zt,Xe)).catch(Fn(Xe))},1)},onchange:function(Vr){var lo,Mo;Rt(Xe,zt.toJSON()).then(Wn(zt,Xe)).catch(Fn(Xe)),lo=zt,Mo=Vr.meta,D.each(Mo,function(ai,Ee){lo.find("#"+Ee).value(ai)})},onbeforecall:function(Vr){Vr.meta=zt.toJSON()}}],mr=[];if(Me(Xe)&&mr.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),De(Xe)&&mr.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),ze(Xe)){var Ur=eo(function(Vr){Vr(zt),xt=zt.toJSON(),zt.find("#embed").value(Cr(xt.embed,xt))});lr.push(Ur)}kt=(Jt=Xe).selection.getNode(),yt=kt.getAttribute("data-ephox-embed-iri"),xt=yt?{source1:yt,"data-ephox-embed-iri":yt,width:Un.getMaxWidth(kt),height:Un.getMaxHeight(kt)}:kt.getAttribute("data-mce-object")?At(L(Jt),Jt.serializer.serialize(kt,{selection:!0})):{};var uo={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:function(Vr){var lo=Vr.selection.getNode();if(lo.getAttribute("data-mce-object")||lo.getAttribute("data-ephox-embed-iri"))return Vr.selection.getContent()}(Xe),multiline:!0,rows:5,label:"Source"};uo[it]=function(){xt=D.extend({},At(L(Xe),this.value())),this.parent().parent().fromJSON(xt)};var Eo=[{title:"General",type:"form",items:lr},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},uo]}];0<mr.length&&Eo.push({title:"Advanced",type:"form",items:mr}),zt=Xe.windowManager.open({title:"Insert/edit media",data:xt,bodyType:"tabpanel",body:Eo,onSubmit:function(){var Vr,lo;qr(zt),Vr=Xe,(lo=zt.toJSON()).embed=Cr(lo.embed,lo),lo.embed&&Kt(lo.source1)?Tn(Vr,lo.embed):Rt(Vr,lo).then(function(Mo){Tn(Vr,Mo.html)}).catch(Fn(Vr))}}),Ao(zt)},Kr=function(Xe){return{showDialog:function(){or(Xe)}}},Dn=function(Xe){Xe.addCommand("mceMedia",function(){or(Xe)})},yo=tinymce.util.Tools.resolve("tinymce.html.Node"),Ho=function(Xe,zt){if(re(Xe)===!1)return zt;var xt,Jt=Yn();return Ze({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(kt){Jt.comment(kt)},cdata:function(kt){Jt.cdata(kt)},text:function(kt,yt){Jt.text(kt,yt)},start:function(kt,yt,lr){if(xt=!0,kt!=="script"&&kt!=="noscript"&&kt!=="svg"){for(var mr=yt.length-1;0<=mr;mr--){var Ur=yt[mr].name;Ur.indexOf("on")===0&&(delete yt.map[Ur],yt.splice(mr,1)),Ur==="style"&&(yt[mr].value=Xe.dom.serializeStyle(Xe.dom.parseStyle(yt[mr].value),kt))}Jt.start(kt,yt,lr),xt=!1}},end:function(kt){xt||Jt.end(kt)}},yn({})).parse(zt),Jt.getContent()},Wo=function(Xe,zt){var xt,Jt=zt.name;return(xt=new yo("img",1)).shortEnded=!0,Qr(Xe,zt,xt),xt.attr({width:zt.attr("width")||"300",height:zt.attr("height")||(Jt==="audio"?"30":"150"),style:zt.attr("style"),src:x.transparentSrc,"data-mce-object":Jt,class:"mce-object mce-object-"+Jt}),xt},Xo=function(Xe,zt){var xt,Jt,kt,yt=zt.name;return(xt=new yo("span",1)).attr({contentEditable:"false",style:zt.attr("style"),"data-mce-object":yt,class:"mce-preview-object mce-object-"+yt}),Qr(Xe,zt,xt),(Jt=new yo(yt,1)).attr({src:zt.attr("src"),allowfullscreen:zt.attr("allowfullscreen"),style:zt.attr("style"),class:zt.attr("class"),width:zt.attr("width"),height:zt.attr("height"),frameborder:"0"}),(kt=new yo("span",1)).attr("class","mce-shim"),xt.append(Jt),xt.append(kt),xt},Qr=function(Xe,zt,xt){var Jt,kt,yt,lr,mr;for(lr=(yt=zt.attributes).length;lr--;)Jt=yt[lr].name,kt=yt[lr].value,Jt!=="width"&&Jt!=="height"&&Jt!=="style"&&(Jt!=="data"&&Jt!=="src"||(kt=Xe.convertURL(kt,Jt)),xt.attr("data-mce-p-"+Jt,kt));(mr=zt.firstChild&&zt.firstChild.value)&&(xt.attr("data-mce-html",escape(Ho(Xe,mr))),xt.firstChild=null)},kr=function(Xe){for(;Xe=Xe.parent;)if(Xe.attr("data-ephox-embed-iri"))return!0;return!1},sn=function(Xe){return function(zt){for(var xt,Jt,kt=zt.length;kt--;)(xt=zt[kt]).parent&&(xt.parent.attr("data-mce-object")||(xt.name!=="script"||(Jt=Wt(L(Xe),xt.attr("src"))))&&(Jt&&(Jt.width&&xt.attr("width",Jt.width.toString()),Jt.height&&xt.attr("height",Jt.height.toString())),xt.name==="iframe"&&se(Xe)&&x.ceFalse?kr(xt)||xt.replace(Xo(Xe,xt)):kr(xt)||xt.replace(Wo(Xe,xt))))}},qo=function(Xe){Xe.on("preInit",function(){var zt=Xe.schema.getSpecialElements();D.each("video audio iframe object".split(" "),function(Jt){zt[Jt]=new RegExp("</"+Jt+"[^>]*>","gi")});var xt=Xe.schema.getBoolAttrs();D.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(Jt){xt[Jt]={}}),Xe.parser.addNodeFilter("iframe,video,audio,object,embed,script",sn(Xe)),Xe.serializer.addAttributeFilter("data-mce-object",function(Jt,kt){for(var yt,lr,mr,Ur,uo,Eo,Vr,lo,Mo=Jt.length;Mo--;)if((yt=Jt[Mo]).parent){for(Vr=yt.attr(kt),lr=new yo(Vr,1),Vr!=="audio"&&Vr!=="script"&&((lo=yt.attr("class"))&&lo.indexOf("mce-preview-object")!==-1?lr.attr({width:yt.firstChild.attr("width"),height:yt.firstChild.attr("height")}):lr.attr({width:yt.attr("width"),height:yt.attr("height")})),lr.attr({style:yt.attr("style")}),mr=(Ur=yt.attributes).length;mr--;){var ai=Ur[mr].name;ai.indexOf("data-mce-p-")===0&&lr.attr(ai.substr(11),Ur[mr].value)}Vr==="script"&&lr.attr("type","text/javascript"),(uo=yt.attr("data-mce-html"))&&((Eo=new yo("#text",3)).raw=!0,Eo.value=Ho(Xe,unescape(uo)),lr.append(Eo)),yt.replace(lr)}})}),Xe.on("setContent",function(){Xe.$("span.mce-preview-object").each(function(zt,xt){var Jt=Xe.$(xt);Jt.find("span.mce-shim",xt).length===0&&Jt.append('<span class="mce-shim"></span>')})})},wr=function(Xe){Xe.on("ResolveName",function(zt){var xt;zt.target.nodeType===1&&(xt=zt.target.getAttribute("data-mce-object"))&&(zt.name=xt)})},Bn=function(Xe){Xe.on("click keyup",function(){var zt=Xe.selection.getNode();zt&&Xe.dom.hasClass(zt,"mce-preview-object")&&Xe.dom.getAttrib(zt,"data-mce-selected")&&zt.setAttribute("data-mce-selected","2")}),Xe.on("ObjectSelected",function(zt){var xt=zt.target.getAttribute("data-mce-object");xt!=="audio"&&xt!=="script"||zt.preventDefault()}),Xe.on("objectResized",function(zt){var xt,Jt=zt.target;Jt.getAttribute("data-mce-object")&&(xt=Jt.getAttribute("data-mce-html"))&&(xt=unescape(xt),Jt.setAttribute("data-mce-html",escape(Cr(xt,{width:zt.width,height:zt.height}))))})},Zo=function(Xe){Xe.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),Xe.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContext:!0})};g.add("media",function(Xe){return Dn(Xe),Zo(Xe),wr(Xe),qo(Xe),Bn(Xe),Kr(Xe)})})();(function(t){var r,a,l,g,x,D,L,U,X,se=tinymce.util.Tools.resolve("tinymce.PluginManager"),re=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),ee=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Me=tinymce.util.Tools.resolve("tinymce.util.VK"),De=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),ze=tinymce.util.Tools.resolve("tinymce.util.Tools"),mt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),G=function(ne){return ne&&ne.nodeName==="BR"},ve=function(ne){return ne&&ne.nodeType===3},Ae=function(ne){return ne&&/^(OL|UL|DL)$/.test(ne.nodeName)},Ke=function(ne){return ne&&/^(OL|UL)$/.test(ne.nodeName)},vt=function(ne){return ne&&/^(DT|DD)$/.test(ne.nodeName)},Ie=function(ne){return ne&&/^(LI|DT|DD)$/.test(ne.nodeName)},Ce=function(ne){return ne&&/^(TH|TD)$/.test(ne.nodeName)},ut=G,$e=function(ne,be){return be&&!!ne.schema.getTextBlockElements()[be.nodeName]},Je=function(ne,be){return ne&&ne.nodeName in be},Le=function(ne,be){return!!G(be)&&!(!ne.isBlock(be.nextSibling)||G(be.previousSibling))},J=function(ne,be,me){var Ye=ne.isEmpty(be);return!(me&&0<ne.select("span[data-mce-type=bookmark]",be).length)&&Ye},Ge=function(ne,be){return ne.isChildOf(be,ne.getRoot())},Ze=function(ne,be){if(ve(ne))return{container:ne,offset:be};var me=re.getNode(ne,be);return ve(me)?{container:me,offset:be>=ne.childNodes.length?me.data.length:0}:me.previousSibling&&ve(me.previousSibling)?{container:me.previousSibling,offset:me.previousSibling.data.length}:me.nextSibling&&ve(me.nextSibling)?{container:me.nextSibling,offset:0}:{container:ne,offset:be}},Wt=function(ne){var be=ne.cloneRange(),me=Ze(ne.startContainer,ne.startOffset);be.setStart(me.container,me.offset);var Ye=Ze(ne.endContainer,ne.endOffset);return be.setEnd(Ye.container,Ye.offset),be},fe=mt.DOM,jt=function(ne){var be={},me=function(Ye){var Qe,Et,Ut;Et=ne[Ye?"startContainer":"endContainer"],Ut=ne[Ye?"startOffset":"endOffset"],Et.nodeType===1&&(Qe=fe.create("span",{"data-mce-type":"bookmark"}),Et.hasChildNodes()?(Ut=Math.min(Ut,Et.childNodes.length-1),Ye?Et.insertBefore(Qe,Et.childNodes[Ut]):fe.insertAfter(Qe,Et.childNodes[Ut])):Et.appendChild(Qe),Et=Qe,Ut=0),be[Ye?"startContainer":"endContainer"]=Et,be[Ye?"startOffset":"endOffset"]=Ut};return me(!0),ne.collapsed||me(),be},At=function(ne){function be(Ye){var Qe,Et,Ut;Qe=Ut=ne[Ye?"startContainer":"endContainer"],Et=ne[Ye?"startOffset":"endOffset"],Qe&&(Qe.nodeType===1&&(Et=function(Mn){for(var qn=Mn.parentNode.firstChild,pr=0;qn;){if(qn===Mn)return pr;qn.nodeType===1&&qn.getAttribute("data-mce-type")==="bookmark"||pr++,qn=qn.nextSibling}return-1}(Qe),Qe=Qe.parentNode,fe.remove(Ut),!Qe.hasChildNodes()&&fe.isBlock(Qe)&&Qe.appendChild(fe.create("br"))),ne[Ye?"startContainer":"endContainer"]=Qe,ne[Ye?"startOffset":"endOffset"]=Et)}be(!0),be();var me=fe.createRng();return me.setStart(ne.startContainer,ne.startOffset),ne.endContainer&&me.setEnd(ne.endContainer,ne.endOffset),Wt(me)},Vt=function(){},qt=function(ne){return function(){return ne}},yn=function(ne){return function(){for(var be=[],me=0;me<arguments.length;me++)be[me]=arguments[me];return!ne.apply(null,be)}},Yn=qt(!1),Pn=qt(!0),dr=function(){return Zn},Zn=(r=function(ne){return ne.isNone()},g={fold:function(ne,be){return ne()},is:Yn,isSome:Yn,isNone:Pn,getOr:l=function(ne){return ne},getOrThunk:a=function(ne){return ne()},getOrDie:function(ne){throw new Error(ne||"error: getOrDie called on none.")},getOrNull:qt(null),getOrUndefined:qt(void 0),or:l,orThunk:a,map:dr,each:Vt,bind:dr,exists:Yn,forall:Pn,filter:dr,equals:r,equals_:r,toArray:function(){return[]},toString:qt("none()")},Object.freeze&&Object.freeze(g),g),Cr=function(ne){var be=qt(ne),me=function(){return Qe},Ye=function(Et){return Et(ne)},Qe={fold:function(Et,Ut){return Ut(ne)},is:function(Et){return ne===Et},isSome:Pn,isNone:Yn,getOr:be,getOrThunk:be,getOrDie:be,getOrNull:be,getOrUndefined:be,or:me,orThunk:me,map:function(Et){return Cr(Et(ne))},each:function(Et){Et(ne)},bind:Ye,exists:Ye,forall:Ye,filter:function(Et){return Et(ne)?Qe:Zn},toArray:function(){return[ne]},toString:function(){return"some("+ne+")"},equals:function(Et){return Et.is(ne)},equals_:function(Et,Ut){return Et.fold(Yn,function(Mn){return Ut(ne,Mn)})}};return Qe},er={some:Cr,none:dr,from:function(ne){return ne==null?Zn:Cr(ne)}},Qt=function(ne){return function(be){return function(me){if(me===null)return"null";var Ye=typeof me;return Ye==="object"&&(Array.prototype.isPrototypeOf(me)||me.constructor&&me.constructor.name==="Array")?"array":Ye==="object"&&(String.prototype.isPrototypeOf(me)||me.constructor&&me.constructor.name==="String")?"string":Ye}(be)===ne}},Te=Qt("string"),qe=Qt("array"),Rt=Qt("boolean"),Kt=Qt("function"),mn=Qt("number"),xn=Array.prototype.slice,Un=Array.prototype.push,Or=function(ne,be){for(var me=ne.length,Ye=new Array(me),Qe=0;Qe<me;Qe++){var Et=ne[Qe];Ye[Qe]=be(Et,Qe)}return Ye},Jn=function(ne,be){for(var me=0,Ye=ne.length;me<Ye;me++)be(ne[me],me)},Jr=function(ne,be){for(var me=[],Ye=0,Qe=ne.length;Ye<Qe;Ye++){var Et=ne[Ye];be(Et,Ye)&&me.push(Et)}return me},co=function(ne,be,me){return Jn(ne,function(Ye){me=be(me,Ye)}),me},eo=function(ne,be){for(var me=0,Ye=ne.length;me<Ye;me++){var Qe=ne[me];if(be(Qe,me))return er.some(Qe)}return er.none()},Ao=function(ne,be){return function(me){for(var Ye=[],Qe=0,Et=me.length;Qe<Et;++Qe){if(!qe(me[Qe]))throw new Error("Arr.flatten item "+Qe+" was not an array, input: "+me);Un.apply(Ye,me[Qe])}return Ye}(Or(ne,be))},qr=function(ne){return ne.length===0?er.none():er.some(ne[0])},it=function(ne){return ne.length===0?er.none():er.some(ne[ne.length-1])},Fn=(Kt(Array.from)&&Array.from,typeof t.window!="undefined"?t.window:Function("return this;")()),Wn=function(ne,be){return function(me,Ye){for(var Qe=Ye!=null?Ye:Fn,Et=0;Et<me.length&&Qe!==void 0&&Qe!==null;++Et)Qe=Qe[me[Et]];return Qe}(ne.split("."),be)},Tn=function(ne,be){var me=Wn(ne,be);if(me==null)throw new Error(ne+" not available on this browser");return me},or=function(ne){var be,me=Wn("ownerDocument.defaultView",ne);return(be=me,Tn("HTMLElement",be)).prototype.isPrototypeOf(ne)},Kr=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Dn=function(ne){var be=ne.selection.getStart(!0);return ne.dom.getParent(be,"OL,UL,DL",Ho(ne,be))},yo=function(ne){var be,me,Ye,Qe=ne.selection.getSelectedBlocks();return ze.grep((be=ne,me=Qe,Ye=ze.map(me,function(Et){var Ut=be.dom.getParent(Et,"li,dd,dt",Ho(be,Et));return Ut||Et}),Kr.unique(Ye)),function(Et){return Ie(Et)})},Ho=function(ne,be){var me=ne.dom.getParents(be,"TD,TH");return 0<me.length?me[0]:ne.getBody()},Wo=function(ne,be){var me=ne.dom.getParents(be,"ol,ul",Ho(ne,be));return it(me)},Xo=function(ne,be){var me=Or(be,function(Ye){return Wo(ne,Ye).getOr(Ye)});return Kr.unique(me)},Qr={isList:function(ne){var be=Dn(ne);return or(be)},getParentList:Dn,getSelectedSubLists:function(ne){var be,me,Ye,Qe=Dn(ne),Et=ne.selection.getSelectedBlocks();return Ye=Et,(me=Qe)&&Ye.length===1&&Ye[0]===me?(be=Qe,ze.grep(be.querySelectorAll("ol,ul,dl"),function(Ut){return Ae(Ut)})):ze.grep(Et,function(Ut){return Ae(Ut)&&Qe!==Ut})},getSelectedListItems:yo,getClosestListRootElm:Ho,getSelectedDlItems:function(ne){return Jr(yo(ne),vt)},getSelectedListRoots:function(ne){var be,me,Ye,Qe=(me=Wo(be=ne,be.selection.getStart()),Ye=Jr(be.selection.getSelectedBlocks(),Ke),me.toArray().concat(Ye));return Xo(ne,Qe)}},kr=function(ne){if(ne==null)throw new Error("Node cannot be null or undefined");return{dom:qt(ne)}},sn={fromHtml:function(ne,be){var me=(be||t.document).createElement("div");if(me.innerHTML=ne,!me.hasChildNodes()||1<me.childNodes.length)throw t.console.error("HTML does not have a single root node",ne),new Error("HTML must have a single root node");return kr(me.childNodes[0])},fromTag:function(ne,be){var me=(be||t.document).createElement(ne);return kr(me)},fromText:function(ne,be){var me=(be||t.document).createTextNode(ne);return kr(me)},fromDom:kr,fromPoint:function(ne,be,me){var Ye=ne.dom();return er.from(Ye.elementFromPoint(be,me)).map(kr)}},qo=function(ne,be,me){return ne.isSome()&&be.isSome()?er.some(me(ne.getOrDie(),be.getOrDie())):er.none()},wr=Object.keys,Bn=function(){return Tn("Node")},Zo=function(ne,be,me){return(ne.compareDocumentPosition(be)&me)!=0},Xe=function(ne,be){return Zo(ne,be,Bn().DOCUMENT_POSITION_CONTAINED_BY)},zt=function(ne,be){var me=function(Qe,Et){for(var Ut=0;Ut<Qe.length;Ut++){var Mn=Qe[Ut];if(Mn.test(Et))return Mn}}(ne,be);if(!me)return{major:0,minor:0};var Ye=function(Qe){return Number(be.replace(me,"$"+Qe))};return Jt(Ye(1),Ye(2))},xt=function(){return Jt(0,0)},Jt=function(ne,be){return{major:ne,minor:be}},kt={nu:Jt,detect:function(ne,be){var me=String(be).toLowerCase();return ne.length===0?xt():zt(ne,me)},unknown:xt},yt="Firefox",lr=function(ne,be){return function(){return be===ne}},mr=function(ne){var be=ne.current;return{current:be,version:ne.version,isEdge:lr("Edge",be),isChrome:lr("Chrome",be),isIE:lr("IE",be),isOpera:lr("Opera",be),isFirefox:lr(yt,be),isSafari:lr("Safari",be)}},Ur={unknown:function(){return mr({current:void 0,version:kt.unknown()})},nu:mr,edge:qt("Edge"),chrome:qt("Chrome"),ie:qt("IE"),opera:qt("Opera"),firefox:qt(yt),safari:qt("Safari")},uo="Windows",Eo="Android",Vr="Solaris",lo="FreeBSD",Mo=function(ne,be){return function(){return be===ne}},ai=function(ne){var be=ne.current;return{current:be,version:ne.version,isWindows:Mo(uo,be),isiOS:Mo("iOS",be),isAndroid:Mo(Eo,be),isOSX:Mo("OSX",be),isLinux:Mo("Linux",be),isSolaris:Mo(Vr,be),isFreeBSD:Mo(lo,be)}},Ee={unknown:function(){return ai({current:void 0,version:kt.unknown()})},nu:ai,windows:qt(uo),ios:qt("iOS"),android:qt(Eo),linux:qt("Linux"),osx:qt("OSX"),solaris:qt(Vr),freebsd:qt(lo)},gt=function(ne,be){var me=String(be).toLowerCase();return eo(ne,function(Ye){return Ye.search(me)})},Pt=function(ne,be){return gt(ne,be).map(function(me){var Ye=kt.detect(me.versionRegexes,be);return{current:me.name,version:Ye}})},tn=function(ne,be){return gt(ne,be).map(function(me){var Ye=kt.detect(me.versionRegexes,be);return{current:me.name,version:Ye}})},bn=function(ne,be){return ne.indexOf(be)!==-1},ir=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Cn=function(ne){return function(be){return bn(be,ne)}},$r=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(ne){return bn(ne,"edge/")&&bn(ne,"chrome")&&bn(ne,"safari")&&bn(ne,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ir],search:function(ne){return bn(ne,"chrome")&&!bn(ne,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(ne){return bn(ne,"msie")||bn(ne,"trident")}},{name:"Opera",versionRegexes:[ir,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Cn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Cn("firefox")},{name:"Safari",versionRegexes:[ir,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(ne){return(bn(ne,"safari")||bn(ne,"mobile/"))&&bn(ne,"applewebkit")}}],To=[{name:"Windows",search:Cn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(ne){return bn(ne,"iphone")||bn(ne,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Cn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Cn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Cn("linux"),versionRegexes:[]},{name:"Solaris",search:Cn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Cn("freebsd"),versionRegexes:[]}],ui={browsers:qt($r),oses:qt(To)},Pi=function(ne){var be,me,Ye,Qe,Et,Ut,Mn,qn,pr,Zr,Co,So=ui.browsers(),Ko=ui.oses(),Io=Pt(So,ne).fold(Ur.unknown,Ur.nu),Ai=tn(Ko,ne).fold(Ee.unknown,Ee.nu);return{browser:Io,os:Ai,deviceType:(me=Io,Ye=ne,Qe=(be=Ai).isiOS()&&/ipad/i.test(Ye)===!0,Et=be.isiOS()&&!Qe,Ut=be.isAndroid()&&be.version.major===3,Mn=be.isAndroid()&&be.version.major===4,qn=Qe||Ut||Mn&&/mobile/i.test(Ye)===!0,pr=be.isiOS()||be.isAndroid(),Zr=pr&&!qn,Co=me.isSafari()&&be.isiOS()&&/safari/i.test(Ye)===!1,{isiPad:qt(Qe),isiPhone:qt(Et),isTablet:qt(qn),isPhone:qt(Zr),isTouch:qt(pr),isAndroid:be.isAndroid,isiOS:be.isiOS,isWebView:qt(Co)})}},ci={detect:(x=function(){var ne=t.navigator.userAgent;return Pi(ne)},L=!1,function(){for(var ne=[],be=0;be<arguments.length;be++)ne[be]=arguments[be];return L||(L=!0,D=x.apply(null,ne)),D})},Xi=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE,t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),Ui=(t.Node.TEXT_NODE,t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,Xi),ma=function(ne,be){return ne.dom()===be.dom()},Ya=ci.detect().browser.isIE()?function(ne,be){return Xe(ne.dom(),be.dom())}:function(ne,be){var me=ne.dom(),Ye=be.dom();return me!==Ye&&me.contains(Ye)},si=function(ne,be){var me=ne.dom();if(me.nodeType!==Ui)return!1;var Ye=me;if(Ye.matches!==void 0)return Ye.matches(be);if(Ye.msMatchesSelector!==void 0)return Ye.msMatchesSelector(be);if(Ye.webkitMatchesSelector!==void 0)return Ye.webkitMatchesSelector(be);if(Ye.mozMatchesSelector!==void 0)return Ye.mozMatchesSelector(be);throw new Error("Browser lacks native selectors")},Fa=function(ne){return er.from(ne.dom().parentNode).map(sn.fromDom)},pu=function(ne){return Or(ne.dom().childNodes,sn.fromDom)},di=function(ne,be){var me=ne.dom().childNodes;return er.from(me[be]).map(sn.fromDom)},Ha=function(ne){return di(ne,0)},oe=function(ne){return di(ne,ne.dom().childNodes.length-1)},Fe=(function(){for(var ne=[],be=0;be<arguments.length;be++)ne[be]=arguments[be]}("element","offset"),function(ne,be){Fa(ne).each(function(me){me.dom().insertBefore(be.dom(),ne.dom())})}),ft=function(ne,be){ne.dom().appendChild(be.dom())},dt=function(ne,be){Jn(be,function(me){ft(ne,me)})},Ft=function(ne){var be=ne.dom();be.parentNode!==null&&be.parentNode.removeChild(be)},Bt=function(ne){return ne.dom().nodeName.toLowerCase()},ur=(U=Xi,function(ne){return ne.dom().nodeType===U}),Zt=function(ne,be){var me=ne.dom();(function(Ye,Qe){for(var Et=wr(Ye),Ut=0,Mn=Et.length;Ut<Mn;Ut++){var qn=Et[Ut];Qe(Ye[qn],qn)}})(be,function(Ye,Qe){(function(Et,Ut,Mn){if(!(Te(Mn)||Rt(Mn)||mn(Mn)))throw t.console.error("Invalid call to Attr.set. Key ",Ut,":: Value ",Mn,":: Element ",Et),new Error("Attribute value was not simple");Et.setAttribute(Ut,Mn+"")})(me,Qe,Ye)})},Hn=function(ne){return co(ne.dom().attributes,function(be,me){return be[me.name]=me.value,be},{})},Kn=function(ne,be,me){if(!Te(me))throw t.console.error("Invalid call to CSS.set. Property ",be,":: Value ",me,":: Element ",ne),new Error("CSS value must be a string: "+me);var Ye;(Ye=ne).style!==void 0&&Kt(Ye.style.getPropertyValue)&&ne.style.setProperty(be,me)},_n=function(ne){return be=ne,me=!0,sn.fromDom(be.dom().cloneNode(me));var be,me},gn=function(ne,be){var me,Ye,Qe,Et,Ut=(me=ne,Ye=be,Qe=sn.fromTag(Ye),Et=Hn(me),Zt(Qe,Et),Qe);Fe(ne,Ut);var Mn=pu(ne);return dt(Ut,Mn),Ft(ne),Ut},zn=function(ne,be){ft(ne.item,be.list)},Qn=function(ne,be,me){var Ye=be.slice(0,me.depth);return it(Ye).each(function(Qe){var Et,Ut,Mn,qn,pr,Zr,Co,So,Ko=(Et=ne,Ut=me.itemAttributes,Mn=me.content,qn=sn.fromTag("li",Et),Zt(qn,Ut),dt(qn,Mn),qn);Zr=Ko,ft((pr=Qe).list,Zr),pr.item=Zr,So=me,Bt((Co=Qe).list)!==So.listType&&(Co.list=gn(Co.list,So.listType)),Zt(Co.list,So.listAttributes)}),Ye},Nn=function(ne,be,me){var Ye,Qe=function(Et,Ut,Mn){for(var qn,pr,Zr,Co=[],So=0;So<Mn;So++)Co.push((qn=Et,pr=Ut.listType,Zr={list:sn.fromTag(pr,qn),item:sn.fromTag("li",qn)},ft(Zr.list,Zr.item),Zr));return Co}(ne,me,me.depth-be.length);return function(Et){for(var Ut=1;Ut<Et.length;Ut++)zn(Et[Ut-1],Et[Ut])}(Qe),function(Et,Ut){for(var Mn=0;Mn<Et.length-1;Mn++)qn=Et[Mn].item,pr="list-style-type",Zr="none",Co=qn.dom(),Kn(Co,pr,Zr);var qn,pr,Zr,Co;it(Et).each(function(So){Zt(So.list,Ut.listAttributes),Zt(So.item,Ut.itemAttributes),dt(So.item,Ut.content)})}(Qe,me),Ye=Qe,qo(it(be),qr(Ye),zn),be.concat(Qe)},xr=function(ne){return si(ne,"OL,UL")},Hr=function(ne){return Ha(ne).map(xr).getOr(!1)},Yr=function(ne){return 0<ne.depth},Er=function(ne){return ne.isSelected},ei=function(ne){var be=pu(ne),me=oe(ne).map(xr).getOr(!1)?be.slice(0,-1):be;return Or(me,_n)},fo=Object.prototype.hasOwnProperty,$i=(X=function(ne,be){return be},function(){for(var ne=new Array(arguments.length),be=0;be<ne.length;be++)ne[be]=arguments[be];if(ne.length===0)throw new Error("Can't merge zero objects");for(var me={},Ye=0;Ye<ne.length;Ye++){var Qe=ne[Ye];for(var Et in Qe)fo.call(Qe,Et)&&(me[Et]=X(me[Et],Qe[Et]))}return me}),ye=function(ne){Jn(ne,function(be,me){(function(Ye,Qe){for(var Et=Ye[Qe].depth,Ut=Qe-1;0<=Ut;Ut--){if(Ye[Ut].depth===Et)return er.some(Ye[Ut]);if(Ye[Ut].depth<Et)break}return er.none()})(ne,me).each(function(Ye){var Qe,Et;Et=Ye,(Qe=be).listType=Et.listType,Qe.listAttributes=$i({},Et.listAttributes)})})},Re=function(ne){var be=ne,me=function(){return be};return{get:me,set:function(Ye){be=Ye},clone:function(){return Re(me())}}},tt=function(ne,be,me,Ye){return Ha(Ye).filter(xr).fold(function(){be.each(function(pr){ma(pr.start,Ye)&&me.set(!0)});var Qe,Et,Ut,Mn=(Qe=Ye,Et=ne,Ut=me.get(),Fa(Qe).filter(ur).map(function(pr){return{depth:Et,isSelected:Ut,content:ei(Qe),itemAttributes:Hn(Qe),listAttributes:Hn(pr),listType:Bt(pr)}}));be.each(function(pr){ma(pr.end,Ye)&&me.set(!1)});var qn=oe(Ye).filter(xr).map(function(pr){return bt(ne,be,me,pr)}).getOr([]);return Mn.toArray().concat(qn)},function(Qe){return bt(ne,be,me,Qe)})},bt=function(ne,be,me,Ye){return Ao(pu(Ye),function(Qe){return(xr(Qe)?bt:tt)(ne+1,be,me,Qe)})},Ot=tinymce.util.Tools.resolve("tinymce.Env"),Dt=function(ne,be){var me,Ye,Qe,Et,Ut=ne.dom,Mn=ne.schema.getBlockElements(),qn=Ut.createFragment();if(ne.settings.forced_root_block&&(Qe=ne.settings.forced_root_block),Qe&&((Ye=Ut.create(Qe)).tagName===ne.settings.forced_root_block&&Ut.setAttribs(Ye,ne.settings.forced_root_block_attrs),Je(be.firstChild,Mn)||qn.appendChild(Ye)),be)for(;me=be.firstChild;){var pr=me.nodeName;Et||pr==="SPAN"&&me.getAttribute("data-mce-type")==="bookmark"||(Et=!0),Je(me,Mn)?(qn.appendChild(me),Ye=null):Qe?(Ye||(Ye=Ut.create(Qe),qn.appendChild(Ye)),Ye.appendChild(me)):qn.appendChild(me)}return ne.settings.forced_root_block?Et||Ot.ie&&!(10<Ot.ie)||Ye.appendChild(Ut.create("br",{"data-mce-bogus":"1"})):qn.appendChild(Ut.create("br")),qn},cn=function(ne,be){return Or(be,function(me){var Ye,Qe,Et=(Ye=me.content,Qe=t.document.createDocumentFragment(),Jn(Ye,function(Ut){Qe.appendChild(Ut.dom())}),sn.fromDom(Qe));return sn.fromDom(Dt(ne,Et.dom()))})},On=function(ne,be){return ye(be),(me=ne.contentDocument,Ye=be,Qe=co(Ye,function(Et,Ut){return Ut.depth>Et.length?Nn(me,Et,Ut):Qn(me,Et,Ut)},[]),qr(Qe).map(function(Et){return Et.list})).toArray();var me,Ye,Qe},sr=function(ne){var be,me,Ye=Or(Qr.getSelectedListItems(ne),sn.fromDom);return qo(eo(Ye,yn(Hr)),eo((be=Ye,(me=xn.call(be,0)).reverse(),me),yn(Hr)),function(Qe,Et){return{start:Qe,end:Et}})},$n=function(ne,be,me){var Ye,Qe,Et,Ut=(Ye=be,Qe=sr(ne),Et=Re(!1),Or(Ye,function(Mn){return{sourceList:Mn,entries:bt(0,Qe,Et,Mn)}}));Jn(Ut,function(Mn){var qn,pr,Zr,Co,So,Ko;qn=Mn.entries,pr=me,Jn(Jr(qn,Er),function(Io){return function(Ai,Hi){switch(Ai){case"Indent":Hi.depth++;break;case"Outdent":Hi.depth--;break;case"Flatten":Hi.depth=0}}(pr,Io)}),Zr=Mn.sourceList,So=ne,Ko=Mn.entries,Co=Ao(function(Io,Ai){if(Io.length===0)return[];for(var Hi=Ai(Io[0]),yi=[],Bi=[],tu=0,tc=Io.length;tu<tc;tu++){var Cs=Io[tu],nu=Ai(Cs);nu!==Hi&&(yi.push(Bi),Bi=[]),Hi=nu,Bi.push(Cs)}return Bi.length!==0&&yi.push(Bi),yi}(Ko,Yr),function(Io){return qr(Io).map(Yr).getOr(!1)?On(So,Io):cn(So,Io)}),Jn(Co,function(Io){Fe(Zr,Io)}),Ft(Mn.sourceList)})},An=mt.DOM,hr=function(ne,be,me){var Ye,Qe,Et,Ut,Mn,qn;for(Et=An.select('span[data-mce-type="bookmark"]',be),Mn=Dt(ne,me),(Ye=An.createRng()).setStartAfter(me),Ye.setEndAfter(be),Ut=(Qe=Ye.extractContents()).firstChild;Ut;Ut=Ut.firstChild)if(Ut.nodeName==="LI"&&ne.dom.isEmpty(Ut)){An.remove(Ut);break}ne.dom.isEmpty(Qe)||An.insertAfter(Qe,be),An.insertAfter(Mn,be),J(ne.dom,me.parentNode)&&(qn=me.parentNode,ze.each(Et,function(pr){qn.parentNode.insertBefore(pr,me.parentNode)}),An.remove(qn)),An.remove(me),J(ne.dom,be)&&An.remove(be)},yr=function(ne){si(ne,"dt")&&gn(ne,"dd")},_r=function(ne,be,me){Jn(me,be==="Indent"?yr:function(Ye){return Qe=ne,void(si(Et=Ye,"dd")?gn(Et,"dt"):si(Et,"dt")&&Fa(Et).each(function(Ut){return hr(Qe,Ut.dom(),Et.dom())}));var Qe,Et})},Sr=function(ne,be){var me=Or(Qr.getSelectedListRoots(ne),sn.fromDom),Ye=Or(Qr.getSelectedDlItems(ne),sn.fromDom),Qe=!1;if(me.length||Ye.length){var Et=ne.selection.getBookmark();$n(ne,me,be),_r(ne,be,Ye),ne.selection.moveToBookmark(Et),ne.selection.setRng(Wt(ne.selection.getRng())),ne.nodeChanged(),Qe=!0}return Qe},bo=function(ne){return Sr(ne,"Indent")},Mr=function(ne){return Sr(ne,"Outdent")},Ro=function(ne){return Sr(ne,"Flatten")},Di=function(ne,be){ze.each(be,function(me,Ye){ne.setAttribute(Ye,me)})},Go=function(ne,be,me){var Ye,Qe,Et,Ut,Mn,qn,pr;Ye=ne,Qe=be,Ut=(Et=me)["list-style-type"]?Et["list-style-type"]:null,Ye.setStyle(Qe,"list-style-type",Ut),Mn=ne,Di(qn=be,(pr=me)["list-attributes"]),ze.each(Mn.select("li",qn),function(Zr){Di(Zr,pr["list-item-attributes"])})},ar=function(ne,be,me,Ye){var Qe,Et;for(Qe=be[me?"startContainer":"endContainer"],Et=be[me?"startOffset":"endOffset"],Qe.nodeType===1&&(Qe=Qe.childNodes[Math.min(Et,Qe.childNodes.length-1)]||Qe),!me&&ut(Qe.nextSibling)&&(Qe=Qe.nextSibling);Qe.parentNode!==Ye;){if($e(ne,Qe)||/^(TD|TH)$/.test(Qe.parentNode.nodeName))return Qe;Qe=Qe.parentNode}return Qe},st=function(ne,be,me){me===void 0&&(me={});var Ye,Qe=ne.selection.getRng(!0),Et="LI",Ut=Qr.getClosestListRootElm(ne,ne.selection.getStart(!0)),Mn=ne.dom;Mn.getContentEditable(ne.selection.getNode())!=="false"&&((be=be.toUpperCase())==="DL"&&(Et="DT"),Ye=jt(Qe),ze.each(function(qn,pr,Zr){for(var Co,So=[],Ko=qn.dom,Io=ar(qn,pr,!0,Zr),Ai=ar(qn,pr,!1,Zr),Hi=[],yi=Io;yi&&(Hi.push(yi),yi!==Ai);yi=yi.nextSibling);return ze.each(Hi,function(Bi){if($e(qn,Bi))return So.push(Bi),void(Co=null);if(Ko.isBlock(Bi)||ut(Bi))return ut(Bi)&&Ko.remove(Bi),void(Co=null);var tu=Bi.nextSibling;De.isBookmarkNode(Bi)&&($e(qn,tu)||!tu&&Bi.parentNode===Zr)?Co=null:(Co||(Co=Ko.create("p"),Bi.parentNode.insertBefore(Co,Bi),So.push(Co)),Co.appendChild(Bi))}),So}(ne,Qe,Ut),function(qn){var pr,Zr,Co,So,Ko,Io,Ai,Hi,yi;(Zr=qn.previousSibling)&&Ae(Zr)&&Zr.nodeName===be&&(Co=Zr,So=me,Ko=Mn.getStyle(Co,"list-style-type"),Io=So?So["list-style-type"]:"",Ko===(Io=Io===null?"":Io))?(pr=Zr,qn=Mn.rename(qn,Et),Zr.appendChild(qn)):(pr=Mn.create(be),qn.parentNode.insertBefore(pr,qn),pr.appendChild(qn),qn=Mn.rename(qn,Et)),Ai=Mn,Hi=qn,yi=["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"],ze.each(yi,function(Bi){var tu;return Ai.setStyle(Hi,((tu={})[Bi]="",tu))}),Go(Mn,pr,me),mo(ne.dom,pr)}),ne.selection.setRng(At(Ye)))},xo=function(ne,be,me){return qn=me,(Mn=be)&&qn&&Ae(Mn)&&Mn.nodeName===qn.nodeName&&(Et=be,Ut=me,(Qe=ne).getStyle(Et,"list-style-type",!0)===Qe.getStyle(Ut,"list-style-type",!0))&&(Ye=me,be.className===Ye.className);var Ye,Qe,Et,Ut,Mn,qn},mo=function(ne,be){var me,Ye;if(me=be.nextSibling,xo(ne,be,me)){for(;Ye=me.firstChild;)be.appendChild(Ye);ne.remove(me)}if(me=be.previousSibling,xo(ne,be,me)){for(;Ye=me.lastChild;)be.insertBefore(Ye,be.firstChild);ne.remove(me)}},no=function(ne,be,me,Ye,Qe){if(be.nodeName!==Ye||Vo(Qe)){var Et=jt(ne.selection.getRng(!0));ze.each([be].concat(me),function(Ut){(function(Mn,qn,pr,Zr){if(qn.nodeName!==pr){var Co=Mn.rename(qn,pr);Go(Mn,Co,Zr)}else Go(Mn,qn,Zr)})(ne.dom,Ut,Ye,Qe)}),ne.selection.setRng(At(Et))}else Ro(ne)},Vo=function(ne){return"list-style-type"in ne},Oo={toggleList:function(ne,be,me){var Ye=Qr.getParentList(ne),Qe=Qr.getSelectedSubLists(ne);me=me||{},Ye&&0<Qe.length?no(ne,Ye,Qe,be,me):function(Et,Ut,Mn,qn){if(Ut!==Et.getBody())if(Ut)if(Ut.nodeName!==Mn||Vo(qn)){var pr=jt(Et.selection.getRng(!0));Go(Et.dom,Ut,qn),mo(Et.dom,Et.dom.rename(Ut,Mn)),Et.selection.setRng(At(pr))}else Ro(Et);else st(Et,Mn,qn)}(ne,Ye,be,me)},mergeWithAdjacentLists:mo},mi=mt.DOM,Uo=function(ne,be){var me,Ye=be.parentNode;Ye.nodeName==="LI"&&Ye.firstChild===be&&((me=Ye.previousSibling)&&me.nodeName==="LI"?(me.appendChild(be),J(ne,Ye)&&mi.remove(Ye)):mi.setStyle(Ye,"listStyleType","none")),Ae(Ye)&&(me=Ye.previousSibling)&&me.nodeName==="LI"&&me.appendChild(be)},ra=function(ne,be){ze.each(ze.grep(ne.select("ol,ul",be)),function(me){Uo(ne,me)})},_a=function(ne,be,me,Ye){var Qe,Et,Ut=be.startContainer,Mn=be.startOffset;if(Ut.nodeType===3&&(me?Mn<Ut.data.length:0<Mn))return Ut;for(Qe=ne.schema.getNonEmptyElements(),Ut.nodeType===1&&(Ut=re.getNode(Ut,Mn)),Et=new ee(Ut,Ye),me&&Le(ne.dom,Ut)&&Et.next();Ut=Et[me?"next":"prev2"]();)if(Ut.nodeName==="LI"&&!Ut.hasChildNodes()||Qe[Ut.nodeName]||Ut.nodeType===3&&0<Ut.data.length)return Ut},Ni=function(ne,be){var me=be.childNodes;return me.length===1&&!Ae(me[0])&&ne.isBlock(me[0])},oa=function(ne,be,me){var Ye,Qe,Et,Ut;if(Qe=Ni(ne,me)?me.firstChild:me,Ni(Et=ne,Ut=be)&&Et.remove(Ut.firstChild,!0),!J(ne,be,!0))for(;Ye=be.firstChild;)Qe.appendChild(Ye)},ga=function(ne,be,me){var Ye,Qe,Et=be.parentNode;if(Ge(ne,be)&&Ge(ne,me)){Ae(me.lastChild)&&(Qe=me.lastChild),Et===me.lastChild&&ut(Et.previousSibling)&&ne.remove(Et.previousSibling),(Ye=me.lastChild)&&ut(Ye)&&be.hasChildNodes()&&ne.remove(Ye),J(ne,me,!0)&&ne.$(me).empty(),oa(ne,be,me),Qe&&me.appendChild(Qe);var Ut=Ya(sn.fromDom(me),sn.fromDom(be))?ne.getParents(be,Ae,me):[];ne.remove(be),Jn(Ut,function(Mn){J(ne,Mn)&&Mn!==ne.getRoot()&&ne.remove(Mn)})}},vi=function(ne,be,me,Ye){var Qe,Et,Ut,Mn=ne.dom;if(Mn.isEmpty(Ye))Et=me,Ut=Ye,(Qe=ne).dom.$(Ut).empty(),ga(Qe.dom,Et,Ut),Qe.selection.setCursorLocation(Ut);else{var qn=jt(be);ga(Mn,me,Ye),ne.selection.setRng(At(qn))}},Si=function(ne,be){var me,Ye,Qe,Et=ne.dom,Ut=ne.selection,Mn=Ut.getStart(),qn=Qr.getClosestListRootElm(ne,Mn),pr=Et.getParent(Ut.getStart(),"LI",qn);if(pr){if((me=pr.parentNode)===ne.getBody()&&J(Et,me))return!0;if(Ye=Wt(Ut.getRng(!0)),(Qe=Et.getParent(_a(ne,Ye,be,qn),"LI",qn))&&Qe!==pr)return be?vi(ne,Ye,Qe,pr):function(Zr,Co,So,Ko){var Io=jt(Co);ga(Zr.dom,So,Ko);var Ai=At(Io);Zr.selection.setRng(Ai)}(ne,Ye,pr,Qe),!0;if(!Qe&&!be)return Ro(ne),!0}return!1},Ka=function(ne,be){return Si(ne,be)||function(me,Ye){var Qe=me.dom,Et=me.selection.getStart(),Ut=Qr.getClosestListRootElm(me,Et),Mn=Qe.getParent(Et,Qe.isBlock,Ut);if(Mn&&Qe.isEmpty(Mn)){var qn=Wt(me.selection.getRng(!0)),pr=Qe.getParent(_a(me,qn,Ye,Ut),"LI",Ut);if(pr)return me.undoManager.transact(function(){var Zr,Co,So,Ko;Co=Mn,So=Ut,Ko=(Zr=Qe).getParent(Co.parentNode,Zr.isBlock,So),Zr.remove(Co),Ko&&Zr.isEmpty(Ko)&&Zr.remove(Ko),Oo.mergeWithAdjacentLists(Qe,pr.parentNode),me.selection.select(pr,!0),me.selection.collapse(Ye)}),!0}return!1}(ne,be)},Gi=function(ne,be){return ne.selection.isCollapsed()?Ka(ne,be):(Ye=(me=ne).selection.getStart(),Qe=Qr.getClosestListRootElm(me,Ye),!!(me.dom.getParent(Ye,"LI,DT,DD",Qe)||0<Qr.getSelectedListItems(me).length)&&(me.undoManager.transact(function(){me.execCommand("Delete"),ra(me.dom,me.getBody())}),!0));var me,Ye,Qe},ki=function(ne){ne.on("keydown",function(be){be.keyCode===Me.BACKSPACE?Gi(ne,!1)&&be.preventDefault():be.keyCode===Me.DELETE&&Gi(ne,!0)&&be.preventDefault()})},ti=Gi,br=function(ne){return{backspaceDelete:function(be){ti(ne,be)}}},gu=function(ne,be){return function(){var me=ne.dom.getParent(ne.selection.getStart(),"UL,OL,DL");return me&&me.nodeName===be}},vu=function(ne){ne.on("BeforeExecCommand",function(be){var me=be.command.toLowerCase();me==="indent"?bo(ne):me==="outdent"&&Mr(ne)}),ne.addCommand("InsertUnorderedList",function(be,me){Oo.toggleList(ne,"UL",me)}),ne.addCommand("InsertOrderedList",function(be,me){Oo.toggleList(ne,"OL",me)}),ne.addCommand("InsertDefinitionList",function(be,me){Oo.toggleList(ne,"DL",me)}),ne.addCommand("RemoveList",function(){Ro(ne)}),ne.addQueryStateHandler("InsertUnorderedList",gu(ne,"UL")),ne.addQueryStateHandler("InsertOrderedList",gu(ne,"OL")),ne.addQueryStateHandler("InsertDefinitionList",gu(ne,"DL"))},go=function(ne){return ne.getParam("lists_indent_on_tab",!0)},zo=function(ne){var be;go(ne)&&(be=ne).on("keydown",function(me){me.keyCode!==Me.TAB||Me.metaKeyPressed(me)||be.undoManager.transact(function(){(me.shiftKey?Mr(be):bo(be))&&me.preventDefault()})}),ki(ne)},Ei=function(ne,be){return function(me){var Ye=me.control;ne.on("NodeChange",function(Qe){var Et=function(qn,pr){for(var Zr=0;Zr<qn.length;Zr++)if(pr(qn[Zr]))return Zr;return-1}(Qe.parents,Ce),Ut=Et!==-1?Qe.parents.slice(0,Et):Qe.parents,Mn=ze.grep(Ut,Ae);Ye.active(0<Mn.length&&Mn[0].nodeName===be)})}},Vi=function(ne){var be,me,Ye;me="advlist",Ye=(be=ne).settings.plugins?be.settings.plugins:"",ze.inArray(Ye.split(/[ ,]/),me)===-1&&(ne.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:Ei(ne,"OL")}),ne.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:Ei(ne,"UL")})),ne.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent"})};se.add("lists",function(ne){return zo(ne),Vi(ne),vu(ne),br(ne)})})(window);(function(t){var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.VK"),l=function(it){return it.target_list},g=function(it){return it.rel_list},x=function(it){return it.link_class_list},D=function(it){return typeof it.link_assume_external_targets=="boolean"&&it.link_assume_external_targets},L=function(it){return typeof it.link_context_toolbar=="boolean"&&it.link_context_toolbar},U=function(it){return it.link_list},X=function(it){return typeof it.default_link_target=="string"},se=function(it){return it.default_link_target},re=l,ee=function(it,Fn){it.settings.target_list=Fn},Me=function(it){return l(it)!==!1},De=g,ze=function(it){return g(it)!==void 0},mt=x,G=function(it){return x(it)!==void 0},ve=function(it){return it.link_title!==!1},Ae=function(it){return typeof it.allow_unsafe_link_target=="boolean"&&it.allow_unsafe_link_target},Ke=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),vt=tinymce.util.Tools.resolve("tinymce.Env"),Ie=function(it){if(!vt.ie||10<vt.ie){var Fn=t.document.createElement("a");Fn.target="_blank",Fn.href=it,Fn.rel="noreferrer noopener";var Wn=t.document.createEvent("MouseEvents");Wn.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),Kr=Fn,Dn=Wn,t.document.body.appendChild(Kr),Kr.dispatchEvent(Dn),t.document.body.removeChild(Kr)}else{var Tn=t.window.open("","_blank");if(Tn){Tn.opener=null;var or=Tn.document;or.open(),or.write('<meta http-equiv="refresh" content="0; url='+Ke.DOM.encode(it)+'">'),or.close()}}var Kr,Dn},Ce=tinymce.util.Tools.resolve("tinymce.util.Tools"),ut=function(it,Fn){var Wn,Tn,or=["noopener"],Kr=it?it.split(/\s+/):[],Dn=function(yo){return yo.filter(function(Ho){return Ce.inArray(or,Ho)===-1})};return(Kr=Fn?(Wn=Dn(Wn=Kr)).length?Wn.concat(or):or:Dn(Kr)).length?(Tn=Kr,Ce.trim(Tn.sort().join(" "))):null},$e=function(it,Fn){return Fn=Fn||it.selection.getNode(),Le(Fn)?it.dom.select("a[href]",Fn)[0]:it.dom.getParent(Fn,"a[href]")},Je=function(it){return it&&it.nodeName==="A"&&it.href},Le=function(it){return it&&it.nodeName==="FIGURE"&&/\bimage\b/i.test(it.className)},J=function(it,Fn){var Wn,Tn;(Tn=it.dom.select("img",Fn)[0])&&(Wn=it.dom.getParents(Tn,"a[href]",Fn)[0])&&(Wn.parentNode.insertBefore(Tn,Wn),it.dom.remove(Wn))},Ge=function(it,Fn,Wn){var Tn,or;(or=it.dom.select("img",Fn)[0])&&(Tn=it.dom.create("a",Wn),or.parentNode.insertBefore(Tn,or),Tn.appendChild(or))},Ze=function(it,Fn){return function(Wn){it.undoManager.transact(function(){var Tn=it.selection.getNode(),or=$e(it,Tn),Kr={href:Wn.href,target:Wn.target?Wn.target:null,rel:Wn.rel?Wn.rel:null,class:Wn.class?Wn.class:null,title:Wn.title?Wn.title:null};ze(it.settings)||Ae(it.settings)!==!1||(Kr.rel=ut(Kr.rel,Kr.target==="_blank")),Wn.href===Fn.href&&(Fn.attach(),Fn={}),or?(it.focus(),Wn.hasOwnProperty("text")&&("innerText"in or?or.innerText=Wn.text:or.textContent=Wn.text),it.dom.setAttribs(or,Kr),it.selection.select(or),it.undoManager.add()):Le(Tn)?Ge(it,Tn,Kr):Wn.hasOwnProperty("text")?it.insertContent(it.dom.createHTML("a",Kr,it.dom.encode(Wn.text))):it.execCommand("mceInsertLink",!1,Kr)})}},Wt=function(it){return function(){it.undoManager.transact(function(){var Fn=it.selection.getNode();Le(Fn)?J(it,Fn):it.execCommand("unlink")})}},fe=Je,jt=function(it){return 0<Ce.grep(it,Je).length},At=function(it){return!(/</.test(it)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(it)||it.indexOf("href=")===-1))},Vt=$e,qt=function(it,Fn){var Wn=Fn?Fn.innerText||Fn.textContent:it.getContent({format:"text"});return Wn.replace(/\uFEFF/g,"")},yn=ut,Yn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Pn=tinymce.util.Tools.resolve("tinymce.util.XHR"),dr={},Zn=function(it,Fn,Wn){var Tn=function(or,Kr){return Kr=Kr||[],Ce.each(or,function(Dn){var yo={text:Dn.text||Dn.title};Dn.menu?yo.menu=Tn(Dn.menu):(yo.value=Dn.value,Fn&&Fn(yo)),Kr.push(yo)}),Kr};return Tn(it,Wn||[])},Cr=function(it,Fn,Wn){var Tn=it.selection.getRng();Yn.setEditorTimeout(it,function(){it.windowManager.confirm(Fn,function(or){it.selection.setRng(Tn),Wn(or)})})},er=function(it,Fn){var Wn,Tn,or,Kr,Dn,yo,Ho,Wo,Xo,Qr,kr,sn={},qo=it.selection,wr=it.dom,Bn=function(Xe){var zt=or.find("#text");(!zt.value()||Xe.lastControl&&zt.value()===Xe.lastControl.text())&&zt.value(Xe.control.text()),or.find("#href").value(Xe.control.value())},Zo=function(){Tn||!Kr||sn.text||this.parent().parent().find("#text")[0].value(this.value())};Kr=At(qo.getContent()),Wn=Vt(it),sn.text=Tn=qt(it.selection,Wn),sn.href=Wn?wr.getAttrib(Wn,"href"):"",Wn?sn.target=wr.getAttrib(Wn,"target"):X(it.settings)&&(sn.target=se(it.settings)),(kr=wr.getAttrib(Wn,"rel"))&&(sn.rel=kr),(kr=wr.getAttrib(Wn,"class"))&&(sn.class=kr),(kr=wr.getAttrib(Wn,"title"))&&(sn.title=kr),Kr&&(Dn={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){sn.text=this.value()}}),Fn&&(yo={type:"listbox",label:"Link list",values:Zn(Fn,function(Xe){Xe.value=it.convertURL(Xe.value||Xe.url,"href")},[{text:"None",value:""}]),onselect:Bn,value:it.convertURL(sn.href,"href"),onPostRender:function(){yo=this}}),Me(it.settings)&&(re(it.settings)===void 0&&ee(it,[{text:"None",value:""},{text:"New window",value:"_blank"}]),Wo={name:"target",type:"listbox",label:"Target",values:Zn(re(it.settings))}),ze(it.settings)&&(Ho={name:"rel",type:"listbox",label:"Rel",values:Zn(De(it.settings),function(Xe){Ae(it.settings)===!1&&(Xe.value=yn(Xe.value,sn.target==="_blank"))})}),G(it.settings)&&(Xo={name:"class",type:"listbox",label:"Class",values:Zn(mt(it.settings),function(Xe){Xe.value&&(Xe.textStyle=function(){return it.formatter.getCssText({inline:"a",classes:[Xe.value]})})})}),ve(it.settings)&&(Qr={name:"title",type:"textbox",label:"Title",value:sn.title}),or=it.windowManager.open({title:"Insert link",data:sn,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(Xe){var zt=Xe.meta||{};yo&&yo.value(it.convertURL(this.value(),"href")),Ce.each(Xe.meta,function(xt,Jt){var kt=or.find("#"+Jt);Jt==="text"?Tn.length===0&&(kt.value(xt),sn.text=xt):kt.value(xt)}),zt.attach&&(dr={href:this.value(),attach:zt.attach}),zt.text||Zo.call(this)},onkeyup:Zo,onpaste:Zo,onbeforecall:function(Xe){Xe.meta=or.toJSON()}},Dn,Qr,function(Xe){var zt=[];if(Ce.each(it.dom.select("a:not([href])"),function(xt){var Jt=xt.name||xt.id;Jt&&zt.push({text:Jt,value:"#"+Jt,selected:Xe.indexOf("#"+Jt)!==-1})}),zt.length)return zt.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:zt,onselect:Bn}}(sn.href),yo,Ho,Wo,Xo],onSubmit:function(Xe){var zt=D(it.settings),xt=Ze(it,dr),Jt=Wt(it),kt=Ce.extend({},sn,Xe.data),yt=kt.href;yt?(Kr&&kt.text!==Tn||delete kt.text,0<yt.indexOf("@")&&yt.indexOf("//")===-1&&yt.indexOf("mailto:")===-1?Cr(it,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(lr){lr&&(kt.href="mailto:"+yt),xt(kt)}):zt===!0&&!/^\w+:/i.test(yt)||zt===!1&&/^\s*www[\.|\d\.]/i.test(yt)?Cr(it,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(lr){lr&&(kt.href="http://"+yt),xt(kt)}):xt(kt)):Jt()}})},Qt=function(it){var Fn,Wn,Tn;Wn=er,typeof(Tn=U((Fn=it).settings))=="string"?Pn.send({url:Tn,success:function(or){Wn(Fn,JSON.parse(or))}}):typeof Tn=="function"?Tn(function(or){Wn(Fn,or)}):Wn(Fn,Tn)},Te=function(it,Fn){return it.dom.getParent(Fn,"a[href]")},qe=function(it){return Te(it,it.selection.getStart())},Rt=function(it,Fn){if(Fn){var Wn=(or=Fn).getAttribute("data-mce-href")||or.getAttribute("href");if(/^#/.test(Wn)){var Tn=it.$(Wn);Tn.length&&it.selection.scrollIntoView(Tn[0],!0)}else Ie(Fn.href)}var or},Kt=function(it){return function(){Qt(it)}},mn=function(it){return function(){Rt(it,qe(it))}},xn=function(it){return function(Fn){var Wn,Tn,or,Kr;return!!(L(it.settings)&&(!(Kr=it.plugins.contextmenu)||!Kr.isContextMenuVisible())&&fe(Fn)&&(or=(Tn=(Wn=it.selection).getRng()).startContainer).nodeType===3&&Wn.isCollapsed()&&0<Tn.startOffset&&Tn.startOffset<or.data.length)}},Un=function(it){it.on("click",function(Fn){var Wn=Te(it,Fn.target);Wn&&a.metaKeyPressed(Fn)&&(Fn.preventDefault(),Rt(it,Wn))}),it.on("keydown",function(Fn){var Wn,Tn=qe(it);Tn&&Fn.keyCode===13&&(Wn=Fn).altKey===!0&&Wn.shiftKey===!1&&Wn.ctrlKey===!1&&Wn.metaKey===!1&&(Fn.preventDefault(),Rt(it,Tn))})},Or=function(it){return function(){var Fn=this;it.on("nodechange",function(Wn){Fn.active(!it.readonly&&!!Vt(it,Wn.element))})}},Jn=function(it){return function(){var Fn=this,Wn=function(Tn){jt(Tn.parents)?Fn.show():Fn.hide()};jt(it.dom.getParents(it.selection.getStart()))||Fn.hide(),it.on("nodechange",Wn),Fn.on("remove",function(){it.off("nodechange",Wn)})}},Jr=function(it){it.addCommand("mceLink",Kt(it))},co=function(it){it.addShortcut("Meta+K","",Kt(it))},eo=function(it){it.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:Kt(it),onpostrender:Or(it)}),it.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:Wt(it),onpostrender:Or(it)}),it.addContextToolbar&&it.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:mn(it)})},Ao=function(it){it.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:mn(it),onPostRender:Jn(it),prependToContext:!0}),it.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:Kt(it),stateSelector:"a[href]",context:"insert",prependToContext:!0}),it.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:Wt(it),stateSelector:"a[href]"})},qr=function(it){it.addContextToolbar&&it.addContextToolbar(xn(it),"openlink | link unlink")};r.add("link",function(it){eo(it),Ao(it),qr(it),Un(it),Jr(it),co(it)})})(window);(function(){var t=function(Ke){var vt=Ke,Ie=function(){return vt};return{get:Ie,set:function(Ce){vt=Ce},clone:function(){return t(Ie())}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(Ke){return Ke.getParam("insertdatetime_timeformat",Ke.translate("%H:%M:%S"))},l=function(Ke){return Ke.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},g=function(Ke){return Ke.getParam("insertdatetime_dateformat",Ke.translate("%Y-%m-%d"))},x=a,D=l,L=function(Ke){var vt=l(Ke);return 0<vt.length?vt[0]:a(Ke)},U=function(Ke){return Ke.getParam("insertdatetime_element",!1)},X="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),se="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),re="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ee="January February March April May June July August September October November December".split(" "),Me=function(Ke,vt){if((Ke=""+Ke).length<vt)for(var Ie=0;Ie<vt-Ke.length;Ie++)Ke="0"+Ke;return Ke},De=function(Ke,vt,Ie){return Ie=Ie||new Date,vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=(vt=vt.replace("%D","%m/%d/%Y")).replace("%r","%I:%M:%S %p")).replace("%Y",""+Ie.getFullYear())).replace("%y",""+Ie.getYear())).replace("%m",Me(Ie.getMonth()+1,2))).replace("%d",Me(Ie.getDate(),2))).replace("%H",""+Me(Ie.getHours(),2))).replace("%M",""+Me(Ie.getMinutes(),2))).replace("%S",""+Me(Ie.getSeconds(),2))).replace("%I",""+((Ie.getHours()+11)%12+1))).replace("%p",Ie.getHours()<12?"AM":"PM")).replace("%B",""+Ke.translate(ee[Ie.getMonth()]))).replace("%b",""+Ke.translate(re[Ie.getMonth()]))).replace("%A",""+Ke.translate(se[Ie.getDay()]))).replace("%a",""+Ke.translate(X[Ie.getDay()]))).replace("%%","%")},ze=function(Ke,vt){if(U(Ke)){var Ie=De(Ke,vt),Ce=void 0;Ce=/%[HMSIp]/.test(vt)?De(Ke,"%Y-%m-%dT%H:%M"):De(Ke,"%Y-%m-%d");var ut=Ke.dom.getParent(Ke.selection.getStart(),"time");ut?(Je=ut,Le=Ce,J=Ie,Ge=($e=Ke).dom.create("time",{datetime:Le},J),Je.parentNode.insertBefore(Ge,Je),$e.dom.remove(Je),$e.selection.select(Ge,!0),$e.selection.collapse(!1)):Ke.insertContent('<time datetime="'+Ce+'">'+Ie+"</time>")}else Ke.insertContent(De(Ke,vt));var $e,Je,Le,J,Ge},mt=De,G=function(Ke){Ke.addCommand("mceInsertDate",function(){ze(Ke,g(Ke))}),Ke.addCommand("mceInsertTime",function(){ze(Ke,x(Ke))})},ve=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ae=function(Ke,vt){var Ie,Ce,ut,$e=(Ce=vt,ut=D(Ie=Ke),ve.map(ut,function(Je){return{text:mt(Ie,Je),onclick:function(){Ce.set(Je),ze(Ie,Je)}}}));Ke.addButton("insertdatetime",{type:"splitbutton",title:"Insert date/time",menu:$e,onclick:function(){var Je=vt.get();ze(Ke,Je||L(Ke))}}),Ke.addMenuItem("insertdatetime",{icon:"date",text:"Date/time",menu:$e,context:"insert"})};r.add("insertdatetime",function(Ke){var vt=t(null);G(Ke),Ae(Ke,vt)})})();(function(t){var r=function(ye){var Re=ye,tt=function(){return Re};return{get:tt,set:function(bt){Re=bt},clone:function(){return r(tt())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.util.Tools"),g=function(){},x=function(ye){return function(){return ye}};function D(ye){for(var Re=[],tt=1;tt<arguments.length;tt++)Re[tt-1]=arguments[tt];return function(){for(var bt=[],Ot=0;Ot<arguments.length;Ot++)bt[Ot]=arguments[Ot];var Dt=Re.concat(bt);return ye.apply(null,Dt)}}var L,U,X,se,re=x(!1),ee=x(!0),Me=function(){return De},De=(L=function(ye){return ye.isNone()},se={fold:function(ye,Re){return ye()},is:re,isSome:re,isNone:ee,getOr:X=function(ye){return ye},getOrThunk:U=function(ye){return ye()},getOrDie:function(ye){throw new Error(ye||"error: getOrDie called on none.")},getOrNull:x(null),getOrUndefined:x(void 0),or:X,orThunk:U,map:Me,each:g,bind:Me,exists:re,forall:ee,filter:Me,equals:L,equals_:L,toArray:function(){return[]},toString:x("none()")},Object.freeze&&Object.freeze(se),se),ze=function(ye){var Re=x(ye),tt=function(){return Ot},bt=function(Dt){return Dt(ye)},Ot={fold:function(Dt,cn){return cn(ye)},is:function(Dt){return ye===Dt},isSome:ee,isNone:re,getOr:Re,getOrThunk:Re,getOrDie:Re,getOrNull:Re,getOrUndefined:Re,or:tt,orThunk:tt,map:function(Dt){return ze(Dt(ye))},each:function(Dt){Dt(ye)},bind:bt,exists:bt,forall:bt,filter:function(Dt){return Dt(ye)?Ot:De},toArray:function(){return[ye]},toString:function(){return"some("+ye+")"},equals:function(Dt){return Dt.is(ye)},equals_:function(Dt,cn){return Dt.fold(re,function(On){return cn(ye,On)})}};return Ot},mt={some:ze,none:Me,from:function(ye){return ye==null?De:ze(ye)}};function G(ye,Re){return Ke(t.document.createElement("canvas"),ye,Re)}function ve(ye){var Re=G(ye.width,ye.height);return Ae(Re).drawImage(ye,0,0),Re}function Ae(ye){return ye.getContext("2d")}function Ke(ye,Re,tt){return ye.width=Re,ye.height=tt,ye}function vt(ye){return ye.naturalWidth||ye.width}function Ie(ye){return ye.naturalHeight||ye.height}var Ce=window.Promise?window.Promise:function(){var ye=function(An){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof An!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],$n(An,tt(Dt,this),tt(cn,this))},Re=ye.immediateFn||typeof window.setImmediate=="function"&&window.setImmediate||function(An){t.setTimeout(An,1)};function tt(An,hr){return function(){return An.apply(hr,arguments)}}var bt=Array.isArray||function(An){return Object.prototype.toString.call(An)==="[object Array]"};function Ot(An){var hr=this;this._state!==null?Re(function(){var yr=hr._state?An.onFulfilled:An.onRejected;if(yr!==null){var _r;try{_r=yr(hr._value)}catch(Sr){return void An.reject(Sr)}An.resolve(_r)}else(hr._state?An.resolve:An.reject)(hr._value)}):this._deferreds.push(An)}function Dt(An){try{if(An===this)throw new TypeError("A promise cannot be resolved with itself.");if(An&&(typeof An=="object"||typeof An=="function")){var hr=An.then;if(typeof hr=="function")return void $n(tt(hr,An),tt(Dt,this),tt(cn,this))}this._state=!0,this._value=An,On.call(this)}catch(yr){cn.call(this,yr)}}function cn(An){this._state=!1,this._value=An,On.call(this)}function On(){for(var An=0,hr=this._deferreds;An<hr.length;An++){var yr=hr[An];Ot.call(this,yr)}this._deferreds=[]}function sr(An,hr,yr,_r){this.onFulfilled=typeof An=="function"?An:null,this.onRejected=typeof hr=="function"?hr:null,this.resolve=yr,this.reject=_r}function $n(An,hr,yr){var _r=!1;try{An(function(Sr){_r||(_r=!0,hr(Sr))},function(Sr){_r||(_r=!0,yr(Sr))})}catch(Sr){if(_r)return;_r=!0,yr(Sr)}}return ye.prototype.catch=function(An){return this.then(null,An)},ye.prototype.then=function(An,hr){var yr=this;return new ye(function(_r,Sr){Ot.call(yr,new sr(An,hr,_r,Sr))})},ye.all=function(){for(var An=[],hr=0;hr<arguments.length;hr++)An[hr]=arguments[hr];var yr=Array.prototype.slice.call(An.length===1&&bt(An[0])?An[0]:An);return new ye(function(_r,Sr){if(yr.length===0)return _r([]);var bo=yr.length;function Mr(Di,Go){try{if(Go&&(typeof Go=="object"||typeof Go=="function")){var ar=Go.then;if(typeof ar=="function")return void ar.call(Go,function(st){Mr(Di,st)},Sr)}yr[Di]=Go,--bo==0&&_r(yr)}catch(st){Sr(st)}}for(var Ro=0;Ro<yr.length;Ro++)Mr(Ro,yr[Ro])})},ye.resolve=function(An){return An&&typeof An=="object"&&An.constructor===ye?An:new ye(function(hr){hr(An)})},ye.reject=function(An){return new ye(function(hr,yr){yr(An)})},ye.race=function(An){return new ye(function(hr,yr){for(var _r=0,Sr=An;_r<Sr.length;_r++)Sr[_r].then(hr,yr)})},ye}();function ut(ye){var Re,tt=ye.src;return tt.indexOf("data:")===0?Je(tt):(Re=tt,new Ce(function(bt,Ot){var Dt=new t.XMLHttpRequest;Dt.open("GET",Re,!0),Dt.responseType="blob",Dt.onload=function(){this.status===200&&bt(this.response)},Dt.onerror=function(){var cn,On=this;Ot(this.status===0?((cn=new Error("No access to download image")).code=18,cn.name="SecurityError",cn):new Error("Error "+On.status+" downloading image"))},Dt.send()}))}function $e(ye){return new Ce(function(Re,tt){var bt=t.URL.createObjectURL(ye),Ot=new t.Image,Dt=function(){Ot.removeEventListener("load",cn),Ot.removeEventListener("error",On)};function cn(){Dt(),Re(Ot)}function On(){Dt(),tt("Unable to load data of type "+ye.type+": "+bt)}Ot.addEventListener("load",cn),Ot.addEventListener("error",On),Ot.src=bt,Ot.complete&&cn()})}function Je(ye){return new Ce(function(Re,tt){(function(bt){var Ot=bt.split(","),Dt=/data:([^;]+)/.exec(Ot[0]);if(!Dt)return mt.none();for(var cn=Dt[1],On=Ot[1],sr=t.atob(On),$n=sr.length,An=Math.ceil($n/1024),hr=new Array(An),yr=0;yr<An;++yr){for(var _r=1024*yr,Sr=Math.min(_r+1024,$n),bo=new Array(Sr-_r),Mr=_r,Ro=0;Mr<Sr;++Ro,++Mr)bo[Ro]=sr[Mr].charCodeAt(0);hr[yr]=new Uint8Array(bo)}return mt.some(new t.Blob(hr,{type:cn}))})(ye).fold(function(){tt("uri is not base64: "+ye)},Re)})}function Le(ye,Re,tt){return Re=Re||"image/png",t.HTMLCanvasElement.prototype.toBlob?new Ce(function(bt,Ot){ye.toBlob(function(Dt){Dt?bt(Dt):Ot()},Re,tt)}):Je(ye.toDataURL(Re,tt))}function J(ye){return $e(ye).then(function(Re){var tt;tt=Re,t.URL.revokeObjectURL(tt.src);var bt=G(vt(Re),Ie(Re));return Ae(bt).drawImage(Re,0,0),bt})}function Ge(ye,Re,tt){var bt=Re.type;function Ot(Dt,cn){return ye.then(function(On){return $n=cn,sr=(sr=Dt)||"image/png",On.toDataURL(sr,$n);var sr,$n})}return{getType:x(bt),toBlob:function(){return Ce.resolve(Re)},toDataURL:function(){return tt},toBase64:function(){return tt.split(",")[1]},toAdjustedBlob:function(Dt,cn){return ye.then(function(On){return Le(On,Dt,cn)})},toAdjustedDataURL:Ot,toAdjustedBase64:function(Dt,cn){return Ot(Dt,cn).then(function(On){return On.split(",")[1]})},toCanvas:function(){return ye.then(ve)}}}function Ze(ye){return(Re=ye,new Ce(function(tt){var bt=new t.FileReader;bt.onloadend=function(){tt(bt.result)},bt.readAsDataURL(Re)})).then(function(tt){return Ge(J(ye),ye,tt)});var Re}function Wt(ye,Re){return Le(ye,Re).then(function(tt){return Ge(Ce.resolve(ye),tt,ye.toDataURL())})}function fe(ye,Re,tt){var bt=typeof ye=="string"?parseFloat(ye):ye;return tt<bt?bt=tt:bt<Re&&(bt=Re),bt}var jt=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10];function At(ye,Re){for(var tt,bt=[],Ot=new Array(25),Dt=0;Dt<5;Dt++){for(var cn=0;cn<5;cn++)bt[cn]=Re[cn+5*Dt];for(cn=0;cn<5;cn++){for(var On=tt=0;On<5;On++)tt+=ye[cn+5*On]*bt[On];Ot[cn+5*Dt]=tt}}return Ot}function Vt(ye,Re){return Re=fe(Re,0,1),ye.map(function(tt,bt){return bt%6==0?tt=1-(1-tt)*Re:tt*=Re,fe(tt,0,1)})}function qt(ye,Re){return ye.toCanvas().then(function(tt){return bt=tt,Ot=ye.getType(),Dt=Re,cn=Ae(bt),On=function(sr,$n){for(var An,hr,yr,_r,Sr=sr.data,bo=$n[0],Mr=$n[1],Ro=$n[2],Di=$n[3],Go=$n[4],ar=$n[5],st=$n[6],xo=$n[7],mo=$n[8],no=$n[9],Vo=$n[10],Oo=$n[11],mi=$n[12],Uo=$n[13],ra=$n[14],_a=$n[15],Ni=$n[16],oa=$n[17],ga=$n[18],vi=$n[19],Si=0;Si<Sr.length;Si+=4)An=Sr[Si],hr=Sr[Si+1],yr=Sr[Si+2],_r=Sr[Si+3],Sr[Si]=An*bo+hr*Mr+yr*Ro+_r*Di+Go,Sr[Si+1]=An*ar+hr*st+yr*xo+_r*mo+no,Sr[Si+2]=An*Vo+hr*Oo+yr*mi+_r*Uo+ra,Sr[Si+3]=An*_a+hr*Ni+yr*oa+_r*ga+vi;return sr}(cn.getImageData(0,0,bt.width,bt.height),Dt),cn.putImageData(On,0,0),Wt(bt,Ot);var bt,Ot,Dt,cn,On})}function yn(ye,Re){return ye.toCanvas().then(function(tt){return bt=tt,Ot=ye.getType(),Dt=Re,cn=Ae(bt),On=cn.getImageData(0,0,bt.width,bt.height),sr=cn.getImageData(0,0,bt.width,bt.height),sr=function($n,An,hr){function yr(Ni,oa,ga){return ga<Ni?Ni=ga:Ni<oa&&(Ni=oa),Ni}for(var _r=Math.round(Math.sqrt(hr.length)),Sr=Math.floor(_r/2),bo=$n.data,Mr=An.data,Ro=$n.width,Di=$n.height,Go=0;Go<Di;Go++)for(var ar=0;ar<Ro;ar++){for(var st=0,xo=0,mo=0,no=0;no<_r;no++)for(var Vo=0;Vo<_r;Vo++){var Oo=yr(ar+Vo-Sr,0,Ro-1),mi=yr(Go+no-Sr,0,Di-1),Uo=4*(mi*Ro+Oo),ra=hr[no*_r+Vo];st+=bo[Uo]*ra,xo+=bo[Uo+1]*ra,mo+=bo[Uo+2]*ra}var _a=4*(Go*Ro+ar);Mr[_a]=yr(st,0,255),Mr[_a+1]=yr(xo,0,255),Mr[_a+2]=yr(mo,0,255)}return An}(On,sr,Dt),cn.putImageData(sr,0,0),Wt(bt,Ot);var bt,Ot,Dt,cn,On,sr})}function Yn(ye){return function(Re,tt){return Re.toCanvas().then(function(bt){return function(Ot,Dt,cn){for(var On=Ae(Ot),sr=new Array(256),$n=0;$n<sr.length;$n++)sr[$n]=ye($n,cn);var An=function(hr,yr){for(var _r=hr.data,Sr=0;Sr<_r.length;Sr+=4)_r[Sr]=yr[_r[Sr]],_r[Sr+1]=yr[_r[Sr+1]],_r[Sr+2]=yr[_r[Sr+2]];return hr}(On.getImageData(0,0,Ot.width,Ot.height),sr);return On.putImageData(An,0,0),Wt(Ot,Dt)}(bt,Re.getType(),tt)})}}function Pn(ye){return function(Re,tt){return qt(Re,ye([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],tt))}}function dr(ye){return function(Re){return yn(Re,ye)}}var Zn,Cr=(Zn=[-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1],function(ye){return qt(ye,Zn)}),er=Pn(function(ye,Re){return At(ye,[1,0,0,0,Re=fe(255*Re,-255,255),0,1,0,0,Re,0,0,1,0,Re,0,0,0,1,0,0,0,0,0,1])}),Qt=Pn(function(ye,Re){Re=fe(Re,-180,180)/180*Math.PI;var tt=Math.cos(Re),bt=Math.sin(Re),Ot=.213,Dt=.715,cn=.072;return At(ye,[Ot+.787*tt+bt*-Ot,Dt+tt*-Dt+bt*-Dt,cn+tt*-cn+.928*bt,0,0,Ot+tt*-Ot+.143*bt,Dt+tt*(1-Dt)+.14*bt,cn+tt*-cn+-.283*bt,0,0,Ot+tt*-Ot+-.787*bt,Dt+tt*-Dt+bt*Dt,cn+.928*tt+bt*cn,0,0,0,0,0,1,0,0,0,0,0,1])}),Te=Pn(function(ye,Re){var tt=1+(0<(Re=fe(Re,-1,1))?3*Re:Re);return At(ye,[.3086*(1-tt)+tt,.6094*(1-tt),.082*(1-tt),0,0,.3086*(1-tt),.6094*(1-tt)+tt,.082*(1-tt),0,0,.3086*(1-tt),.6094*(1-tt),.082*(1-tt)+tt,0,0,0,0,0,1,0,0,0,0,0,1])}),qe=Pn(function(ye,Re){var tt;return Re=fe(Re,-1,1),At(ye,[(tt=(Re*=100)<0?127+Re/100*127:127*(tt=(tt=Re%1)==0?jt[Re]:jt[Math.floor(Re)]*(1-tt)+jt[Math.floor(Re)+1]*tt)+127)/127,0,0,0,.5*(127-tt),0,tt/127,0,0,.5*(127-tt),0,0,tt/127,0,.5*(127-tt),0,0,0,1,0,0,0,0,0,1])}),Rt=Pn(function(ye,Re){return At(ye,Vt([.33,.34,.33,0,0,.33,.34,.33,0,0,.33,.34,.33,0,0,0,0,0,1,0,0,0,0,0,1],Re=fe(Re,0,1)))}),Kt=Pn(function(ye,Re){return At(ye,Vt([.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0,0,0,0,0,1],Re=fe(Re,0,1)))}),mn=function(ye,Re,tt,bt){return qt(ye,(Ot=tt,Dt=bt,At([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1],[fe(Re,0,2),0,0,0,0,0,Ot=fe(Ot,0,2),0,0,0,0,0,Dt=fe(Dt,0,2),0,0,0,0,0,1,0,0,0,0,0,1])));var Ot,Dt},xn=dr([0,-1,0,-1,5,-1,0,-1,0]),Un=dr([-2,-1,0,-1,1,1,0,1,2]),Or=Yn(function(ye,Re){return 255*Math.pow(ye/255,1-Re)}),Jn=Yn(function(ye,Re){return 255*(1-Math.exp(-ye/255*Re))});function Jr(ye,Re,tt){var bt=vt(ye),Ot=Ie(ye),Dt=Re/bt,cn=tt/Ot,On=!1;(Dt<.5||2<Dt)&&(Dt=Dt<.5?.5:2,On=!0),(cn<.5||2<cn)&&(cn=cn<.5?.5:2,On=!0);var sr,$n,An,hr=(sr=ye,$n=Dt,An=cn,new Ce(function(yr){var _r=vt(sr),Sr=Ie(sr),bo=Math.floor(_r*$n),Mr=Math.floor(Sr*An),Ro=G(bo,Mr),Di=Ae(Ro);Di.drawImage(sr,0,0,_r,Sr,0,0,bo,Mr),yr(Ro)}));return On?hr.then(function(yr){return Jr(yr,Re,tt)}):hr}function co(ye,Re){return ye.toCanvas().then(function(tt){return bt=tt,Ot=ye.getType(),Dt=Re,cn=G(bt.width,bt.height),On=Ae(cn),(Dt=Dt<($n=sr=0)?360+Dt:Dt)!==90&&Dt!==270||Ke(cn,cn.height,cn.width),Dt!==90&&Dt!==180||(sr=cn.width),Dt!==270&&Dt!==180||($n=cn.height),On.translate(sr,$n),On.rotate(Dt*Math.PI/180),On.drawImage(bt,0,0),Wt(cn,Ot);var bt,Ot,Dt,cn,On,sr,$n})}function eo(ye,Re){return ye.toCanvas().then(function(tt){return bt=tt,Ot=ye.getType(),Dt=Re,cn=G(bt.width,bt.height),On=Ae(cn),Dt==="v"?(On.scale(1,-1),On.drawImage(bt,0,-cn.height)):(On.scale(-1,1),On.drawImage(bt,-cn.width,0)),Wt(cn,Ot);var bt,Ot,Dt,cn,On})}function Ao(ye,Re,tt,bt,Ot){return ye.toCanvas().then(function(Dt){return cn=Dt,On=ye.getType(),sr=Re,$n=tt,Ae(An=G(bt,Ot)).drawImage(cn,-sr,-$n),Wt(An,On);var cn,On,sr,$n,An})}var qr=function(ye){return Cr(ye)},it=function(ye){return xn(ye)},Fn=function(ye){return Un(ye)},Wn=function(ye,Re){return Or(ye,Re)},Tn=function(ye,Re){return Jn(ye,Re)},or=function(ye,Re,tt,bt){return mn(ye,Re,tt,bt)},Kr=function(ye,Re){return er(ye,Re)},Dn=function(ye,Re){return Qt(ye,Re)},yo=function(ye,Re){return Te(ye,Re)},Ho=function(ye,Re){return qe(ye,Re)},Wo=function(ye,Re){return Rt(ye,Re)},Xo=function(ye,Re){return Kt(ye,Re)},Qr=function(ye,Re){return eo(ye,Re)},kr=function(ye,Re,tt,bt,Ot){return Ao(ye,Re,tt,bt,Ot)},sn=function(ye,Re,tt){return Ot=Re,Dt=tt,(bt=ye).toCanvas().then(function(cn){return Jr(cn,Ot,Dt).then(function(On){return Wt(On,bt.getType())})});var bt,Ot,Dt},qo=function(ye,Re){return co(ye,Re)},wr=function(ye){return Ze(ye)},Bn=typeof t.window!="undefined"?t.window:Function("return this;")(),Zo=function(ye,Re){return function(tt,bt){for(var Ot=bt!=null?bt:Bn,Dt=0;Dt<tt.length&&Ot!==void 0&&Ot!==null;++Dt)Ot=Ot[tt[Dt]];return Ot}(ye.split("."),Re)},Xe=function(ye,Re){var tt=Zo(ye,Re);if(tt==null)throw new Error(ye+" not available on this browser");return tt},zt=function(){return Xe("URL")},xt={createObjectURL:function(ye){return zt().createObjectURL(ye)},revokeObjectURL:function(ye){zt().revokeObjectURL(ye)}},Jt=tinymce.util.Tools.resolve("tinymce.util.Delay"),kt=tinymce.util.Tools.resolve("tinymce.util.Promise"),yt=tinymce.util.Tools.resolve("tinymce.util.URI"),lr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),mr=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Ur=tinymce.util.Tools.resolve("tinymce.geom.Rect"),uo=function(ye){return new kt(function(Re){var tt=function(){ye.removeEventListener("load",tt),Re(ye)};ye.complete?Re(ye):ye.addEventListener("load",tt)})},Eo=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Vr=tinymce.util.Tools.resolve("tinymce.util.Observable"),lo=tinymce.util.Tools.resolve("tinymce.util.VK"),Mo=0,ai={create:function(ye){return new(mr.get("Control").extend({Defaults:{classes:"imagepanel"},selection:function(Re){return arguments.length?(this.state.set("rect",Re),this):this.state.get("rect")},imageSize:function(){var Re=this.state.get("viewRect");return{w:Re.w,h:Re.h}},toggleCropRect:function(Re){this.state.set("cropEnabled",Re)},imageSrc:function(Re){var tt=this,bt=new t.Image;bt.src=Re,uo(bt).then(function(){var Ot,Dt,cn=tt.state.get("viewRect");if((Dt=tt.$el.find("img"))[0])Dt.replaceWith(bt);else{var On=t.document.createElement("div");On.className="mce-imagepanel-bg",tt.getEl().appendChild(On),tt.getEl().appendChild(bt)}Ot={x:0,y:0,w:bt.naturalWidth,h:bt.naturalHeight},tt.state.set("viewRect",Ot),tt.state.set("rect",Ur.inflate(Ot,-20,-20)),cn&&cn.w===Ot.w&&cn.h===Ot.h||tt.zoomFit(),tt.repaintImage(),tt.fire("load")})},zoom:function(Re){return arguments.length?(this.state.set("zoom",Re),this):this.state.get("zoom")},postRender:function(){return this.imageSrc(this.settings.imageSrc),this._super()},zoomFit:function(){var Re,tt,bt,Ot,Dt,cn;Re=this.$el.find("img"),tt=this.getEl().clientWidth,bt=this.getEl().clientHeight,Ot=Re[0].naturalWidth,Dt=Re[0].naturalHeight,1<=(cn=Math.min((tt-10)/Ot,(bt-10)/Dt))&&(cn=1),this.zoom(cn)},repaintImage:function(){var Re,tt,bt,Ot,Dt,cn,On,sr,$n,An,hr;hr=this.getEl(),$n=this.zoom(),An=this.state.get("rect"),On=this.$el.find("img"),sr=this.$el.find(".mce-imagepanel-bg"),Dt=hr.offsetWidth,cn=hr.offsetHeight,bt=On[0].naturalWidth*$n,Ot=On[0].naturalHeight*$n,Re=Math.max(0,Dt/2-bt/2),tt=Math.max(0,cn/2-Ot/2),On.css({left:Re,top:tt,width:bt,height:Ot}),sr.css({left:Re,top:tt,width:bt,height:Ot}),this.cropRect&&(this.cropRect.setRect({x:An.x*$n+Re,y:An.y*$n+tt,w:An.w*$n,h:An.h*$n}),this.cropRect.setClampRect({x:Re,y:tt,w:bt,h:Ot}),this.cropRect.setViewPortRect({x:0,y:0,w:Dt,h:cn}))},bindStates:function(){var Re=this;function tt(bt){Re.cropRect=function(Ot,Dt,cn,On,sr){var $n,An,hr,yr,_r="mce-",Sr=_r+"crid-"+Mo++;function bo(ar,st){return{x:st.x-ar.x,y:st.y-ar.y,w:st.w,h:st.h}}function Mr(ar,st,xo,mo){var no,Vo,Oo,mi,Uo;no=st.x,Vo=st.y,Oo=st.w,mi=st.h,no+=xo*ar.deltaX,Vo+=mo*ar.deltaY,(Oo+=xo*ar.deltaW)<20&&(Oo=20),(mi+=mo*ar.deltaH)<20&&(mi=20),Uo=Ot=Ur.clamp({x:no,y:Vo,w:Oo,h:mi},cn,ar.name==="move"),Uo=bo(cn,Uo),$n.fire("updateRect",{rect:Uo}),Go(Uo)}function Ro(ar){function st(xo,mo){mo.h<0&&(mo.h=0),mo.w<0&&(mo.w=0),Eo("#"+Sr+"-"+xo,On).css({left:mo.x,top:mo.y,width:mo.w,height:mo.h})}l.each(An,function(xo){Eo("#"+Sr+"-"+xo.name,On).css({left:ar.w*xo.xMul+ar.x,top:ar.h*xo.yMul+ar.y})}),st("top",{x:Dt.x,y:Dt.y,w:Dt.w,h:ar.y-Dt.y}),st("right",{x:ar.x+ar.w,y:ar.y,w:Dt.w-ar.x-ar.w+Dt.x,h:ar.h}),st("bottom",{x:Dt.x,y:ar.y+ar.h,w:Dt.w,h:Dt.h-ar.y-ar.h+Dt.y}),st("left",{x:Dt.x,y:ar.y,w:ar.x-Dt.x,h:ar.h}),st("move",ar)}function Di(ar){Ro(Ot=ar)}function Go(ar){var st,xo;Di((st=cn,{x:(xo=ar).x+st.x,y:xo.y+st.y,w:xo.w,h:xo.h}))}return An=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],yr=["top","right","bottom","left"],Eo('<div id="'+Sr+'" class="'+_r+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(On),l.each(yr,function(ar){Eo("#"+Sr,On).append('<div id="'+Sr+"-"+ar+'"class="'+_r+'croprect-block" style="display: none" data-mce-bogus="all">')}),l.each(An,function(ar){Eo("#"+Sr,On).append('<div id="'+Sr+"-"+ar.name+'" class="'+_r+"croprect-handle "+_r+"croprect-handle-"+ar.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+ar.label+'" aria-grabbed="false">')}),hr=l.map(An,function(ar){var st;return new(mr.get("DragHelper"))(Sr,{document:On.ownerDocument,handle:Sr+"-"+ar.name,start:function(){st=Ot},drag:function(xo){Mr(ar,st,xo.deltaX,xo.deltaY)}})}),Ro(Ot),Eo(On).on("focusin focusout",function(ar){Eo(ar.target).attr("aria-grabbed",ar.type==="focus")}),Eo(On).on("keydown",function(ar){var st;function xo(mo,no,Vo,Oo,mi){mo.stopPropagation(),mo.preventDefault(),Mr(st,Vo,Oo,mi)}switch(l.each(An,function(mo){if(ar.target.id===Sr+"-"+mo.name)return st=mo,!1}),ar.keyCode){case lo.LEFT:xo(ar,0,Ot,-10,0);break;case lo.RIGHT:xo(ar,0,Ot,10,0);break;case lo.UP:xo(ar,0,Ot,0,-10);break;case lo.DOWN:xo(ar,0,Ot,0,10);break;case lo.ENTER:case lo.SPACEBAR:ar.preventDefault(),sr()}}),$n=l.extend({toggleVisibility:function(ar){var st;st=l.map(An,function(xo){return"#"+Sr+"-"+xo.name}).concat(l.map(yr,function(xo){return"#"+Sr+"-"+xo})).join(","),ar?Eo(st,On).show():Eo(st,On).hide()},setClampRect:function(ar){cn=ar,Ro(Ot)},setRect:Di,getInnerRect:function(){return bo(cn,Ot)},setInnerRect:Go,setViewPortRect:function(ar){Dt=ar,Ro(Ot)},destroy:function(){l.each(hr,function(ar){ar.destroy()}),hr=[]}},Vr)}(bt,Re.state.get("viewRect"),Re.state.get("viewRect"),Re.getEl(),function(){Re.fire("crop")}),Re.cropRect.on("updateRect",function(Ot){var Dt=Ot.rect,cn=Re.zoom();Dt={x:Math.round(Dt.x/cn),y:Math.round(Dt.y/cn),w:Math.round(Dt.w/cn),h:Math.round(Dt.h/cn)},Re.state.set("rect",Dt)}),Re.on("remove",Re.cropRect.destroy)}Re.state.on("change:cropEnabled",function(bt){Re.cropRect.toggleVisibility(bt.value),Re.repaintImage()}),Re.state.on("change:zoom",function(){Re.repaintImage()}),Re.state.on("change:rect",function(bt){var Ot=bt.value;Re.cropRect||tt(Ot),Re.cropRect.setRect(Ot)})}}))(ye)}};function Ee(ye){return{blob:ye,url:xt.createObjectURL(ye)}}function gt(ye){ye&&xt.revokeObjectURL(ye.url)}function Pt(ye){l.each(ye,gt)}function tn(ye,Re,tt,bt){var Ot,Dt,cn,On,sr,$n,An,hr,yr,_r,Sr,bo,Mr,Ro,Di,Go,ar,st,xo,mo,no,Vo,Oo,mi,Uo,ra,_a,Ni=function(){var me=[],Ye=-1;function Qe(){return 0<Ye}function Et(){return Ye!==-1&&Ye<me.length-1}return{data:me,add:function(Ut){var Mn;return Mn=me.splice(++Ye),me.push(Ut),{state:Ut,removed:Mn}},undo:function(){if(Qe())return me[--Ye]},redo:function(){if(Et())return me[++Ye]},canUndo:Qe,canRedo:Et}}(),oa=function(me){return ye.rtl?me.reverse():me};function ga(me){var Ye,Qe,Et,Ut;Ye=Ot.find("#w")[0],Qe=Ot.find("#h")[0],Et=parseInt(Ye.value(),10),Ut=parseInt(Qe.value(),10),Ot.find("#constrain")[0].checked()&&mi&&Uo&&Et&&Ut&&(me.control.settings.name==="w"?(Ut=Math.round(Et*ra),Qe.value(Ut)):(Et=Math.round(Ut*_a),Ye.value(Et))),mi=Et,Uo=Ut}function vi(me){return Math.round(100*me)+"%"}function Si(){Ot.find("#undo").disabled(!Ni.canUndo()),Ot.find("#redo").disabled(!Ni.canRedo()),Ot.statusbar.find("#save").disabled(!Ni.canUndo())}function Ka(){Ot.find("#undo").disabled(!0),Ot.find("#redo").disabled(!0)}function Gi(me){me&&hr.imageSrc(me.url)}function ki(me){return function(){var Ye=l.grep(Oo,function(Qe){return Qe.settings.name!==me});l.each(Ye,function(Qe){Qe.hide()}),me.show(),me.focus()}}function ti(me){Gi(On=Ee(me))}function br(me){Gi(Re=Ee(me)),Pt(Ni.add(Re).removed),Si()}function gu(){var me=hr.selection();wr(Re.blob).then(function(Ye){kr(Ye,me.x,me.y,me.w,me.h).then(Vi).then(function(Qe){br(Qe),go()})})}var vu=function(me){var Ye=[].slice.call(arguments,1);return function(){wr((On||Re).blob).then(function(Qe){me.apply(this,[Qe].concat(Ye)).then(Vi).then(ti)})}};function go(){Gi(Re),gt(On),ki(Dt)(),Si()}function zo(){On?(br(On.blob),go()):function me(Ye,Qe){On?Qe():setTimeout(function(){0<Ye--?me(Ye,Qe):ye.windowManager.alert("Error: failed to apply image operation.")},10)}(100,zo)}function Ei(me){return mr.create("Form",{layout:"flex",direction:"row",labelGap:5,border:"0 0 1 0",align:"center",pack:"center",padding:"0 10 0 10",spacing:5,flex:0,minHeight:60,defaults:{classes:"imagetool",type:"button"},items:me})}var Vi=function(me){return me.toBlob()};function ne(me,Ye){return Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:zo}])).hide().on("show",function(){Ka(),wr(Re.blob).then(function(Qe){return Ye(Qe)}).then(Vi).then(function(Qe){var Et=Ee(Qe);Gi(Et),gt(On),On=Et})})}function be(me,Ye,Qe,Et,Ut){return Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{type:"slider",flex:1,ondragend:function(Mn){var qn;qn=Mn.value,wr(Re.blob).then(function(pr){return Ye(pr,qn)}).then(Vi).then(function(pr){var Zr=Ee(pr);Gi(Zr),gt(On),On=Zr})},minValue:ye.rtl?Ut:Et,maxValue:ye.rtl?Et:Ut,value:Qe,previewFilter:vi},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:zo}])).hide().on("show",function(){this.find("slider").value(Qe),Ka()})}sr=Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:gu}])).hide().on("show hide",function(me){hr.toggleCropRect(me.type==="show")}).on("show",Ka),$n=Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{type:"textbox",name:"w",label:"Width",size:4,onkeyup:ga},{type:"textbox",name:"h",label:"Height",size:4,onkeyup:ga},{type:"checkbox",name:"constrain",text:"Constrain proportions",checked:!0,onchange:function(me){me.control.value()===!0&&(ra=Uo/mi,_a=mi/Uo)}},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:"submit"}])).hide().on("submit",function(me){var Ye=parseInt(Ot.find("#w").value(),10),Qe=parseInt(Ot.find("#h").value(),10);me.preventDefault(),function(Et){for(var Ut=[],Mn=1;Mn<arguments.length;Mn++)Ut[Mn-1]=arguments[Mn];var qn=[].slice.call(arguments,1);return function(){wr(Re.blob).then(function(pr){Et.apply(this,[pr].concat(qn)).then(Vi).then(br)})}}(sn,Ye,Qe)(),go()}).on("show",Ka),An=Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{icon:"fliph",tooltip:"Flip horizontally",onclick:vu(Qr,"h")},{icon:"flipv",tooltip:"Flip vertically",onclick:vu(Qr,"v")},{icon:"rotateleft",tooltip:"Rotate counterclockwise",onclick:vu(qo,-90)},{icon:"rotateright",tooltip:"Rotate clockwise",onclick:vu(qo,90)},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:zo}])).hide().on("show",Ka),Sr=ne(0,qr),xo=ne(0,it),mo=ne(0,Fn),bo=be(0,Kr,0,-1,1),Mr=be(0,Dn,180,0,360),Ro=be(0,yo,0,-1,1),Di=be(0,Ho,0,-1,1),Go=be(0,Wo,0,0,1),ar=be(0,Xo,0,0,1),st=function(me,Ye){function Qe(){var Mn,qn,pr;Mn=Ot.find("#r")[0].value(),qn=Ot.find("#g")[0].value(),pr=Ot.find("#b")[0].value(),wr(Re.blob).then(function(Zr){return Ye(Zr,Mn,qn,pr)}).then(Vi).then(function(Zr){var Co=Ee(Zr);Gi(Co),gt(On),On=Co})}var Et=ye.rtl?2:0,Ut=ye.rtl?0:2;return Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{type:"slider",label:"R",name:"r",minValue:Et,value:1,maxValue:Ut,ondragend:Qe,previewFilter:vi},{type:"slider",label:"G",name:"g",minValue:Et,value:1,maxValue:Ut,ondragend:Qe,previewFilter:vi},{type:"slider",label:"B",name:"b",minValue:Et,value:1,maxValue:Ut,ondragend:Qe,previewFilter:vi},{type:"spacer",flex:1},{text:"Apply",subtype:"primary",onclick:zo}])).hide().on("show",function(){Ot.find("#r,#g,#b").value(1),Ka()})}(0,or),no=be(0,Wn,0,-1,1),Vo=be(0,Tn,1,0,2),cn=Ei(oa([{text:"Back",onclick:go},{type:"spacer",flex:1},{text:"hue",icon:"hue",onclick:ki(Mr)},{text:"saturate",icon:"saturate",onclick:ki(Ro)},{text:"sepia",icon:"sepia",onclick:ki(ar)},{text:"emboss",icon:"emboss",onclick:ki(mo)},{text:"exposure",icon:"exposure",onclick:ki(Vo)},{type:"spacer",flex:1}])).hide(),Dt=Ei(oa([{tooltip:"Crop",icon:"crop",onclick:ki(sr)},{tooltip:"Resize",icon:"resize2",onclick:ki($n)},{tooltip:"Orientation",icon:"orientation",onclick:ki(An)},{tooltip:"Brightness",icon:"sun",onclick:ki(bo)},{tooltip:"Sharpen",icon:"sharpen",onclick:ki(xo)},{tooltip:"Contrast",icon:"contrast",onclick:ki(Di)},{tooltip:"Color levels",icon:"drop",onclick:ki(st)},{tooltip:"Gamma",icon:"gamma",onclick:ki(no)},{tooltip:"Invert",icon:"invert",onclick:ki(Sr)}])),hr=ai.create({flex:1,imageSrc:Re.url}),yr=mr.create("Container",{layout:"flex",direction:"column",pack:"start",border:"0 1 0 0",padding:5,spacing:5,items:[{type:"button",icon:"undo",tooltip:"Undo",name:"undo",onclick:function(){Gi(Re=Ni.undo()),Si()}},{type:"button",icon:"redo",tooltip:"Redo",name:"redo",onclick:function(){Gi(Re=Ni.redo()),Si()}},{type:"button",icon:"zoomin",tooltip:"Zoom in",onclick:function(){var me=hr.zoom();me<2&&(me+=.1),hr.zoom(me)}},{type:"button",icon:"zoomout",tooltip:"Zoom out",onclick:function(){var me=hr.zoom();.1<me&&(me-=.1),hr.zoom(me)}}]}),_r=mr.create("Container",{type:"container",layout:"flex",direction:"row",align:"stretch",flex:1,items:oa([yr,hr])}),Oo=[Dt,sr,$n,An,cn,Sr,bo,Mr,Ro,Di,Go,ar,st,xo,mo,no,Vo],(Ot=ye.windowManager.open({layout:"flex",direction:"column",align:"stretch",minWidth:Math.min(lr.DOM.getViewPort().w,800),minHeight:Math.min(lr.DOM.getViewPort().h,650),title:"Edit image",items:Oo.concat([_r]),buttons:oa([{text:"Save",name:"save",subtype:"primary",onclick:function(){tt(Re.blob),Ot.close()}},{text:"Cancel",onclick:"close"}])})).on("close",function(){bt(),Pt(Ni.data),On=Ni=null}),Ni.add(Re),Si(),hr.on("load",function(){mi=hr.imageSize().w,Uo=hr.imageSize().h,ra=Uo/mi,_a=mi/Uo,Ot.find("#w").value(mi),Ot.find("#h").value(Uo)}),hr.on("crop",gu)}var bn,ir={edit:function(ye,Re){return new kt(function(tt,bt){return Re.toBlob().then(function(Ot){tn(ye,Ee(Ot),tt,bt)})})}},Cn={getImageSize:function(ye){var Re,tt;function bt(Ot){return/^[0-9\.]+px$/.test(Ot)}return Re=ye.style.width,tt=ye.style.height,Re||tt?bt(Re)&&bt(tt)?{w:parseInt(Re,10),h:parseInt(tt,10)}:null:(Re=ye.width,tt=ye.height,Re&&tt?{w:parseInt(Re,10),h:parseInt(tt,10)}:null)},setImageSize:function(ye,Re){var tt,bt;Re&&(tt=ye.style.width,bt=ye.style.height,(tt||bt)&&(ye.style.width=Re.w+"px",ye.style.height=Re.h+"px",ye.removeAttribute("data-mce-style")),tt=ye.width,bt=ye.height,(tt||bt)&&(ye.setAttribute("width",Re.w),ye.setAttribute("height",Re.h)))},getNaturalImageSize:function(ye){return{w:ye.naturalWidth,h:ye.naturalHeight}}},$r=(bn="function",function(ye){return function(Re){if(Re===null)return"null";var tt=typeof Re;return tt==="object"&&(Array.prototype.isPrototypeOf(Re)||Re.constructor&&Re.constructor.name==="Array")?"array":tt==="object"&&(String.prototype.isPrototypeOf(Re)||Re.constructor&&Re.constructor.name==="String")?"string":tt}(ye)===bn}),To=function(ye,Re){for(var tt=0,bt=ye.length;tt<bt;tt++){var Ot=ye[tt];if(Re(Ot,tt))return mt.some(Ot)}return mt.none()};$r(Array.from)&&Array.from;var ui=function(ye){return ye!=null},Pi=function(ye,Re){var tt;return tt=Re.reduce(function(bt,Ot){return ui(bt)?bt[Ot]:void 0},ye),ui(tt)?tt:null},ci=function(ye){return new kt(function(Re){var tt=new(Xe("FileReader"));tt.onload=function(bt){var Ot=bt.target;Re(Ot.result)},tt.readAsText(ye)})},Xi=function(ye,Re,tt){return new kt(function(bt){var Ot;(Ot=new(Xe("XMLHttpRequest"))).onreadystatechange=function(){Ot.readyState===4&&bt({status:Ot.status,blob:this.response})},Ot.open("GET",ye,!0),Ot.withCredentials=tt,l.each(Re,function(Dt,cn){Ot.setRequestHeader(cn,Dt)}),Ot.responseType="blob",Ot.send()})},Ui=function(ye){var Re;try{Re=JSON.parse(ye)}catch{}return Re},ma=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],Ya=[{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],si=function(ye){return"ImageProxy HTTP error: "+To(ma,function(Re){return ye===Re.code}).fold(x("Unknown ImageProxy error"),function(Re){return Re.message})},Fa=function(ye){var Re=si(ye);return kt.reject(Re)},pu=function(ye){return To(Ya,function(Re){return Re.type===ye}).fold(x("Unknown service error"),function(Re){return Re.message})},di=function(ye,Re){return ci(Re).then(function(tt){var bt,Ot,Dt=(bt=Ui(tt),"ImageProxy Service error: "+((Ot=Pi(bt,["error","type"]))?pu(Ot):"Invalid JSON in service error message"));return kt.reject(Dt)})},Ha=function(ye,Re){return(tt=ye)===400||tt===403||tt===500?di(0,Re):Fa(ye);var tt},oe=Fa,Fe=function(ye,Re){var tt,bt,Ot,Dt={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":Re};return Xi((tt=ye,bt=Re,Ot=tt.indexOf("?")===-1?"?":"&",/[?&]apiKey=/.test(tt)||!bt?tt:tt+Ot+"apiKey="+encodeURIComponent(bt)),Dt,!1).then(function(cn){return cn.status<200||300<=cn.status?Ha(cn.status,cn.blob):kt.resolve(cn.blob)})},ft=function(ye,Re,tt){return Re?Fe(ye,Re):Xi(ye,{},tt).then(function(bt){return bt.status<200||300<=bt.status?oe(bt.status):kt.resolve(bt.blob)})},dt=0,Ft=function(ye,Re){ye.notificationManager.open({text:Re,type:"error"})},Bt=function(ye){return ye.selection.getNode()},ur=function(ye,Re){var tt=Re.src;return tt.indexOf("data:")===0||tt.indexOf("blob:")===0||new yt(tt).host===ye.documentBaseURI.host},Zt=function(ye,Re){return l.inArray(ye.getParam("imagetools_cors_hosts",[],"string[]"),new yt(Re.src).host)!==-1},Hn=function(ye,Re){var tt,bt,Ot,Dt,cn=Re.src;return Zt(ye,Re)?ft(Re.src,null,(bt=ye,Ot=Re,l.inArray(bt.getParam("imagetools_credentials_hosts",[],"string[]"),new yt(Ot.src).host)!==-1)):ur(ye,Re)?ut(Re):(cn=ye.getParam("imagetools_proxy"),cn+=(cn.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(Re.src),tt=(Dt=ye).getParam("api_key",Dt.getParam("imagetools_api_key","","string"),"string"),ft(cn,tt,!1))},Kn=function(ye){var Re;return(Re=ye.editorUpload.blobCache.getByUri(Bt(ye).src))?kt.resolve(Re.blob()):Hn(ye,Bt(ye))},_n=function(ye){clearTimeout(ye.get())},gn=function(ye,Re,tt,bt,Ot){return Re.toBlob().then(function(Dt){var cn,On,sr,$n,An,hr,yr;return sr=ye.editorUpload.blobCache,cn=(An=Bt(ye)).src,ye.getParam("images_reuse_filename",!1,"boolean")&&(($n=sr.getByUri(cn))?(cn=$n.uri(),On=$n.name()):(hr=ye,On=(yr=cn.match(/\/([^\/\?]+)?\.(?:jpeg|jpg|png|gif)(?:\?|$)/i))?hr.dom.encode(yr[1]):null)),$n=sr.create({id:"imagetools"+dt++,blob:Dt,base64:Re.toBase64(),uri:cn,name:On}),sr.add($n),ye.undoManager.transact(function(){ye.$(An).on("load",function _r(){var Sr,bo,Mr;ye.$(An).off("load",_r),ye.nodeChanged(),tt?ye.editorUpload.uploadImagesAuto():(_n(bt),Sr=ye,bo=bt,Mr=Jt.setEditorTimeout(Sr,function(){Sr.editorUpload.uploadImagesAuto()},Sr.getParam("images_upload_timeout",3e4,"number")),bo.set(Mr))}),Ot&&ye.$(An).attr({width:Ot.w,height:Ot.h}),ye.$(An).attr({src:$n.blobUri()}).removeAttr("data-mce-src")}),$n})},zn=function(ye,Re,tt,bt){return function(){return ye._scanForImages().then(D(Kn,ye)).then(wr).then(tt).then(function(Ot){return gn(ye,Ot,!1,Re,bt)},function(Ot){Ft(ye,Ot)})}},Qn=function(ye,Re,tt){return function(){var bt=Cn.getImageSize(Bt(ye)),Ot=bt?{w:bt.h,h:bt.w}:null;return zn(ye,Re,function(Dt){return qo(Dt,tt)},Ot)()}},Nn=function(ye,Re,tt){return function(){return zn(ye,Re,function(bt){return Qr(bt,tt)})()}},xr=function(ye,Re){return function(){var tt=Bt(ye),bt=Cn.getNaturalImageSize(tt),Ot=function(Dt){return new kt(function(cn){var On;(On=Dt,$e(On)).then(function(sr){var $n=Cn.getNaturalImageSize(sr);bt.w===$n.w&&bt.h===$n.h||Cn.getImageSize(tt)&&Cn.setImageSize(tt,$n),xt.revokeObjectURL(sr.src),cn(Dt)})})};Kn(ye).then(wr).then(D(function(Dt,cn){return ir.edit(Dt,cn).then(Ot).then(wr).then(function(On){return gn(Dt,On,!0,Re)},function(){})},ye),function(Dt){Ft(ye,Dt)})}},Hr=function(ye,Re){return ye.dom.is(Re,"img:not([data-mce-object],[data-mce-placeholder])")&&(ur(ye,Re)||Zt(ye,Re)||ye.settings.imagetools_proxy)},Yr=_n,Er=function(ye,Re){l.each({mceImageRotateLeft:Qn(ye,Re,-90),mceImageRotateRight:Qn(ye,Re,90),mceImageFlipVertical:Nn(ye,Re,"v"),mceImageFlipHorizontal:Nn(ye,Re,"h"),mceEditImage:xr(ye,Re)},function(tt,bt){ye.addCommand(bt,tt)})},ei=function(ye,Re,tt){ye.on("NodeChange",function(bt){var Ot=tt.get();Ot&&Ot.src!==bt.element.src&&(Yr(Re),ye.editorUpload.uploadImagesAuto(),tt.set(null)),Hr(ye,bt.element)&&tt.set(bt.element)})},fo=function(ye){ye.addButton("rotateleft",{title:"Rotate counterclockwise",cmd:"mceImageRotateLeft"}),ye.addButton("rotateright",{title:"Rotate clockwise",cmd:"mceImageRotateRight"}),ye.addButton("flipv",{title:"Flip vertically",cmd:"mceImageFlipVertical"}),ye.addButton("fliph",{title:"Flip horizontally",cmd:"mceImageFlipHorizontal"}),ye.addButton("editimage",{title:"Edit image",cmd:"mceEditImage"}),ye.addButton("imageoptions",{title:"Image options",icon:"options",cmd:"mceImage"})},$i=function(ye){ye.addContextToolbar(D(Hr,ye),ye.getParam("imagetools_toolbar","rotateleft rotateright | flipv fliph | crop editimage imageoptions"))};a.add("imagetools",function(ye){var Re=r(0),tt=r(null);Er(ye,Re),fo(ye),$i(ye),ei(ye,Re,tt)})})(window);(function(t){var r,a=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=function(Ee){return Ee.settings.image_dimensions!==!1},g=function(Ee){return Ee.settings.image_advtab===!0},x=function(Ee){return Ee.getParam("image_prepend_url","")},D=function(Ee){return Ee.getParam("image_class_list")},L=function(Ee){return Ee.settings.image_description!==!1},U=function(Ee){return Ee.settings.image_title===!0},X=function(Ee){return Ee.settings.image_caption===!0},se=function(Ee){return Ee.getParam("image_list",!1)},re=function(Ee){return Ee.getParam("images_upload_url",!1)},ee=function(Ee){return Ee.getParam("images_upload_handler",!1)},Me=function(Ee){return Ee.getParam("images_upload_url")},De=function(Ee){return Ee.getParam("images_upload_handler")},ze=function(Ee){return Ee.getParam("images_upload_base_path")},mt=function(Ee){return Ee.getParam("images_upload_credentials")},G=typeof t.window!="undefined"?t.window:Function("return this;")(),ve=function(Ee,gt){return function(Pt,tn){for(var bn=tn!=null?tn:G,ir=0;ir<Pt.length&&bn!==void 0&&bn!==null;++ir)bn=bn[Pt[ir]];return bn}(Ee.split("."),gt)},Ae={getOrDie:function(Ee,gt){var Pt=ve(Ee,gt);if(Pt==null)throw new Error(Ee+" not available on this browser");return Pt}},Ke=tinymce.util.Tools.resolve("tinymce.util.Promise"),vt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ie=tinymce.util.Tools.resolve("tinymce.util.XHR"),Ce=function(Ee,gt){return Math.max(parseInt(Ee,10),parseInt(gt,10))},ut=function(Ee,gt){var Pt=t.document.createElement("img");function tn(ir,Cn){Pt.parentNode&&Pt.parentNode.removeChild(Pt),gt({width:ir,height:Cn})}Pt.onload=function(){tn(Ce(Pt.width,Pt.clientWidth),Ce(Pt.height,Pt.clientHeight))},Pt.onerror=function(){tn(0,0)};var bn=Pt.style;bn.visibility="hidden",bn.position="fixed",bn.bottom=bn.left="0px",bn.width=bn.height="auto",t.document.body.appendChild(Pt),Pt.src=Ee},$e=function(Ee,gt,Pt){return function tn(bn,ir){return ir=ir||[],vt.each(bn,function(Cn){var $r={text:Cn.text||Cn.title};Cn.menu?$r.menu=tn(Cn.menu):($r.value=Cn.value,gt($r)),ir.push($r)}),ir}(Ee,Pt||[])},Je=function(Ee){return Ee&&(Ee=Ee.replace(/px$/,"")),Ee},Le=function(Ee){return 0<Ee.length&&/^[0-9]+$/.test(Ee)&&(Ee+="px"),Ee},J=function(Ee){if(Ee.margin){var gt=Ee.margin.split(" ");switch(gt.length){case 1:Ee["margin-top"]=Ee["margin-top"]||gt[0],Ee["margin-right"]=Ee["margin-right"]||gt[0],Ee["margin-bottom"]=Ee["margin-bottom"]||gt[0],Ee["margin-left"]=Ee["margin-left"]||gt[0];break;case 2:Ee["margin-top"]=Ee["margin-top"]||gt[0],Ee["margin-right"]=Ee["margin-right"]||gt[1],Ee["margin-bottom"]=Ee["margin-bottom"]||gt[0],Ee["margin-left"]=Ee["margin-left"]||gt[1];break;case 3:Ee["margin-top"]=Ee["margin-top"]||gt[0],Ee["margin-right"]=Ee["margin-right"]||gt[1],Ee["margin-bottom"]=Ee["margin-bottom"]||gt[2],Ee["margin-left"]=Ee["margin-left"]||gt[1];break;case 4:Ee["margin-top"]=Ee["margin-top"]||gt[0],Ee["margin-right"]=Ee["margin-right"]||gt[1],Ee["margin-bottom"]=Ee["margin-bottom"]||gt[2],Ee["margin-left"]=Ee["margin-left"]||gt[3]}delete Ee.margin}return Ee},Ge=function(Ee,gt){var Pt=se(Ee);typeof Pt=="string"?Ie.send({url:Pt,success:function(tn){gt(JSON.parse(tn))}}):typeof Pt=="function"?Pt(gt):gt(Pt)},Ze=function(Ee,gt,Pt){function tn(){Pt.onload=Pt.onerror=null,Ee.selection&&(Ee.selection.select(Pt),Ee.nodeChanged())}Pt.onload=function(){gt.width||gt.height||!l(Ee)||Ee.dom.setAttribs(Pt,{width:Pt.clientWidth,height:Pt.clientHeight}),tn()},Pt.onerror=tn},Wt=function(Ee){return new Ke(function(gt,Pt){var tn=new(Ae.getOrDie("FileReader"));tn.onload=function(){gt(tn.result)},tn.onerror=function(){Pt(tn.error.message)},tn.readAsDataURL(Ee)})},fe=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),jt=Object.prototype.hasOwnProperty,At=(r=function(Ee,gt){return gt},function(){for(var Ee=new Array(arguments.length),gt=0;gt<Ee.length;gt++)Ee[gt]=arguments[gt];if(Ee.length===0)throw new Error("Can't merge zero objects");for(var Pt={},tn=0;tn<Ee.length;tn++){var bn=Ee[tn];for(var ir in bn)jt.call(bn,ir)&&(Pt[ir]=r(Pt[ir],bn[ir]))}return Pt}),Vt=fe.DOM,qt=function(Ee){return Ee.style.marginLeft&&Ee.style.marginRight&&Ee.style.marginLeft===Ee.style.marginRight?Je(Ee.style.marginLeft):""},yn=function(Ee){return Ee.style.marginTop&&Ee.style.marginBottom&&Ee.style.marginTop===Ee.style.marginBottom?Je(Ee.style.marginTop):""},Yn=function(Ee){return Ee.style.borderWidth?Je(Ee.style.borderWidth):""},Pn=function(Ee,gt){return Ee.hasAttribute(gt)?Ee.getAttribute(gt):""},dr=function(Ee,gt){return Ee.style[gt]?Ee.style[gt]:""},Zn=function(Ee){return Ee.parentNode!==null&&Ee.parentNode.nodeName==="FIGURE"},Cr=function(Ee,gt,Pt){Ee.setAttribute(gt,Pt)},er=function(Ee){var gt,Pt,tn,bn;Zn(Ee)?(bn=(tn=Ee).parentNode,Vt.insertAfter(tn,bn),Vt.remove(bn)):(gt=Ee,Pt=Vt.create("figure",{class:"image"}),Vt.insertAfter(Pt,gt),Pt.appendChild(gt),Pt.appendChild(Vt.create("figcaption",{contentEditable:!0},"Caption")),Pt.contentEditable="false")},Qt=function(Ee,gt){var Pt=Ee.getAttribute("style"),tn=gt(Pt!==null?Pt:"");0<tn.length?(Ee.setAttribute("style",tn),Ee.setAttribute("data-mce-style",tn)):Ee.removeAttribute("style")},Te=function(Ee,gt){return function(Pt,tn,bn){Pt.style[tn]?(Pt.style[tn]=Le(bn),Qt(Pt,gt)):Cr(Pt,tn,bn)}},qe=function(Ee,gt){return Ee.style[gt]?Je(Ee.style[gt]):Pn(Ee,gt)},Rt=function(Ee,gt){var Pt=Le(gt);Ee.style.marginLeft=Pt,Ee.style.marginRight=Pt},Kt=function(Ee,gt){var Pt=Le(gt);Ee.style.marginTop=Pt,Ee.style.marginBottom=Pt},mn=function(Ee,gt){var Pt=Le(gt);Ee.style.borderWidth=Pt},xn=function(Ee,gt){Ee.style.borderStyle=gt},Un=function(Ee){return Ee.nodeName==="FIGURE"},Or=function(Ee,gt){var Pt=t.document.createElement("img");return Cr(Pt,"style",gt.style),(qt(Pt)||gt.hspace!=="")&&Rt(Pt,gt.hspace),(yn(Pt)||gt.vspace!=="")&&Kt(Pt,gt.vspace),(Yn(Pt)||gt.border!=="")&&mn(Pt,gt.border),(dr(Pt,"borderStyle")||gt.borderStyle!=="")&&xn(Pt,gt.borderStyle),Ee(Pt.getAttribute("style"))},Jn=function(Ee,gt){return{src:Pn(gt,"src"),alt:Pn(gt,"alt"),title:Pn(gt,"title"),width:qe(gt,"width"),height:qe(gt,"height"),class:Pn(gt,"class"),style:Ee(Pn(gt,"style")),caption:Zn(gt),hspace:qt(gt),vspace:yn(gt),border:Yn(gt),borderStyle:dr(gt,"borderStyle")}},Jr=function(Ee,gt,Pt,tn,bn){Pt[tn]!==gt[tn]&&bn(Ee,tn,Pt[tn])},co=function(Ee,gt){return function(Pt,tn,bn){Ee(Pt,bn),Qt(Pt,gt)}},eo=function(Ee,gt,Pt){var tn=Jn(Ee,Pt);Jr(Pt,tn,gt,"caption",function(bn,ir,Cn){return er(bn)}),Jr(Pt,tn,gt,"src",Cr),Jr(Pt,tn,gt,"alt",Cr),Jr(Pt,tn,gt,"title",Cr),Jr(Pt,tn,gt,"width",Te(0,Ee)),Jr(Pt,tn,gt,"height",Te(0,Ee)),Jr(Pt,tn,gt,"class",Cr),Jr(Pt,tn,gt,"style",co(function(bn,ir){return Cr(bn,"style",ir)},Ee)),Jr(Pt,tn,gt,"hspace",co(Rt,Ee)),Jr(Pt,tn,gt,"vspace",co(Kt,Ee)),Jr(Pt,tn,gt,"border",co(mn,Ee)),Jr(Pt,tn,gt,"borderStyle",co(xn,Ee))},Ao=function(Ee,gt){var Pt=Ee.dom.styles.parse(gt),tn=J(Pt),bn=Ee.dom.styles.parse(Ee.dom.styles.serialize(tn));return Ee.dom.styles.serialize(bn)},qr=function(Ee){var gt=Ee.selection.getNode(),Pt=Ee.dom.getParent(gt,"figure.image");return Pt?Ee.dom.select("img",Pt)[0]:gt&&(gt.nodeName!=="IMG"||gt.getAttribute("data-mce-object")||gt.getAttribute("data-mce-placeholder"))?null:gt},it=function(Ee,gt){var Pt=Ee.dom,tn=Pt.getParent(gt.parentNode,function(bn){return Ee.schema.getTextBlockElements()[bn.nodeName]},Ee.getBody());return tn?Pt.split(tn,gt):gt},Fn=function(Ee){var gt=qr(Ee);return gt?Jn(function(Pt){return Ao(Ee,Pt)},gt):{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}},Wn=function(Ee,gt){var Pt=function(ir,Cn){var $r=t.document.createElement("img");if(eo(ir,At(Cn,{caption:!1}),$r),Cr($r,"alt",Cn.alt),Cn.caption){var To=Vt.create("figure",{class:"image"});return To.appendChild($r),To.appendChild(Vt.create("figcaption",{contentEditable:!0},"Caption")),To.contentEditable="false",To}return $r}(function(ir){return Ao(Ee,ir)},gt);Ee.dom.setAttrib(Pt,"data-mce-id","__mcenew"),Ee.focus(),Ee.selection.setContent(Pt.outerHTML);var tn=Ee.dom.select('*[data-mce-id="__mcenew"]')[0];if(Ee.dom.setAttrib(tn,"data-mce-id",null),Un(tn)){var bn=it(Ee,tn);Ee.selection.select(bn)}else Ee.selection.select(tn)},Tn=function(Ee,gt){var Pt=qr(Ee);Pt?gt.src?function(tn,bn){var ir,Cn=qr(tn);if(eo(function(To){return Ao(tn,To)},bn,Cn),ir=Cn,tn.dom.setAttrib(ir,"src",ir.getAttribute("src")),Un(Cn.parentNode)){var $r=Cn.parentNode;it(tn,$r),tn.selection.select(Cn.parentNode)}else tn.selection.select(Cn),Ze(tn,bn,Cn)}(Ee,gt):function(tn,bn){if(bn){var ir=tn.dom.is(bn.parentNode,"figure.image")?bn.parentNode:bn;tn.dom.remove(ir),tn.focus(),tn.nodeChanged(),tn.dom.isEmpty(tn.getBody())&&(tn.setContent(""),tn.selection.setCursorLocation())}}(Ee,Pt):gt.src&&Wn(Ee,gt)},or=function(Ee,gt){gt.find("#style").each(function(Pt){var tn=Or(function(bn){return Ao(Ee,bn)},At({src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""},gt.toJSON()));Pt.value(tn)})},Kr=function(Ee){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:(gt=Ee,function(Pt){var tn=gt.dom,bn=Pt.control.rootControl;if(g(gt)){var ir=bn.toJSON(),Cn=tn.parseStyle(ir.style);bn.find("#vspace").value(""),bn.find("#hspace").value(""),((Cn=J(Cn))["margin-top"]&&Cn["margin-bottom"]||Cn["margin-right"]&&Cn["margin-left"])&&(Cn["margin-top"]===Cn["margin-bottom"]?bn.find("#vspace").value(Je(Cn["margin-top"])):bn.find("#vspace").value(""),Cn["margin-right"]===Cn["margin-left"]?bn.find("#hspace").value(Je(Cn["margin-right"])):bn.find("#hspace").value("")),Cn["border-width"]?bn.find("#border").value(Je(Cn["border-width"])):bn.find("#border").value(""),Cn["border-style"]?bn.find("#borderStyle").value(Cn["border-style"]):bn.find("#borderStyle").value(""),bn.find("#style").value(tn.serializeStyle(tn.parseStyle(tn.serializeStyle(Cn))))}})},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(Pt){or(Ee,Pt.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(Pt){or(Ee,Pt.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]};var gt},Dn=function(Ee,gt){Ee.state.set("oldVal",Ee.value()),gt.state.set("oldVal",gt.value())},yo=function(Ee,gt){var Pt=Ee.find("#width")[0],tn=Ee.find("#height")[0],bn=Ee.find("#constrain")[0];Pt&&tn&&bn&&gt(Pt,tn,bn.checked())},Ho=function(Ee,gt,Pt){var tn=Ee.state.get("oldVal"),bn=gt.state.get("oldVal"),ir=Ee.value(),Cn=gt.value();Pt&&tn&&bn&&ir&&Cn&&(ir!==tn?(Cn=Math.round(ir/tn*Cn),isNaN(Cn)||gt.value(Cn)):(ir=Math.round(Cn/bn*ir),isNaN(ir)||Ee.value(ir))),Dn(Ee,gt)},Wo=function(Ee){yo(Ee,Ho)},Xo=function(){var Ee=function(gt){Wo(gt.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:Ee,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:Ee,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},Qr=function(Ee){yo(Ee,Dn)},kr=Wo,sn=function(Ee){Ee.meta=Ee.control.rootControl.toJSON()},qo=function(Ee,gt){var Pt=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(tn){var bn,ir,Cn,$r,To,ui,Pi,ci,Xi;ir=Ee,ui=(bn=tn).meta||{},Pi=bn.control,ci=Pi.rootControl,(Xi=ci.find("#image-list")[0])&&Xi.value(ir.convertURL(Pi.value(),"src")),vt.each(ui,function(Ui,ma){ci.find("#"+ma).value(Ui)}),ui.width||ui.height||(Cn=ir.convertURL(Pi.value(),"src"),$r=x(ir),To=new RegExp("^(?:[a-z]+:)?//","i"),$r&&!To.test(Cn)&&Cn.substring(0,$r.length)!==$r&&(Cn=$r+Cn),Pi.value(Cn),ut(ir.documentBaseURI.toAbsolute(Pi.value()),function(Ui){Ui.width&&Ui.height&&l(ir)&&(ci.find("#width").value(Ui.width),ci.find("#height").value(Ui.height),Qr(ci))}))},onbeforecall:sn},gt];return L(Ee)&&Pt.push({name:"alt",type:"textbox",label:"Image description"}),U(Ee)&&Pt.push({name:"title",type:"textbox",label:"Image Title"}),l(Ee)&&Pt.push(Xo()),D(Ee)&&Pt.push({name:"class",type:"listbox",label:"Class",values:$e(D(Ee),function(tn){tn.value&&(tn.textStyle=function(){return Ee.formatter.getCssText({inline:"img",classes:[tn.value]})})})}),X(Ee)&&Pt.push({name:"caption",type:"checkbox",label:"Caption"}),Pt},wr=function(Ee,gt){return{title:"General",type:"form",items:qo(Ee,gt)}},Bn=qo,Zo=function(){return Ae.getOrDie("URL")},Xe=function(Ee){return Zo().createObjectURL(Ee)},zt=function(Ee){Zo().revokeObjectURL(Ee)},xt=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Jt=function(){};function kt(Ee){var gt=function(Pt,tn,bn,ir){var Cn,$r;(Cn=new(Ae.getOrDie("XMLHttpRequest"))).open("POST",Ee.url),Cn.withCredentials=Ee.credentials,Cn.upload.onprogress=function(To){ir(To.loaded/To.total*100)},Cn.onerror=function(){bn("Image upload failed due to a XHR Transport error. Code: "+Cn.status)},Cn.onload=function(){var To,ui,Pi;Cn.status<200||300<=Cn.status?bn("HTTP Error: "+Cn.status):(To=JSON.parse(Cn.responseText))&&typeof To.location=="string"?tn((ui=Ee.basePath,Pi=To.location,ui?ui.replace(/\/$/,"")+"/"+Pi.replace(/^\//,""):Pi)):bn("Invalid JSON: "+Cn.responseText)},($r=new t.FormData).append("file",Pt.blob(),Pt.filename()),Cn.send($r)};return Ee=vt.extend({credentials:!1,handler:gt},Ee),{upload:function(Pt){return Ee.url||Ee.handler!==gt?(tn=Pt,bn=Ee.handler,new Ke(function(ir,Cn){try{bn(tn,ir,Cn,Jt)}catch($r){Cn($r.message)}})):Ke.reject("Upload url missing from the settings.");var tn,bn}}}var yt=function(Ee){return function(gt){var Pt=xt.get("Throbber"),tn=gt.control.rootControl,bn=new Pt(tn.getEl()),ir=gt.control.value(),Cn=Xe(ir),$r=kt({url:Me(Ee),basePath:ze(Ee),credentials:mt(Ee),handler:De(Ee)}),To=function(){bn.hide(),zt(Cn)};return bn.show(),Wt(ir).then(function(ui){var Pi=Ee.editorUpload.blobCache.create({blob:ir,blobUri:Cn,name:ir.name?ir.name.replace(/\.[^\.]+$/,""):null,base64:ui.split(",")[1]});return $r.upload(Pi).then(function(ci){var Xi=tn.find("#src");return Xi.value(ci),tn.find("tabpanel")[0].activateTab(0),Xi.fire("change"),To(),ci})}).catch(function(ui){Ee.windowManager.alert(ui),To()})}},lr=".jpg,.jpeg,.png,.gif",mr=function(Ee){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:lr,onchange:yt(Ee)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:lr,height:100,onchange:yt(Ee)}]}};function Ur(Ee){for(var gt=[],Pt=1;Pt<arguments.length;Pt++)gt[Pt-1]=arguments[Pt];return function(){for(var tn=[],bn=0;bn<arguments.length;bn++)tn[bn]=arguments[bn];var ir=gt.concat(tn);return Ee.apply(null,ir)}}var uo=function(Ee,gt){var Pt=gt.control.getRoot();kr(Pt),Ee.undoManager.transact(function(){var tn=At(Fn(Ee),Pt.toJSON());Tn(Ee,tn)}),Ee.editorUpload.uploadImagesAuto()};function Eo(Ee){function gt(Pt){var tn,bn,ir=Fn(Ee);if(Pt&&(bn={type:"listbox",label:"Image list",name:"image-list",values:$e(Pt,function($r){$r.value=Ee.convertURL($r.value||$r.url,"src")},[{text:"None",value:""}]),value:ir.src&&Ee.convertURL(ir.src,"src"),onselect:function($r){var To=tn.find("#alt");(!To.value()||$r.lastControl&&To.value()===$r.lastControl.text())&&To.value($r.control.text()),tn.find("#src").value($r.control.value()).fire("change")},onPostRender:function(){bn=this}}),g(Ee)||re(Ee)||ee(Ee)){var Cn=[wr(Ee,bn)];g(Ee)&&Cn.push(Kr(Ee)),(re(Ee)||ee(Ee))&&Cn.push(mr(Ee)),tn=Ee.windowManager.open({title:"Insert/edit image",data:ir,bodyType:"tabpanel",body:Cn,onSubmit:Ur(uo,Ee)})}else tn=Ee.windowManager.open({title:"Insert/edit image",data:ir,body:Bn(Ee,bn),onSubmit:Ur(uo,Ee)});Qr(tn)}return{open:function(){Ge(Ee,gt)}}}var Vr=function(Ee){Ee.addCommand("mceImage",Eo(Ee).open)},lo=function(Ee){return function(gt){for(var Pt,tn,bn=gt.length,ir=function(Cn){Cn.attr("contenteditable",Ee?"true":null)};bn--;)Pt=gt[bn],(tn=Pt.attr("class"))&&/\bimage\b/.test(tn)&&(Pt.attr("contenteditable",Ee?"false":null),vt.each(Pt.getAll("figcaption"),ir))}},Mo=function(Ee){Ee.on("preInit",function(){Ee.parser.addNodeFilter("figure",lo(!0)),Ee.serializer.addNodeFilter("figure",lo(!1))})},ai=function(Ee){Ee.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:Eo(Ee).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),Ee.addMenuItem("image",{icon:"image",text:"Image",onclick:Eo(Ee).open,context:"insert",prependToContext:!0})};a.add("image",function(Ee){Mo(Ee),ai(Ee),Vr(Ee)})})(window);(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(l){l.addCommand("InsertHorizontalRule",function(){l.execCommand("mceInsertContent",!1,"<hr />")})},a=function(l){l.addButton("hr",{icon:"hr",tooltip:"Horizontal line",cmd:"InsertHorizontalRule"}),l.addMenuItem("hr",{icon:"hr",text:"Horizontal line",cmd:"InsertHorizontalRule",context:"insert"})};t.add("hr",function(l){r(l),a(l)})})();(function(t){var r=function(re){var ee=re,Me=function(){return ee};return{get:Me,set:function(De){ee=De},clone:function(){return r(Me())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=function(re){return{isFullscreen:function(){return re.get()!==null}}},g=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=function(re,ee){re.fire("FullscreenStateChanged",{state:ee})},D=g.DOM,L=function(re,ee){var Me,De,ze,mt,G,ve,Ae=t.document.body,Ke=t.document.documentElement,vt=ee.get(),Ie=function(){var $e,Je,Le,J;D.setStyle(ze,"height",(Le=t.window,J=t.document.body,J.offsetWidth&&($e=J.offsetWidth,Je=J.offsetHeight),Le.innerWidth&&Le.innerHeight&&($e=Le.innerWidth,Je=Le.innerHeight),{w:$e,h:Je}).h-(De.clientHeight-ze.clientHeight))},Ce=function(){D.unbind(t.window,"resize",Ie)};if(Me=(De=re.getContainer()).style,mt=(ze=re.getContentAreaContainer().firstChild).style,vt)mt.width=vt.iframeWidth,mt.height=vt.iframeHeight,vt.containerWidth&&(Me.width=vt.containerWidth),vt.containerHeight&&(Me.height=vt.containerHeight),D.removeClass(Ae,"mce-fullscreen"),D.removeClass(Ke,"mce-fullscreen"),D.removeClass(De,"mce-fullscreen"),G=vt.scrollPos,t.window.scrollTo(G.x,G.y),D.unbind(t.window,"resize",vt.resizeHandler),re.off("remove",vt.removeHandler),ee.set(null),x(re,!1);else{var ut={scrollPos:(ve=D.getViewPort(),{x:ve.x,y:ve.y}),containerWidth:Me.width,containerHeight:Me.height,iframeWidth:mt.width,iframeHeight:mt.height,resizeHandler:Ie,removeHandler:Ce};mt.width=mt.height="100%",Me.width=Me.height="",D.addClass(Ae,"mce-fullscreen"),D.addClass(Ke,"mce-fullscreen"),D.addClass(De,"mce-fullscreen"),D.bind(t.window,"resize",Ie),re.on("remove",Ce),Ie(),ee.set(ut),x(re,!0)}},U=function(re,ee){re.addCommand("mceFullScreen",function(){L(re,ee)})},X=function(re){return function(ee){var Me=ee.control;re.on("FullscreenStateChanged",function(De){Me.active(De.state)})}},se=function(re){re.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:X(re),context:"view"}),re.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:X(re)})};a.add("fullscreen",function(re){var ee=r(null);return re.settings.inline||(U(re,ee),se(re),re.addShortcut("Ctrl+Shift+F","","mceFullScreen")),l(ee)})})(window);(function(){var t=function(Le){var J=Le,Ge=function(){return J};return{get:Ge,set:function(Ze){J=Ze},clone:function(){return t(Ge())}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=tinymce.util.Tools.resolve("tinymce.html.DomParser"),g=tinymce.util.Tools.resolve("tinymce.html.Node"),x=tinymce.util.Tools.resolve("tinymce.html.Serializer"),D=function(Le){return Le.getParam("fullpage_hide_in_source_view")},L=function(Le){return Le.getParam("fullpage_default_xml_pi")},U=function(Le){return Le.getParam("fullpage_default_encoding")},X=function(Le){return Le.getParam("fullpage_default_font_family")},se=function(Le){return Le.getParam("fullpage_default_font_size")},re=function(Le){return Le.getParam("fullpage_default_text_color")},ee=function(Le){return Le.getParam("fullpage_default_title")},Me=function(Le){return Le.getParam("fullpage_default_doctype","<!DOCTYPE html>")},De=function(Le){return l({validate:!1,root_name:"#document"}).parse(Le)},ze=De,mt=function(Le,J){var Ge,Ze,Wt=De(J),fe={};function jt(At,Vt){return At.attr(Vt)||""}return fe.fontface=X(Le),fe.fontsize=se(Le),(Ge=Wt.firstChild).type===7&&(fe.xml_pi=!0,(Ze=/encoding="([^"]+)"/.exec(Ge.value))&&(fe.docencoding=Ze[1])),(Ge=Wt.getAll("#doctype")[0])&&(fe.doctype="<!DOCTYPE"+Ge.value+">"),(Ge=Wt.getAll("title")[0])&&Ge.firstChild&&(fe.title=Ge.firstChild.value),a.each(Wt.getAll("meta"),function(At){var Vt,qt=At.attr("name"),yn=At.attr("http-equiv");qt?fe[qt.toLowerCase()]=At.attr("content"):yn==="Content-Type"&&(Vt=/charset\s*=\s*(.*)\s*/gi.exec(At.attr("content")))&&(fe.docencoding=Vt[1])}),(Ge=Wt.getAll("html")[0])&&(fe.langcode=jt(Ge,"lang")||jt(Ge,"xml:lang")),fe.stylesheets=[],a.each(Wt.getAll("link"),function(At){At.attr("rel")==="stylesheet"&&fe.stylesheets.push(At.attr("href"))}),(Ge=Wt.getAll("body")[0])&&(fe.langdir=jt(Ge,"dir"),fe.style=jt(Ge,"style"),fe.visited_color=jt(Ge,"vlink"),fe.link_color=jt(Ge,"link"),fe.active_color=jt(Ge,"alink")),fe},G=function(Le,J,Ge){var Ze,Wt,fe,jt,At,Vt=Le.dom;function qt(Pn,dr,Zn){Pn.attr(dr,Zn||void 0)}function yn(Pn){Wt.firstChild?Wt.insert(Pn,Wt.firstChild):Wt.append(Pn)}Ze=De(Ge),(Wt=Ze.getAll("head")[0])||(jt=Ze.getAll("html")[0],Wt=new g("head",1),jt.firstChild?jt.insert(Wt,jt.firstChild,!0):jt.append(Wt)),jt=Ze.firstChild,J.xml_pi?(At='version="1.0"',J.docencoding&&(At+=' encoding="'+J.docencoding+'"'),jt.type!==7&&(jt=new g("xml",7),Ze.insert(jt,Ze.firstChild,!0)),jt.value=At):jt&&jt.type===7&&jt.remove(),jt=Ze.getAll("#doctype")[0],J.doctype?(jt||(jt=new g("#doctype",10),J.xml_pi?Ze.insert(jt,Ze.firstChild):yn(jt)),jt.value=J.doctype.substring(9,J.doctype.length-1)):jt&&jt.remove(),jt=null,a.each(Ze.getAll("meta"),function(Pn){Pn.attr("http-equiv")==="Content-Type"&&(jt=Pn)}),J.docencoding?(jt||((jt=new g("meta",1)).attr("http-equiv","Content-Type"),jt.shortEnded=!0,yn(jt)),jt.attr("content","text/html; charset="+J.docencoding)):jt&&jt.remove(),jt=Ze.getAll("title")[0],J.title?(jt?jt.empty():yn(jt=new g("title",1)),jt.append(new g("#text",3)).value=J.title):jt&&jt.remove(),a.each("keywords,description,author,copyright,robots".split(","),function(Pn){var dr,Zn,Cr=Ze.getAll("meta"),er=J[Pn];for(dr=0;dr<Cr.length;dr++)if((Zn=Cr[dr]).attr("name")===Pn)return void(er?Zn.attr("content",er):Zn.remove());er&&((jt=new g("meta",1)).attr("name",Pn),jt.attr("content",er),jt.shortEnded=!0,yn(jt))});var Yn={};return a.each(Ze.getAll("link"),function(Pn){Pn.attr("rel")==="stylesheet"&&(Yn[Pn.attr("href")]=Pn)}),a.each(J.stylesheets,function(Pn){Yn[Pn]||((jt=new g("link",1)).attr({rel:"stylesheet",text:"text/css",href:Pn}),jt.shortEnded=!0,yn(jt)),delete Yn[Pn]}),a.each(Yn,function(Pn){Pn.remove()}),(jt=Ze.getAll("body")[0])&&(qt(jt,"dir",J.langdir),qt(jt,"style",J.style),qt(jt,"vlink",J.visited_color),qt(jt,"link",J.link_color),qt(jt,"alink",J.active_color),Vt.setAttribs(Le.getBody(),{style:J.style,dir:J.dir,vLink:J.visited_color,link:J.link_color,aLink:J.active_color})),(jt=Ze.getAll("html")[0])&&(qt(jt,"lang",J.langcode),qt(jt,"xml:lang",J.langcode)),Wt.firstChild||Wt.remove(),(fe=x({validate:!1,indent:!0,apply_source_formatting:!0,indent_before:"head,html,body,meta,title,script,link,style",indent_after:"head,html,body,meta,title,script,link,style"}).serialize(Ze)).substring(0,fe.indexOf("</body>"))},ve=function(Le,J){var Ge=mt(Le,J.get());Le.windowManager.open({title:"Document properties",data:Ge,defaults:{type:"textbox",size:40},body:[{name:"title",label:"Title"},{name:"keywords",label:"Keywords"},{name:"description",label:"Description"},{name:"robots",label:"Robots"},{name:"author",label:"Author"},{name:"docencoding",label:"Encoding"}],onSubmit:function(Ze){var Wt=G(Le,a.extend(Ge,Ze.data),J.get());J.set(Wt)}})},Ae=function(Le,J){Le.addCommand("mceFullPageProperties",function(){ve(Le,J)})},Ke=function(Le,J){return a.each(Le,function(Ge){J=J.replace(Ge,function(Ze){return"<!--mce:protected "+escape(Ze)+"-->"})}),J},vt=function(Le){return Le.replace(/<!--mce:protected ([\s\S]*?)-->/g,function(J,Ge){return unescape(Ge)})},Ie=a.each,Ce=function(Le){return Le.replace(/<\/?[A-Z]+/g,function(J){return J.toLowerCase()})},ut=function(Le){var J,Ge="",Ze="";if(L(Le)){var Wt=U(Le);Ge+='<?xml version="1.0" encoding="'+(Wt||"ISO-8859-1")+`" ?>
`}return Ge+=Me(Le),Ge+=`
<html>
<head>
`,(J=ee(Le))&&(Ge+="<title>"+J+`</title>
`),(J=U(Le))&&(Ge+='<meta http-equiv="Content-Type" content="text/html; charset='+J+`" />
`),(J=X(Le))&&(Ze+="font-family: "+J+";"),(J=se(Le))&&(Ze+="font-size: "+J+";"),(J=re(Le))&&(Ze+="color: "+J+";"),Ge+=`</head>
<body`+(Ze?' style="'+Ze+'"':"")+`>
`},$e=function(Le,J,Ge){Le.on("BeforeSetContent",function(Ze){(function(Wt,fe,jt,At){var Vt,qt,yn,Yn,Pn,dr="",Zn=Wt.dom;if(!(At.selection||(yn=Ke(Wt.settings.protect,At.content),At.format==="raw"&&fe.get()||At.source_view&&D(Wt)))){yn.length!==0||At.source_view||(yn=a.trim(fe.get())+`
`+a.trim(yn)+`
`+a.trim(jt.get())),(Vt=(yn=yn.replace(/<(\/?)BODY/gi,"<$1body")).indexOf("<body"))!==-1?(Vt=yn.indexOf(">",Vt),fe.set(Ce(yn.substring(0,Vt+1))),(qt=yn.indexOf("</body",Vt))===-1&&(qt=yn.length),At.content=a.trim(yn.substring(Vt+1,qt)),jt.set(Ce(yn.substring(qt)))):(fe.set(ut(Wt)),jt.set(`
</body>
</html>`)),Yn=ze(fe.get()),Ie(Yn.getAll("style"),function(Qt){Qt.firstChild&&(dr+=Qt.firstChild.value)}),(Pn=Yn.getAll("body")[0])&&Zn.setAttribs(Wt.getBody(),{style:Pn.attr("style")||"",dir:Pn.attr("dir")||"",vLink:Pn.attr("vlink")||"",link:Pn.attr("link")||"",aLink:Pn.attr("alink")||""}),Zn.remove("fullpage_styles");var Cr=Wt.getDoc().getElementsByTagName("head")[0];dr&&(Zn.add(Cr,"style",{id:"fullpage_styles"},dr),(Pn=Zn.get("fullpage_styles")).styleSheet&&(Pn.styleSheet.cssText=dr));var er={};a.each(Cr.getElementsByTagName("link"),function(Qt){Qt.rel==="stylesheet"&&Qt.getAttribute("data-mce-fullpage")&&(er[Qt.href]=Qt)}),a.each(Yn.getAll("link"),function(Qt){var Te=Qt.attr("href");if(!Te)return!0;er[Te]||Qt.attr("rel")!=="stylesheet"||Zn.add(Cr,"link",{rel:"stylesheet",text:"text/css",href:Te,"data-mce-fullpage":"1"}),delete er[Te]}),a.each(er,function(Qt){Qt.parentNode.removeChild(Qt)})}})(Le,J,Ge,Ze)}),Le.on("GetContent",function(Ze){var Wt,fe,jt,At;Wt=Le,fe=J.get(),jt=Ge.get(),(At=Ze).selection||At.source_view&&D(Wt)||(At.content=vt(a.trim(fe)+`
`+a.trim(At.content)+`
`+a.trim(jt)))})},Je=function(Le){Le.addButton("fullpage",{title:"Document properties",cmd:"mceFullPageProperties"}),Le.addMenuItem("fullpage",{text:"Document properties",cmd:"mceFullPageProperties",context:"file"})};r.add("fullpage",function(Le){var J=t(""),Ge=t("");Ae(Le,J),Je(Le),$e(Le,J,Ge)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(D,L){var U,X=D.dom,se=D.selection.getSelectedBlocks();se.length&&(U=X.getAttrib(se[0],"dir"),r.each(se,function(re){X.getParent(re.parentNode,'*[dir="'+L+'"]',X.getRoot())||X.setAttrib(re,"dir",U!==L?L:null)}),D.nodeChanged())},l=function(D){D.addCommand("mceDirectionLTR",function(){a(D,"ltr")}),D.addCommand("mceDirectionRTL",function(){a(D,"rtl")})},g=function(D){var L=[];return r.each("h1 h2 h3 h4 h5 h6 div p".split(" "),function(U){L.push(U+"[dir="+D+"]")}),L.join(",")},x=function(D){D.addButton("ltr",{title:"Left to right",cmd:"mceDirectionLTR",stateSelector:g("ltr")}),D.addButton("rtl",{title:"Right to left",cmd:"mceDirectionRTL",stateSelector:g("rtl")})};t.add("directionality",function(D){l(D),x(D)})})();(function(){var t=function(ze){var mt=ze,G=function(){return mt};return{get:G,set:function(ve){mt=ve},clone:function(){return t(G())}}},r=tinymce.util.Tools.resolve("tinymce.PluginManager"),a=function(ze){return{isContextMenuVisible:function(){return ze.get()}}},l=function(ze){return ze.settings.contextmenu_never_use_native},g=function(ze){return ze.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")},x=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),D=function(ze){return x.DOM.select(ze.settings.ui_container)[0]},L=function(ze,mt){return{x:ze,y:mt}},U=function(ze,mt,G){return L(ze.x+mt,ze.y+G)},X=function(ze,mt){if(ze&&x.DOM.getStyle(ze,"position",!0)!=="static"){var G=x.DOM.getPos(ze),ve=G.x-ze.scrollLeft,Ae=G.y-ze.scrollTop;return U(mt,-ve,-Ae)}return U(mt,0,0)},se=function(ze,mt){if(ze.inline)return X(D(ze),L((vt=mt).pageX,vt.pageY));var G,ve,Ae,Ke,vt,Ie=(G=ze.getContentAreaContainer(),ve=L((Ke=mt).clientX,Ke.clientY),Ae=x.DOM.getPos(G),U(ve,Ae.x,Ae.y));return X(D(ze),Ie)},re=tinymce.util.Tools.resolve("tinymce.ui.Factory"),ee=tinymce.util.Tools.resolve("tinymce.util.Tools"),Me=function(ze,mt,G,ve){ve.get()===null?ve.set(function(Ae,Ke){var vt,Ie,Ce=[];Ie=g(Ae),ee.each(Ie.split(/[ ,]/),function($e){var Je=Ae.menuItems[$e];$e==="|"&&(Je={text:$e}),Je&&(Je.shortcut="",Ce.push(Je))});for(var ut=0;ut<Ce.length;ut++)Ce[ut].text==="|"&&(ut!==0&&ut!==Ce.length-1||Ce.splice(ut,1));return(vt=re.create("menu",{items:Ce,context:"contextmenu",classes:"contextmenu"})).uiContainer=D(Ae),vt.renderTo(D(Ae)),vt.on("hide",function($e){$e.control===this&&Ke.set(!1)}),Ae.on("remove",function(){vt.remove(),vt=null}),vt}(ze,G)):ve.get().show(),ve.get().moveTo(mt.x,mt.y),G.set(!0)},De=function(ze,mt,G){ze.on("contextmenu",function(ve){var Ae;Ae=ze,(!ve.ctrlKey||l(Ae))&&(ve.preventDefault(),Me(ze,se(ze,ve),mt,G))})};r.add("contextmenu",function(ze){var mt=t(null),G=t(!1);return De(ze,G,mt),a(G)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Color"),a=function(x,D){x.find("#preview")[0].getEl().style.background=D},l=function(x,D){var L=r(D),U=L.toRgb();x.fromJSON({r:U.r,g:U.g,b:U.b,hex:L.toHex().substr(1)}),a(x,L.toHex())},g=function(x,D,L){var U=x.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:L,onchange:function(){var X=this.rgb();U&&(U.find("#r").value(X.r),U.find("#g").value(X.g),U.find("#b").value(X.b),U.find("#hex").value(this.value().substr(1)),a(U,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var X,se,re=U.find("colorpicker")[0];if(X=this.name(),se=this.value(),X==="hex")return l(U,se="#"+se),void re.value(se);se={r:U.find("#r").value(),g:U.find("#g").value(),b:U.find("#b").value()},re.value(se),l(U,se)}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){D("#"+U.toJSON().hex)}});l(U,L)};t.add("colorpicker",function(x){x.settings.color_picker_callback||(x.settings.color_picker_callback=function(D,L){g(x,D,L)})})})();(function(t){var r=function($e){var Je=$e,Le=function(){return Je};return{get:Le,set:function(J){Je=J},clone:function(){return r(Le())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=function($e){return $e.settings.codesample_content_css},x=function($e){return $e.settings.codesample_languages},D=function($e){return Math.min(l.DOM.getViewPort().w,$e.getParam("codesample_dialog_width",800))},L=function($e){return Math.min(l.DOM.getViewPort().w,$e.getParam("codesample_dialog_height",650))},U={},X=U,se=U!==void 0?U:typeof WorkerGlobalScope!="undefined"&&t.self instanceof WorkerGlobalScope?t.self:{},re=function(){var $e=/\blang(?:uage)?-(?!\*)(\w+)\b/i,Je=se.Prism={util:{encode:function(J){return J instanceof Le?new Le(J.type,Je.util.encode(J.content),J.alias):Je.util.type(J)==="Array"?J.map(Je.util.encode):J.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(J){return Object.prototype.toString.call(J).match(/\[object (\w+)\]/)[1]},clone:function(J){switch(Je.util.type(J)){case"Object":var Ge={};for(var Ze in J)J.hasOwnProperty(Ze)&&(Ge[Ze]=Je.util.clone(J[Ze]));return Ge;case"Array":return J.map&&J.map(function(Wt){return Je.util.clone(Wt)})}return J}},languages:{extend:function(J,Ge){var Ze=Je.util.clone(Je.languages[J]);for(var Wt in Ge)Ze[Wt]=Ge[Wt];return Ze},insertBefore:function(J,Ge,Ze,Wt){var fe=(Wt=Wt||Je.languages)[J];if(arguments.length===2){for(var jt in Ze=Ge)Ze.hasOwnProperty(jt)&&(fe[jt]=Ze[jt]);return fe}var At={};for(var Vt in fe)if(fe.hasOwnProperty(Vt)){if(Vt===Ge)for(var jt in Ze)Ze.hasOwnProperty(jt)&&(At[jt]=Ze[jt]);At[Vt]=fe[Vt]}return Je.languages.DFS(Je.languages,function(qt,yn){yn===Wt[J]&&qt!==J&&(this[qt]=At)}),Wt[J]=At},DFS:function(J,Ge,Ze){for(var Wt in J)J.hasOwnProperty(Wt)&&(Ge.call(J,Wt,J[Wt],Ze||Wt),Je.util.type(J[Wt])==="Object"?Je.languages.DFS(J[Wt],Ge):Je.util.type(J[Wt])==="Array"&&Je.languages.DFS(J[Wt],Ge,Wt))}},plugins:{},highlightAll:function(J,Ge){for(var Ze=t.document.querySelectorAll('code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'),Wt=0,fe=void 0;fe=Ze[Wt++];)Je.highlightElement(fe,J===!0,Ge)},highlightElement:function(J,Ge,Ze){for(var Wt,fe,jt=J;jt&&!$e.test(jt.className);)jt=jt.parentNode;jt&&(Wt=(jt.className.match($e)||[,""])[1],fe=Je.languages[Wt]),J.className=J.className.replace($e,"").replace(/\s+/g," ")+" language-"+Wt,jt=J.parentNode,/pre/i.test(jt.nodeName)&&(jt.className=jt.className.replace($e,"").replace(/\s+/g," ")+" language-"+Wt);var At=J.textContent,Vt={element:J,language:Wt,grammar:fe,code:At};if(At&&fe)if(Je.hooks.run("before-highlight",Vt),Ge&&se.Worker){var qt=new t.Worker(Je.filename);qt.onmessage=function(yn){Vt.highlightedCode=yn.data,Je.hooks.run("before-insert",Vt),Vt.element.innerHTML=Vt.highlightedCode,Ze&&Ze.call(Vt.element),Je.hooks.run("after-highlight",Vt),Je.hooks.run("complete",Vt)},qt.postMessage(JSON.stringify({language:Vt.language,code:Vt.code,immediateClose:!0}))}else Vt.highlightedCode=Je.highlight(Vt.code,Vt.grammar,Vt.language),Je.hooks.run("before-insert",Vt),Vt.element.innerHTML=Vt.highlightedCode,Ze&&Ze.call(J),Je.hooks.run("after-highlight",Vt),Je.hooks.run("complete",Vt);else Je.hooks.run("complete",Vt)},highlight:function(J,Ge,Ze){var Wt=Je.tokenize(J,Ge);return Le.stringify(Je.util.encode(Wt),Ze)},tokenize:function(J,Ge,Ze){var Wt=Je.Token,fe=[J],jt=Ge.rest;if(jt){for(var At in jt)Ge[At]=jt[At];delete Ge.rest}e:for(var At in Ge)if(Ge.hasOwnProperty(At)&&Ge[At]){var Vt=Ge[At];Vt=Je.util.type(Vt)==="Array"?Vt:[Vt];for(var qt=0;qt<Vt.length;++qt){var yn=Vt[qt],Yn=yn.inside,Pn=!!yn.lookbehind,dr=0,Zn=yn.alias;yn=yn.pattern||yn;for(var Cr=0;Cr<fe.length;Cr++){var er=fe[Cr];if(fe.length>J.length)break e;if(!(er instanceof Wt)){yn.lastIndex=0;var Qt=yn.exec(er);if(Qt){Pn&&(dr=Qt[1].length);var Te=Qt.index-1+dr,qe=Te+(Qt=Qt[0].slice(dr)).length,Rt=er.slice(0,Te+1),Kt=er.slice(qe+1),mn=[Cr,1];Rt&&mn.push(Rt);var xn=new Wt(At,Yn?Je.tokenize(Qt,Yn):Qt,Zn);mn.push(xn),Kt&&mn.push(Kt),Array.prototype.splice.apply(fe,mn)}}}}}return fe},hooks:{all:{},add:function(J,Ge){var Ze=Je.hooks.all;Ze[J]=Ze[J]||[],Ze[J].push(Ge)},run:function(J,Ge){var Ze=Je.hooks.all[J];if(Ze&&Ze.length)for(var Wt=0,fe=void 0;fe=Ze[Wt++];)fe(Ge)}}},Le=Je.Token=function(J,Ge,Ze){this.type=J,this.content=Ge,this.alias=Ze};if(Le.stringify=function(J,Ge,Ze){if(typeof J=="string")return J;if(Je.util.type(J)==="Array")return J.map(function(Vt){return Le.stringify(Vt,Ge,J)}).join("");var Wt={type:J.type,content:Le.stringify(J.content,Ge,Ze),tag:"span",classes:["token",J.type],attributes:{},language:Ge,parent:Ze};if(Wt.type==="comment"&&(Wt.attributes.spellcheck="true"),J.alias){var fe=Je.util.type(J.alias)==="Array"?J.alias:[J.alias];Array.prototype.push.apply(Wt.classes,fe)}Je.hooks.run("wrap",Wt);var jt="";for(var At in Wt.attributes)jt+=(jt?" ":"")+At+'="'+(Wt.attributes[At]||"")+'"';return"<"+Wt.tag+' class="'+Wt.classes.join(" ")+'" '+jt+">"+Wt.content+"</"+Wt.tag+">"},!se.document)return se.addEventListener&&se.addEventListener("message",function(J){var Ge=JSON.parse(J.data),Ze=Ge.language,Wt=Ge.code,fe=Ge.immediateClose;se.postMessage(Je.highlight(Wt,Je.languages[Ze],Ze)),fe&&se.close()},!1),se.Prism}();X!==void 0&&(X.Prism=re),re.languages.markup={comment:/<!--[\w\W]*?-->/,prolog:/<\?[\w\W]+?\?>/,doctype:/<!DOCTYPE[\w\W]+?>/,cdata:/<!\[CDATA\[[\w\W]*?]]>/i,tag:{pattern:/<\/?[^\s>\/=.]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\w\W])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\w\W]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},re.hooks.add("wrap",function($e){$e.type==="entity"&&($e.attributes.title=$e.content.replace(/&amp;/,"&"))}),re.languages.xml=re.languages.markup,re.languages.html=re.languages.markup,re.languages.mathml=re.languages.markup,re.languages.svg=re.languages.markup,re.languages.css={comment:/\/\*[\w\W]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:/("|')(\\(?:\r\n|[\w\W])|(?!\1)[^\\\r\n])*\1/,property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/},re.languages.css.atrule.inside.rest=re.util.clone(re.languages.css),re.languages.markup&&(re.languages.insertBefore("markup","tag",{style:{pattern:/<style[\w\W]*?>[\w\W]*?<\/style>/i,inside:{tag:{pattern:/<style[\w\W]*?>|<\/style>/i,inside:re.languages.markup.tag.inside},rest:re.languages.css},alias:"language-css"}}),re.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:re.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:re.languages.css}},alias:"language-css"}},re.languages.markup.tag)),re.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\w\W]*?\*\//,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0}],string:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:!0,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},re.languages.javascript=re.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|false|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|true|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i}),re.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}}),re.languages.insertBefore("javascript","class-name",{"template-string":{pattern:/`(?:\\`|\\?[^`])*`/,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:re.languages.javascript}},string:/[\s\S]+/}}}),re.languages.markup&&re.languages.insertBefore("markup","tag",{script:{pattern:/<script[\w\W]*?>[\w\W]*?<\/script>/i,inside:{tag:{pattern:/<script[\w\W]*?>|<\/script>/i,inside:re.languages.markup.tag.inside},rest:re.languages.javascript},alias:"language-javascript"}}),re.languages.js=re.languages.javascript,re.languages.c=re.languages.extend("clike",{keyword:/\b(asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,operator:/\-[>-]?|\+\+?|!=?|<<?=?|>>?=?|==?|&&?|\|?\||[~^%?*\/]/,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)[ful]*\b/i}),re.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z]+([^\r\n\\]|\\.|\\(?:\r\n?|\n))*/im,lookbehind:!0,alias:"property",inside:{string:{pattern:/(#\s*include\s*)(<.+?>|("|')(\\?.)+?\3)/,lookbehind:!0}}}}),delete re.languages.c["class-name"],delete re.languages.c.boolean,re.languages.csharp=re.languages.extend("clike",{keyword:/\b(abstract|as|async|await|base|bool|break|byte|case|catch|char|checked|class|const|continue|decimal|default|delegate|do|double|else|enum|event|explicit|extern|false|finally|fixed|float|for|foreach|goto|if|implicit|in|int|interface|internal|is|lock|long|namespace|new|null|object|operator|out|override|params|private|protected|public|readonly|ref|return|sbyte|sealed|short|sizeof|stackalloc|static|string|struct|switch|this|throw|true|try|typeof|uint|ulong|unchecked|unsafe|ushort|using|virtual|void|volatile|while|add|alias|ascending|async|await|descending|dynamic|from|get|global|group|into|join|let|orderby|partial|remove|select|set|value|var|where|yield)\b/,string:[/@("|')(\1\1|\\\1|\\?(?!\1)[\s\S])*\1/,/("|')(\\?.)*?\1/],number:/\b-?(0x[\da-f]+|\d*\.?\d+)\b/i}),re.languages.insertBefore("csharp","keyword",{preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0}}),re.languages.cpp=re.languages.extend("c",{keyword:/\b(alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|class|compl|const|constexpr|const_cast|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,boolean:/\b(true|false)\b/,operator:/[-+]{1,2}|!=?|<{1,2}=?|>{1,2}=?|\->|:{1,2}|={1,2}|\^|~|%|&{1,2}|\|?\||\?|\*|\/|\b(and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/}),re.languages.insertBefore("cpp","keyword",{"class-name":{pattern:/(class\s+)[a-z0-9_]+/i,lookbehind:!0}}),re.languages.java=re.languages.extend("clike",{keyword:/\b(abstract|continue|for|new|switch|assert|default|goto|package|synchronized|boolean|do|if|private|this|break|double|implements|protected|throw|byte|else|import|public|throws|case|enum|instanceof|return|transient|catch|extends|int|short|try|char|final|interface|static|void|class|finally|long|strictfp|volatile|const|float|native|super|while)\b/,number:/\b0b[01]+\b|\b0x[\da-f]*\.?[\da-fp\-]+\b|\b\d*\.?\d+(?:e[+-]?\d+)?[df]?\b/i,operator:{pattern:/(^|[^.])(?:\+[+=]?|-[-=]?|!=?|<<?=?|>>?>?=?|==?|&[&=]?|\|[|=]?|\*=?|\/=?|%=?|\^=?|[?:~])/m,lookbehind:!0}}),re.languages.php=re.languages.extend("clike",{keyword:/\b(and|or|xor|array|as|break|case|cfunction|class|const|continue|declare|default|die|do|else|elseif|enddeclare|endfor|endforeach|endif|endswitch|endwhile|extends|for|foreach|function|include|include_once|global|if|new|return|static|switch|use|require|require_once|var|while|abstract|interface|public|implements|private|protected|parent|throw|null|echo|print|trait|namespace|final|yield|goto|instanceof|finally|try|catch)\b/i,constant:/\b[A-Z0-9_]{2,}\b/,comment:{pattern:/(^|[^\\])(?:\/\*[\w\W]*?\*\/|\/\/.*)/,lookbehind:!0}}),re.languages.insertBefore("php","class-name",{"shell-comment":{pattern:/(^|[^\\])#.*/,lookbehind:!0,alias:"comment"}}),re.languages.insertBefore("php","keyword",{delimiter:/\?>|<\?(?:php)?/i,variable:/\$\w+\b/i,package:{pattern:/(\\|namespace\s+|use\s+)[\w\\]+/,lookbehind:!0,inside:{punctuation:/\\/}}}),re.languages.insertBefore("php","operator",{property:{pattern:/(->)[\w]+/,lookbehind:!0}}),re.languages.markup&&(re.hooks.add("before-highlight",function($e){$e.language==="php"&&($e.tokenStack=[],$e.backupCode=$e.code,$e.code=$e.code.replace(/(?:<\?php|<\?)[\w\W]*?(?:\?>)/gi,function(Je){return $e.tokenStack.push(Je),"{{{PHP"+$e.tokenStack.length+"}}}"}))}),re.hooks.add("before-insert",function($e){$e.language==="php"&&($e.code=$e.backupCode,delete $e.backupCode)}),re.hooks.add("after-highlight",function($e){if($e.language==="php"){for(var Je=0,Le=void 0;Le=$e.tokenStack[Je];Je++)$e.highlightedCode=$e.highlightedCode.replace("{{{PHP"+(Je+1)+"}}}",re.highlight(Le,$e.grammar,"php").replace(/\$/g,"$$$$"));$e.element.innerHTML=$e.highlightedCode}}),re.hooks.add("wrap",function($e){$e.language==="php"&&$e.type==="markup"&&($e.content=$e.content.replace(/(\{\{\{PHP[0-9]+\}\}\})/g,'<span class="token php">$1</span>'))}),re.languages.insertBefore("php","comment",{markup:{pattern:/<[^?]\/?(.*?)>/,inside:re.languages.markup},php:/\{\{\{PHP[0-9]+\}\}\}/})),re.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},string:/"""[\s\S]+?"""|'''[\s\S]+?'''|("|')(?:\\?.)*?\1/,function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)[a-z0-9_]+/i,lookbehind:!0},keyword:/\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\b/,boolean:/\b(?:True|False)\b/,number:/\b-?(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*\.?\d*|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]|\b(?:or|and|not)\b/,punctuation:/[{}[\];(),.:]/},function($e){$e.languages.ruby=$e.languages.extend("clike",{comment:/#(?!\{[^\r\n]*?\}).*/,keyword:/\b(alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|false|for|if|in|module|new|next|nil|not|or|raise|redo|require|rescue|retry|return|self|super|then|throw|true|undef|unless|until|when|while|yield)\b/});var Je={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:$e.util.clone($e.languages.ruby)}};$e.languages.insertBefore("ruby","keyword",{regex:[{pattern:/%r([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1[gim]{0,3}/,inside:{interpolation:Je}},{pattern:/%r\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/,inside:{interpolation:Je}},{pattern:/%r\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/,inside:{interpolation:Je}},{pattern:/%r\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/,inside:{interpolation:Je}},{pattern:/%r<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/,inside:{interpolation:Je}},{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\r\n])+\/[gim]{0,3}(?=\s*($|[\r\n,.;})]))/,lookbehind:!0}],variable:/[@$]+[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/,symbol:/:[a-zA-Z_][a-zA-Z_0-9]*(?:[?!]|\b)/}),$e.languages.insertBefore("ruby","number",{builtin:/\b(Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|File|Fixnum|Fload|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z][a-zA-Z_0-9]*(?:[?!]|\b)/}),$e.languages.ruby.string=[{pattern:/%[qQiIwWxs]?([^a-zA-Z0-9\s\{\(\[<])(?:[^\\]|\\[\s\S])*?\1/,inside:{interpolation:Je}},{pattern:/%[qQiIwWxs]?\((?:[^()\\]|\\[\s\S])*\)/,inside:{interpolation:Je}},{pattern:/%[qQiIwWxs]?\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/,inside:{interpolation:Je}},{pattern:/%[qQiIwWxs]?\[(?:[^\[\]\\]|\\[\s\S])*\]/,inside:{interpolation:Je}},{pattern:/%[qQiIwWxs]?<(?:[^<>\\]|\\[\s\S])*>/,inside:{interpolation:Je}},{pattern:/("|')(#\{[^}]+\}|\\(?:\r?\n|\r)|\\?.)*?\1/,inside:{interpolation:Je}}]}(re);var ee={isCodeSample:function($e){return $e&&$e.nodeName==="PRE"&&$e.className.indexOf("language-")!==-1},trimArg:function($e){return function(Je,Le){return $e(Le)}}},Me=function($e){var Je=$e.selection.getNode();return ee.isCodeSample(Je)?Je:null},De=Me,ze=function($e,Je,Le){$e.undoManager.transact(function(){var J=Me($e);Le=l.DOM.encode(Le),J?($e.dom.setAttrib(J,"class","language-"+Je),J.innerHTML=Le,re.highlightElement(J),$e.selection.select(J)):($e.insertContent('<pre id="__new" class="language-'+Je+'">'+Le+"</pre>"),$e.selection.select($e.$("#__new").removeAttr("id")[0]))})},mt=function($e){var Je=Me($e);return Je?Je.textContent:""},G=function($e){var Je=x($e);return Je||[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}]},ve=function($e){var Je,Le=De($e);return Le&&(Je=Le.className.match(/language-(\w+)/))?Je[1]:""},Ae=function($e){var Je=D($e),Le=L($e),J=ve($e),Ge=G($e),Ze=mt($e);$e.windowManager.open({title:"Insert/Edit code sample",minWidth:Je,minHeight:Le,layout:"flex",direction:"column",align:"stretch",body:[{type:"listbox",name:"language",label:"Language",maxWidth:200,value:J,values:Ge},{type:"textbox",name:"code",multiline:!0,spellcheck:!1,ariaLabel:"Code view",flex:1,style:"direction: ltr; text-align: left",classes:"monospace",value:Ze,autofocus:!0}],onSubmit:function(Wt){ze($e,Wt.data.language,Wt.data.code)}})},Ke=function($e){$e.addCommand("codesample",function(){var Je=$e.selection.getNode();$e.selection.isCollapsed()||ee.isCodeSample(Je)?Ae($e):$e.formatter.toggle("code")})},vt=function($e){var Je=$e.$;$e.on("PreProcess",function(Le){Je("pre[contenteditable=false]",Le.node).filter(ee.trimArg(ee.isCodeSample)).each(function(J,Ge){var Ze=Je(Ge),Wt=Ge.textContent;Ze.attr("class",Je.trim(Ze.attr("class"))),Ze.removeAttr("contentEditable"),Ze.empty().append(Je("<code></code>").each(function(){this.textContent=Wt}))})}),$e.on("SetContent",function(){var Le=Je("pre").filter(ee.trimArg(ee.isCodeSample)).filter(function(J,Ge){return Ge.contentEditable!=="false"});Le.length&&$e.undoManager.transact(function(){Le.each(function(J,Ge){Je(Ge).find("br").each(function(Ze,Wt){Wt.parentNode.replaceChild($e.getDoc().createTextNode(`
`),Wt)}),Ge.contentEditable=!1,Ge.innerHTML=$e.dom.encode(Ge.textContent),re.highlightElement(Ge),Ge.className=Je.trim(Ge.className)})})})},Ie=function($e,Je,Le,J){var Ge,Ze=g($e);$e.inline&&Le.get()||!$e.inline&&J.get()||($e.inline?Le.set(!0):J.set(!0),Ze!==!1&&(Ge=$e.dom.create("link",{rel:"stylesheet",href:Ze||Je+"/css/prism.css"}),$e.getDoc().getElementsByTagName("head")[0].appendChild(Ge)))},Ce=function($e){$e.addButton("codesample",{cmd:"codesample",title:"Insert/Edit code sample"}),$e.addMenuItem("codesample",{cmd:"codesample",text:"Code sample",icon:"codesample"})},ut=r(!1);a.add("codesample",function($e,Je){var Le=r(!1);vt($e),Ce($e),Ke($e),$e.on("init",function(){Ie($e,Je,ut,Le)}),$e.on("dblclick",function(J){ee.isCodeSample(J.target)&&Ae($e)})})})(window);(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),a=function(X){return X.getParam("code_dialog_width",600)},l=function(X){return X.getParam("code_dialog_height",Math.min(r.DOM.getViewPort().h-200,500))},g=function(X,se){X.focus(),X.undoManager.transact(function(){X.setContent(se)}),X.selection.setCursorLocation(),X.nodeChanged()},x=function(X){return X.getContent({source_view:!0})},D=function(X){var se=a(X),re=l(X);X.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:se,minHeight:re,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(ee){g(X,ee.data.code)}}).find("#code").value(x(X))},L=function(X){X.addCommand("mceCodeEditor",function(){D(X)})},U=function(X){X.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){D(X)}}),X.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){D(X)}})};t.add("code",function(X){return L(X),U(X),{}})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(g){g=r.trim(g);var x=function(D,L){g=g.replace(D,L)};return x(/<a.*?href=\"(.*?)\".*?>(.*?)<\/a>/gi,"[url=$1]$2[/url]"),x(/<font.*?color=\"(.*?)\".*?class=\"codeStyle\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),x(/<font.*?color=\"(.*?)\".*?class=\"quoteStyle\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),x(/<font.*?class=\"codeStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[code][color=$1]$2[/color][/code]"),x(/<font.*?class=\"quoteStyle\".*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[quote][color=$1]$2[/color][/quote]"),x(/<span style=\"color: ?(.*?);\">(.*?)<\/span>/gi,"[color=$1]$2[/color]"),x(/<font.*?color=\"(.*?)\".*?>(.*?)<\/font>/gi,"[color=$1]$2[/color]"),x(/<span style=\"font-size:(.*?);\">(.*?)<\/span>/gi,"[size=$1]$2[/size]"),x(/<font>(.*?)<\/font>/gi,"$1"),x(/<img.*?src=\"(.*?)\".*?\/>/gi,"[img]$1[/img]"),x(/<span class=\"codeStyle\">(.*?)<\/span>/gi,"[code]$1[/code]"),x(/<span class=\"quoteStyle\">(.*?)<\/span>/gi,"[quote]$1[/quote]"),x(/<strong class=\"codeStyle\">(.*?)<\/strong>/gi,"[code][b]$1[/b][/code]"),x(/<strong class=\"quoteStyle\">(.*?)<\/strong>/gi,"[quote][b]$1[/b][/quote]"),x(/<em class=\"codeStyle\">(.*?)<\/em>/gi,"[code][i]$1[/i][/code]"),x(/<em class=\"quoteStyle\">(.*?)<\/em>/gi,"[quote][i]$1[/i][/quote]"),x(/<u class=\"codeStyle\">(.*?)<\/u>/gi,"[code][u]$1[/u][/code]"),x(/<u class=\"quoteStyle\">(.*?)<\/u>/gi,"[quote][u]$1[/u][/quote]"),x(/<\/(strong|b)>/gi,"[/b]"),x(/<(strong|b)>/gi,"[b]"),x(/<\/(em|i)>/gi,"[/i]"),x(/<(em|i)>/gi,"[i]"),x(/<\/u>/gi,"[/u]"),x(/<span style=\"text-decoration: ?underline;\">(.*?)<\/span>/gi,"[u]$1[/u]"),x(/<u>/gi,"[u]"),x(/<blockquote[^>]*>/gi,"[quote]"),x(/<\/blockquote>/gi,"[/quote]"),x(/<br \/>/gi,`
`),x(/<br\/>/gi,`
`),x(/<br>/gi,`
`),x(/<p>/gi,""),x(/<\/p>/gi,`
`),x(/&nbsp;|\u00a0/gi," "),x(/&quot;/gi,'"'),x(/&lt;/gi,"<"),x(/&gt;/gi,">"),x(/&amp;/gi,"&"),g},l=function(g){g=r.trim(g);var x=function(D,L){g=g.replace(D,L)};return x(/\n/gi,"<br />"),x(/\[b\]/gi,"<strong>"),x(/\[\/b\]/gi,"</strong>"),x(/\[i\]/gi,"<em>"),x(/\[\/i\]/gi,"</em>"),x(/\[u\]/gi,"<u>"),x(/\[\/u\]/gi,"</u>"),x(/\[url=([^\]]+)\](.*?)\[\/url\]/gi,'<a href="$1">$2</a>'),x(/\[url\](.*?)\[\/url\]/gi,'<a href="$1">$1</a>'),x(/\[img\](.*?)\[\/img\]/gi,'<img src="$1" />'),x(/\[color=(.*?)\](.*?)\[\/color\]/gi,'<font color="$1">$2</font>'),x(/\[code\](.*?)\[\/code\]/gi,'<span class="codeStyle">$1</span>&nbsp;'),x(/\[quote.*?\](.*?)\[\/quote\]/gi,'<span class="quoteStyle">$1</span>&nbsp;'),g};t.add("bbcode",function(){return{init:function(g){g.on("beforeSetContent",function(x){x.content=l(x.content)}),g.on("postProcess",function(x){x.set&&(x.content=l(x.content)),x.get&&(x.content=a(x.content))})}}})})();(function(t){var r=function(G){var ve=G,Ae=function(){return ve};return{get:Ae,set:function(Ke){ve=Ke},clone:function(){return r(Ae())}}},a=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),g=tinymce.util.Tools.resolve("tinymce.util.Tools"),x=function(G,ve){var Ae=G||ve,Ke=/^(\d+)([ms]?)$/.exec(""+Ae);return(Ke[2]?{s:1e3,m:6e4}[Ke[2]]:1)*parseInt(Ae,10)},D=function(G){var ve=G.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-");return ve=(ve=(ve=(ve=ve.replace(/\{path\}/g,t.document.location.pathname)).replace(/\{query\}/g,t.document.location.search)).replace(/\{hash\}/g,t.document.location.hash)).replace(/\{id\}/g,G.id)},L=function(G,ve){var Ae=G.settings.forced_root_block;return(ve=g.trim(ve===void 0?G.getBody().innerHTML:ve))===""||new RegExp("^<"+Ae+"[^>]*>((\xA0|&nbsp;|[ 	]|<br[^>]*>)+?|)</"+Ae+">|<br>$","i").test(ve)},U=function(G){var ve=parseInt(l.getItem(D(G)+"time"),10)||0;return!(new Date().getTime()-ve>x(G.settings.autosave_retention,"20m")&&(X(G,!1),1))},X=function(G,ve){var Ae=D(G);l.removeItem(Ae+"draft"),l.removeItem(Ae+"time"),ve!==!1&&G.fire("RemoveDraft")},se=function(G){var ve=D(G);!L(G)&&G.isDirty()&&(l.setItem(ve+"draft",G.getContent({format:"raw",no_events:!0})),l.setItem(ve+"time",new Date().getTime().toString()),G.fire("StoreDraft"))},re=function(G){var ve=D(G);U(G)&&(G.setContent(l.getItem(ve+"draft"),{format:"raw"}),G.fire("RestoreDraft"))},ee=function(G,ve){var Ae=x(G.settings.autosave_interval,"30s");ve.get()||(setInterval(function(){G.removed||se(G)},Ae),ve.set(!0))},Me=function(G){G.undoManager.transact(function(){re(G),X(G)}),G.focus()};function De(G){for(var ve=[],Ae=1;Ae<arguments.length;Ae++)ve[Ae-1]=arguments[Ae];return function(){for(var Ke=[],vt=0;vt<arguments.length;vt++)Ke[vt]=arguments[vt];var Ie=ve.concat(Ke);return G.apply(null,Ie)}}var ze=tinymce.util.Tools.resolve("tinymce.EditorManager");ze._beforeUnloadHandler=function(){var G;return g.each(ze.get(),function(ve){ve.plugins.autosave&&ve.plugins.autosave.storeDraft(),!G&&ve.isDirty()&&ve.getParam("autosave_ask_before_unload",!0)&&(G=ve.translate("You have unsaved changes are you sure you want to navigate away?"))}),G};var mt=function(G,ve){return function(Ae){var Ke=Ae.control;Ke.disabled(!U(G)),G.on("StoreDraft RestoreDraft RemoveDraft",function(){Ke.disabled(!U(G))}),ee(G,ve)}};a.add("autosave",function(G){var ve,Ae,Ke,vt=r(!1);return t.window.onbeforeunload=ze._beforeUnloadHandler,Ae=vt,(ve=G).addButton("restoredraft",{title:"Restore last draft",onclick:function(){Me(ve)},onPostRender:mt(ve,Ae)}),ve.addMenuItem("restoredraft",{text:"Restore last draft",onclick:function(){Me(ve)},onPostRender:mt(ve,Ae),context:"file"}),G.on("init",function(){G.getParam("autosave_restore_when_empty",!1)&&G.dom.isEmpty(G.getBody())&&re(G)}),{hasDraft:De(U,Ke=G),storeDraft:De(se,Ke),restoreDraft:De(re,Ke),removeDraft:De(X,Ke),isEmpty:De(L,Ke)}})})(window);(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),a=function(X){return X.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@)(.+)$/i)},l=function(X){return X.getParam("default_link_target","")},g=function(X,se){if(se<0&&(se=0),X.nodeType===3){var re=X.data.length;re<se&&(se=re)}return se},x=function(X,se,re){se.nodeType!==1||se.hasChildNodes()?X.setStart(se,g(se,re)):X.setStartBefore(se)},D=function(X,se,re){se.nodeType!==1||se.hasChildNodes()?X.setEnd(se,g(se,re)):X.setEndAfter(se)},L=function(X,se,re){var ee,Me,De,ze,mt,G,ve,Ae,Ke,vt,Ie=a(X),Ce=l(X);if(X.selection.getNode().tagName!=="A"){if((ee=X.selection.getRng(!0).cloneRange()).startOffset<5){if(!(Ae=ee.endContainer.previousSibling)){if(!ee.endContainer.firstChild||!ee.endContainer.firstChild.nextSibling)return;Ae=ee.endContainer.firstChild.nextSibling}if(Ke=Ae.length,x(ee,Ae,Ke),D(ee,Ae,Ke),ee.endOffset<5)return;Me=ee.endOffset,ze=Ae}else{if((ze=ee.endContainer).nodeType!==3&&ze.firstChild){for(;ze.nodeType!==3&&ze.firstChild;)ze=ze.firstChild;ze.nodeType===3&&(x(ee,ze,0),D(ee,ze,ze.nodeValue.length))}Me=ee.endOffset===1?2:ee.endOffset-1-se}for(De=Me;x(ee,ze,2<=Me?Me-2:0),D(ee,ze,1<=Me?Me-1:0),Me-=1,(vt=ee.toString())!==" "&&vt!==""&&vt.charCodeAt(0)!==160&&0<=Me-2&&vt!==re;);var ut;(ut=ee.toString())===re||ut===" "||ut.charCodeAt(0)===160?(x(ee,ze,Me),D(ee,ze,De),Me+=1):(ee.startOffset===0?x(ee,ze,0):x(ee,ze,Me),D(ee,ze,De)),(G=ee.toString()).charAt(G.length-1)==="."&&D(ee,ze,De-1),(ve=(G=ee.toString().trim()).match(Ie))&&(ve[1]==="www."?ve[1]="http://www.":/@$/.test(ve[1])&&!/^mailto:/.test(ve[1])&&(ve[1]="mailto:"+ve[1]),mt=X.selection.getBookmark(),X.selection.setRng(ee),X.execCommand("createlink",!1,ve[1]+ve[2]),Ce&&X.dom.setAttrib(X.selection.getNode(),"target",Ce),X.selection.moveToBookmark(mt),X.nodeChanged())}},U=function(X){var se;X.on("keydown",function(re){re.keyCode!==13||L(X,-1,"")}),r.ie?X.on("focus",function(){if(!se){se=!0;try{X.execCommand("AutoUrlDetect",!1,!0)}catch{}}}):(X.on("keypress",function(re){re.keyCode!==41||L(X,-1,"(")}),X.on("keyup",function(re){re.keyCode!==32||L(X,0,"")}))};t.add("autolink",function(X){U(X)})})();(function(){var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(X){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(X)},a=function(X){var se=X.selection.getNode();return se.tagName==="A"&&X.dom.getAttrib(se,"href")===""?se.id||se.name:""},l=function(X,se){var re=X.selection.getNode();re.tagName==="A"&&X.dom.getAttrib(re,"href")===""?(re.removeAttribute("name"),re.id=se,X.undoManager.add()):(X.focus(),X.selection.collapse(!0),X.execCommand("mceInsertContent",!1,X.dom.createHTML("a",{id:se})))},g=function(X){var se=a(X);X.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:se},onsubmit:function(re){var ee,Me,De=re.data.id;ee=X,(r(Me=De)?(l(ee,Me),0):(ee.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),1))&&re.preventDefault()}})},x=function(X){X.addCommand("mceAnchor",function(){g(X)})},D=function(X){return function(se){for(var re=0;re<se.length;re++)(ee=se[re]).attr("href")||!ee.attr("id")&&!ee.attr("name")||ee.firstChild||se[re].attr("contenteditable",X);var ee}},L=function(X){X.on("PreInit",function(){X.parser.addNodeFilter("a",D("false")),X.serializer.addNodeFilter("a",D(null))})},U=function(X){X.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"}),X.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})};t.add("anchor",function(X){L(X),x(X),U(X)})})();(function(t){var r=function(){},a=function(u,m){return function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];return u(m.apply(null,b))}},l=function(u){return function(){return u}},g=function(u){return u};function x(u){for(var m=[],b=1;b<arguments.length;b++)m[b-1]=arguments[b];return function(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];var j=m.concat(_);return u.apply(null,j)}}var D,L,U,X,se,re,ee,Me=function(u){return function(){for(var m=[],b=0;b<arguments.length;b++)m[b]=arguments[b];return!u.apply(null,m)}},De=function(u){return function(){throw new Error(u)}},ze=function(u){return u()},mt=l(!1),G=l(!0),ve=function(u){return function(m){return function(b){if(b===null)return"null";var _=typeof b;return _==="object"&&(Array.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="Array")?"array":_==="object"&&(String.prototype.isPrototypeOf(b)||b.constructor&&b.constructor.name==="String")?"string":_}(m)===u}},Ae=ve("string"),Ke=ve("object"),vt=ve("array"),Ie=ve("boolean"),Ce=ve("function"),ut=ve("number"),$e=Object.prototype.hasOwnProperty,Je=function(u){return function(){for(var m=new Array(arguments.length),b=0;b<m.length;b++)m[b]=arguments[b];if(m.length===0)throw new Error("Can't merge zero objects");for(var _={},I=0;I<m.length;I++){var j=m[I];for(var Q in j)$e.call(j,Q)&&(_[Q]=u(_[Q],j[Q]))}return _}},Le=Je(function(u,m){return Ke(u)&&Ke(m)?Le(u,m):m}),J=Je(function(u,m){return m}),Ge=function(){return Ze},Ze=(D=function(u){return u.isNone()},X={fold:function(u,m){return u()},is:mt,isSome:mt,isNone:G,getOr:U=function(u){return u},getOrThunk:L=function(u){return u()},getOrDie:function(u){throw new Error(u||"error: getOrDie called on none.")},getOrNull:l(null),getOrUndefined:l(void 0),or:U,orThunk:L,map:Ge,each:r,bind:Ge,exists:mt,forall:G,filter:Ge,equals:D,equals_:D,toArray:function(){return[]},toString:l("none()")},Object.freeze&&Object.freeze(X),X),Wt=function(u){var m=l(u),b=function(){return I},_=function(j){return j(u)},I={fold:function(j,Q){return Q(u)},is:function(j){return u===j},isSome:G,isNone:mt,getOr:m,getOrThunk:m,getOrDie:m,getOrNull:m,getOrUndefined:m,or:b,orThunk:b,map:function(j){return Wt(j(u))},each:function(j){j(u)},bind:_,exists:_,forall:_,filter:function(j){return j(u)?I:Ze},toArray:function(){return[u]},toString:function(){return"some("+u+")"},equals:function(j){return j.is(u)},equals_:function(j,Q){return j.fold(mt,function(ue){return Q(u,ue)})}};return I},fe={some:Wt,none:Ge,from:function(u){return u==null?Ze:Wt(u)}},jt=Object.keys,At=function(u,m){for(var b=jt(u),_=0,I=b.length;_<I;_++){var j=b[_];m(u[j],j)}},Vt=function(u,m){return qt(u,function(b,_){return{k:_,v:m(b,_)}})},qt=function(u,m){var b={};return At(u,function(_,I){var j=m(_,I);b[j.k]=j.v}),b},yn=function(u,m){var b=[];return At(u,function(_,I){b.push(m(_,I))}),b},Yn=l("touchstart"),Pn=l("touchmove"),dr=l("touchend"),Zn=l("mousedown"),Cr=l("mousemove"),er=l("mouseup"),Qt=l("mouseover"),Te=l("keydown"),qe=l("input"),Rt=l("change"),Kt=l("click"),mn=l("transitionend"),xn=l("selectstart"),Un=function(u){var m,b=!1;return function(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];return b||(b=!0,m=u.apply(null,_)),m}},Or=function(u,m){var b=function(I,j){for(var Q=0;Q<I.length;Q++){var ue=I[Q];if(ue.test(j))return ue}}(u,m);if(!b)return{major:0,minor:0};var _=function(I){return Number(m.replace(b,"$"+I))};return Jr(_(1),_(2))},Jn=function(){return Jr(0,0)},Jr=function(u,m){return{major:u,minor:m}},co={nu:Jr,detect:function(u,m){var b=String(m).toLowerCase();return u.length===0?Jn():Or(u,b)},unknown:Jn},eo="Firefox",Ao=function(u,m){return function(){return m===u}},qr=function(u){var m=u.current;return{current:m,version:u.version,isEdge:Ao("Edge",m),isChrome:Ao("Chrome",m),isIE:Ao("IE",m),isOpera:Ao("Opera",m),isFirefox:Ao(eo,m),isSafari:Ao("Safari",m)}},it={unknown:function(){return qr({current:void 0,version:co.unknown()})},nu:qr,edge:l("Edge"),chrome:l("Chrome"),ie:l("IE"),opera:l("Opera"),firefox:l(eo),safari:l("Safari")},Fn="Windows",Wn="Android",Tn="Solaris",or="FreeBSD",Kr=function(u,m){return function(){return m===u}},Dn=function(u){var m=u.current;return{current:m,version:u.version,isWindows:Kr(Fn,m),isiOS:Kr("iOS",m),isAndroid:Kr(Wn,m),isOSX:Kr("OSX",m),isLinux:Kr("Linux",m),isSolaris:Kr(Tn,m),isFreeBSD:Kr(or,m)}},yo={unknown:function(){return Dn({current:void 0,version:co.unknown()})},nu:Dn,windows:l(Fn),ios:l("iOS"),android:l(Wn),linux:l("Linux"),osx:l("OSX"),solaris:l(Tn),freebsd:l(or)},Ho=Array.prototype.slice,Wo=Array.prototype.indexOf,Xo=Array.prototype.push,Qr=function(u,m){return b=u,_=m,-1<Wo.call(b,_);var b,_},kr=function(u,m){for(var b=u.length,_=new Array(b),I=0;I<b;I++){var j=u[I];_[I]=m(j,I)}return _},sn=function(u,m){for(var b=0,_=u.length;b<_;b++)m(u[b],b)},qo=function(u,m){for(var b=[],_=0,I=u.length;_<I;_++){var j=u[_];m(j,_)&&b.push(j)}return b},wr=function(u,m,b){return function(_,I){for(var j=_.length-1;0<=j;j--)I(_[j],j)}(u,function(_){b=m(b,_)}),b},Bn=function(u,m,b){return sn(u,function(_){b=m(b,_)}),b},Zo=function(u,m){for(var b=0,_=u.length;b<_;b++){var I=u[b];if(m(I,b))return fe.some(I)}return fe.none()},Xe=function(u,m){for(var b=0,_=u.length;b<_;b++)if(m(u[b],b))return fe.some(b);return fe.none()},zt=function(u){for(var m=[],b=0,_=u.length;b<_;++b){if(!vt(u[b]))throw new Error("Arr.flatten item "+b+" was not an array, input: "+u);Xo.apply(m,u[b])}return m},xt=function(u,m){var b=kr(u,m);return zt(b)},Jt=function(u,m){for(var b=0,_=u.length;b<_;++b)if(m(u[b],b)!==!0)return!1;return!0},kt=function(u){var m=Ho.call(u,0);return m.reverse(),m},yt=function(u){return[u]},lr=(Ce(Array.from)&&Array.from,function(u,m){var b=String(m).toLowerCase();return Zo(u,function(_){return _.search(b)})}),mr=function(u,m){return lr(u,m).map(function(b){var _=co.detect(b.versionRegexes,m);return{current:b.name,version:_}})},Ur=function(u,m){return lr(u,m).map(function(b){var _=co.detect(b.versionRegexes,m);return{current:b.name,version:_}})},uo=function(u,m){return u.indexOf(m)!==-1},Eo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Vr=function(u){return function(m){return uo(m,u)}},lo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(u){return uo(u,"edge/")&&uo(u,"chrome")&&uo(u,"safari")&&uo(u,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Eo],search:function(u){return uo(u,"chrome")&&!uo(u,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(u){return uo(u,"msie")||uo(u,"trident")}},{name:"Opera",versionRegexes:[Eo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Vr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Vr("firefox")},{name:"Safari",versionRegexes:[Eo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(u){return(uo(u,"safari")||uo(u,"mobile/"))&&uo(u,"applewebkit")}}],Mo=[{name:"Windows",search:Vr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(u){return uo(u,"iphone")||uo(u,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Vr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Vr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Vr("linux"),versionRegexes:[]},{name:"Solaris",search:Vr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Vr("freebsd"),versionRegexes:[]}],ai={browsers:l(lo),oses:l(Mo)},Ee=function(u){var m,b,_,I,j,Q,ue,de,Pe,Se,_e,Ue=ai.browsers(),wt=ai.oses(),ct=mr(Ue,u).fold(it.unknown,it.nu),at=Ur(wt,u).fold(yo.unknown,yo.nu);return{browser:ct,os:at,deviceType:(b=ct,_=u,I=(m=at).isiOS()&&/ipad/i.test(_)===!0,j=m.isiOS()&&!I,Q=m.isAndroid()&&m.version.major===3,ue=m.isAndroid()&&m.version.major===4,de=I||Q||ue&&/mobile/i.test(_)===!0,Pe=m.isiOS()||m.isAndroid(),Se=Pe&&!de,_e=b.isSafari()&&m.isiOS()&&/safari/i.test(_)===!1,{isiPad:l(I),isiPhone:l(j),isTablet:l(de),isPhone:l(Se),isTouch:l(Pe),isAndroid:m.isAndroid,isiOS:m.isiOS,isWebView:l(_e)})}},gt={detect:Un(function(){var u=t.navigator.userAgent;return Ee(u)})},Pt={tap:l("alloy.tap")},tn=l("alloy.focus"),bn=l("alloy.blur.post"),ir=l("alloy.receive"),Cn=l("alloy.execute"),$r=l("alloy.focus.item"),To=Pt.tap,ui=gt.detect().deviceType.isTouch()?Pt.tap:Kt,Pi=l("alloy.longpress"),ci=l("alloy.system.init"),Xi=l("alloy.system.scroll"),Ui=l("alloy.system.attached"),ma=l("alloy.system.detached"),Ya=function(u,m){di(u,u.element(),m,{})},si=function(u,m,b){di(u,u.element(),m,b)},Fa=function(u){Ya(u,Cn())},pu=function(u,m,b){di(u,m,b,{})},di=function(u,m,b,_){var I=Le({target:m},_);u.getSystem().triggerEvent(b,m,Vt(I,l))},Ha=function(u){if(u==null)throw new Error("Node cannot be null or undefined");return{dom:l(u)}},oe={fromHtml:function(u,m){var b=(m||t.document).createElement("div");if(b.innerHTML=u,!b.hasChildNodes()||1<b.childNodes.length)throw t.console.error("HTML does not have a single root node",u),new Error("HTML must have a single root node");return Ha(b.childNodes[0])},fromTag:function(u,m){var b=(m||t.document).createElement(u);return Ha(b)},fromText:function(u,m){var b=(m||t.document).createTextNode(u);return Ha(b)},fromDom:Ha,fromPoint:function(u,m,b){var _=u.dom();return fe.from(_.elementFromPoint(m,b)).map(Ha)}},Fe=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),ft=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),dt=t.Node.TEXT_NODE,Ft=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,typeof t.window!="undefined"?t.window:Function("return this;")()),Bt=function(u,m){return function(b,_){for(var I=_!=null?_:Ft,j=0;j<b.length&&I!==void 0&&I!==null;++j)I=I[b[j]];return I}(u.split("."),m)},ur=function(u,m){var b=Bt(u,m);if(b==null)throw new Error(u+" not available on this browser");return b},Zt=function(u){return u.dom().nodeName.toLowerCase()},Hn=function(u){return function(m){return m.dom().nodeType===u}},Kn=Hn(ft),_n=Hn(dt),gn=function(u){var m=_n(u)?u.dom().parentNode:u.dom();return m!=null&&m.ownerDocument.body.contains(m)},zn=Un(function(){return Qn(oe.fromDom(t.document))}),Qn=function(u){var m=u.dom().body;if(m==null)throw new Error("Body is not available yet");return oe.fromDom(m)},Nn=function(){for(var u=[],m=0;m<arguments.length;m++)u[m]=arguments[m];return function(){for(var b=[],_=0;_<arguments.length;_++)b[_]=arguments[_];if(u.length!==b.length)throw new Error('Wrong number of arguments to struct. Expected "['+u.length+']", got '+b.length+" arguments");var I={};return sn(u,function(j,Q){I[j]=l(b[Q])}),I}},xr=function(u){return u.slice(0).sort()},Hr=function(u,m){throw new Error("All required keys ("+xr(u).join(", ")+") were not specified. Specified keys were: "+xr(m).join(", ")+".")},Yr=function(u){throw new Error("Unsupported keys for object: "+xr(u).join(", "))},Er=function(u,m){if(!vt(m))throw new Error("The "+u+" fields must be an array. Was: "+m+".");sn(m,function(b){if(!Ae(b))throw new Error("The value "+b+" in the "+u+" fields was not a string.")})},ei=function(u){var m=xr(u);Zo(m,function(b,_){return _<m.length-1&&b===m[_+1]}).each(function(b){throw new Error("The field: "+b+" occurs more than once in the combined fields: ["+m.join(", ")+"].")})},fo=function(u,m){var b=u.concat(m);if(b.length===0)throw new Error("You must specify at least one required or optional field.");return Er("required",u),Er("optional",m),ei(b),function(_){var I=jt(_);Jt(u,function(ue){return Qr(I,ue)})||Hr(u,I);var j=qo(I,function(ue){return!Qr(b,ue)});0<j.length&&Yr(j);var Q={};return sn(u,function(ue){Q[ue]=l(_[ue])}),sn(m,function(ue){Q[ue]=l(Object.prototype.hasOwnProperty.call(_,ue)?fe.some(_[ue]):fe.none())}),Q}},$i=ft,ye=Fe,Re=function(u,m){var b=u.dom();if(b.nodeType!==$i)return!1;var _=b;if(_.matches!==void 0)return _.matches(m);if(_.msMatchesSelector!==void 0)return _.msMatchesSelector(m);if(_.webkitMatchesSelector!==void 0)return _.webkitMatchesSelector(m);if(_.mozMatchesSelector!==void 0)return _.mozMatchesSelector(m);throw new Error("Browser lacks native selectors")},tt=function(u){return u.nodeType!==$i&&u.nodeType!==ye||u.childElementCount===0},bt=function(u,m){var b=m===void 0?t.document:m.dom();return tt(b)?[]:kr(b.querySelectorAll(u),oe.fromDom)},Ot=function(u,m){var b=m===void 0?t.document:m.dom();return tt(b)?fe.none():fe.from(b.querySelector(u)).map(oe.fromDom)},Dt=function(u,m){return u.dom()===m.dom()},cn=(gt.detect().browser.isIE(),function(u){return oe.fromDom(u.dom().ownerDocument)}),On=function(u){return oe.fromDom(u.dom().ownerDocument.defaultView)},sr=function(u){return fe.from(u.dom().parentNode).map(oe.fromDom)},$n=function(u){return kr(u.dom().childNodes,oe.fromDom)},An=function(u){return m=0,b=u.dom().childNodes,fe.from(b[m]).map(oe.fromDom);var m,b},hr=(Nn("element","offset"),function(u,m){An(u).fold(function(){yr(u,m)},function(b){u.dom().insertBefore(m.dom(),b.dom())})}),yr=function(u,m){u.dom().appendChild(m.dom())},_r=function(u,m){sn(m,function(b){yr(u,b)})},Sr=function(u){u.dom().textContent="",sn($n(u),function(m){bo(m)})},bo=function(u){var m=u.dom();m.parentNode!==null&&m.parentNode.removeChild(m)},Mr=function(u){Ya(u,ma());var m=u.components();sn(m,Mr)},Ro=function(u){var m=u.components();sn(m,Ro),Ya(u,Ui())},Di=function(u,m){Go(u,m,yr)},Go=function(u,m,b){u.getSystem().addToWorld(m),b(u.element(),m.element()),gn(u.element())&&Ro(m),u.syncComponents()},ar=function(u){Mr(u),bo(u.element()),u.getSystem().removeFromWorld(u)},st=function(u){var m=sr(u.element()).bind(function(b){return u.getSystem().getByDom(b).fold(fe.none,fe.some)});ar(u),m.each(function(b){b.syncComponents()})},xo=function(u){return{is:function(m){return u===m},isValue:G,isError:mt,getOr:l(u),getOrThunk:l(u),getOrDie:l(u),or:function(m){return xo(u)},orThunk:function(m){return xo(u)},fold:function(m,b){return b(u)},map:function(m){return xo(m(u))},mapError:function(m){return xo(u)},each:function(m){m(u)},bind:function(m){return m(u)},exists:function(m){return m(u)},forall:function(m){return m(u)},toOption:function(){return fe.some(u)}}},mo=function(u){return{is:mt,isValue:mt,isError:G,getOr:g,getOrThunk:function(m){return m()},getOrDie:function(){return De(String(u))()},or:function(m){return m},orThunk:function(m){return m()},fold:function(m,b){return m(u)},map:function(m){return mo(u)},mapError:function(m){return mo(m(u))},each:r,bind:function(m){return mo(u)},exists:mt,forall:G,toOption:fe.none}},no={value:xo,error:mo,fromOption:function(u,m){return u.fold(function(){return mo(m)},xo)}},Vo=function(u){if(!vt(u))throw new Error("cases must be an array");if(u.length===0)throw new Error("there must be at least one case");var m=[],b={};return sn(u,function(_,I){var j=jt(_);if(j.length!==1)throw new Error("one and only one name per case");var Q=j[0],ue=_[Q];if(b[Q]!==void 0)throw new Error("duplicate key detected:"+Q);if(Q==="cata")throw new Error("cannot have a case named cata (sorry)");if(!vt(ue))throw new Error("case arguments must be an array");m.push(Q),b[Q]=function(){var de=arguments.length;if(de!==ue.length)throw new Error("Wrong number of arguments to case "+Q+". Expected "+ue.length+" ("+ue+"), got "+de);for(var Pe=new Array(de),Se=0;Se<Pe.length;Se++)Pe[Se]=arguments[Se];return{fold:function(){if(arguments.length!==u.length)throw new Error("Wrong number of arguments to fold. Expected "+u.length+", got "+arguments.length);return arguments[I].apply(null,Pe)},match:function(_e){var Ue=jt(_e);if(m.length!==Ue.length)throw new Error("Wrong number of arguments to match. Expected: "+m.join(",")+`
Actual: `+Ue.join(","));if(!Jt(m,function(wt){return Qr(Ue,wt)}))throw new Error("Not all branches were specified when using match. Specified: "+Ue.join(", ")+`
Required: `+m.join(", "));return _e[Q].apply(null,Pe)},log:function(_e){t.console.log(_e,{constructors:m,constructor:Q,params:Pe})}}}}),b},Oo=Vo([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),mi=function(u){return Oo.defaultedThunk(l(u))},Uo=Oo.strict,ra=Oo.asOption,_a=Oo.defaultedThunk,Ni=Oo.mergeWithThunk,oa=(Vo([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]),function(u){var m=[],b=[];return sn(u,function(_){_.fold(function(I){m.push(I)},function(I){b.push(I)})}),{errors:m,values:b}}),ga=function(u){return a(no.error,zt)(u)},vi=function(u,m){var b,_,I=oa(u);return 0<I.errors.length?ga(I.errors):(b=I.values,_=m,no.value(Le.apply(void 0,[_].concat(b))))},Si=function(u){var m=oa(u);return 0<m.errors.length?ga(m.errors):no.value(m.values)},Ka=function(u){return function(m){return m.hasOwnProperty(u)?fe.from(m[u]):fe.none()}},Gi=function(u,m){return Ka(m)(u)},ki=function(u,m){var b={};return b[u]=m,b},ti=function(u,m){return b=u,_={},sn(m,function(I){b[I]!==void 0&&b.hasOwnProperty(I)&&(_[I]=b[I])}),_;var b,_},br=function(u,m){return b=m,_={},At(u,function(I,j){Qr(b,j)||(_[j]=I)}),_;var b,_},gu=function(u){return Ka(u)},vu=function(u,m){return b=u,_=m,function(I){return Ka(b)(I).getOr(_)};var b,_},go=function(u,m){return Gi(u,m)},zo=function(u,m){return ki(u,m)},Ei=function(u){return m={},sn(u,function(b){m[b.key]=b.value}),m;var m},Vi=function(u,m){return vi(u,m)},ne=function(u,m){return _=m,(b=u).hasOwnProperty(_)&&b[_]!==void 0&&b[_]!==null;var b,_},be=Vo([{setOf:["validator","valueType"]},{arrOf:["valueType"]},{objOf:["fields"]},{itemOf:["validator"]},{choiceOf:["key","branches"]},{thunk:["description"]},{func:["args","outputSchema"]}]),me=Vo([{field:["name","presence","type"]},{state:["name"]}]),Ye=function(){return ur("JSON")},Qe=function(u,m,b){return Ye().stringify(u,m,b)},Et=function(u){return Ke(u)&&100<jt(u).length?" removed due to size":Qe(u,null,2)},Ut=function(u,m){return no.error([{path:u,getErrorInfo:m}])},Mn=Vo([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),qn=function(u,m,b){return Gi(m,b).fold(function(){return _=b,I=m,Ut(u,function(){return'Could not find valid *strict* value for "'+_+'" in '+Et(I)});var _,I},no.value)},pr=function(u,m,b){var _=Gi(u,m).fold(function(){return b(u)},g);return no.value(_)},Zr=function(u,m,b,_){return b.fold(function(I,j,Q,ue){var de=function(Se){return ue.extract(u.concat([I]),_,Se).map(function(_e){return ki(j,_(_e))})},Pe=function(Se){return Se.fold(function(){var _e=ki(j,_(fe.none()));return no.value(_e)},function(_e){return ue.extract(u.concat([I]),_,_e).map(function(Ue){return ki(j,_(fe.some(Ue)))})})};return Q.fold(function(){return qn(u,m,I).bind(de)},function(Se){return pr(m,I,Se).bind(de)},function(){return(Se=m,_e=I,no.value(Gi(Se,_e))).bind(Pe);var Se,_e},function(Se){return(_e=m,Ue=I,wt=Se,ct=Gi(_e,Ue).map(function(at){return at===!0?wt(_e):at}),no.value(ct)).bind(Pe);var _e,Ue,wt,ct},function(Se){var _e=Se(m);return pr(m,I,l({})).map(function(Ue){return Le(_e,Ue)}).bind(de)})},function(I,j){var Q=j(m);return no.value(ki(I,_(Q)))})},Co=function(u){return{extract:function(m,b,_){return u(_,b).fold(function(I){return j=I,Ut(m,function(){return j});var j},no.value)},toString:function(){return"val"},toDsl:function(){return be.itemOf(u)}}},So=function(u){var m=Ko(u),b=wr(u,function(_,I){return I.fold(function(j){return Le(_,zo(j,!0))},l(_))},{});return{extract:function(_,I,j){var Q,ue,de,Pe=Ie(j)?[]:(ue=jt(Q=j),qo(ue,function(_e){return ne(Q,_e)})),Se=qo(Pe,function(_e){return!ne(b,_e)});return Se.length===0?m.extract(_,I,j):(de=Se,Ut(_,function(){return"There are unsupported fields: ["+de.join(", ")+"] specified"}))},toString:m.toString,toDsl:m.toDsl}},Ko=function(u){return{extract:function(m,b,_){return I=m,j=_,Q=b,ue=kr(u,function(de){return Zr(I,j,de,Q)}),vi(ue,{});var I,j,Q,ue},toString:function(){return`obj{
`+kr(u,function(m){return m.fold(function(b,_,I,j){return b+" -> "+j.toString()},function(b,_){return"state("+b+")"})}).join(`
`)+"}"},toDsl:function(){return be.objOf(kr(u,function(m){return m.fold(function(b,_,I,j){return me.field(b,I,j)},function(b,_){return me.state(b)})}))}}},Io=function(u,m){var b=function(_,I){return(j=Co(u),{extract:function(Q,ue,de){var Pe=kr(de,function(Se,_e){return j.extract(Q.concat(["["+_e+"]"]),ue,Se)});return Si(Pe)},toString:function(){return"array("+j.toString()+")"},toDsl:function(){return be.arrOf(j)}}).extract(_,g,I);var j};return{extract:function(_,I,j){var Q=jt(j);return b(_,Q).bind(function(ue){var de=kr(ue,function(Pe){return Mn.field(Pe,Pe,Uo(),m)});return Ko(de).extract(_,I,j)})},toString:function(){return"setOf("+m.toString()+")"},toDsl:function(){return be.setOf(u,m)}}},Ai=l(Co(no.value)),Hi=Mn.state,yi=Mn.field,Bi=function(u,m,b,_,I){return go(_,I).fold(function(){return j=_,Q=I,Ut(u,function(){return'The chosen schema: "'+Q+'" did not exist in branches: '+Et(j)});var j,Q},function(j){return Ko(j).extract(u.concat(["branch: "+I]),m,b)})},tu=function(u,m){return{extract:function(b,_,I){return go(I,u).fold(function(){return j=u,Ut(b,function(){return'Choice schema did not contain choice key: "'+j+'"'});var j},function(j){return Bi(b,_,I,m,j)})},toString:function(){return"chooseOn("+u+"). Possible values: "+jt(m)},toDsl:function(){return be.choiceOf(u,m)}}},tc=Co(no.value),Cs=function(u,m,b,_){return m.extract([u],b,_).fold(function(I){return no.error({input:_,errors:I})},no.value)},nu=function(u,m,b){return Cs(u,m,l,b)},Ol=function(u){return u.fold(function(m){throw new Error(nc(m))},g)},va=function(u,m,b){return Ol(Cs(u,m,g,b))},Us=function(u,m,b){return Ol(nu(u,m,b))},nc=function(u){return`Errors: 
`+(m=u.errors,b=10<m.length?m.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):m,kr(b,function(_){return"Failed path: ("+_.path.join(" > ")+`)
`+_.getErrorInfo()}))+`

Input object: `+Et(u.input);var m,b},us=function(u,m){return tu(u,m)},ya=l(tc),Cf=(se=Ce,re="function",Co(function(u){var m=typeof u;return se(u)?no.value(u):no.error("Expected type: "+re+" but got: "+m)})),Xn=function(u){return yi(u,u,Uo(),Ai())},Du=function(u,m){return yi(u,u,Uo(),m)},Ku=function(u){return Du(u,Cf)},Xu=function(u,m){return yi(u,u,Uo(),Ko(m))},bi=function(u){return yi(u,u,ra(),Ai())},Pl=function(u,m){return yi(u,u,ra(),Ko(m))},sl=function(u,m){return yi(u,u,ra(),So(m))},kn=function(u,m){return yi(u,u,mi(m),Ai())},ru=function(u,m,b){return yi(u,u,mi(m),b)},$t=function(u,m){return Hi(u,m)},Gu=function(u){if(!ne(u,"can")&&!ne(u,"abort")&&!ne(u,"run"))throw new Error("EventHandler defined by: "+Qe(u,null,2)+" does not have can, abort, or run!");return va("Extracting event.handler",So([kn("can",l(!0)),kn("abort",l(!1)),kn("run",r)]),u)},yu=function(u){var m,b,_,I,j=(m=u,b=function(ue){return ue.can},function(){for(var ue=[],de=0;de<arguments.length;de++)ue[de]=arguments[de];return Bn(m,function(Pe,Se){return Pe&&b(Se).apply(void 0,ue)},!0)}),Q=(_=u,I=function(ue){return ue.abort},function(){for(var ue=[],de=0;de<arguments.length;de++)ue[de]=arguments[de];return Bn(_,function(Pe,Se){return Pe||I(Se).apply(void 0,ue)},!1)});return Gu({can:j,abort:Q,run:function(){for(var ue=[],de=0;de<arguments.length;de++)ue[de]=arguments[de];sn(u,function(Pe){Pe.run.apply(void 0,ue)})}})},Ti=function(u){return Ei(u)},la=function(u,m){return{key:u,value:Gu({abort:m})}},Lo=function(u,m){return{key:u,value:Gu({run:m})}},bu=function(u,m,b){return{key:u,value:Gu({run:function(_){m.apply(void 0,[_].concat(b))}})}},ba=function(u){return function(m){return{key:u,value:Gu({run:function(b,_){var I;I=_,Dt(b.element(),I.event().target())&&m(b,_)}})}}},Ss=function(u,m,b){var _,I,j=m.partUids()[b];return I=j,Lo(_=u,function(Q,ue){Q.getSystem().getByUid(I).each(function(de){var Pe,Se,_e,Ue;Se=(Pe=de).element(),_e=_,Ue=ue,Pe.getSystem().triggerEvent(_e,Se,Ue.event())})})},Pc=function(u){return Lo(u,function(m,b){b.cut()})},Au=ba(Ui()),Sf=ba(ma()),Dc=ba(ci()),ca=(ee=Cn(),function(u){return Lo(ee,u)}),ou=function(u){return kr(u,function(m){return I=b="/*",j=(_=m).length-b.length,I!==""&&(_.length<I.length||_.substr(j,j+I.length)!==I)?m:m.substring(0,m.length-2);var b,_,I,j})},Mi=function(u,m){var b=u.toString(),_=b.indexOf(")")+1,I=b.indexOf("("),j=b.substring(I+1,_-1).split(/,\s*/);return u.toFunctionAnnotation=function(){return{name:m,parameters:ou(j)}},u},Ju=fo(["tag"],["classes","attributes","styles","value","innerHtml","domChildren","defChildren"]),iu=function(u){return{tag:u.tag(),classes:u.classes().getOr([]),attributes:u.attributes().getOr({}),styles:u.styles().getOr({}),value:u.value().getOr("<none>"),innerHtml:u.innerHtml().getOr("<none>"),defChildren:u.defChildren().fold(function(){return"<none>"},function(m){return Qe(m,null,2)}),domChildren:u.domChildren().fold(function(){return"<none>"},function(m){return m.length===0?"0 children, but still specified":String(m.length)})}},Pa=fo([],["classes","attributes","styles","value","innerHtml","defChildren","domChildren"]),ks=function(u,m,b){return m.fold(function(){return b.fold(function(){return{}},function(_){return zo(u,_)})},function(_){return b.fold(function(){return zo(u,_)},function(I){return zo(u,I)})})},rc=function(u,m,b){return Dc(function(_,I){b(_,u,m)})},oc=function(u,m,b,_,I,j){var Q,ue,de=u,Pe=Pl(m,[(Q="config",ue=u,yi(Q,Q,ra(),ue))]);return Es(de,Pe,m,b,_,I,j)},Ac=function(u,m,b){var _,I,j,Q,ue,de;return _=function(Pe){for(var Se=[],_e=1;_e<arguments.length;_e++)Se[_e-1]=arguments[_e];var Ue=[Pe].concat(Se);return Pe.config({name:l(u)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+u+". Using API: "+b)},function(wt){var ct=Array.prototype.slice.call(Ue,1);return m.apply(void 0,[Pe,wt.config,wt.state].concat(ct))})},I=b,j=m.toString(),Q=j.indexOf(")")+1,ue=j.indexOf("("),de=j.substring(ue+1,Q-1).split(/,\s*/),_.toFunctionAnnotation=function(){return{name:I,parameters:ou(de.slice(0,1).concat(de.slice(3)))}},_},Mu=function(u){return{key:u,value:void 0}},Es=function(u,m,b,_,I,j,Q){var ue=function(_e){return ne(_e,b)?_e[b]():fe.none()},de=Vt(I,function(_e,Ue){return Ac(b,_e,Ue)}),Pe=Vt(j,function(_e,Ue){return Mi(_e,Ue)}),Se=Le(Pe,de,{revoke:x(Mu,b),config:function(_e){var Ue=Us(b+"-config",u,_e);return{key:b,value:{config:Ue,me:Se,configAsRaw:Un(function(){return va(b+"-config",u,_e)}),initialConfig:_e,state:Q}}},schema:function(){return m},exhibit:function(_e,Ue){return ue(_e).bind(function(wt){return go(_,"exhibit").map(function(ct){return ct(Ue,wt.config,wt.state)})}).getOr(Pa({}))},name:function(){return b},handlers:function(_e){return ue(_e).bind(function(Ue){return go(_,"events").map(function(wt){return wt(Ue.config,Ue.state)})}).getOr({})}});return Se},Mc=function(u,m){return kf(u,m,{validate:Ce,label:"function"})},kf=function(u,m,b){if(m.length===0)throw new Error("You must specify at least one required field.");return Er("required",m),ei(m),function(_){var I=jt(_);Jt(m,function(Q){return Qr(I,Q)})||Hr(m,I),u(m,I);var j=qo(m,function(Q){return!b.validate(_[Q],Q)});return 0<j.length&&function(Q,ue){throw new Error("All values need to be of type: "+ue+". Keys ("+xr(Q).join(", ")+") were not.")}(j,b.label),_}},Ic=function(u,m){var b=qo(m,function(_){return!Qr(u,_)});0<b.length&&Yr(b)},ll=r,ic=function(u){return Mc(Ic,u)},Da={init:function(){return au({readState:function(){return"No State required"}})}},au=function(u){return Mc(ll,["readState"])(u),u},Xr=function(u){return Ei(u)},wu=So([Xn("fields"),Xn("name"),kn("active",{}),kn("apis",{}),kn("state",Da),kn("extra",{})]),ia=function(u){var m,b,_,I,j,Q,ue,de,Pe=va("Creating behaviour: "+u.name,wu,u);return m=Pe.fields,b=Pe.name,_=Pe.active,I=Pe.apis,j=Pe.extra,Q=Pe.state,ue=So(m),de=Pl(b,[sl("config",m)]),Es(ue,de,b,_,I,j,Q)},Ef=So([Xn("branchKey"),Xn("branches"),Xn("name"),kn("active",{}),kn("apis",{}),kn("state",Da),kn("extra",{})]),Ts=l(void 0),$s=function(u,m,b){if(!(Ae(b)||Ie(b)||ut(b)))throw t.console.error("Invalid call to Attr.set. Key ",m,":: Value ",b,":: Element ",u),new Error("Attribute value was not simple");u.setAttribute(m,b+"")},jo=function(u,m,b){$s(u.dom(),m,b)},Vs=function(u,m){var b=u.dom();At(m,function(_,I){$s(b,I,_)})},hi=function(u,m){var b=u.dom().getAttribute(m);return b===null?void 0:b},Xa=function(u,m){var b=u.dom();return!(!b||!b.hasAttribute)&&b.hasAttribute(m)},fa=function(u,m){u.dom().removeAttribute(m)},_s=function(u,m){var b=hi(u,m);return b===void 0||b===""?[]:b.split(" ")},qs=function(u){return u.dom().classList!==void 0},Ji=function(u){return _s(u,"class")},ac=function(u,m){return I=m,j=_s(b=u,_="class").concat([I]),jo(b,_,j.join(" ")),!0;var b,_,I,j},uc=function(u,m){return I=m,0<(j=qo(_s(b=u,_="class"),function(Q){return Q!==I})).length?jo(b,_,j.join(" ")):fa(b,_),!1;var b,_,I,j},Ii=function(u,m){qs(u)?u.dom().classList.add(m):ac(u,m)},qi=function(u,m){var b;qs(u)?u.dom().classList.remove(m):uc(u,m),(qs(b=u)?b.dom().classList:Ji(b)).length===0&&fa(b,"class")},cl=function(u,m){return qs(u)?u.dom().classList.toggle(m):(_=m,Qr(Ji(b=u),_)?uc(b,_):ac(b,_));var b,_},Qu=function(u,m){return qs(u)&&u.dom().classList.contains(m)},Bc=function(u,m,b){qi(u,b),Ii(u,m)},Zu=Object.freeze({toAlpha:function(u,m,b){Bc(u.element(),m.alpha(),m.omega())},toOmega:function(u,m,b){Bc(u.element(),m.omega(),m.alpha())},isAlpha:function(u,m,b){return Qu(u.element(),m.alpha())},isOmega:function(u,m,b){return Qu(u.element(),m.omega())},clear:function(u,m,b){qi(u.element(),m.alpha()),qi(u.element(),m.omega())}}),Ns=[Xn("alpha"),Xn("omega")],ss=ia({fields:Ns,name:"swapping",apis:Zu}),wi=function(u){var m=u,b=function(){return m};return{get:b,set:function(_){m=_},clone:function(){return wi(b())}}};function fl(u,m,b,_,I){return u(b,_)?fe.some(b):Ce(I)&&I(b)?fe.none():m(b,_,I)}var xu=function(u,m,b){for(var _=u.dom(),I=Ce(b)?b:l(!1);_.parentNode;){_=_.parentNode;var j=oe.fromDom(_);if(m(j))return fe.some(j);if(I(j))break}return fe.none()},Ys=function(u,m,b){return fl(function(_,I){return I(_)},xu,u,m,b)},Rs=function(u){u.dom().focus()},Ri=function(u){u.dom().blur()},uu=function(u){var m=u!==void 0?u.dom():t.document;return fe.from(m.activeElement).map(oe.fromDom)},Cu=function(u){return uu(cn(u)).filter(function(m){return u.dom().contains(m.dom())})},Lc=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Iu=tinymce.util.Tools.resolve("tinymce.ThemeManager"),Bu=function(u){var m=t.document.createElement("a");m.target="_blank",m.href=u.href,m.rel="noreferrer noopener";var b=t.document.createEvent("MouseEvents");b.initMouseEvent("click",!0,!0,t.window,0,0,0,0,0,!1,!1,!1,!1,0,null),t.document.body.appendChild(m),m.dispatchEvent(b),t.document.body.removeChild(m)},Aa={formatChanged:l("formatChanged"),orientationChanged:l("orientationChanged"),dropupDismissed:l("dropupDismissed")},f=function(u){return u.dom().innerHTML},v=function(u,m){var b,_,I=cn(u).dom(),j=oe.fromDom(I.createDocumentFragment()),Q=(b=m,(_=(I||t.document).createElement("div")).innerHTML=b,$n(oe.fromDom(_)));_r(j,Q),Sr(u),yr(u,j)},T=function(u){return m=u,b=!1,oe.fromDom(m.dom().cloneNode(b));var m,b},A=function(u){var m,b,_,I=T(u);return m=I,b=oe.fromTag("div"),_=oe.fromDom(m.dom().cloneNode(!0)),yr(b,_),f(b)},W=function(u){return A(u)},V=Object.freeze({events:function(u){return Ti([Lo(ir(),function(m,b){var _,I,j=u.channels(),Q=jt(j),ue=(_=Q,(I=b).universal()?_:qo(_,function(de){return Qr(I.channels(),de)}));sn(ue,function(de){var Pe=j[de](),Se=Pe.schema(),_e=Us("channel["+de+`] data
Receiver: `+W(m.element()),Se,b.data());Pe.onReceive()(m,_e)})})])}}),pe=function(u){for(var m=[],b=function(I){m.push(I)},_=0;_<u.length;_++)u[_].each(b);return m},ke="unknown",Oe=[],ot=["alloy/data/Fields","alloy/debugging/Debugging"],It={logEventCut:r,logEventStopped:r,logNoParent:r,logEventNoHandlers:r,logEventResponse:r,write:r},et=function(u,m,b){var _,I=Oe==="*"||Qr(Oe,u)?(_=[],{logEventCut:function(Q,ue,de){_.push({outcome:"cut",target:ue,purpose:de})},logEventStopped:function(Q,ue,de){_.push({outcome:"stopped",target:ue,purpose:de})},logNoParent:function(Q,ue,de){_.push({outcome:"no-parent",target:ue,purpose:de})},logEventNoHandlers:function(Q,ue){_.push({outcome:"no-handlers-left",target:ue})},logEventResponse:function(Q,ue,de){_.push({outcome:"response",purpose:de,target:ue})},write:function(){Qr(["mousemove","mouseover","mouseout",ci()],u)||t.console.log(u,{event:u,target:m.dom(),sequence:kr(_,function(Q){return Qr(["cut","stopped","response"],Q.outcome)?"{"+Q.purpose+"} "+Q.outcome+" at ("+W(Q.target)+")":Q.outcome})})}}):It,j=b(I);return I.write(),j},Tt=l([Xn("menu"),Xn("selectedMenu")]),nn=l([Xn("item"),Xn("selectedItem")]),an=(l(So(nn().concat(Tt()))),l(So(nn()))),Gr=Xu("initSize",[Xn("numColumns"),Xn("numRows")]),Wr=function(u,m,b){var _;return function(){var I=new Error;if(I.stack!==void 0){var j=I.stack.split(`
`);Zo(j,function(Q){return 0<Q.indexOf("alloy")&&!function(ue,de){for(var Pe=0,Se=ue.length;Pe<Se;Pe++)if(de(ue[Pe],Pe))return!0;return!1}(ot,function(ue){return-1<Q.indexOf(ue)})}).getOr(ke)}}(),yi(m,m,b,(_=function(I){return no.value(function(){for(var j=[],Q=0;Q<arguments.length;Q++)j[Q]=arguments[Q];return I.apply(void 0,j)})},Co(function(I){return _(I)})))},to=function(u){return Wr(0,u,mi(r))},vo=function(u){return Wr(0,u,mi(fe.none))},Ln=function(u){return Wr(0,u,Uo())},je=function(u){return Wr(0,u,Uo())},Br=function(u,m){return $t(u,l(m))},Bo=function(u){return $t(u,g)},li=l(Gr),wa=[Du("channels",Io(no.value,So([Ln("onReceive"),kn("schema",ya())])))],xa=ia({fields:wa,name:"receiving",active:V}),Oi=function(u,m){var b=Sa(u,m),_=m.aria();_.update()(u,_,b)},ha=function(u,m,b){cl(u.element(),m.toggleClass()),Oi(u,m)},Ca=function(u,m,b){Ii(u.element(),m.toggleClass()),Oi(u,m)},Qi=function(u,m,b){qi(u.element(),m.toggleClass()),Oi(u,m)},Sa=function(u,m){return Qu(u.element(),m.toggleClass())},es=function(u,m,b){(m.selected()?Ca:Qi)(u,m)},ts=Object.freeze({onLoad:es,toggle:ha,isOn:Sa,on:Ca,off:Qi}),Ga=Object.freeze({exhibit:function(u,m,b){return Pa({})},events:function(u,m){var b,_,I,j=(b=u,_=m,I=ha,ca(function(ue){I(ue,b,_)})),Q=rc(u,m,es);return Ti(zt([u.toggleOnExecute()?[j]:[],[Q]]))}}),Na=function(u,m,b){jo(u.element(),"aria-expanded",b)},ro=[kn("selected",!1),Xn("toggleClass"),kn("toggleOnExecute",!0),ru("aria",{mode:"none"},us("mode",{pressed:[kn("syncWithExpanded",!1),Br("update",function(u,m,b){jo(u.element(),"aria-pressed",b),m.syncWithExpanded()&&Na(u,m,b)})],checked:[Br("update",function(u,m,b){jo(u.element(),"aria-checked",b)})],expanded:[Br("update",Na)],selected:[Br("update",function(u,m,b){jo(u.element(),"aria-selected",b)})],none:[Br("update",r)]}))],ni=ia({fields:ro,name:"toggling",active:Ga,apis:ts}),Lu=function(u,m){return xa.config({channels:zo(Aa.formatChanged(),{onReceive:function(b,_){_.command===u&&m(b,_.state)}})})},Zi=function(u){return xa.config({channels:zo(Aa.orientationChanged(),{onReceive:u})})},c=function(u,m){return{key:u,value:{onReceive:m}}},p="tinymce-mobile",S={resolve:function(u){return p+"-"+u},prefix:l(p)},P=function(u,m){m.ignore()||(Rs(u.element()),m.onFocus()(u))},H=Object.freeze({focus:P,blur:function(u,m){m.ignore()||Ri(u.element())},isFocused:function(u){return m=u.element(),b=cn(m).dom(),m.dom()===b.activeElement;var m,b}}),$=Object.freeze({exhibit:function(u,m){return m.ignore()?Pa({}):Pa({attributes:{tabindex:"-1"}})},events:function(u){return Ti([Lo(tn(),function(m,b){P(m,u),b.stop()})])}}),ce=[to("onFocus"),kn("ignore",!1)],he=ia({fields:ce,name:"focusing",active:$,apis:H}),We=function(u){return u.style!==void 0&&Ce(u.style.getPropertyValue)},lt=function(u,m,b){if(!Ae(b))throw t.console.error("Invalid call to CSS.set. Property ",m,":: Value ",b,":: Element ",u),new Error("CSS value must be a string: "+b);We(u)&&u.style.setProperty(m,b)},rt=function(u,m,b){var _=u.dom();lt(_,m,b)},ht=function(u,m){var b=u.dom();At(m,function(_,I){lt(b,I,_)})},Lt=function(u,m){var b=u.dom(),_=t.window.getComputedStyle(b).getPropertyValue(m),I=_!==""||gn(u)?_:on(b,m);return I===null?void 0:I},on=function(u,m){return We(u)?u.style.getPropertyValue(m):""},rn=function(u,m){var b=u.dom(),_=on(b,m);return fe.from(_).filter(function(I){return 0<I.length})},zr=function(u,m){var b,_,I=u.dom();_=m,We(b=I)&&b.style.removeProperty(_),Xa(u,"style")&&hi(u,"style").replace(/^\s+|\s+$/g,"")===""&&fa(u,"style")},jr=function(u){return u.dom().offsetWidth};function Po(u,m){var b=function(I){var j=m(I);if(j<=0||j===null){var Q=Lt(I,u);return parseFloat(Q)||0}return j},_=function(I,j){return Bn(j,function(Q,ue){var de=Lt(I,ue),Pe=de===void 0?0:parseInt(de,10);return isNaN(Pe)?Q:Q+Pe},0)};return{set:function(I,j){if(!ut(j)&&!j.match(/^[0-9]+$/))throw new Error(u+".set accepts only positive integer values. Value was "+j);var Q=I.dom();We(Q)&&(Q.style[u]=j+"px")},get:b,getOuter:b,aggregate:_,max:function(I,j,Q){var ue=_(I,Q);return ue<j?j-ue:0}}}var Do,vn,Dr=Po("height",function(u){var m=u.dom();return gn(u)?m.getBoundingClientRect().height:m.offsetHeight}),ho=function(u){return Dr.get(u)},ri=function(u,m,b){return qo(function(_,I){for(var j=Ce(I)?I:mt,Q=_.dom(),ue=[];Q.parentNode!==null&&Q.parentNode!==void 0;){var de=Q.parentNode,Pe=oe.fromDom(de);if(ue.push(Pe),j(Pe)===!0)break;Q=de}return ue}(u,b),m)},xi=function(u,m){return qo(sr(b=u).map($n).map(function(_){return qo(_,function(I){return!Dt(b,I)})}).getOr([]),m);var b},Ci=function(u,m){return bt(m,u)},Fu=function(u){return Ot(u)},za=function(u,m,b){return xu(u,function(_){return Re(_,m)},b)},pi=function(u,m){return Ot(m,u)},ea=function(u,m,b){return fl(Re,za,u,m,b)},ja=function(u,m,b){var _=kt(u.slice(0,m)),I=kt(u.slice(m+1));return Zo(_.concat(I),b)},Ja=function(u,m,b){var _=kt(u.slice(0,m));return Zo(_,b)},Yi=function(u,m,b){var _=u.slice(0,m),I=u.slice(m+1);return Zo(I.concat(_),b)},Hu=function(u,m,b){var _=u.slice(m+1);return Zo(_,b)},ko=function(u){return function(m){var b=m.raw();return Qr(u,b.which)}},oi=function(u){return function(m){return Jt(u,function(b){return b(m)})}},Su=function(u){return u.raw().shiftKey===!0},sc=function(u){return u.raw().ctrlKey===!0},aa=Me(Su),Fo=function(u,m){return{matches:u,classification:m}},ls=function(u,m,b,_){var I=u+m;return _<I?b:I<b?_:I},lc=function(u,m,b){return u<=m?m:b<=u?b:u},cc=function(u,m,b){var _=Ci(u.element(),"."+m.highlightClass());sn(_,function(I){qi(I,m.highlightClass()),u.getSystem().getByDom(I).each(function(j){m.onDehighlight()(u,j)})})},fc=function(u,m,b,_){var I=jd(u,m,b,_);cc(u,m),Ii(_.element(),m.highlightClass()),I||m.onHighlight()(u,_)},jd=function(u,m,b,_){return Qu(_.element(),m.highlightClass())},Wd=function(u,m,b,_){var I=Ci(u.element(),"."+m.itemClass());return fe.from(I[_]).fold(function(){return no.error("No element found with index "+_)},u.getSystem().getByDom)},Ud=function(u,m,b){return pi(u.element(),"."+m.itemClass()).bind(function(_){return u.getSystem().getByDom(_).toOption()})},cs=function(u,m,b){var _=Ci(u.element(),"."+m.itemClass());return(0<_.length?fe.some(_[_.length-1]):fe.none()).bind(function(I){return u.getSystem().getByDom(I).toOption()})},uh=function(u,m,b,_){var I=Ci(u.element(),"."+m.itemClass());return Xe(I,function(j){return Qu(j,m.highlightClass())}).bind(function(j){var Q=ls(j,_,0,I.length-1);return u.getSystem().getByDom(I[Q]).toOption()})},zu=Object.freeze({dehighlightAll:cc,dehighlight:function(u,m,b,_){var I=jd(u,m,b,_);qi(_.element(),m.highlightClass()),I&&m.onDehighlight()(u,_)},highlight:fc,highlightFirst:function(u,m,b){Ud(u,m).each(function(_){fc(u,m,b,_)})},highlightLast:function(u,m,b){cs(u,m).each(function(_){fc(u,m,b,_)})},highlightAt:function(u,m,b,_){Wd(u,m,b,_).fold(function(I){throw new Error(I)},function(I){fc(u,m,b,I)})},highlightBy:function(u,m,b,_){var I=Ci(u.element(),"."+m.itemClass()),j=pe(kr(I,function(Q){return u.getSystem().getByDom(Q).toOption()}));Zo(j,_).each(function(Q){fc(u,m,b,Q)})},isHighlighted:jd,getHighlighted:function(u,m,b){return pi(u.element(),"."+m.highlightClass()).bind(function(_){return u.getSystem().getByDom(_).toOption()})},getFirst:Ud,getLast:cs,getPrevious:function(u,m,b){return uh(u,m,0,-1)},getNext:function(u,m,b){return uh(u,m,0,1)}}),Tf=[Xn("highlightClass"),Xn("itemClass"),to("onHighlight"),to("onDehighlight")],ka=ia({fields:Tf,name:"highlighting",apis:zu}),Fc=function(){return{get:function(u){return Cu(u.element())},set:function(u,m){u.getSystem().triggerFocus(m,u.element())}}},Ks=function(u,m,b,_,I,j){var Q=function(de,Pe,Se,_e){var Ue,wt,ct=b(de,Pe,Se,_e);return(Ue=ct,wt=Pe.event(),Zo(Ue,function(at){return at.matches(wt)}).map(function(at){return at.classification})).bind(function(at){return at(de,Pe,Se,_e)})},ue={schema:function(){return u.concat([kn("focusManager",Fc()),Br("handler",ue),Br("state",m)])},processKey:Q,toEvents:function(de,Pe){var Se=_(de,Pe),_e=Ti(j.map(function(Ue){return Lo(tn(),function(wt,ct){Ue(wt,de,Pe,ct),ct.stop()})}).toArray().concat([Lo(Te(),function(Ue,wt){Q(Ue,wt,de,Pe).each(function(ct){wt.stop()})})]));return Le(Se,_e)},toApis:I};return ue},$d=function(u){var m=[bi("onEscape"),bi("onEnter"),kn("selector",'[data-alloy-tabstop="true"]'),kn("firstTabstop",0),kn("useTabstopAt",l(!0)),bi("visibilitySelector")].concat([u]),b=function(de,Pe){var Se=de.visibilitySelector().bind(function(_e){return ea(Pe,_e)}).getOr(Pe);return 0<ho(Se)},_=function(de,Pe,Se,_e,Ue){return Ue(Pe,Se,function(wt){return b(ct=_e,at=wt)&&ct.useTabstopAt()(at);var ct,at}).fold(function(){return _e.cyclic()?fe.some(!0):fe.none()},function(wt){return _e.focusManager().set(de,wt),fe.some(!0)})},I=function(de,Pe,Se,_e){var Ue,wt,ct=Ci(de.element(),Se.selector());return(Ue=de,wt=Se,wt.focusManager().get(Ue).bind(function(at){return ea(at,wt.selector())})).bind(function(at){return Xe(ct,x(Dt,at)).bind(function(ln){return _(de,ct,ln,Se,_e)})})},j=l([Fo(oi([Su,ko([9])]),function(de,Pe,Se,_e){var Ue=Se.cyclic()?ja:Ja;return I(de,0,Se,Ue)}),Fo(ko([9]),function(de,Pe,Se,_e){var Ue=Se.cyclic()?Yi:Hu;return I(de,0,Se,Ue)}),Fo(ko([27]),function(de,Pe,Se,_e){return Se.onEscape().bind(function(Ue){return Ue(de,Pe)})}),Fo(oi([aa,ko([13])]),function(de,Pe,Se,_e){return Se.onEnter().bind(function(Ue){return Ue(de,Pe)})})]),Q=l({}),ue=l({});return Ks(m,Da.init,j,Q,ue,fe.some(function(de,Pe){var Se,_e,Ue,wt;(Se=de,_e=Pe,Ue=Ci(Se.element(),_e.selector()),wt=qo(Ue,function(ct){return b(_e,ct)}),fe.from(wt[_e.firstTabstop()])).each(function(ct){Pe.focusManager().set(de,ct)})}))},sh=$d($t("cyclic",l(!1))),rd=$d($t("cyclic",l(!0))),dc=function(u){return Zt(u)==="input"&&hi(u,"type")!=="radio"||Zt(u)==="textarea"},dl=function(u,m,b){return dc(b)&&ko([32])(m.event())?fe.none():(pu(u,b,Cn()),fe.some(!0))},Gv=[kn("execute",dl),kn("useSpace",!1),kn("useEnter",!0),kn("useControlEnter",!1),kn("useDown",!1)],jp=function(u,m,b){return b.execute()(u,m,u.element())},Vd=l({}),mc=l({}),Jv=Ks(Gv,Da.init,function(u,m,b,_){var I=b.useSpace()&&!dc(u.element())?[32]:[],j=b.useEnter()?[13]:[],Q=b.useDown()?[40]:[],ue=I.concat(j).concat(Q);return[Fo(ko(ue),jp)].concat(b.useControlEnter()?[Fo(oi([sc,ko([13])]),jp)]:[])},Vd,mc,fe.none()),su=function(u){var m=wi(fe.none());return au({readState:l({}),setGridSize:function(b,_){m.set(fe.some({numRows:l(b),numColumns:l(_)}))},getNumRows:function(){return m.get().map(function(b){return b.numRows()})},getNumColumns:function(){return m.get().map(function(b){return b.numColumns()})}})},Dl=Object.freeze({flatgrid:su,init:function(u){return u.state()(u)}}),qd=function(u,m){return function(b){return Wp(b)==="rtl"?m:u}},Wp=function(u){return Lt(u,"direction")==="rtl"?"rtl":"ltr"},Yd=function(u){return function(m,b,_,I){var j=u(m.element());return Up(j,m,b,_,I)}},Kd=function(u,m){var b=qd(u,m);return Yd(b)},Qa=function(u,m){var b=qd(m,u);return Yd(b)},ml=function(u){return function(m,b,_,I){return Up(u,m,b,_,I)}},Up=function(u,m,b,_,I){return _.focusManager().get(m).bind(function(j){return u(m.element(),j,_,I)}).map(function(j){return _.focusManager().set(m,j),!0})},Al=ml,Ml=ml,Il=ml,fs=function(u){var m,b=u.dom();return!((m=b).offsetWidth<=0&&m.offsetHeight<=0)},$p=fo(["index","candidates"],[]),od=function(u,m,b){return Xs(u,m,b)},Xs=function(u,m,b,_){var I,j=x(Dt,m),Q=Ci(u,b),ue=qo(Q,fs);return Xe(I=ue,j).map(function(de){return $p({index:de,candidates:I})})},_f=function(u,m){return Xe(u,function(b){return Dt(m,b)})},Hc=function(u,m,b,_){return _(Math.floor(m/b),m%b).bind(function(I){var j=I.row()*b+I.column();return 0<=j&&j<u.length?fe.some(u[j]):fe.none()})},Za=function(u,m,b,_,I){return Hc(u,m,_,function(j,Q){var ue=j===b-1?u.length-j*_:_,de=ls(Q,I,0,ue-1);return fe.some({row:l(j),column:l(de)})})},Nf=function(u,m,b,_,I){return Hc(u,m,_,function(j,Q){var ue=ls(j,I,0,b-1),de=ue===b-1?u.length-ue*_:_,Pe=lc(Q,0,de-1);return fe.some({row:l(ue),column:l(Pe)})})},Xd=[Xn("selector"),kn("execute",dl),vo("onEscape"),kn("captureTab",!1),li()],id=function(u){return function(m,b,_,I){return od(m,b,_.selector()).bind(function(j){return u(j.candidates(),j.index(),I.getNumRows().getOr(_.initSize().numRows()),I.getNumColumns().getOr(_.initSize().numColumns()))})}},Bl=function(u,m,b,_){return b.captureTab()?fe.some(!0):fe.none()},Os=id(function(u,m,b,_){return Za(u,m,b,_,-1)}),hc=id(function(u,m,b,_){return Za(u,m,b,_,1)}),ad=id(function(u,m,b,_){return Nf(u,m,b,_,-1)}),Vp=id(function(u,m,b,_){return Nf(u,m,b,_,1)}),qp=l([Fo(ko([37]),Kd(Os,hc)),Fo(ko([39]),Qa(Os,hc)),Fo(ko([38]),Al(ad)),Fo(ko([40]),Ml(Vp)),Fo(oi([Su,ko([9])]),Bl),Fo(oi([aa,ko([9])]),Bl),Fo(ko([27]),function(u,m,b,_){return b.onEscape()(u,m)}),Fo(ko([32].concat([13])),function(u,m,b,_){return(I=u,j=b,j.focusManager().get(I).bind(function(Q){return ea(Q,j.selector())})).bind(function(Q){return b.execute()(u,m,Q)});var I,j})]),Ma=l({}),ud=Ks(Xd,su,qp,Ma,{},fe.some(function(u,m,b){pi(u.element(),m.selector()).each(function(_){m.focusManager().set(u,_)})})),Rf=function(u,m,b,_){return od(u,b,m).bind(function(I){var j=I.index(),Q=I.candidates(),ue=ls(j,_,0,Q.length-1);return fe.from(Q[ue])})},Of=[Xn("selector"),kn("getInitial",fe.none),kn("execute",dl),kn("executeOnMove",!1),kn("allowVertical",!0)],Gs=function(u,m,b){return(_=u,I=b,I.focusManager().get(_).bind(function(j){return ea(j,I.selector())})).bind(function(j){return b.execute()(u,m,j)});var _,I},lh=function(u,m,b){return Rf(u,b.selector(),m,-1)},ch=function(u,m,b){return Rf(u,b.selector(),m,1)},zc=function(u){return function(m,b,_){return u(m,b,_).bind(function(){return _.executeOnMove()?Gs(m,b,_):fe.some(!0)})}},pc=l({}),Gd=l({}),sd=Ks(Of,Da.init,function(u,m,b,_){var I=[37].concat(b.allowVertical()?[38]:[]),j=[39].concat(b.allowVertical()?[40]:[]);return[Fo(ko(I),zc(Kd(lh,ch))),Fo(ko(j),zc(Qa(lh,ch))),Fo(ko([13]),Gs),Fo(ko([32]),Gs)]},pc,Gd,fe.some(function(u,m){m.getInitial()(u).or(pi(u.element(),m.selector())).each(function(b){m.focusManager().set(u,b)})})),gc=fo(["rowIndex","columnIndex","cell"],[]),ld=function(u,m,b){return fe.from(u[m]).bind(function(_){return fe.from(_[b]).map(function(I){return gc({rowIndex:m,columnIndex:b,cell:I})})})},Jd=function(u,m,b,_){var I=u[m].length,j=ls(b,_,0,I-1);return ld(u,m,j)},ku=function(u,m,b,_){var I=ls(b,_,0,u.length-1),j=u[I].length,Q=lc(m,0,j-1);return ld(u,I,Q)},Qd=function(u,m,b,_){var I=u[m].length,j=lc(b+_,0,I-1);return ld(u,m,j)},fh=function(u,m,b,_){var I=lc(b+_,0,u.length-1),j=u[I].length,Q=lc(m,0,j-1);return ld(u,I,Q)},Yp=[Xu("selectors",[Xn("row"),Xn("cell")]),kn("cycles",!0),kn("previousSelector",fe.none),kn("execute",dl)],Pf=function(u,m){return function(b,_,I){var j=I.cycles()?u:m;return ea(_,I.selectors().row()).bind(function(Q){var ue=Ci(Q,I.selectors().cell());return _f(ue,_).bind(function(de){var Pe=Ci(b,I.selectors().row());return _f(Pe,Q).bind(function(Se){var _e,Ue=(_e=I,kr(Pe,function(wt){return Ci(wt,_e.selectors().cell())}));return j(Ue,Se,de).map(function(wt){return wt.cell()})})})})}},dh=Pf(function(u,m,b){return Jd(u,m,b,-1)},function(u,m,b){return Qd(u,m,b,-1)}),mh=Pf(function(u,m,b){return Jd(u,m,b,1)},function(u,m,b){return Qd(u,m,b,1)}),Qv=Pf(function(u,m,b){return ku(u,b,m,-1)},function(u,m,b){return fh(u,b,m,-1)}),Ki=Pf(function(u,m,b){return ku(u,b,m,1)},function(u,m,b){return fh(u,b,m,1)}),hh=l([Fo(ko([37]),Kd(dh,mh)),Fo(ko([39]),Qa(dh,mh)),Fo(ko([38]),Al(Qv)),Fo(ko([40]),Ml(Ki)),Fo(ko([32].concat([13])),function(u,m,b){return Cu(u.element()).bind(function(_){return b.execute()(u,m,_)})})]),cd=l({}),fd=l({}),Kp=Ks(Yp,Da.init,hh,cd,fd,fe.some(function(u,m){m.previousSelector()(u).orThunk(function(){var b=m.selectors();return pi(u.element(),b.cell())}).each(function(b){m.focusManager().set(u,b)})})),dd=[Xn("selector"),kn("execute",dl),kn("moveOnTab",!1)],jc=function(u,m,b){return b.focusManager().get(u).bind(function(_){return b.execute()(u,m,_)})},Df=function(u,m,b){return Rf(u,b.selector(),m,-1)},Ia=function(u,m,b){return Rf(u,b.selector(),m,1)},Zd=l([Fo(ko([38]),Il(Df)),Fo(ko([40]),Il(Ia)),Fo(oi([Su,ko([9])]),function(u,m,b){return b.moveOnTab()?Il(Df)(u,m,b):fe.none()}),Fo(oi([aa,ko([9])]),function(u,m,b){return b.moveOnTab()?Il(Ia)(u,m,b):fe.none()}),Fo(ko([13]),jc),Fo(ko([32]),jc)]),Xp=l({}),Ll=l({}),Wc=Ks(dd,Da.init,Zd,Xp,Ll,fe.some(function(u,m){pi(u.element(),m.selector()).each(function(b){m.focusManager().set(u,b)})})),ph=[vo("onSpace"),vo("onEnter"),vo("onShiftEnter"),vo("onLeft"),vo("onRight"),vo("onTab"),vo("onShiftTab"),vo("onUp"),vo("onDown"),vo("onEscape"),bi("focusIn")],ta=Ks(ph,Da.init,function(u,m,b){return[Fo(ko([32]),b.onSpace()),Fo(oi([aa,ko([13])]),b.onEnter()),Fo(oi([Su,ko([13])]),b.onShiftEnter()),Fo(oi([Su,ko([9])]),b.onShiftTab()),Fo(oi([aa,ko([9])]),b.onTab()),Fo(ko([38]),b.onUp()),Fo(ko([40]),b.onDown()),Fo(ko([37]),b.onLeft()),Fo(ko([39]),b.onRight()),Fo(ko([32]),b.onSpace()),Fo(ko([27]),b.onEscape())]},function(){return{}},function(){return{}},fe.some(function(u,m){return m.focusIn().bind(function(b){return b(u,m)})})),Eu=sh.schema(),em=rd.schema(),Rn=sd.schema(),Ps=ud.schema(),gh=Kp.schema(),vh=Jv.schema(),yh=Wc.schema(),tm=ta.schema(),Ea=(vn=va("Creating behaviour: "+(Do={branchKey:"mode",branches:Object.freeze({acyclic:Eu,cyclic:em,flow:Rn,flatgrid:Ps,matrix:gh,execution:vh,menu:yh,special:tm}),name:"keying",active:{events:function(u,m){return u.handler().toEvents(u,m)}},apis:{focusIn:function(u){u.getSystem().triggerFocus(u.element(),u.element())},setGridSize:function(u,m,b,_,I){ne(b,"setGridSize")?b.setGridSize(_,I):t.console.error("Layout does not support setGridSize")}},state:Dl}).name,Ef,Do),oc(us(vn.branchKey,vn.branches),vn.name,vn.active,vn.apis,vn.extra,vn.state)),Ds=function(u,m){return b=u,_={},I=kr(m,function(j){return Q=j.name(),ue="Cannot configure "+j.name()+" for "+u,yi(Q,Q,ra(),Co(function(de){return no.error("The field: "+Q+" is forbidden. "+ue)}));var Q,ue}).concat([$t("dump",g)]),yi(b,b,mi(_),Ko(I));var b,_,I},Js=function(u){return u.dump()},ds="placeholder",As=Vo([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),bh=function(u,m,b,_){return b.uiType===ds?(j=b,Q=_,(I=u).exists(function(ue){return ue!==j.owner})?As.single(!0,l(j)):go(Q,j.name).fold(function(){throw new Error("Unknown placeholder component: "+j.name+`
Known: [`+jt(Q)+`]
Namespace: `+I.getOr("none")+`
Spec: `+Qe(j,null,2))},function(ue){return ue.replace()})):As.single(!1,l(b));var I,j,Q},md=function(u,m,b,_){return bh(u,0,b,_).fold(function(I,j){var Q=j(m,b.config,b.validated),ue=go(Q,"components").getOr([]),de=xt(ue,function(Pe){return md(u,m,Pe,_)});return[Le(Q,{components:de})]},function(I,j){return j(m,b.config,b.validated)})},Gp=function(u,m,b,_){var I,j,Q,ue=Vt(_,function(Pe,Se){return Ue=Pe,wt=!1,{name:l(_e=Se),required:function(){return Ue.fold(function(ct,at){return ct},function(ct,at){return ct})},used:function(){return wt},replace:function(){if(wt===!0)throw new Error("Trying to use the same placeholder more than once: "+_e);return wt=!0,Ue}};var _e,Ue,wt}),de=(I=u,j=m,Q=ue,xt(b,function(Pe){return md(I,j,Pe,Q)}));return At(ue,function(Pe){if(Pe.used()===!1&&Pe.required())throw new Error("Placeholder: "+Pe.name()+` was not found in components list
Namespace: `+u.getOr("none")+`
Components: `+Qe(m.components(),null,2))}),de},nm=As.single,Uc=As.multiple,wh=l(ds),Jp=0,hl=function(u){var m=new Date().getTime();return u+"_"+Math.floor(1e9*Math.random())+ ++Jp+String(m)},rm=Vo([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),om=kn("factory",{sketch:g}),vc=kn("schema",[]),im=Xn("name"),Qs=yi("pname","pname",_a(function(u){return"<alloy."+hl(u.name)+">"}),ya()),Fl=kn("defaults",l({})),xh=kn("overrides",l({})),Qp=Ko([om,vc,im,Qs,Fl,xh]),Zp=Ko([om,vc,im,Qs,Fl,xh]),eg=Ko([om,vc,im,Xn("unit"),Qs,Fl,xh]),tg=function(u){var m=function(b){return b.name()};return u.fold(m,m,m,m)},am=function(u,m){return function(b){var _=Us("Converting part type",m,b);return u(_)}},um=am(rm.required,Qp),ng=am(rm.optional,Zp),sm=am(rm.group,eg),$c=l("entirety"),Af=function(u,m,b,_){var I=b;return Le(m.defaults()(u,b,_),b,{uid:u.partUids()[m.name()]},m.overrides()(u,b,_),{"debug.sketcher":zo("part-"+m.name(),I)})},Vc=function(u,m){var b={};return sn(m,function(_){var I;(I=_,I.fold(fe.some,fe.none,fe.some,fe.some)).each(function(j){var Q=Ch(u,j.pname());b[j.name()]=function(ue){var de=va("Part: "+j.name()+" in "+u,Ko(j.schema()),ue);return Le(Q,{config:ue,validated:de})}})}),b},Ch=function(u,m){return{uiType:wh(),owner:u,name:m}},rg=function(u,m,b){return _=m,I={},j={},sn(b,function(Q){Q.fold(function(ue){I[ue.pname()]=nm(!0,function(de,Pe,Se){return ue.factory().sketch(Af(de,ue,Pe,Se))})},function(ue){var de=_.parts()[ue.name()]();j[ue.name()]=l(Af(_,ue,de[$c()]()))},function(ue){I[ue.pname()]=nm(!1,function(de,Pe,Se){return ue.factory().sketch(Af(de,ue,Pe,Se))})},function(ue){I[ue.pname()]=Uc(!0,function(de,Pe,Se){var _e=de[ue.name()]();return kr(_e,function(Ue){return ue.factory().sketch(Le(ue.defaults()(de,Ue),Ue,ue.overrides()(de,Ue)))})})})}),{internals:l(I),externals:l(j)};var _,I,j},Sh=function(u,m,b){return Gp(fe.some(u),m,m.components(),b)},Ba=function(u,m,b){var _=m.partUids()[b];return u.getSystem().getByUid(_).toOption()},qc=function(u,m,b){return Ba(u,m,b).getOrDie("Could not find part: "+b)},lu=function(u,m){var b=kr(m,tg);return Ei(kr(b,function(_){return{key:_,value:u+"-"+_}}))},Mf=function(u){return yi("partUids","partUids",Ni(function(m){return lu(m.uid,u)}),ya())},Zs=hl("alloy-premade"),kh=hl("api"),Eh=function(u){return zo(Zs,u)},el=function(u){return m=function(Q){for(var ue=[],de=1;de<arguments.length;de++)ue[de-1]=arguments[de];var Pe=Q.config(kh);return u.apply(void 0,[Pe].concat([Q].concat(ue)))},b=u.toString(),_=b.indexOf(")")+1,I=b.indexOf("("),j=b.substring(I+1,_-1).split(/,\s*/),m.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ou(j.slice(1))}},m;var m,b,_,I,j},Yc=l(kh),If=l("alloy-id-"),yc=l("data-alloy-id"),pl=If(),ns=yc(),bc=function(u){var m=Kn(u)?hi(u,ns):null;return fe.from(m)},hd=function(u){return hl(u)},lm=function(u,m,b,_,I){var j,Q,ue=(Q=I,(0<(j=_).length?[Xu("parts",j)]:[]).concat([Xn("uid"),kn("dom",{}),kn("components",[]),Bo("originalSpec"),kn("debug.sketcher",{})]).concat(Q));return Us(u+" [SpecSchema]",So(ue.concat(m)),b)},Kc=function(u,m,b,_,I){var j=Xc(I),Q=xt(b,function(_e){return _e.fold(fe.none,fe.some,fe.none,fe.none).map(function(Ue){return Xu(Ue.name(),Ue.schema().concat([Bo($c())]))}).toArray()}),ue=Mf(b),de=lm(u,m,j,Q,[ue]),Pe=rg(0,de,b),Se=Sh(u,de,Pe.internals());return Le(_(de,Se,j,Pe.externals()),{"debug.sketcher":zo(u,I)})},Xc=function(u){return Le({uid:hd("uid")},u)},cm=So([Xn("name"),Xn("factory"),Xn("configFields"),kn("apis",{}),kn("extraApis",{})]),og=So([Xn("name"),Xn("factory"),Xn("configFields"),Xn("partFields"),kn("apis",{}),kn("extraApis",{})]),Gc=function(u){var m=va("Sketcher for "+u.name,cm,u),b=Vt(m.apis,el),_=Vt(m.extraApis,function(I,j){return Mi(I,j)});return Le({name:l(m.name),partFields:l([]),configFields:l(m.configFields),sketch:function(I){return j=m.name,Q=m.configFields,ue=m.factory,Pe=Xc(de=I),Se=lm(j,Q,Pe,[],[]),Le(ue(Se,Pe),{"debug.sketcher":zo(j,de)});var j,Q,ue,de,Pe,Se}},b,_)},Jc=function(u){var m=va("Sketcher for "+u.name,og,u),b=Vc(m.name,m.partFields),_=Vt(m.apis,el),I=Vt(m.extraApis,function(j,Q){return Mi(j,Q)});return Le({name:l(m.name),partFields:l(m.partFields),configFields:l(m.configFields),sketch:function(j){return Kc(m.name,m.configFields,m.partFields,m.factory,j)},parts:l(b)},_,I)},ju=Gc({name:"Button",factory:function(u){var m,b,_,I=(m=u.action(),b=function(ue,de){de.stop(),Fa(ue)},_=gt.detect().deviceType.isTouch()?[Lo(To(),b)]:[Lo(Kt(),b),Lo(Zn(),function(ue,de){de.cut()})],Ti(zt([m.map(function(ue){return Lo(Cn(),function(de,Pe){ue(de),Pe.stop()})}).toArray(),_]))),j=go(u.dom(),"attributes").bind(gu("type")),Q=go(u.dom(),"tag");return{uid:u.uid(),dom:u.dom(),components:u.components(),events:I,behaviours:Le(Xr([he.config({}),Ea.config({mode:"execution",useSpace:!0,useEnter:!0})]),Js(u.buttonBehaviours())),domModification:{attributes:Le(j.fold(function(){return Q.is("button")?{type:"button"}:{}},function(ue){return{}}),{role:u.role().getOr("button")})},eventOrder:u.eventOrder()}},configFields:[kn("uid",void 0),Xn("dom"),kn("components",[]),Ds("buttonBehaviours",[he,Ea]),bi("action"),bi("role"),kn("eventOrder",{})]}),Th=ia({fields:[],name:"unselecting",active:Object.freeze({events:function(u){return Ti([la(xn(),l(!0))])},exhibit:function(u,m){return Pa({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})}})}),Bf=function(u){var m,b,_,I=oe.fromHtml(u),j=$n(I),Q=(b=(m=I).dom().attributes!==void 0?m.dom().attributes:[],Bn(b,function(Pe,Se){return Se.name==="class"?Pe:Le(Pe,zo(Se.name,Se.value))},{})),ue=(_=I,Array.prototype.slice.call(_.dom().classList,0)),de=j.length===0?{}:{innerHtml:f(I)};return Le({tag:Zt(I),classes:ue,attributes:Q},de)},zi=function(u){var m,b,_=(m=u,b={prefix:S.prefix()},m.replace(/\$\{([^{}]*)\}/g,function(I,j){var Q,ue=b[j];return(Q=typeof ue)=="string"||Q==="number"?ue.toString():I}));return Bf(_)},Hl=function(u){return{dom:zi(u)}},fm=function(u){return Xr([ni.config({toggleClass:S.resolve("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),Lu(u,function(m,b){(b?ni.on:ni.off)(m)})])},rs=function(u,m,b){return ju.sketch({dom:zi('<span class="${prefix}-toolbar-button ${prefix}-icon-'+u+' ${prefix}-icon"></span>'),action:m,buttonBehaviours:Le(Xr([Th.config({})]),b)})},zl={forToolbar:rs,forToolbarCommand:function(u,m){return rs(m,function(){u.execCommand(m)},{})},forToolbarStateAction:function(u,m,b,_){var I=fm(b);return rs(m,_,I)},forToolbarStateCommand:function(u,m){var b=fm(m);return rs(m,function(){u.execCommand(m)},b)}},dm=function(u,m){return{left:l(u),top:l(m),translate:function(b,_){return dm(u+b,m+_)}}},Qc=dm,_h=function(u,m,b){return Math.max(m,Math.min(b,u))},mm=function(u,m,b,_,I,j,Q){var ue=b-m;if(_<u.left)return m-1;if(_>u.right)return b+1;var de,Pe,Se,_e,Ue=Math.min(u.right,Math.max(_,u.left))-u.left,wt=_h(Ue/u.width*ue+m,m-1,b+1),ct=Math.round(wt);return j&&m<=wt&&wt<=b?(de=wt,Pe=m,Se=b,_e=I,Q.fold(function(){var at=de-Pe,ln=Math.round(at/_e)*_e;return _h(Pe+ln,Pe-1,Se+1)},function(at){var ln=(de-at)%_e,Sn=Math.round(ln/_e),tr=Math.floor((de-at)/_e),Lr=Math.floor((Se-at)/_e),Qo=at+Math.min(Lr,tr+Sn)*_e;return Math.max(at,Qo)})):ct},Nh="slider.change.value",ig=gt.detect().deviceType.isTouch(),Rh=function(u){return function(m){var b=m.event().raw();if(ig){var _=b;return _.touches!==void 0&&_.touches.length===1?fe.some(_.touches[0]).map(function(j){return Qc(j.clientX,j.clientY)}):fe.none()}var I=b;return I.clientX!==void 0?fe.some(I).map(function(j){return Qc(j.clientX,j.clientY)}):fe.none()}(u).map(function(m){return m.left()})},Wu=function(u,m){si(u,Nh,{value:m})},Oh=function(u,m,b,_){return Rh(_).map(function(I){var j,Q,ue,de;return j=u,ue=I,de=mm(b,(Q=m).min(),Q.max(),ue,Q.stepSize(),Q.snapToGrid(),Q.snapStart()),Wu(j,de),I})},ag=function(u,m){var b,_,I,j,Q=(b=m.value().get(),_=m.min(),I=m.max(),j=m.stepSize(),b<_?b:I<b?I:b===_?_-1:Math.max(_,b-j));Wu(u,Q)},Ph=function(u,m){var b,_,I,j,Q=(b=m.value().get(),_=m.min(),I=m.max(),j=m.stepSize(),I<b?b:b<_?_:b===I?I+1:Math.min(I,b+j));Wu(u,Q)},Dh=gt.detect().deviceType.isTouch(),Zc=function(u,m){return ng({name:u+"-edge",overrides:function(b){var _=Ti([bu(Yn(),m,[b])]),I=Ti([bu(Zn(),m,[b]),bu(Cr(),function(j,Q){Q.mouseIsDown().get()&&m(j,Q)},[b])]);return{events:Dh?_:I}}})},ef=[Zc("left",function(u,m){Wu(u,m.min()-1)}),Zc("right",function(u,m){Wu(u,m.max()+1)}),um({name:"thumb",defaults:l({dom:{styles:{position:"absolute"}}}),overrides:function(u){return{events:Ti([Ss(Yn(),u,"spectrum"),Ss(Pn(),u,"spectrum"),Ss(dr(),u,"spectrum")])}}}),um({schema:[$t("mouseIsDown",function(){return wi(!1)})],name:"spectrum",overrides:function(u){var m=function(I,j){var Q=I.element().dom().getBoundingClientRect();Oh(I,u,Q,j)},b=Ti([Lo(Yn(),m),Lo(Pn(),m)]),_=Ti([Lo(Zn(),m),Lo(Cr(),function(I,j){u.mouseIsDown().get()&&m(I,j)})]);return{behaviours:Xr(Dh?[]:[Ea.config({mode:"special",onLeft:function(I){return ag(I,u),fe.some(!0)},onRight:function(I){return Ph(I,u),fe.some(!0)}}),he.config({})]),events:Dh?b:_}}})],pd=function(u,m,b){m.store().manager().onLoad(u,m,b)},jl=function(u,m,b){m.store().manager().onUnload(u,m,b)},ug=Object.freeze({onLoad:pd,onUnload:jl,setValue:function(u,m,b,_){m.store().manager().setValue(u,m,b,_)},getValue:function(u,m,b){return m.store().manager().getValue(u,m,b)}}),Ah=Object.freeze({events:function(u,m){var b=u.resetOnDom()?[Au(function(_,I){pd(_,u,m)}),Sf(function(_,I){jl(_,u,m)})]:[rc(u,m,pd)];return Ti(b)}}),oo=function(){var u=wi(null);return au({set:u.set,get:u.get,isNotSet:function(){return u.get()===null},clear:function(){u.set(null)},readState:function(){return{mode:"memory",value:u.get()}}})},hm=function(){var u=wi({});return au({readState:function(){return{mode:"dataset",dataset:u.get()}},set:u.set,get:u.get})},Lf=Object.freeze({memory:oo,dataset:hm,manual:function(){return au({readState:function(){}})},init:function(u){return u.store().manager().state(u)}}),tf=function(u,m,b,_){m.store().getDataKey(),b.set({}),m.store().setData()(u,_),m.onSetValue()(u,_)},sg=[bi("initialValue"),Xn("getFallbackEntry"),Xn("getDataKey"),Xn("setData"),Br("manager",{setValue:tf,getValue:function(u,m,b){var _=m.store().getDataKey()(u),I=b.get();return go(I,_).fold(function(){return m.store().getFallbackEntry()(_)},function(j){return j})},onLoad:function(u,m,b){m.store().initialValue().each(function(_){tf(u,m,b,_)})},onUnload:function(u,m,b){b.set({})},state:hm})],pm=[Xn("getValue"),kn("setValue",r),bi("initialValue"),Br("manager",{setValue:function(u,m,b,_){m.store().setValue()(u,_),m.onSetValue()(u,_)},getValue:function(u,m,b){return m.store().getValue()(u)},onLoad:function(u,m,b){m.store().initialValue().each(function(_){m.store().setValue()(u,_)})},onUnload:r,state:Da.init})],lg=[bi("initialValue"),Br("manager",{setValue:function(u,m,b,_){b.set(_),m.onSetValue()(u,_)},getValue:function(u,m,b){return b.get()},onLoad:function(u,m,b){m.store().initialValue().each(function(_){b.isNotSet()&&b.set(_)})},onUnload:function(u,m,b){b.clear()},state:oo})],Zv=[ru("store",{mode:"memory"},us("mode",{memory:lg,manual:pm,dataset:sg})),to("onSetValue"),kn("resetOnDom",!1)],na=ia({fields:Zv,name:"representing",active:Ah,apis:ug,extra:{setValueFrom:function(u,m){var b=na.getValue(m);na.setValue(u,b)}},state:Lf}),cg=gt.detect().deviceType.isTouch(),ms=[Xn("min"),Xn("max"),kn("stepSize",1),kn("onChange",r),kn("onInit",r),kn("onDragStart",r),kn("onDragEnd",r),kn("snapToGrid",!1),bi("snapStart"),Xn("getInitialValue"),Ds("sliderBehaviours",[Ea,na]),$t("value",function(u){return wi(u.min)})].concat(cg?[]:[$t("mouseIsDown",function(){return wi(!1)})]),gm=Po("width",function(u){return u.dom().offsetWidth}),nf=function(u,m){gm.set(u,m)},rf=function(u){return gm.get(u)},Yo=gt.detect().deviceType.isTouch(),Wa=Jc({name:"Slider",configFields:ms,partFields:ef,factory:function(u,m,b,_){var I=u.max()-u.min(),j=function(_e){var Ue=_e.element().dom().getBoundingClientRect();return(Ue.left+Ue.right)/2},Q=function(_e){return qc(_e,u,"thumb")},ue=function(_e){var Ue,wt,ct,at,ln=qc(_e,u,"spectrum").element().dom().getBoundingClientRect(),Sn=_e.element().dom().getBoundingClientRect(),tr=(Ue=_e,wt=ln,(at=(ct=u).value().get())<ct.min()?Ba(Ue,ct,"left-edge").fold(function(){return 0},function(Lr){return j(Lr)-wt.left}):at>ct.max()?Ba(Ue,ct,"right-edge").fold(function(){return wt.width},function(Lr){return j(Lr)-wt.left}):(ct.value().get()-ct.min())/I*wt.width);return ln.left-Sn.left+tr},de=function(_e){var Ue=ue(_e),wt=Q(_e),ct=rf(wt.element())/2;rt(wt.element(),"left",Ue-ct+"px")},Pe=function(_e,Ue){var wt=u.value().get(),ct=Q(_e);return wt!==Ue||rn(ct.element(),"left").isNone()?(u.value().set(Ue),de(_e),u.onChange()(_e,ct,Ue),fe.some(!0)):fe.none()},Se=Yo?[Lo(Yn(),function(_e,Ue){u.onDragStart()(_e,Q(_e))}),Lo(dr(),function(_e,Ue){u.onDragEnd()(_e,Q(_e))})]:[Lo(Zn(),function(_e,Ue){Ue.stop(),u.onDragStart()(_e,Q(_e)),u.mouseIsDown().set(!0)}),Lo(er(),function(_e,Ue){u.onDragEnd()(_e,Q(_e)),u.mouseIsDown().set(!1)})];return{uid:u.uid(),dom:u.dom(),components:m,behaviours:Le(Xr(zt([Yo?[]:[Ea.config({mode:"special",focusIn:function(_e){return Ba(_e,u,"spectrum").map(Ea.focusIn).map(l(!0))}})],[na.config({store:{mode:"manual",getValue:function(_e){return u.value().get()}}})]])),Js(u.sliderBehaviours())),events:Ti([Lo(Nh,function(_e,Ue){Pe(_e,Ue.event().value())}),Au(function(_e,Ue){u.value().set(u.getInitialValue()());var wt=Q(_e);de(_e),u.onInit()(_e,wt,u.value().get())})].concat(Se)),apis:{resetToMin:function(_e){Pe(_e,u.min())},resetToMax:function(_e){Pe(_e,u.max())},refresh:de},domModification:{styles:{position:"relative"}}}},apis:{resetToMin:function(u,m){u.resetToMin(m)},resetToMax:function(u,m){u.resetToMax(m)},refresh:function(u,m){u.refresh(m)}}}),Ff=function(u,m,b){return zl.forToolbar(m,function(){var _=b();u.setContextToolbar([{label:m+" group",items:_}])},{})},fg=function(u){return[(m=u,b=function(_){return _<0?"black":360<_?"white":"hsl("+_+", 100%, 50%)"},Wa.sketch({dom:zi('<div class="${prefix}-slider ${prefix}-hue-slider-container"></div>'),components:[Wa.parts()["left-edge"](Hl('<div class="${prefix}-hue-slider-black"></div>')),Wa.parts().spectrum({dom:zi('<div class="${prefix}-slider-gradient-container"></div>'),components:[Hl('<div class="${prefix}-slider-gradient"></div>')],behaviours:Xr([ni.config({toggleClass:S.resolve("thumb-active")})])}),Wa.parts()["right-edge"](Hl('<div class="${prefix}-hue-slider-white"></div>')),Wa.parts().thumb({dom:zi('<div class="${prefix}-slider-thumb"></div>'),behaviours:Xr([ni.config({toggleClass:S.resolve("thumb-active")})])})],onChange:function(_,I,j){var Q=b(j);rt(I.element(),"background-color",Q),m.onChange(_,I,Q)},onDragStart:function(_,I){ni.on(I)},onDragEnd:function(_,I){ni.off(I)},onInit:function(_,I,j){var Q=b(j);rt(I.element(),"background-color",Q)},stepSize:10,min:0,max:360,getInitialValue:m.getInitialValue,sliderBehaviours:Xr([Zi(Wa.refresh)])}))];var m,b},Hf=function(u,m){var b={onChange:function(_,I,j){m.undoManager.transact(function(){m.formatter.apply("forecolor",{value:j}),m.nodeChanged()})},getInitialValue:function(){return-1}};return Ff(u,"color",function(){return fg(b)})},dg=So([Xn("getInitialValue"),Xn("onChange"),Xn("category"),Xn("sizes")]),mg=function(u){var m=va("SizeSlider",dg,u);return Wa.sketch({dom:{tag:"div",classes:[S.resolve("slider-"+m.category+"-size-container"),S.resolve("slider"),S.resolve("slider-size-container")]},onChange:function(b,_,I){var j;0<=(j=I)&&j<m.sizes.length&&m.onChange(I)},onDragStart:function(b,_){ni.on(_)},onDragEnd:function(b,_){ni.off(_)},min:0,max:m.sizes.length-1,stepSize:1,getInitialValue:m.getInitialValue,snapToGrid:!0,sliderBehaviours:Xr([Zi(Wa.refresh)]),components:[Wa.parts().spectrum({dom:zi('<div class="${prefix}-slider-size-container"></div>'),components:[Hl('<div class="${prefix}-slider-size-line"></div>')]}),Wa.parts().thumb({dom:zi('<div class="${prefix}-slider-thumb"></div>'),behaviours:Xr([ni.config({toggleClass:S.resolve("thumb-active")})])})]})},of=["9px","10px","11px","12px","14px","16px","18px","20px","24px","32px","36px"],gd=function(u){var m,b,_=u.selection.getStart(),I=oe.fromDom(_),j=oe.fromDom(u.getBody()),Q=(m=function(ue){return Dt(j,ue)},(Kn(b=I)?fe.some(b):sr(b).filter(Kn)).map(function(ue){return Ys(ue,function(de){return rn(de,"font-size").isSome()},m).bind(function(de){return rn(de,"font-size")}).getOrThunk(function(){return Lt(ue,"font-size")})}).getOr(""));return Zo(of,function(ue){return Q===ue}).getOr("medium")},vm={candidates:l(of),get:function(u){var m,b=gd(u);return(m=b,Xe(of,function(_){return _===m})).getOr(2)},apply:function(u,m){var b;(b=m,fe.from(of[b])).each(function(_){var I,j;j=_,gd(I=u)!==j&&I.execCommand("fontSize",!1,j)})}},hg=vm.candidates(),ym=function(u){return[Hl('<span class="${prefix}-toolbar-button ${prefix}-icon-small-font ${prefix}-icon"></span>'),(m=u,mg({onChange:m.onChange,sizes:hg,category:"font",getInitialValue:m.getInitialValue})),Hl('<span class="${prefix}-toolbar-button ${prefix}-icon-large-font ${prefix}-icon"></span>')];var m},cu=function(u){var m=u.uid!==void 0&&ne(u,"uid")?u.uid:hd("memento");return{get:function(b){return b.getSystem().getByUid(m).getOrDie()},getOpt:function(b){return b.getSystem().getByUid(m).fold(fe.none,fe.some)},asSpec:function(){return Le(u,{uid:m})}}},hs=window.Promise?window.Promise:function(){var u=function(Se){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Se!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],Pe(Se,b(j,this),b(Q,this))},m=u.immediateFn||typeof window.setImmediate=="function"&&window.setImmediate||function(Se){t.setTimeout(Se,1)};function b(Se,_e){return function(){return Se.apply(_e,arguments)}}var _=Array.isArray||function(Se){return Object.prototype.toString.call(Se)==="[object Array]"};function I(Se){var _e=this;this._state!==null?m(function(){var Ue=_e._state?Se.onFulfilled:Se.onRejected;if(Ue!==null){var wt;try{wt=Ue(_e._value)}catch(ct){return void Se.reject(ct)}Se.resolve(wt)}else(_e._state?Se.resolve:Se.reject)(_e._value)}):this._deferreds.push(Se)}function j(Se){try{if(Se===this)throw new TypeError("A promise cannot be resolved with itself.");if(Se&&(typeof Se=="object"||typeof Se=="function")){var _e=Se.then;if(typeof _e=="function")return void Pe(b(_e,Se),b(j,this),b(Q,this))}this._state=!0,this._value=Se,ue.call(this)}catch(Ue){Q.call(this,Ue)}}function Q(Se){this._state=!1,this._value=Se,ue.call(this)}function ue(){for(var Se=0,_e=this._deferreds;Se<_e.length;Se++){var Ue=_e[Se];I.call(this,Ue)}this._deferreds=[]}function de(Se,_e,Ue,wt){this.onFulfilled=typeof Se=="function"?Se:null,this.onRejected=typeof _e=="function"?_e:null,this.resolve=Ue,this.reject=wt}function Pe(Se,_e,Ue){var wt=!1;try{Se(function(ct){wt||(wt=!0,_e(ct))},function(ct){wt||(wt=!0,Ue(ct))})}catch(ct){if(wt)return;wt=!0,Ue(ct)}}return u.prototype.catch=function(Se){return this.then(null,Se)},u.prototype.then=function(Se,_e){var Ue=this;return new u(function(wt,ct){I.call(Ue,new de(Se,_e,wt,ct))})},u.all=function(){for(var Se=[],_e=0;_e<arguments.length;_e++)Se[_e]=arguments[_e];var Ue=Array.prototype.slice.call(Se.length===1&&_(Se[0])?Se[0]:Se);return new u(function(wt,ct){if(Ue.length===0)return wt([]);var at=Ue.length;function ln(tr,Lr){try{if(Lr&&(typeof Lr=="object"||typeof Lr=="function")){var Qo=Lr.then;if(typeof Qo=="function")return void Qo.call(Lr,function(Li){ln(tr,Li)},ct)}Ue[tr]=Lr,--at==0&&wt(Ue)}catch(Li){ct(Li)}}for(var Sn=0;Sn<Ue.length;Sn++)ln(Sn,Ue[Sn])})},u.resolve=function(Se){return Se&&typeof Se=="object"&&Se.constructor===u?Se:new u(function(_e){_e(Se)})},u.reject=function(Se){return new u(function(_e,Ue){Ue(Se)})},u.race=function(Se){return new u(function(_e,Ue){for(var wt=0,ct=Se;wt<ct.length;wt++)ct[wt].then(_e,Ue)})},u}();function af(u){return(m=u,new hs(function(b){var _=new t.FileReader;_.onloadend=function(){b(_.result)},_.readAsDataURL(m)})).then(function(b){return b.split(",")[1]});var m}var Mh,bm,vd,Uu,Ih,pg,gg=function(u,m){var b;(b=m,af(b)).then(function(_){u.undoManager.transact(function(){var I=u.editorUpload.blobCache,j=I.create(hl("mceu"),m,_);I.add(j);var Q=u.dom.createHTML("img",{src:j.blobUri()});u.insertContent(Q)})})},Bh=function(u){var m=cu({dom:{tag:"input",attributes:{accept:"image/*",type:"file",title:""},styles:{visibility:"hidden",position:"absolute"}},events:Ti([Pc(Kt()),Lo(Rt(),function(b,_){var I,j,Q;(I=_,j=I.event(),Q=j.raw().target.files||j.raw().dataTransfer.files,fe.from(Q[0])).each(function(ue){gg(u,ue)})})])});return ju.sketch({dom:zi('<span class="${prefix}-toolbar-button ${prefix}-icon-image ${prefix}-icon"></span>'),components:[m.asSpec()],action:function(b){m.get(b).element().dom().click()}})},Lh=function(u){return u.dom().textContent},Wl=function(u){return 0<u.length},gl=function(u){return u==null?"":u},wm=function(u,m,b){return b.text.filter(Wl).fold(function(){return hi(_=u,"href")===Lh(_)?fe.some(m):fe.none();var _},fe.some)},Fh=function(u){var m=oe.fromDom(u.selection.getStart());return ea(m,"a")},xm={getInfo:function(u){return Fh(u).fold(function(){return{url:"",text:u.selection.getContent({format:"text"}),title:"",target:"",link:fe.none()}},function(m){return _=Lh(b=m),I=hi(b,"href"),j=hi(b,"title"),Q=hi(b,"target"),{url:gl(I),text:_!==I?gl(_):"",title:gl(j),target:gl(Q),link:fe.some(b)};var b,_,I,j,Q})},applyInfo:function(u,m){m.url.filter(Wl).fold(function(){var b;b=u,m.link.bind(g).each(function(_){b.execCommand("unlink")})},function(b){var _,I,j=(_=m,(I={}).href=b,_.title.filter(Wl).each(function(Q){I.title=Q}),_.target.filter(Wl).each(function(Q){I.target=Q}),I);m.link.bind(g).fold(function(){var Q=m.text.filter(Wl).getOr(b);u.insertContent(u.dom.createHTML("a",j,u.dom.encode(Q)))},function(Q){var ue=wm(Q,b,m);Vs(Q,j),ue.each(function(de){var Pe;Pe=de,Q.dom().textContent=Pe})})})},query:Fh},e0=gt.detect(),t0=function(u,m){var b=m.selection.getRng();u(),m.selection.setRng(b)},n0=function(u,m){(e0.os.isAndroid()?t0:ze)(m,u)},zf=function(u,m){var b,_;return{key:u,value:{config:{},me:(b=u,_=Ti(m),ia({fields:[Xn("enabled")],name:b,active:{events:l(_)}})),configAsRaw:l({}),initialConfig:{},state:Da}}},vg=Object.freeze({getCurrent:function(u,m,b){return m.find()(u)}}),jf=[Xn("find")],Ms=ia({fields:jf,name:"composing",apis:vg}),Is=Gc({name:"Container",factory:function(u){return{uid:u.uid(),dom:Le({tag:"div",attributes:{role:"presentation"}},u.dom()),components:u.components(),behaviours:Js(u.containerBehaviours()),events:u.events(),domModification:u.domModification(),eventOrder:u.eventOrder()}},configFields:[kn("components",[]),Ds("containerBehaviours",[]),kn("events",{}),kn("domModification",{}),kn("eventOrder",{})]}),yg=Gc({name:"DataField",factory:function(u){return{uid:u.uid(),dom:u.dom(),behaviours:Le(Xr([na.config({store:{mode:"memory",initialValue:u.getInitialValue()()}}),Ms.config({find:fe.some})]),Js(u.dataBehaviours())),events:Ti([Au(function(m,b){na.setValue(m,u.getInitialValue()())})])}},configFields:[Xn("uid"),Xn("dom"),Xn("getInitialValue"),Ds("dataBehaviours",[na,Ms])]}),Ul=function(u){return u.dom().value},Wf=function(u,m){if(m===void 0)throw new Error("Value.set was undefined");u.dom().value=m},Uf=l([bi("data"),kn("inputAttributes",{}),kn("inputStyles",{}),kn("type","input"),kn("tag","input"),kn("inputClasses",[]),to("onSetValue"),kn("styles",{}),bi("placeholder"),kn("eventOrder",{}),Ds("inputBehaviours",[na,he]),kn("selectOnFocus",!0)]),Hh=function(u){return Le(Xr([na.config({store:{mode:"manual",initialValue:u.data().getOr(void 0),getValue:function(b){return Ul(b.element())},setValue:function(b,_){Ul(b.element())!==_&&Wf(b.element(),_)}},onSetValue:u.onSetValue()})]),(m=u,Xr([he.config({onFocus:m.selectOnFocus()===!1?r:function(b){var _=b.element(),I=Ul(_);_.dom().setSelectionRange(0,I.length)}})])),Js(u.inputBehaviours()));var m},r0=Gc({name:"Input",configFields:Uf(),factory:function(u,m){return{uid:u.uid(),dom:(b=u,{tag:b.tag(),attributes:Le(Ei([{key:"type",value:b.type()}].concat(b.placeholder().map(function(_){return{key:"placeholder",value:_}}).toArray())),b.inputAttributes()),styles:b.inputStyles(),classes:b.inputClasses()}),components:[],behaviours:Hh(u),eventOrder:u.eventOrder()};var b}}),ps=Object.freeze({exhibit:function(u,m){return Pa({attributes:Ei([{key:m.tabAttr(),value:"true"}])})}}),o0=[kn("tabAttr","data-alloy-tabstop")],bg=ia({fields:o0,name:"tabstopping",active:ps}),$l=function(u,m){var b=cu(r0.sketch({placeholder:m,onSetValue:function(I,j){Ya(I,qe())},inputBehaviours:Xr([Ms.config({find:fe.some}),bg.config({}),Ea.config({mode:"execution"})]),selectOnFocus:!1})),_=cu(ju.sketch({dom:zi('<button class="${prefix}-input-container-x ${prefix}-icon-cancel-circle ${prefix}-icon"></button>'),action:function(I){var j=b.get(I);na.setValue(j,"")}}));return{name:u,spec:Is.sketch({dom:zi('<div class="${prefix}-input-container"></div>'),components:[b.asSpec(),_.asSpec()],containerBehaviours:Xr([ni.config({toggleClass:S.resolve("input-container-empty")}),Ms.config({find:function(I){return fe.some(b.get(I))}}),zf("input-clearing",[Lo(qe(),function(I){var j=b.get(I);(0<na.getValue(j).length?ni.off:ni.on)(I)})])])})}},zh=["input","button","textarea"],wg=function(u,m,b){m.disabled()&&Cg(u,m)},jh=function(u){return Qr(zh,Zt(u.element()))},Wh=function(u){jo(u.element(),"disabled","disabled")},i0=function(u){fa(u.element(),"disabled")},a0=function(u){jo(u.element(),"aria-disabled","true")},xg=function(u){jo(u.element(),"aria-disabled","false")},Cg=function(u,m,b){m.disableClass().each(function(_){Ii(u.element(),_)}),(jh(u)?Wh:a0)(u)},vl=function(u){return jh(u)?Xa(u.element(),"disabled"):hi(u.element(),"aria-disabled")==="true"},Uh=Object.freeze({enable:function(u,m,b){m.disableClass().each(function(_){qi(u.element(),_)}),(jh(u)?i0:xg)(u)},disable:Cg,isDisabled:vl,onLoad:wg}),d=Object.freeze({exhibit:function(u,m,b){return Pa({classes:m.disabled()?m.disableClass().map(yt).getOr([]):[]})},events:function(u,m){return Ti([la(Cn(),function(b,_){return vl(b)}),rc(u,m,wg)])}}),y=[kn("disabled",!1),bi("disableClass")],E=ia({fields:y,name:"disabling",active:d,apis:Uh}),R=[Ds("formBehaviours",[na])],B=function(u){return"<alloy.field."+u+">"},z=function(u,m,b){return Le({"debug.sketcher":{Form:b},uid:u.uid(),dom:u.dom(),components:m,behaviours:Le(Xr([na.config({store:{mode:"manual",getValue:function(_){var I,j,Q=(I=u,j=_.getSystem(),Vt(I.partUids(),function(ue,de){return l(j.getByUid(ue))}));return Vt(Q,function(ue,de){return ue().bind(Ms.getCurrent).map(na.getValue)})},setValue:function(_,I){At(I,function(j,Q){Ba(_,u,Q).each(function(ue){Ms.getCurrent(ue).each(function(de){na.setValue(de,j)})})})}}})]),Js(u.formBehaviours())),apis:{getField:function(_,I){return Ba(_,u,I).bind(Ms.getCurrent)}}})},K=(el(function(u,m,b){return u.getField(m,b)}),function(u){var m,b=(m=[],{field:function(Q,ue){return m.push(Q),de="form",Pe=B(Q),Se=ue,{uiType:wh(),owner:de,name:Pe,config:Se,validated:{}};var de,Pe,Se},record:function(){return m}}),_=u(b),I=b.record(),j=kr(I,function(Q){return um({name:Q,pname:B(Q)})});return Kc("form",R,j,z,_)}),ie=function(){var u=wi(fe.none()),m=function(){u.get().each(function(b){b.destroy()})};return{clear:function(){m(),u.set(fe.none())},isSet:function(){return u.get().isSome()},set:function(b){m(),u.set(fe.some(b))},run:function(b){u.get().each(b)}}},we=function(){var u=wi(fe.none());return{clear:function(){u.set(fe.none())},set:function(m){u.set(fe.some(m))},isSet:function(){return u.get().isSome()},on:function(m){u.get().each(m)}}},Ve=function(u){return{xValue:u,points:[]}},pt=function(u,m){if(m===u.xValue)return u;var b=0<m-u.xValue?1:-1,_={direction:b,xValue:m};return{xValue:m,points:(u.points.length===0?[]:u.points[u.points.length-1].direction===b?u.points.slice(0,u.points.length-1):u.points).concat([_])}},Yt=function(u){if(u.points.length===0)return 0;var m=u.points[0].direction,b=u.points[u.points.length-1].direction;return m===-1&&b===-1?-1:m===1&&b===1?1:0},en=function(u){var m="navigateEvent",b=Ko([Xn("fields"),kn("maxFieldIndex",u.fields.length-1),Xn("onExecute"),Xn("getInitialValue"),$t("state",function(){return{dialogSwipeState:we(),currentScreen:wi(0)}})]),_=va("SerialisedDialog",b,u),I=function(Pe,Se,_e){return ju.sketch({dom:zi('<span class="${prefix}-icon-'+Se+' ${prefix}-icon"></span>'),action:function(Ue){si(Ue,m,{direction:Pe})},buttonBehaviours:Xr([E.config({disableClass:S.resolve("toolbar-navigation-disabled"),disabled:!_e})])})},j=function(Pe,Se){var _e=Ci(Pe.element(),"."+S.resolve("serialised-dialog-screen"));pi(Pe.element(),"."+S.resolve("serialised-dialog-chain")).each(function(Ue){0<=_.state.currentScreen.get()+Se&&_.state.currentScreen.get()+Se<_e.length&&(rn(Ue,"left").each(function(wt){var ct=parseInt(wt,10),at=rf(_e[0]);rt(Ue,"left",ct-Se*at+"px")}),_.state.currentScreen.set(_.state.currentScreen.get()+Se))})},Q=function(Pe){var Se=Ci(Pe.element(),"input");fe.from(Se[_.state.currentScreen.get()]).each(function(Ue){Pe.getSystem().getByDom(Ue).each(function(wt){var ct,at;ct=Pe,at=wt.element(),ct.getSystem().triggerFocus(at,ct.element())})});var _e=de.get(Pe);ka.highlightAt(_e,_.state.currentScreen.get())},ue=cu(K(function(Pe){return{dom:zi('<div class="${prefix}-serialised-dialog"></div>'),components:[Is.sketch({dom:zi('<div class="${prefix}-serialised-dialog-chain" style="left: 0px; position: absolute;"></div>'),components:kr(_.fields,function(Se,_e){return _e<=_.maxFieldIndex?Is.sketch({dom:zi('<div class="${prefix}-serialised-dialog-screen"></div>'),components:zt([[I(-1,"previous",0<_e)],[Pe.field(Se.name,Se.spec)],[I(1,"next",_e<_.maxFieldIndex)]])}):Pe.field(Se.name,Se.spec)})})],formBehaviours:Xr([Zi(function(Se,_e){var Ue;Ue=_e,pi(Se.element(),"."+S.resolve("serialised-dialog-chain")).each(function(wt){rt(wt,"left",-_.state.currentScreen.get()*Ue.width+"px")})}),Ea.config({mode:"special",focusIn:function(Se){Q(Se)},onTab:function(Se){return j(Se,1),fe.some(!0)},onShiftTab:function(Se){return j(Se,-1),fe.some(!0)}}),zf("form-events",[Au(function(Se,_e){_.state.currentScreen.set(0),_.state.dialogSwipeState.clear();var Ue=de.get(Se);ka.highlightFirst(Ue),_.getInitialValue(Se).each(function(wt){na.setValue(Se,wt)})}),ca(_.onExecute),Lo(mn(),function(Se,_e){_e.event().raw().propertyName==="left"&&Q(Se)}),Lo(m,function(Se,_e){var Ue=_e.event().direction();j(Se,Ue)})])])}})),de=cu({dom:zi('<div class="${prefix}-dot-container"></div>'),behaviours:Xr([ka.config({highlightClass:S.resolve("dot-active"),itemClass:S.resolve("dot-item")})]),components:xt(_.fields,function(Pe,Se){return Se<=_.maxFieldIndex?[Hl('<div class="${prefix}-dot-item ${prefix}-icon-full-dot ${prefix}-icon"></div>')]:[]})});return{dom:zi('<div class="${prefix}-serializer-wrapper"></div>'),components:[ue.asSpec(),de.asSpec()],behaviours:Xr([Ea.config({mode:"special",focusIn:function(Pe){var Se=ue.get(Pe);Ea.focusIn(Se)}}),zf("serializer-wrapper-events",[Lo(Yn(),function(Pe,Se){var _e=Se.event();_.state.dialogSwipeState.set(Ve(_e.touches[0].clientX))}),Lo(Pn(),function(Pe,Se){var _e=Se.event();_.state.dialogSwipeState.on(function(Ue){Se.event().prevent(),_.state.dialogSwipeState.set(pt(Ue,_e.raw().touches[0].clientX))})}),Lo(dr(),function(Pe){_.state.dialogSwipeState.on(function(Se){var _e=ue.get(Pe),Ue=-1*Yt(Se);j(_e,Ue)})})])])}},Ht=Un(function(u,m){return[{label:"the link group",items:[en({fields:[$l("url","Type or paste URL"),$l("text","Link text"),$l("title","Link title"),$l("target","Link target"),(b="link",{name:b,spec:yg.sketch({dom:{tag:"span",styles:{display:"none"}},getInitialValue:function(){return fe.none()}})})],maxFieldIndex:["url","text","title","target"].length-1,getInitialValue:function(){return fe.some(xm.getInfo(m))},onExecute:function(_){var I=na.getValue(_);xm.applyInfo(m,I),u.restoreToolbar(),m.focus()}})]}];var b}),Nt=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],jn=Ti([(Mh=tn(),bm=function(u,m){var b,_,I=m.event().originator(),j=m.event().target();return _=j,!(Dt(b=I,u.element())&&!Dt(b,_)&&(t.console.warn(tn()+` did not get interpreted by the desired target. 
Originator: `+W(I)+`
Target: `+W(j)+`
Check the `+tn()+" event handlers"),1))},{key:Mh,value:Gu({can:bm})})]),nr=Object.freeze({events:jn}),Nr=g,po=ic(["debugInfo","triggerFocus","triggerEvent","triggerEscape","addToWorld","removeFromWorld","addToGui","removeFromGui","build","getByUid","getByDom","broadcast","broadcastOn","isConnected"]),Ar=function(u){var m=function(b){return function(){throw new Error("The component must be in a context to send: "+b+`
`+W(u().element())+" is not in context.")}};return po({debugInfo:l("fake"),triggerEvent:m("triggerEvent"),triggerFocus:m("triggerFocus"),triggerEscape:m("triggerEscape"),build:m("build"),addToWorld:m("addToWorld"),removeFromWorld:m("removeFromWorld"),addToGui:m("addToGui"),removeFromGui:m("removeFromGui"),getByUid:m("getByUid"),getByDom:m("getByDom"),broadcast:m("broadcast"),broadcastOn:m("broadcastOn"),isConnected:l(!1)})},gr=function(u,m){var b={};return At(u,function(_,I){At(_,function(j,Q){var ue=vu(Q,[])(b);b[Q]=ue.concat([m(I,j)])})}),b},so=function(u,m){return 1<u.length?no.error('Multiple behaviours have tried to change DOM "'+m+'". The guilty behaviours are: '+Qe(kr(u,function(b){return b.name()}))+". At this stage, this is not supported. Future releases might provide strategies for resolving this."):u.length===0?no.value({}):no.value(u[0].modification().fold(function(){return{}},function(b){return zo(m,b)}))},_o=function(u,m){return Bn(u,function(b,_){var I=_.modification().getOr({});return b.bind(function(j){var Q=yn(I,function(ue,de){return j[de]!==void 0?(Pe=m,Se=de,_e=u,no.error("Mulitple behaviours have tried to change the _"+Se+'_ "'+Pe+'". The guilty behaviours are: '+Qe(xt(_e,function(Ue){return Ue.modification().getOr({})[Se]!==void 0?[Ue.name()]:[]}),null,2)+". This is not currently supported.")):no.value(zo(de,ue));var Pe,Se,_e});return Vi(Q,j)})},no.value({})).map(function(b){return zo(m,b)})},ji={classes:function(u,m){var b=xt(u,function(_){return _.modification().getOr([])});return no.value(zo(m,b))},attributes:_o,styles:_o,domChildren:so,defChildren:so,innerHtml:so,value:so},Ua=function(u,m){return b=x.apply(void 0,[u.handler].concat(m)),_=u.purpose(),{cHandler:b,purpose:l(_)};var b,_},yl=function(u){return u.cHandler},fu=function(u,m){return{name:l(u),handler:l(m)}},Tu=function(u,m,b){var _,I,j=Le(b,(_=u,I={},sn(m,function(Q){I[Q.name()]=Q.handlers(_)}),I));return gr(j,fu)},yd=function(u){var m,b=Ce(m=u)?{can:l(!0),abort:l(!1),run:m}:m;return function(_,I){for(var j=[],Q=2;Q<arguments.length;Q++)j[Q-2]=arguments[Q];var ue=[_,I].concat(j);b.abort.apply(void 0,ue)?I.stop():b.can.apply(void 0,ue)&&b.run.apply(void 0,ue)}},bl=function(u,m,b){var _,I,j=m[b];return j?function(Q,ue,de,Pe){var Se=de.slice(0);try{var _e=Se.sort(function(Ue,wt){var ct=Ue[ue](),at=wt[ue](),ln=Pe.indexOf(ct),Sn=Pe.indexOf(at);if(ln===-1)throw new Error("The ordering for "+Q+" does not have an entry for "+ct+`.
Order specified: `+Qe(Pe,null,2));if(Sn===-1)throw new Error("The ordering for "+Q+" does not have an entry for "+at+`.
Order specified: `+Qe(Pe,null,2));return ln<Sn?-1:Sn<ln?1:0});return no.value(_e)}catch(Ue){return no.error([Ue])}}("Event: "+b,"name",u,j).map(function(Q){var ue=kr(Q,function(de){return de.handler()});return yu(ue)}):(_=b,I=u,no.error(["The event ("+_+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+Qe(kr(I,function(Q){return Q.name()}),null,2)]))},Bx=function(u,m){var b=yn(u,function(_,I){return(_.length===1?no.value(_[0].handler()):bl(_,m,I)).map(function(j){var Q=yd(j),ue=1<_.length?qo(m,function(de){return Qr(_,function(Pe){return Pe.name()===de})}).join(" > "):_[0].name();return zo(I,{handler:Q,purpose:l(ue)})})});return Vi(b,{})},Lx=function(u){return nu("custom.definition",So([yi("dom","dom",Uo(),So([Xn("tag"),kn("styles",{}),kn("classes",[]),kn("attributes",{}),bi("value"),bi("innerHtml")])),Xn("components"),Xn("uid"),kn("events",{}),kn("apis",l({})),yi("eventOrder","eventOrder",(m={"alloy.execute":["disabling","alloy.base.behaviour","toggling"],"alloy.focus":["alloy.base.behaviour","focusing","keying"],"alloy.system.init":["alloy.base.behaviour","disabling","toggling","representing"],input:["alloy.base.behaviour","representing","streaming","invalidating"],"alloy.system.detached":["alloy.base.behaviour","representing"]},Oo.mergeWithThunk(l(m))),ya()),bi("domModification"),Bo("originalSpec"),kn("debug.sketcher","unknown")]),u);var m},Fx=function(u){var m,b={tag:u.dom().tag(),classes:u.dom().classes(),attributes:Le((m=u,zo(yc(),m.uid())),u.dom().attributes()),styles:u.dom().styles(),domChildren:kr(u.components(),function(_){return _.element()})};return Ju(Le(b,u.dom().innerHtml().map(function(_){return zo("innerHtml",_)}).getOr({}),u.dom().value().map(function(_){return zo("value",_)}).getOr({})))},u0=function(u,m){sn(m,function(b){Ii(u,b)})},s0=function(u,m){sn(m,function(b){qi(u,b)})},uf=function(u){if(u.domChildren().isSome()&&u.defChildren().isSome())throw new Error(`Cannot specify children and child specs! Must be one or the other.
Def: `+(m=iu(u),Qe(m,null,2)));return u.domChildren().fold(function(){var b=u.defChildren().getOr([]);return kr(b,Cb)},function(b){return b});var m},l0=function(u){var m=oe.fromTag(u.tag());Vs(m,u.attributes().getOr({})),u0(m,u.classes().getOr([])),ht(m,u.styles().getOr({})),v(m,u.innerHtml().getOr(""));var b=uf(u);return _r(m,b),u.value().each(function(_){Wf(m,_)}),m},Cb=function(u){var m=Ju(u);return l0(m)},Hx=function(u,m){return b=u,I=kr(_=m,function(Q){return Pl(Q.name(),[Xn("config"),kn("state",Da)])}),j=nu("component.behaviours",Ko(I),b.behaviours).fold(function(Q){throw new Error(nc(Q)+`
Complete spec:
`+Qe(b,null,2))},function(Q){return Q}),{list:_,data:Vt(j,function(Q){var ue=Q().map(function(de){return{config:de.config(),state:de.state().init(de.config())}});return function(){return ue}})};var b,_,I,j},zx=function(u){var m,b,_=(m=go(u,"behaviours").getOr({}),b=qo(jt(m),function(I){return m[I]!==void 0}),kr(b,function(I){return m[I].me}));return Hx(u,_)},Sb=ic(["getSystem","config","hasConfigured","spec","connect","disconnect","element","syncComponents","readState","components","events"]),kb=function(u,m,b){var _,I,j,Q,ue=Fx(u),de=function(Pe,Se,_e,Ue){var wt=Le({},Se);sn(_e,function(Sn){wt[Sn.name()]=Sn.exhibit(Pe,Ue)});var ct=gr(wt,function(Sn,tr){return{name:function(){return Sn},modification:tr}}),at=Vt(ct,function(Sn,tr){return xt(Sn,function(Lr){return Lr.modification().fold(function(){return[]},function(Qo){return[Lr]})})}),ln=yn(at,function(Sn,tr){return go(ji,tr).fold(function(){return no.error("Unknown field type: "+tr)},function(Lr){return Lr(Sn,tr)})});return Vi(ln,{}).map(Pa)}(b,{"alloy.base.modification":(_=u,_.domModification().fold(function(){return Pa({})},Pa))},m,ue).getOrDie();return j=de,Q=Le({tag:(I=ue).tag(),classes:j.classes().getOr([]).concat(I.classes().getOr([])),attributes:J(I.attributes().getOr({}),j.attributes().getOr({})),styles:J(I.styles().getOr({}),j.styles().getOr({}))},j.innerHtml().or(I.innerHtml()).map(function(Pe){return zo("innerHtml",Pe)}).getOr({}),ks("domChildren",j.domChildren(),I.domChildren()),ks("defChildren",j.defChildren(),I.defChildren()),j.value().or(I.value()).map(function(Pe){return zo("value",Pe)}).getOr({})),Ju(Q)},Eb=function(u,m,b){var _,I,j,Q,ue,de,Pe={"alloy.base.behaviour":(_=u,_.events())};return(I=b,j=u.eventOrder(),Q=m,ue=Pe,de=Tu(I,Q,ue),Bx(de,j)).getOrDie()},Tb=function(u){var m,b,_,I,j,Q,ue,de,Pe,Se,_e,Ue,wt,ct,at=Nr(u),ln=(m=at,b=vu("components",[])(m),kr(b,wc)),Sn=Le(nr,at,zo("components",ln));return no.value((_=Sn,j=wi(Ar(I=function(){return ct})),Q=Ol(Lx(Le(_,{behaviours:void 0}))),ue=zx(_),de=ue.list,Pe=ue.data,Se=kb(Q,de,Pe),_e=l0(Se),Ue=Eb(Q,de,Pe),wt=wi(Q.components()),ct=Sb({getSystem:j.get,config:function(tr){if(tr===Yc())return Q.apis();if(Ae(tr))throw new Error("Invalid input: only API constant is allowed");var Lr=Pe;return(Ce(Lr[tr.name()])?Lr[tr.name()]:function(){throw new Error("Could not find "+tr.name()+" in "+Qe(_,null,2))})()},hasConfigured:function(tr){return Ce(Pe[tr.name()])},spec:l(_),readState:function(tr){return Pe[tr]().map(function(Lr){return Lr.state.readState()}).getOr("not enabled")},connect:function(tr){j.set(tr)},disconnect:function(){j.set(Ar(I))},element:l(_e),syncComponents:function(){var tr=$n(_e),Lr=xt(tr,function(Qo){return j.get().getByDom(Qo).fold(function(){return[]},function(Li){return[Li]})});wt.set(Lr)},components:wt.get,events:l(Ue)})))},$h=function(u){var m=oe.fromText(u);return _b({element:m})},_b=function(u){var m=Us("external.component",So([Xn("element"),bi("uid")]),u),b=wi(Ar());m.uid().each(function(I){var j;j=m.element(),jo(j,ns,I)});var _=Sb({getSystem:b.get,config:fe.none,hasConfigured:l(!1),connect:function(I){b.set(I)},disconnect:function(){b.set(Ar(function(){return _}))},element:l(m.element()),spec:l(u),readState:l("No state"),syncComponents:r,components:l([]),events:l({})});return Eh(_)},wc=function(u){return(m=u,go(m,Zs)).fold(function(){var b=Le({uid:hd("")},u);return Tb(b).getOrDie()},function(b){return b});var m},Vh=Eh,qh="alloy.item-hover",bd="alloy.item-focus",Nb=function(u){(Cu(u.element()).isNone()||he.isFocused(u))&&(he.isFocused(u)||he.focus(u),si(u,qh,{item:u}))},Yh=function(u){si(u,bd,{item:u})},Sg=l(qh),c0=l(bd),jx=[Xn("data"),Xn("components"),Xn("dom"),bi("toggling"),kn("itemBehaviours",{}),kn("ignoreFocus",!1),kn("domModification",{}),Br("builder",function(u){return{dom:Le(u.dom(),{attributes:{role:u.toggling().isSome()?"menuitemcheckbox":"menuitem"}}),behaviours:Le(Xr([u.toggling().fold(ni.revoke,function(_){return ni.config(Le({aria:{mode:"checked"}},_))}),he.config({ignore:u.ignoreFocus(),onFocus:function(_){Yh(_)}}),Ea.config({mode:"execution"}),na.config({store:{mode:"memory",initialValue:u.data()}})]),u.itemBehaviours()),events:Ti([(m=ui(),b=Fa,Lo(m,function(_,I){var j=I.event();_.getSystem().getByDom(j.target()).each(function(Q){b(_,Q,I)})})),Pc(Zn()),Lo(Qt(),Nb),Lo($r(),he.focus)]),components:u.components(),domModification:u.domModification(),eventOrder:u.eventOrder()};var m,b}),kn("eventOrder",{})],Wx=[Xn("dom"),Xn("components"),Br("builder",function(u){return{dom:u.dom(),components:u.components(),events:Ti([(m=$r(),Lo(m,function(b,_){_.stop()}))])};var m})],kg=l([um({name:"widget",overrides:function(u){return{behaviours:Xr([na.config({store:{mode:"manual",getValue:function(m){return u.data()},setValue:function(){}}})])}}})]),f0=[Xn("uid"),Xn("data"),Xn("components"),Xn("dom"),kn("autofocus",!1),kn("domModification",{}),Mf(kg()),Br("builder",function(u){var m=rg(0,u,kg()),b=Sh("item-widget",u,m.internals()),_=function(j){return Ba(j,u,"widget").map(function(Q){return Ea.focusIn(Q),Q})},I=function(j,Q){return dc(Q.event().target())||u.autofocus()&&Q.setSource(j.element()),fe.none()};return Le({dom:u.dom(),components:b,domModification:u.domModification(),events:Ti([ca(function(j,Q){_(j).each(function(ue){Q.stop()})}),Lo(Qt(),Nb),Lo($r(),function(j,Q){u.autofocus()?_(j):he.focus(j)})]),behaviours:Xr([na.config({store:{mode:"memory",initialValue:u.data()}}),he.config({onFocus:function(j){Yh(j)}}),Ea.config({mode:"special",focusIn:u.autofocus()?function(j){_(j)}:Ts(),onLeft:I,onRight:I,onEscape:function(j,Q){return he.isFocused(j)||u.autofocus()?(u.autofocus()&&Q.setSource(j.element()),fe.none()):(he.focus(j),fe.some(!0))}})])})})],Rb=us("type",{widget:f0,item:jx,separator:Wx}),Ob=l([sm({factory:{sketch:function(u){var m=Us("menu.spec item",Rb,u);return m.builder()(m)}},name:"items",unit:"item",defaults:function(u,m){var b=hd("");return Le({uid:b},m)},overrides:function(u,m){return{type:m.type,ignoreFocus:u.fakeFocus(),domModification:{classes:[u.markers().item()]}}}})]),d0=l([Xn("value"),Xn("items"),Xn("dom"),Xn("components"),kn("eventOrder",{}),Ds("menuBehaviours",[ka,na,Ms,Ea]),ru("movement",{mode:"menu",moveOnTab:!0},us("mode",{grid:[li(),Br("config",function(u,m){return{mode:"flatgrid",selector:"."+u.markers().item(),initSize:{numColumns:m.initSize().numColumns(),numRows:m.initSize().numRows()},focusManager:u.focusManager()}})],menu:[kn("moveOnTab",!0),Br("config",function(u,m){return{mode:"menu",selector:"."+u.markers().item(),moveOnTab:m.moveOnTab(),focusManager:u.focusManager()}})]})),Du("markers",an()),kn("fakeFocus",!1),kn("focusManager",Fc()),to("onHighlight")]),Eg=l("alloy.menu-focus"),Pb=Jc({name:"Menu",configFields:d0(),partFields:Ob(),factory:function(u,m,b,_){return Le({dom:Le(u.dom(),{attributes:{role:"menu"}}),uid:u.uid(),behaviours:Le(Xr([ka.config({highlightClass:u.markers().selectedItem(),itemClass:u.markers().item(),onHighlight:u.onHighlight()}),na.config({store:{mode:"memory",initialValue:u.value()}}),Ms.config({find:fe.some}),Ea.config(u.movement().config()(u,u.movement()))]),Js(u.menuBehaviours())),events:Ti([Lo(c0(),function(I,j){var Q=j.event();I.getSystem().getByDom(Q.target()).each(function(ue){ka.highlight(I,ue),j.stop(),si(I,Eg(),{menu:I,item:ue})})}),Lo(Sg(),function(I,j){var Q=j.event().item();ka.highlight(I,Q)})]),components:m,eventOrder:u.eventOrder()})}}),Db=function(u,m){var b=cn(m),_=uu(b).bind(function(j){var Q,ue,de=function(Pe){return Dt(j,Pe)};return de(m)?fe.some(m):(Q=de,(ue=function(Pe){for(var Se=0;Se<Pe.childNodes.length;Se++){var _e=oe.fromDom(Pe.childNodes[Se]);if(Q(_e))return fe.some(_e);var Ue=ue(Pe.childNodes[Se]);if(Ue.isSome())return Ue}return fe.none()})(m.dom()))}),I=u(m);return _.each(function(j){uu(b).filter(function(Q){return Dt(Q,j)}).fold(function(){Rs(j)},r)}),I},sf=function(u,m,b,_){var I=u.getSystem().build(_);Go(u,I,b)},lf=function(u,m){return u.components()},du=ia({fields:[],name:"replacing",apis:Object.freeze({append:function(u,m,b,_){sf(u,0,yr,_)},prepend:function(u,m,b,_){sf(u,0,hr,_)},remove:function(u,m,b,_){var I=lf(u);Zo(I,function(j){return Dt(_.element(),j.element())}).each(st)},set:function(u,m,b,_){var I,j;j=(I=u).components(),sn(j,ar),Sr(I.element()),I.syncComponents(),Db(function(){var Q=kr(_,u.getSystem().build);sn(Q,function(ue){Di(u,ue)})},u.element())},contents:lf})}),Ab=function(u,m,b,_){return go(b,_).bind(function(I){return go(u,I).bind(function(j){var Q=Ab(u,m,b,j);return fe.some([j].concat(Q))})}).getOr([])},Ux=function(u,m){var b={};At(u,function(Q,ue){sn(Q,function(de){b[de]=ue})});var _=m,I=qt(m,function(Q,ue){return{k:Q,v:ue}}),j=Vt(I,function(Q,ue){return[ue].concat(Ab(b,_,I,ue))});return Vt(b,function(Q){return go(j,Q).getOr([Q])})},Bs=function(){var u=wi({}),m=wi({}),b=wi({}),_=wi(fe.none()),I=wi({}),j=function(Q){return go(m.get(),Q)};return{setContents:function(Q,ue,de,Pe){_.set(fe.some(Q)),u.set(de),m.set(ue),I.set(Pe);var Se=Ux(Pe,de);b.set(Se)},expand:function(Q){return go(u.get(),Q).map(function(ue){var de=go(b.get(),Q).getOr([]);return[ue].concat(de)})},refresh:function(Q){return go(b.get(),Q)},collapse:function(Q){return go(b.get(),Q).bind(function(ue){return 1<ue.length?fe.some(ue.slice(1)):fe.none()})},lookupMenu:j,otherMenus:function(Q){var ue,de,Pe=I.get();return ue=jt(Pe),de=Q,qo(ue,function(Se){return!Qr(de,Se)})},getPrimary:function(){return _.get().bind(j)},getMenus:function(){return m.get()},clear:function(){u.set({}),m.set({}),b.set({}),_.set(fe.none())},isClear:function(){return _.get().isNone()}}},Mb=l("collapse-item"),Tg=Gc({name:"TieredMenu",configFields:[je("onExecute"),je("onEscape"),Ln("onOpenMenu"),Ln("onOpenSubmenu"),to("onCollapseMenu"),kn("openImmediately",!0),Xu("data",[Xn("primary"),Xn("menus"),Xn("expansions")]),kn("fakeFocus",!1),to("onHighlight"),to("onHover"),Xu("markers",[Xn("backgroundMenu")].concat(Tt()).concat(nn())),Xn("dom"),kn("navigateOnHover",!0),kn("stayInDom",!1),Ds("tmenuBehaviours",[Ea,ka,Ms,du]),kn("eventOrder",{})],apis:{collapseMenu:function(u,m){u.collapseMenu(m)}},factory:function(u,m){var b=function(wt,ct){return Vt(ct,function(at,ln){var Sn=Pb.sketch(Le(at,{value:ln,items:at.items,markers:ti(m.markers,["item","selectedItem"]),fakeFocus:u.fakeFocus(),onHighlight:u.onHighlight(),focusManager:u.fakeFocus()?{get:function(tr){return ka.getHighlighted(tr).map(function(Lr){return Lr.element()})},set:function(tr,Lr){tr.getSystem().getByDom(Lr).fold(r,function(Qo){ka.highlight(tr,Qo)})}}:Fc()}));return wt.getSystem().build(Sn)})},_=Bs(),I=function(wt){return na.getValue(wt).value},j=function(wt){return Vt(u.data().menus(),function(ct,at){return xt(ct.items,function(ln){return ln.type==="separator"?[]:[ln.data.value]})})},Q=function(wt,ct){ka.highlight(wt,ct),ka.getHighlighted(ct).orThunk(function(){return ka.getFirst(ct)}).each(function(at){pu(wt,at.element(),$r())})},ue=function(wt,ct){return pe(kr(ct,wt.lookupMenu))},de=function(wt,ct,at){return fe.from(at[0]).bind(ct.lookupMenu).map(function(ln){var Sn=ue(ct,at.slice(1));sn(Sn,function(Lr){Ii(Lr.element(),u.markers().backgroundMenu())}),gn(ln.element())||du.append(wt,Vh(ln)),s0(ln.element(),[u.markers().backgroundMenu()]),Q(wt,ln);var tr=ue(ct,ct.otherMenus(at));return sn(tr,function(Lr){s0(Lr.element(),[u.markers().backgroundMenu()]),u.stayInDom()||du.remove(wt,Lr)}),ln})},Pe=function(wt,ct){var at=I(ct);return _.expand(at).bind(function(ln){return fe.from(ln[0]).bind(_.lookupMenu).each(function(Sn){gn(Sn.element())||du.append(wt,Vh(Sn)),u.onOpenSubmenu()(wt,ct,Sn),ka.highlightFirst(Sn)}),de(wt,_,ln)})},Se=function(wt,ct){var at=I(ct);return _.collapse(at).bind(function(ln){return de(wt,_,ln).map(function(Sn){return u.onCollapseMenu()(wt,ct,Sn),Sn})})},_e=function(wt){return function(ct,at){return ea(at.getSource(),"."+u.markers().item()).bind(function(ln){return ct.getSystem().getByDom(ln).toOption().bind(function(Sn){return wt(ct,Sn).map(function(){return!0})})})}},Ue=Ti([Lo(Eg(),function(wt,ct){var at=ct.event().menu();ka.highlight(wt,at)}),ca(function(wt,ct){var at=ct.event().target();wt.getSystem().getByDom(at).each(function(ln){I(ln).indexOf("collapse-item")===0&&Se(wt,ln),Pe(wt,ln).fold(function(){u.onExecute()(wt,ln)},function(){})})}),Au(function(wt,ct){var at,ln,Sn;(at=wt,ln=b(at,u.data().menus()),Sn=j(),_.setContents(u.data().primary(),ln,u.data().expansions(),Sn),_.getPrimary()).each(function(tr){du.append(wt,Vh(tr)),u.openImmediately()&&(Q(wt,tr),u.onOpenMenu()(wt,tr))})})].concat(u.navigateOnHover()?[Lo(Sg(),function(wt,ct){var at,ln,Sn=ct.event().item();at=wt,ln=I(Sn),_.refresh(ln).bind(function(tr){return de(at,_,tr)}),Pe(wt,Sn),u.onHover()(wt,Sn)})]:[]));return{uid:u.uid(),dom:u.dom(),behaviours:Le(Xr([Ea.config({mode:"special",onRight:_e(function(wt,ct){return dc(ct.element())?fe.none():Pe(wt,ct)}),onLeft:_e(function(wt,ct){return dc(ct.element())?fe.none():Se(wt,ct)}),onEscape:_e(function(wt,ct){return Se(wt,ct).orThunk(function(){return u.onEscape()(wt,ct).map(function(){return wt})})}),focusIn:function(wt,ct){_.getPrimary().each(function(at){pu(wt,at.element(),$r())})}}),ka.config({highlightClass:u.markers().selectedMenu(),itemClass:u.markers().menu()}),Ms.config({find:function(wt){return ka.getHighlighted(wt)}}),du.config({})]),Js(u.tmenuBehaviours())),eventOrder:u.eventOrder(),apis:{collapseMenu:function(wt){ka.getHighlighted(wt).each(function(ct){ka.getHighlighted(ct).each(function(at){Se(wt,at)})})}},events:Ue}},extraApis:{tieredData:function(u,m,b){return{primary:u,menus:m,expansions:b}},singleData:function(u,m){return{primary:u,menus:zo(u,m),expansions:{}}},collapseItem:function(u){return{value:hl(Mb()),text:u}}}}),m0=function(u,m,b,_){return go(m.routes(),_.start()).map(ze).bind(function(I){return go(I,_.destination()).map(ze)})},h0=function(u,m,b,_){return m0(0,m,0,_).bind(function(I){return I.transition().map(function(j){return{transition:l(j),route:l(I)}})})},_g=function(u,m,b){var _,I,j;(_=u,I=m,j=b,p0(_,I).bind(function(Q){return h0(_,I,j,Q)})).each(function(Q){var ue=Q.transition();qi(u.element(),ue.transitionClass()),fa(u.element(),m.destinationAttr())})},p0=function(u,m,b){var _=u.element();return Xa(_,m.destinationAttr())?fe.some({start:l(hi(u.element(),m.stateAttr())),destination:l(hi(u.element(),m.destinationAttr()))}):fe.none()},Kh=function(u,m,b,_){_g(u,m,b),Xa(u.element(),m.stateAttr())&&hi(u.element(),m.stateAttr())!==_&&m.onFinish()(u,_),jo(u.element(),m.stateAttr(),_)},Ib=Object.freeze({findRoute:m0,disableTransition:_g,getCurrentRoute:p0,jumpTo:Kh,progressTo:function(u,m,b,_){var I,j;j=m,Xa((I=u).element(),j.destinationAttr())&&(jo(I.element(),j.stateAttr(),hi(I.element(),j.destinationAttr())),fa(I.element(),j.destinationAttr()));var Q,ue,de=(Q=m,ue=_,{start:l(hi(u.element(),Q.stateAttr())),destination:l(ue)});h0(u,m,b,de).fold(function(){Kh(u,m,b,_)},function(Pe){_g(u,m,b);var Se=Pe.transition();Ii(u.element(),Se.transitionClass()),jo(u.element(),m.destinationAttr(),_)})},getState:function(u,m,b){var _=u.element();return Xa(_,m.stateAttr())?fe.some(hi(_,m.stateAttr())):fe.none()}}),$x=Object.freeze({events:function(u,m){return Ti([Lo(mn(),function(b,_){var I=_.event().raw();p0(b,u).each(function(j){m0(0,u,0,j).each(function(Q){Q.transition().each(function(ue){I.propertyName===ue.property()&&(Kh(b,u,m,j.destination()),u.onTransition()(b,j))})})})}),Au(function(b,_){Kh(b,u,m,u.initialState())})])}}),Vx=[kn("destinationAttr","data-transitioning-destination"),kn("stateAttr","data-transitioning-state"),Xn("initialState"),to("onTransition"),to("onFinish"),Du("routes",Io(no.value,Io(no.value,So([sl("transition",[Xn("property"),Xn("transitionClass")])]))))],$f=ia({fields:Vx,name:"transitioning",active:$x,apis:Ib,extra:{createRoutes:function(u){var m={};return At(u,function(b,_){var I=_.split("<->");m[I[0]]=zo(I[1],b),m[I[1]]=zo(I[0],b)}),m},createBistate:function(u,m,b){return Ei([{key:u,value:zo(m,b)},{key:m,value:zo(u,b)}])},createTristate:function(u,m,b,_){return Ei([{key:u,value:Ei([{key:m,value:_},{key:b,value:_}])},{key:m,value:Ei([{key:u,value:_},{key:b,value:_}])},{key:b,value:Ei([{key:u,value:_},{key:m,value:_}])}])}}}),Ng=S.resolve("scrollable"),wd={register:function(u){Ii(u,Ng)},deregister:function(u){qi(u,Ng)},scrollable:l(Ng)},Rg=function(u){return go(u,"format").getOr(u.title)},Bb=function(u,m,b,_,I){return{data:{value:u,text:m},type:"item",dom:{tag:"div",classes:I?[S.resolve("styles-item-is-menu")]:[]},toggling:{toggleOnExecute:!1,toggleClass:S.resolve("format-matches"),selected:b},itemBehaviours:Xr(I?[]:[Lu(u,function(j,Q){(Q?ni.on:ni.off)(j)})]),components:[{dom:{tag:"div",attributes:{style:_},innerHtml:m}}]}},xd=function(u,m,b,_){return{value:u,dom:{tag:"div"},components:[ju.sketch({dom:{tag:"div",classes:[S.resolve("styles-collapser")]},components:_?[{dom:{tag:"span",classes:[S.resolve("styles-collapse-icon")]}},$h(u)]:[$h(u)],action:function(I){if(_){var j=b().get(I);Tg.collapseMenu(j)}}}),{dom:{tag:"div",classes:[S.resolve("styles-menu-items-container")]},components:[Pb.parts().items({})],behaviours:Xr([zf("adhoc-scrollable-menu",[Au(function(I,j){rt(I.element(),"overflow-y","auto"),rt(I.element(),"-webkit-overflow-scrolling","touch"),wd.register(I.element())}),Sf(function(I){zr(I.element(),"overflow-y"),zr(I.element(),"-webkit-overflow-scrolling"),wd.deregister(I.element())})])])}],items:m,menuBehaviours:Xr([$f.config({initialState:"after",routes:$f.createTristate("before","current","after",{transition:{property:"transform",transitionClass:"transitioning"}})})])}},qx=function(u){var m,b,_,I,j,Q=(m=u.formats,b=function(){return ue},_=xd("Styles",[].concat(kr(m.items,function(de){return Bb(Rg(de),de.title,de.isSelected(),de.getPreview(),ne(m.expansions,Rg(de)))})),b,!1),I=Vt(m.menus,function(de,Pe){var Se=kr(de,function(_e){return Bb(Rg(_e),_e.title,_e.isSelected!==void 0&&_e.isSelected(),_e.getPreview!==void 0?_e.getPreview():"",ne(m.expansions,Rg(_e)))});return xd(Pe,Se,b,!0)}),j=Le(I,zo("styles",_)),{tmenu:Tg.tieredData("styles",j,m.expansions)}),ue=cu(Tg.sketch({dom:{tag:"div",classes:[S.resolve("styles-menu")]},components:[],fakeFocus:!0,stayInDom:!0,onExecute:function(de,Pe){var Se=na.getValue(Pe);return u.handle(Pe,Se.value),fe.none()},onEscape:function(){return fe.none()},onOpenMenu:function(de,Pe){var Se=rf(de.element());nf(Pe.element(),Se),$f.jumpTo(Pe,"current")},onOpenSubmenu:function(de,Pe,Se){var _e=rf(de.element()),Ue=za(Pe.element(),'[role="menu"]').getOrDie("hacky"),wt=de.getSystem().getByDom(Ue).getOrDie();nf(Se.element(),_e),$f.progressTo(wt,"before"),$f.jumpTo(Se,"after"),$f.progressTo(Se,"current")},onCollapseMenu:function(de,Pe,Se){var _e=za(Pe.element(),'[role="menu"]').getOrDie("hacky"),Ue=de.getSystem().getByDom(_e).getOrDie();$f.progressTo(Ue,"after"),$f.progressTo(Se,"current")},navigateOnHover:!1,openImmediately:!0,data:Q.tmenu,markers:{backgroundMenu:S.resolve("styles-background-menu"),menu:S.resolve("styles-menu"),selectedMenu:S.resolve("styles-selected-menu"),item:S.resolve("styles-item"),selectedItem:S.resolve("styles-selected-item")}}));return ue.asSpec()},Yx=function(u){return ne(u,"items")?(b=Le(br(m=u,["items"]),{menu:!0}),_=Xh(m.items),{item:b,menus:Le(_.menus,zo(m.title,_.items)),expansions:Le(_.expansions,zo(m.title,m.title))}):{item:u,menus:{},expansions:{}};var m,b,_},Xh=function(u){return wr(u,function(m,b){var _=Yx(b);return{menus:Le(m.menus,_.menus),items:[_.item].concat(m.items),expansions:Le(m.expansions,_.expansions)}},{menus:{},expansions:{},items:[]})},Lb={expand:Xh},Cm=function(u,m){var b=function(Q){return function(){return u.formatter.match(Q)}},_=function(Q){return function(){return u.formatter.getCssText(Q)}},I=go(m,"style_formats").getOr(Nt),j=function(Q){return kr(Q,function(ue){if(ne(ue,"items")){var de=j(ue.items);return Le(Le(ue,{isSelected:l(!1),getPreview:l("")}),{items:de})}return ne(ue,"format")?Le(Ue=ue,{isSelected:b(Ue.format),getPreview:_(Ue.format)}):(Se=hl((Pe=ue).title),_e=Le(Pe,{format:Se,isSelected:b(Se),getPreview:_(Se)}),u.formatter.register(Se,_e),_e);var Pe,Se,_e,Ue})};return j(I)},Fb=function(u,m,b){var _,I,j,Q=(_=u,j=(I=function(ue){return xt(ue,function(de){return de.items!==void 0?0<I(de.items).length?[de]:[]:!ne(de,"format")||_.formatter.canApply(de.format)?[de]:[]})})(m),Lb.expand(j));return qx({formats:Q,handle:function(ue,de){u.undoManager.transact(function(){ni.isOn(ue)?u.formatter.remove(de):u.formatter.apply(de)}),b()}})},Hb=["undo","bold","italic","link","image","bullist","styleselect"],g0=function(u){var m=u.replace(/\|/g," ").trim();return 0<m.length?m.split(/\s+/):[]},Gh=function(u){return xt(u,function(m){return vt(m)?Gh(m):g0(m)})},Kx=function(u){var m=u.toolbar!==void 0?u.toolbar:Hb;return vt(m)?Gh(m):g0(m)},Xx=function(u,m){var b=function(Sn){return function(){return zl.forToolbarCommand(m,Sn)}},_=function(Sn){return function(){return zl.forToolbarStateCommand(m,Sn)}},I=function(Sn,tr,Lr){return function(){return zl.forToolbarStateAction(m,Sn,tr,Lr)}},j=b("undo"),Q=b("redo"),ue=_("bold"),de=_("italic"),Pe=_("underline"),Se=b("removeformat"),_e=I("unlink","link",function(){m.execCommand("unlink",null,!1)}),Ue=I("unordered-list","ul",function(){m.execCommand("InsertUnorderedList",null,!1)}),wt=I("ordered-list","ol",function(){m.execCommand("InsertOrderedList",null,!1)}),ct=Cm(m,m.settings),at=function(){return Fb(m,ct,function(){m.fire("scrollIntoView")})},ln=function(Sn,tr){return{isSupported:function(){return Sn.forall(function(Lr){return ne(m.buttons,Lr)})},sketch:tr}};return{undo:ln(fe.none(),j),redo:ln(fe.none(),Q),bold:ln(fe.none(),ue),italic:ln(fe.none(),de),underline:ln(fe.none(),Pe),removeformat:ln(fe.none(),Se),link:ln(fe.none(),function(){return Sn=u,tr=m,zl.forToolbarStateAction(tr,"link","link",function(){var Lr=Ht(Sn,tr);Sn.setContextToolbar(Lr),n0(tr,function(){Sn.focusToolbar()}),xm.query(tr).each(function(Qo){tr.selection.select(Qo.dom())})});var Sn,tr}),unlink:ln(fe.none(),_e),image:ln(fe.none(),function(){return Bh(m)}),bullist:ln(fe.some("bullist"),Ue),numlist:ln(fe.some("numlist"),wt),fontsizeselect:ln(fe.none(),function(){return Sn=m,tr={onChange:function(Lr){vm.apply(Sn,Lr)},getInitialValue:function(){return vm.get(Sn)}},Ff(u,"font-size",function(){return ym(tr)});var Sn,tr}),forecolor:ln(fe.none(),function(){return Hf(u,m)}),styleselect:ln(fe.none(),function(){return zl.forToolbar("style-formats",function(Sn){m.fire("toReading"),u.dropup().appear(at,ni.on,Sn)},Xr([ni.config({toggleClass:S.resolve("toolbar-button-selected"),toggleOnExecute:!1,aria:{mode:"pressed"}}),xa.config({channels:Ei([c(Aa.orientationChanged(),ni.off),c(Aa.dropupDismissed(),ni.off)])})]))})}},zb=function(u,m){var b=Kx(u),_={};return xt(b,function(I){var j=!ne(_,I)&&ne(m,I)&&m[I].isSupported()?[m[I].sketch()]:[];return _[I]=!0,j})},jb=function(u,m){return function(b){if(u(b)){var _,I,j,Q,ue,de,Pe,Se=oe.fromDom(b.target),_e=function(){b.stopPropagation()},Ue=function(){b.preventDefault()},wt=a(Ue,_e),ct=(_=Se,I=b.clientX,j=b.clientY,Q=_e,ue=Ue,de=wt,Pe=b,{target:l(_),x:l(I),y:l(j),stop:Q,prevent:ue,kill:de,raw:l(Pe)});m(ct)}}},v0=function(u,m,b,_,I){var j=jb(b,_);return u.dom().addEventListener(m,j,I),{unbind:x(Wb,u,m,j,I)}},Wb=function(u,m,b,_){u.dom().removeEventListener(m,b,_)},_u=l(!0),da=function(u,m,b){return v0(u,m,_u,b,!1)},y0=function(u,m,b){return v0(u,m,_u,b,!0)},b0=function(u){var m=u.matchMedia("(orientation: portrait)").matches;return{isPortrait:l(m)}},Ub=b0,$b=function(u,m){var b=oe.fromDom(u),_=null,I=da(b,"orientationchange",function(){clearInterval(_);var Q=b0(u);m.onChange(Q),j(function(){m.onReady(Q)})}),j=function(Q){clearInterval(_);var ue=u.innerHeight,de=0;_=setInterval(function(){ue!==u.innerHeight?(clearInterval(_),Q(fe.some(u.innerHeight))):20<de&&(clearInterval(_),Q(fe.none())),de++},50)};return{onAdjustment:j,destroy:function(){I.unbind()}}},Gx=function(u){var m=gt.detect().os.isiOS(),b=b0(u).isPortrait();return m&&!b?u.screen.height:u.screen.width},Vb=function(u){var m=u.raw();return m.touches===void 0||m.touches.length!==1?fe.none():fe.some(m.touches[0])},w0=function(u){var m,b,_,I=wi(fe.none()),j=(m=function(ue){I.set(fe.none()),u.triggerEvent(Pi(),ue)},b=400,_=null,{cancel:function(){_!==null&&(t.clearTimeout(_),_=null)},schedule:function(){for(var ue=[],de=0;de<arguments.length;de++)ue[de]=arguments[de];_=t.setTimeout(function(){m.apply(null,ue),_=null},b)}}),Q=Ei([{key:Yn(),value:function(ue){return Vb(ue).each(function(de){j.cancel();var Pe={x:l(de.clientX),y:l(de.clientY),target:ue.target};j.schedule(ue),I.set(fe.some(Pe))}),fe.none()}},{key:Pn(),value:function(ue){return j.cancel(),Vb(ue).each(function(de){I.get().each(function(Pe){var Se,_e,Ue,wt;Se=de,_e=Pe,Ue=Math.abs(Se.clientX-_e.x()),wt=Math.abs(Se.clientY-_e.y()),(5<Ue||5<wt)&&I.set(fe.none())})}),fe.none()}},{key:dr(),value:function(ue){return j.cancel(),I.get().filter(function(de){return Dt(de.target(),ue.target())}).map(function(de){return u.triggerEvent(To(),ue)})}}]);return{fireIfReady:function(ue,de){return go(Q,de).bind(function(Pe){return Pe(ue)})}}},Jh=function(u){var m=w0({triggerEvent:function(b,_){u.onTapContent(_)}});return{fireTouchstart:function(b){m.fireIfReady(b,"touchstart")},onTouchend:function(){return da(u.body(),"touchend",function(b){m.fireIfReady(b,"touchend")})},onTouchmove:function(){return da(u.body(),"touchmove",function(b){m.fireIfReady(b,"touchmove")})}}},x0=6<=gt.detect().os.version.major,qb=function(u,m,b){var _=Jh(u),I=cn(m),j=function(de){return!Dt(de.start(),de.finish())||de.soffset()!==de.foffset()},Q=function(){var de=u.doc().dom().hasFocus()&&u.getSelection().exists(j);b.getByDom(m).each((de||uu(I).filter(function(Pe){return Zt(Pe)==="input"}).exists(function(Pe){return Pe.dom().selectionStart!==Pe.dom().selectionEnd}))===!0?ni.on:ni.off)},ue=[da(u.body(),"touchstart",function(de){u.onTouchContent(),_.fireTouchstart(de)}),_.onTouchmove(),_.onTouchend(),da(m,"touchstart",function(de){u.onTouchToolstrip()}),u.onToReading(function(){Ri(u.body())}),u.onToEditing(r),u.onScrollToCursor(function(de){de.preventDefault(),u.getCursorBox().each(function(Pe){var Se=u.win(),_e=Pe.top()>Se.innerHeight||Pe.bottom()>Se.innerHeight?Pe.bottom()-Se.innerHeight+50:0;_e!==0&&Se.scrollTo(Se.pageXOffset,Se.pageYOffset+_e)})})].concat(x0===!0?[]:[da(oe.fromDom(u.win()),"blur",function(){b.getByDom(m).each(ni.off)}),da(I,"select",Q),da(u.doc(),"selectionchange",Q)]);return{destroy:function(){sn(ue,function(de){de.unbind()})}}},Qh=function(u,m){var b=parseInt(hi(u,m),10);return isNaN(b)?0:b},Jx=(vd=_n,Uu="text",{get:function(u){if(!vd(u))throw new Error("Can only get "+Uu+" value of a "+Uu+" node");return Ih(u).getOr("")},getOption:Ih=function(u){return vd(u)?fe.from(u.dom().nodeValue):fe.none()},set:function(u,m){if(!vd(u))throw new Error("Can only set raw "+Uu+" value of a "+Uu+" node");u.dom().nodeValue=m}}),Qx=function(u){return Zt(u)==="img"?1:(m=u,Jx.getOption(m)).fold(function(){return $n(u).length},function(b){return b.length});var m},C0={create:Nn("start","soffset","finish","foffset")},Zh=Vo([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),xc={before:Zh.before,on:Zh.on,after:Zh.after,cata:function(u,m,b,_){return u.fold(m,b,_)},getStart:function(u){return u.fold(g,g,g)}},Og=Vo([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Pg={domRange:Og.domRange,relative:Og.relative,exact:Og.exact,exactFromRange:function(u){return Og.exact(u.start(),u.soffset(),u.finish(),u.foffset())},getWin:function(u){var m=u.match({domRange:function(b){return oe.fromDom(b.startContainer)},relative:function(b,_){return xc.getStart(b)},exact:function(b,_,I,j){return b}});return On(m)},range:C0.create},Dg=function(u,m,b){var _,I,j=u.document.createRange();return _=j,m.fold(function(Q){_.setStartBefore(Q.dom())},function(Q,ue){_.setStart(Q.dom(),ue)},function(Q){_.setStartAfter(Q.dom())}),I=j,b.fold(function(Q){I.setEndBefore(Q.dom())},function(Q,ue){I.setEnd(Q.dom(),ue)},function(Q){I.setEndAfter(Q.dom())}),j},S0=function(u,m,b,_,I){var j=u.document.createRange();return j.setStart(m.dom(),b),j.setEnd(_.dom(),I),j},Yb=function(u){return{left:l(u.left),top:l(u.top),right:l(u.right),bottom:l(u.bottom),width:l(u.width),height:l(u.height)}},k0=Vo([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Ag=function(u,m,b){return m(oe.fromDom(b.startContainer),b.startOffset,oe.fromDom(b.endContainer),b.endOffset)},Mg=function(u,m){var b,_,I,j=(b=u,m.match({domRange:function(Q){return{ltr:l(Q),rtl:fe.none}},relative:function(Q,ue){return{ltr:Un(function(){return Dg(b,Q,ue)}),rtl:Un(function(){return fe.some(Dg(b,ue,Q))})}},exact:function(Q,ue,de,Pe){return{ltr:Un(function(){return S0(b,Q,ue,de,Pe)}),rtl:Un(function(){return fe.some(S0(b,de,Pe,Q,ue))})}}}));return(I=(_=j).ltr()).collapsed?_.rtl().filter(function(Q){return Q.collapsed===!1}).map(function(Q){return k0.rtl(oe.fromDom(Q.endContainer),Q.endOffset,oe.fromDom(Q.startContainer),Q.startOffset)}).getOrThunk(function(){return Ag(0,k0.ltr,I)}):Ag(0,k0.ltr,I)},E0=function(u,m){var b=Zt(u);return b==="input"?xc.after(u):Qr(["br","img"],b)?m===0?xc.before(u):xc.after(u):xc.on(u,m)},Kb=function(u,m,b,_){var I,j,Q,ue,de,Pe=(j=m,Q=b,ue=_,(de=cn(I=u).dom().createRange()).setStart(I.dom(),j),de.setEnd(Q.dom(),ue),de),Se=Dt(u,b)&&m===_;return Pe.collapsed&&!Se},Ig=function(u,m,b,_,I){var j,Q,ue=S0(u,m,b,_,I);j=u,Q=ue,fe.from(j.getSelection()).each(function(de){de.removeAllRanges(),de.addRange(Q)})},Sm=function(u,m,b,_,I){var j,Q,ue,de,Pe,Se=(j=_,Q=I,ue=E0(m,b),de=E0(j,Q),Pg.relative(ue,de));Mg(Pe=u,Se).match({ltr:function(_e,Ue,wt,ct){Ig(Pe,_e,Ue,wt,ct)},rtl:function(_e,Ue,wt,ct){var at,ln,Sn,tr,Lr,Qo=Pe.getSelection();if(Qo.setBaseAndExtent)Qo.setBaseAndExtent(_e.dom(),Ue,wt.dom(),ct);else if(Qo.extend)try{ln=_e,Sn=Ue,tr=wt,Lr=ct,(at=Qo).collapse(ln.dom(),Sn),at.extend(tr.dom(),Lr)}catch{Ig(Pe,wt,ct,_e,Ue)}else Ig(Pe,wt,ct,_e,Ue)}})},Xb=function(u){var m=oe.fromDom(u.anchorNode),b=oe.fromDom(u.focusNode);return Kb(m,u.anchorOffset,b,u.focusOffset)?fe.some(C0.create(m,u.anchorOffset,b,u.focusOffset)):function(_){if(0<_.rangeCount){var I=_.getRangeAt(0),j=_.getRangeAt(_.rangeCount-1);return fe.some(C0.create(oe.fromDom(I.startContainer),I.startOffset,oe.fromDom(j.endContainer),j.endOffset))}return fe.none()}(u)},Bg=function(u){return fe.from(u.getSelection()).filter(function(m){return 0<m.rangeCount}).bind(Xb)},Gb=function(u,m){var b,_,I,j,Q=Mg(b=u,m).match({ltr:function(ue,de,Pe,Se){var _e=b.document.createRange();return _e.setStart(ue.dom(),de),_e.setEnd(Pe.dom(),Se),_e},rtl:function(ue,de,Pe,Se){var _e=b.document.createRange();return _e.setStart(Pe.dom(),Se),_e.setEnd(ue.dom(),de),_e}});return I=(_=Q).getClientRects(),0<(j=0<I.length?I[0]:_.getBoundingClientRect()).width||0<j.height?fe.some(j).map(Yb):fe.none()},Lg=function(u){return{left:u.left,top:u.top,right:u.right,bottom:u.bottom,width:l(2),height:u.height}},ep=function(u){return{left:l(u.left),top:l(u.top),right:l(u.right),bottom:l(u.bottom),width:l(u.width),height:l(u.height)}},T0=function(u){var m=u.getSelection();return m!==void 0&&0<m.rangeCount?function(b){if(b.collapsed){var _=oe.fromDom(b.startContainer);return sr(_).bind(function(I){var j=Pg.exact(_,b.startOffset,I,Qx(I));return Gb(b.startContainer.ownerDocument.defaultView,j).map(Lg).map(yt)}).getOr([])}return kr(b.getClientRects(),ep)}(m.getRangeAt(0)):[]},Jb=function(u){u.focus();var m=oe.fromDom(u.document.body);(uu().exists(function(b){return Qr(["input","textarea"],Zt(b))})?function(b){setTimeout(function(){b()},0)}:ze)(function(){uu().each(Ri),Rs(m)})},tp="data-"+S.resolve("last-outer-height"),km=function(u,m){jo(u,tp,m)},Zx=function(u){return{top:l(u.top()),bottom:l(u.top()+u.height())}},Qb=function(u,m){var b=Qh(m,tp),_=u.innerHeight;return _<b?fe.some(b-_):fe.none()},Fg=function(u,m){var b=oe.fromDom(m.document.body),_=da(oe.fromDom(u),"resize",function(){Qb(u,b).each(function(I){var j,Q;(j=m,Q=T0(j),0<Q.length?fe.some(Q[0]).map(Zx):fe.none()).each(function(ue){var de,Pe,Se,_e=(de=m,Se=I,(Pe=ue).top()>de.innerHeight||Pe.bottom()>de.innerHeight?Math.min(Se,Pe.bottom()-de.innerHeight+50):0);_e!==0&&m.scrollTo(m.pageXOffset,m.pageYOffset+_e)})}),km(b,u.innerHeight)});return km(b,u.innerHeight),{toEditing:function(){Jb(m)},destroy:function(){_.unbind()}}},Zb=function(u){return fe.some(oe.fromDom(u.dom().contentWindow.document.body))},_0=function(u){return fe.some(oe.fromDom(u.dom().contentWindow.document))},N0=function(u){return fe.from(u.dom().contentWindow)},R0=function(u){return N0(u).bind(Bg)},O0=function(u){return u.getFrame()},Hg=function(u,m){return function(b){return b[u].getOrThunk(function(){var _=O0(b);return function(){return m(_)}})()}},P0=function(u,m,b,_){return u[b].getOrThunk(function(){return function(I){return da(m,_,I)}})},e1=function(u){return{left:l(u.left),top:l(u.top),right:l(u.right),bottom:l(u.bottom),width:l(u.width),height:l(u.height)}},zg={getBody:Hg("getBody",Zb),getDoc:Hg("getDoc",_0),getWin:Hg("getWin",N0),getSelection:Hg("getSelection",R0),getFrame:O0,getActiveApi:function(u){var m=O0(u);return Zb(m).bind(function(b){return _0(m).bind(function(_){return N0(m).map(function(I){var j=oe.fromDom(_.dom().documentElement),Q=u.getCursorBox.getOrThunk(function(){return function(){return(Pe=I,Bg(Pe).map(function(Se){return Pg.exact(Se.start(),Se.soffset(),Se.finish(),Se.foffset())})).bind(function(Se){return Gb(I,Se).orThunk(function(){return Bg(I).filter(function(_e){return Dt(_e.start(),_e.finish())&&_e.soffset()===_e.foffset()}).bind(function(_e){var Ue=_e.start().dom().getBoundingClientRect();return 0<Ue.width||0<Ue.height?fe.some(Ue).map(e1):fe.none()})})});var Pe}}),ue=u.setSelection.getOrThunk(function(){return function(Pe,Se,_e,Ue){Sm(I,Pe,Se,_e,Ue)}}),de=u.clearSelection.getOrThunk(function(){return function(){I.getSelection().removeAllRanges()}});return{body:l(b),doc:l(_),win:l(I),html:l(j),getSelection:x(R0,m),setSelection:ue,clearSelection:de,frame:l(m),onKeyup:P0(u,_,"onKeyup","keyup"),onNodeChanged:P0(u,_,"onNodeChanged","selectionchange"),onDomChanged:u.onDomChanged,onScrollToCursor:u.onScrollToCursor,onScrollToElement:u.onScrollToElement,onToReading:u.onToReading,onToEditing:u.onToEditing,onToolbarScrollStart:u.onToolbarScrollStart,onTouchContent:u.onTouchContent,onTapContent:u.onTapContent,onTouchToolstrip:u.onTouchToolstrip,getCursorBox:Q}})})})}},jg="data-ephox-mobile-fullscreen-style",t1="position:absolute!important;",n1="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",r1=gt.detect().os.isAndroid(),o1=function(u,m){var b,_,I,j=function(Pe){return function(Se){var _e=hi(Se,"style"),Ue=_e===void 0?"no-styles":_e.trim();Ue!==Pe&&(jo(Se,jg,Ue),jo(Se,"style",Pe))}},Q=(b="*",ri(u,function(Pe){return Re(Pe,b)},_)),ue=xt(Q,function(Pe){var Se;return Se="*",xi(Pe,function(_e){return Re(_e,Se)})}),de=(I=Lt(m,"background-color"))!==void 0&&I!==""?"background-color:"+I+"!important":"background-color:rgb(255,255,255)!important;";sn(ue,j("display:none!important;")),sn(Q,j(t1+n1+de)),j((r1===!0?"":t1)+n1+de)(u)},D0=function(){var u=bt("["+jg+"]");sn(u,function(m){var b=hi(m,jg);b!=="no-styles"?jo(m,"style",b):fa(m,"style"),fa(m,jg)})},A0=function(){var u=Fu("head").getOrDie(),m=Fu('meta[name="viewport"]').getOrThunk(function(){var _=oe.fromTag("meta");return jo(_,"name","viewport"),yr(u,_),_}),b=hi(m,"content");return{maximize:function(){jo(m,"content","width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0")},restore:function(){b!=null&&0<b.length?jo(m,"content",b):jo(m,"content","user-scalable=yes")}}},eC=function(u,m){var b=A0(),_=ie(),I=ie();return{enter:function(){m.hide(),Ii(u.container,S.resolve("fullscreen-maximized")),Ii(u.container,S.resolve("android-maximized")),b.maximize(),Ii(u.body,S.resolve("android-scroll-reload")),_.set(Fg(u.win,zg.getWin(u.editor).getOrDie("no"))),zg.getActiveApi(u.editor).each(function(j){o1(u.container,j.body()),I.set(qb(j,u.toolstrip,u.alloy))})},exit:function(){b.restore(),m.show(),qi(u.container,S.resolve("fullscreen-maximized")),qi(u.container,S.resolve("android-maximized")),D0(),qi(u.body,S.resolve("android-scroll-reload")),I.clear(),_.clear()}}},i1=function(u,m){var b=null;return{cancel:function(){b!==null&&(t.clearTimeout(b),b=null)},throttle:function(){for(var _=[],I=0;I<arguments.length;I++)_[I]=arguments[I];b!==null&&t.clearTimeout(b),b=t.setTimeout(function(){u.apply(null,_),b=null},m)}}},M0=function(u,m){var b,_,I,j=cu(Is.sketch({dom:zi('<div aria-hidden="true" class="${prefix}-mask-tap-icon"></div>'),containerBehaviours:Xr([ni.config({toggleClass:S.resolve("mask-tap-icon-selected"),toggleOnExecute:!1})])})),Q=(b=u,_=200,I=null,{cancel:function(){I!==null&&(t.clearTimeout(I),I=null)},throttle:function(){for(var ue=[],de=0;de<arguments.length;de++)ue[de]=arguments[de];I===null&&(I=t.setTimeout(function(){b.apply(null,ue),I=null},_))}});return Is.sketch({dom:zi('<div class="${prefix}-disabled-mask"></div>'),components:[Is.sketch({dom:zi('<div class="${prefix}-content-container"></div>'),components:[ju.sketch({dom:zi('<div class="${prefix}-content-tap-section"></div>'),components:[j.asSpec()],action:function(ue){Q.throttle()},buttonBehaviours:Xr([ni.config({toggleClass:S.resolve("mask-tap-icon-selected")})])})]})]})},Wg=Ko([Xu("editor",[Xn("getFrame"),bi("getBody"),bi("getDoc"),bi("getWin"),bi("getSelection"),bi("setSelection"),bi("clearSelection"),bi("cursorSaver"),bi("onKeyup"),bi("onNodeChanged"),bi("getCursorBox"),Xn("onDomChanged"),kn("onTouchContent",r),kn("onTapContent",r),kn("onTouchToolstrip",r),kn("onScrollToCursor",l({unbind:r})),kn("onScrollToElement",l({unbind:r})),kn("onToEditing",l({unbind:r})),kn("onToReading",l({unbind:r})),kn("onToolbarScrollStart",g)]),Xn("socket"),Xn("toolstrip"),Xn("dropup"),Xn("toolbar"),Xn("container"),Xn("alloy"),$t("win",function(u){return cn(u.socket).dom().defaultView}),$t("body",function(u){return oe.fromDom(u.socket.dom().ownerDocument.body)}),kn("translate",g),kn("setReadOnly",r),kn("readOnlyOnInit",l(!0))]),Ug=function(u){var m=va("Getting AndroidWebapp schema",Wg,u);rt(m.toolstrip,"width","100%");var b=wc(M0(function(){m.setReadOnly(m.readOnlyOnInit()),I.enter()},m.translate));m.alloy.add(b);var _={show:function(){m.alloy.add(b)},hide:function(){m.alloy.remove(b)}};yr(m.container,b.element());var I=eC(m,_);return{setReadOnly:m.setReadOnly,refreshStructure:r,enter:I.enter,exit:I.exit,destroy:r}},tC=l([kn("shell",!0),Ds("toolbarBehaviours",[du])]),nC=l([ng({name:"groups",overrides:function(u){return{behaviours:Xr([du.config({})])}}})]),$g=Jc({name:"Toolbar",configFields:tC(),partFields:nC(),factory:function(u,m,b,_){var I=function(Q){return u.shell()?fe.some(Q):Ba(Q,u,"groups")},j=u.shell()?{behaviours:[du.config({})],components:[]}:{behaviours:[],components:m};return{uid:u.uid(),dom:u.dom(),components:j.components,behaviours:Le(Xr(j.behaviours),Js(u.toolbarBehaviours())),apis:{setGroups:function(Q,ue){I(Q).fold(function(){throw t.console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(de){du.set(de,ue)})}},domModification:{attributes:{role:"group"}}}},apis:{setGroups:function(u,m,b){u.setGroups(m,b)}}}),Vg=l([Xn("items"),(pg=["itemClass"],Xu("markers",kr(pg,Xn))),Ds("tgroupBehaviours",[Ea])]),I0=l([sm({name:"items",unit:"item",overrides:function(u){return{domModification:{classes:[u.markers().itemClass()]}}}})]),B0=Jc({name:"ToolbarGroup",configFields:Vg(),partFields:I0(),factory:function(u,m,b,_){return Le({dom:{attributes:{role:"toolbar"}}},{uid:u.uid(),dom:u.dom(),components:m,behaviours:Le(Xr([Ea.config({mode:"flow",selector:"."+u.markers().itemClass()})]),Js(u.tgroupBehaviours())),"debug.sketcher":b["debug.sketcher"]})}}),qg="data-"+S.resolve("horizontal-scroll"),a1=function(u){return hi(u,qg)==="true"?0<(b=u).dom().scrollLeft||function(_){_.dom().scrollLeft=1;var I=_.dom().scrollLeft!==0;return _.dom().scrollLeft=0,I}(b):0<(m=u).dom().scrollTop||function(_){_.dom().scrollTop=1;var I=_.dom().scrollTop!==0;return _.dom().scrollTop=0,I}(m);var m,b},L0={exclusive:function(u,m){return da(u,"touchmove",function(b){ea(b.target(),m).filter(a1).fold(function(){b.raw().preventDefault()},r)})},markAsHorizontal:function(u){jo(u,qg,"true")}};function np(){var u=function(j){var Q=j.scrollable===!0?"${prefix}-toolbar-scrollable-group":"";return{dom:zi('<div aria-label="'+j.label+'" class="${prefix}-toolbar-group '+Q+'"></div>'),tgroupBehaviours:Xr([zf("adhoc-scrollable-toolbar",j.scrollable===!0?[Dc(function(ue,de){rt(ue.element(),"overflow-x","auto"),L0.markAsHorizontal(ue.element()),wd.register(ue.element())})]:[])]),components:[Is.sketch({components:[B0.parts().items({})]})],markers:{itemClass:S.resolve("toolbar-group-item")},items:j.items}},m=wc($g.sketch({dom:zi('<div class="${prefix}-toolbar"></div>'),components:[$g.parts().groups({})],toolbarBehaviours:Xr([ni.config({toggleClass:S.resolve("context-toolbar"),toggleOnExecute:!1,aria:{mode:"none"}}),Ea.config({mode:"cyclic"})]),shell:!0})),b=wc(Is.sketch({dom:{classes:[S.resolve("toolstrip")]},components:[Vh(m)],containerBehaviours:Xr([ni.config({toggleClass:S.resolve("android-selection-context-toolbar"),toggleOnExecute:!1})])})),_=function(){$g.setGroups(m,I.get()),ni.off(m)},I=wi([]);return{wrapper:l(b),toolbar:l(m),createGroups:function(j){return kr(j,a(B0.sketch,u))},setGroups:function(j){I.set(j),_()},setContextToolbar:function(j){ni.on(m),$g.setGroups(m,j)},restoreToolbar:function(){ni.isOn(m)&&_()},refresh:function(){},focus:function(){Ea.focusIn(m)}}}var tl=function(u,m){du.append(u,Vh(m))},Yg=function(u,m){du.remove(u,m)},rp=function(u){return wc(ju.sketch({dom:zi('<div class="${prefix}-mask-edit-icon ${prefix}-icon"></div>'),action:function(){u.run(function(m){m.setReadOnly(!1)})}}))},Cd=function(){return wc(Is.sketch({dom:zi('<div class="${prefix}-editor-socket"></div>'),components:[],containerBehaviours:Xr([du.config({})])}))},F0=function(u,m,b,_){(b===!0?ss.toAlpha:ss.toOmega)(_),(b?tl:Yg)(u,m)},Em=function(u,m){return m.getAnimationRoot().fold(function(){return u.element()},function(b){return b(u)})},Tm=function(u){return u.dimension().property()},op=function(u,m){return u.dimension().getDimension()(m)},ip=function(u,m){var b=Em(u,m);s0(b,[m.shrinkingClass(),m.growingClass()])},ap=function(u,m){qi(u.element(),m.openClass()),Ii(u.element(),m.closedClass()),rt(u.element(),Tm(m),"0px"),jr(u.element())},u1=function(u,m){qi(u.element(),m.closedClass()),Ii(u.element(),m.openClass()),zr(u.element(),Tm(m))},H0=function(u,m,b){b.setCollapsed(),rt(u.element(),Tm(m),op(m,u.element())),jr(u.element());var _=Em(u,m);Ii(_,m.shrinkingClass()),ap(u,m),m.onStartShrink()(u)},z0=function(u,m,b){var _=function(j,Q){u1(j,Q);var ue=op(Q,j.element());return ap(j,Q),ue}(u,m),I=Em(u,m);Ii(I,m.growingClass()),u1(u,m),rt(u.element(),Tm(m),_),b.setExpanded(),m.onStartGrow()(u)},s1=function(u,m,b){var _=Em(u,m);return Qu(_,m.growingClass())===!0},l1=function(u,m,b){var _=Em(u,m);return Qu(_,m.shrinkingClass())===!0},rC=Object.freeze({grow:function(u,m,b){b.isExpanded()||z0(u,m,b)},shrink:function(u,m,b){b.isExpanded()&&H0(u,m,b)},immediateShrink:function(u,m,b){var _,I;b.isExpanded()&&(_=u,I=m,b.setCollapsed(),rt(_.element(),Tm(I),op(I,_.element())),jr(_.element()),ip(_,I),ap(_,I),I.onStartShrink()(_),I.onShrunk()(_))},hasGrown:function(u,m,b){return b.isExpanded()},hasShrunk:function(u,m,b){return b.isCollapsed()},isGrowing:s1,isShrinking:l1,isTransitioning:function(u,m,b){return s1(u,m)===!0||l1(u,m)===!0},toggleGrow:function(u,m,b){(b.isExpanded()?H0:z0)(u,m,b)},disableTransitions:ip}),oC=Object.freeze({exhibit:function(u,m){var b=m.expanded();return Pa(b?{classes:[m.openClass()],styles:{}}:{classes:[m.closedClass()],styles:zo(m.dimension().property(),"0px")})},events:function(u,m){return Ti([Lo(mn(),function(b,_){_.event().raw().propertyName===u.dimension().property()&&(ip(b,u),m.isExpanded()&&zr(b.element(),u.dimension().property()),(m.isExpanded()?u.onGrown():u.onShrunk())(b))})])}}),iC=[Xn("closedClass"),Xn("openClass"),Xn("shrinkingClass"),Xn("growingClass"),bi("getAnimationRoot"),to("onShrunk"),to("onStartShrink"),to("onGrown"),to("onStartGrow"),kn("expanded",!1),Du("dimension",us("property",{width:[Br("property","width"),Br("getDimension",function(u){return rf(u)+"px"})],height:[Br("property","height"),Br("getDimension",function(u){return ho(u)+"px"})]}))],Vf=ia({fields:iC,name:"sliding",active:oC,apis:rC,state:Object.freeze({init:function(u){var m=wi(u.expanded());return au({isExpanded:function(){return m.get()===!0},isCollapsed:function(){return m.get()===!1},setCollapsed:x(m.set,!1),setExpanded:x(m.set,!0),readState:function(){return"expanded: "+m.get()}})}})}),j0=function(u,m){var b=wc(Is.sketch({dom:{tag:"div",classes:[S.resolve("dropup")]},components:[],containerBehaviours:Xr([du.config({}),Vf.config({closedClass:S.resolve("dropup-closed"),openClass:S.resolve("dropup-open"),shrinkingClass:S.resolve("dropup-shrinking"),growingClass:S.resolve("dropup-growing"),dimension:{property:"height"},onShrunk:function(I){u(),m(),du.set(I,[])},onGrown:function(I){u(),m()}}),Zi(function(I,j){_(r)})])})),_=function(I){t.window.requestAnimationFrame(function(){I(),Vf.shrink(b)})};return{appear:function(I,j,Q){Vf.hasShrunk(b)===!0&&Vf.isTransitioning(b)===!1&&t.window.requestAnimationFrame(function(){j(Q),du.set(b,[I()]),Vf.grow(b)})},disappear:_,component:l(b),element:b.element}},c1=gt.detect().browser.isFirefox(),aC=So([Ku("triggerEvent"),Ku("broadcastEvent"),kn("stopBackspace",!0)]),uC=function(u,m){var b,_,I,j,Q=va("Getting GUI events settings",aC,m),ue=gt.detect().deviceType.isTouch()?["touchstart","touchmove","touchend","gesturestart"]:["mousedown","mouseup","mouseover","mousemove","mouseout","click"],de=w0(Q),Pe=kr(ue.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop"]),function(at){return da(u,at,function(ln){de.fireIfReady(ln,at).each(function(Sn){Sn&&ln.kill()}),Q.triggerEvent(at,ln)&&ln.kill()})}),Se=da(u,"keydown",function(at){var ln;Q.triggerEvent("keydown",at)?at.kill():Q.stopBackspace!==!0||(ln=at).raw().which!==8||Qr(["input","textarea"],Zt(ln.target()))||at.prevent()}),_e=(b=u,_=function(at){Q.triggerEvent("focusin",at)&&at.kill()},c1?y0(b,"focus",_):da(b,"focusin",_)),Ue=(I=u,j=function(at){Q.triggerEvent("focusout",at)&&at.kill(),t.setTimeout(function(){Q.triggerEvent(bn(),at)},0)},c1?y0(I,"blur",j):da(I,"focusout",j)),wt=On(u),ct=da(wt,"scroll",function(at){Q.broadcastEvent(Xi(),at)&&at.kill()});return{unbind:function(){sn(Pe,function(at){at.unbind()}),Se.unbind(),_e.unbind(),Ue.unbind(),ct.unbind()}}},up=function(u,m){var b=go(u,"target").map(function(_){return _()}).getOr(m);return wi(b)},nl=Vo([{stopped:[]},{resume:["element"]},{complete:[]}]),Kg=function(u,m,b,_,I,j){var Q,ue,de,Pe,Se=u(m,_),_e=(Q=b,ue=I,de=wi(!1),Pe=wi(!1),{stop:function(){de.set(!0)},cut:function(){Pe.set(!0)},isStopped:de.get,isCut:Pe.get,event:l(Q),setSource:ue.set,getSource:ue.get});return Se.fold(function(){return j.logEventNoHandlers(m,_),nl.complete()},function(Ue){var wt=Ue.descHandler();return yl(wt)(_e),_e.isStopped()?(j.logEventStopped(m,Ue.element(),wt.purpose()),nl.stopped()):_e.isCut()?(j.logEventCut(m,Ue.element(),wt.purpose()),nl.complete()):sr(Ue.element()).fold(function(){return j.logNoParent(m,Ue.element(),wt.purpose()),nl.complete()},function(ct){return j.logEventResponse(m,Ue.element(),wt.purpose()),nl.resume(ct)})})},W0=function(u,m,b,_,I,j){return Kg(u,m,b,_,I,j).fold(function(){return!0},function(Q){return W0(u,m,b,Q,I,j)},function(){return!1})},Xg=function(u,m,b){var _,I,j=(_=m,I=wi(!1),{stop:function(){I.set(!0)},cut:r,isStopped:I.get,isCut:l(!1),event:l(_),setSource:De("Cannot set source of a broadcasted event"),getSource:De("Cannot get source of a broadcasted event")});return sn(u,function(Q){var ue=Q.descHandler();yl(ue)(j)}),j.isStopped()},qf=function(u,m,b,_,I){var j=up(b,_);return W0(u,m,b,_,j,I)},f1=function(u,m,b){return Ys(u,function(_){return m(_).isSome()},b).bind(m)},Gg=Nn("element","descHandler"),d1=function(u,m){return{id:l(u),descHandler:l(m)}};function sC(){var u={};return{registerId:function(m,b,_){At(_,function(I,j){var Q=u[j]!==void 0?u[j]:{};Q[b]=Ua(I,m),u[j]=Q})},unregisterId:function(m){At(u,function(b,_){b.hasOwnProperty(m)&&delete b[m]})},filterByType:function(m){return go(u,m).map(function(b){return yn(b,function(_,I){return d1(I,_)})}).getOr([])},find:function(m,b,_){var I=gu(b)(u);return f1(_,function(j){return Q=I,bc(ue=j).fold(function(){return fe.none()},function(de){var Pe=gu(de);return Q.bind(Pe).map(function(Se){return Gg(ue,Se)})});var Q,ue},m)}}}function lC(){var u=sC(),m={},b=function(I){var j=I.element();return bc(j).fold(function(){return Q="uid-",ue=I.element(),de=hl(pl+Q),jo(ue,ns,de),de;var Q,ue,de},function(Q){return Q})},_=function(I){bc(I.element()).each(function(j){m[j]=void 0,u.unregisterId(j)})};return{find:function(I,j,Q){return u.find(I,j,Q)},filter:function(I){return u.filterByType(I)},register:function(I){var j=b(I);ne(m,j)&&function(ue,de){var Pe=m[de];if(Pe!==ue)throw new Error('The tagId "'+de+'" is already used by: '+W(Pe.element())+`
Cannot use it for: `+W(ue.element())+`
The conflicting element is`+(gn(Pe.element())?" ":" not ")+"already in the DOM");_(ue)}(I,j);var Q=[I];u.registerId(Q,j,I.events()),m[j]=I},unregister:_,getById:function(I){return gu(I)(m)}}}var cC=function(u){var m=function(at){return sr(u.element()).fold(function(){return!0},function(ln){return Dt(at,ln)})},b=lC(),_=function(at,ln){return b.find(m,at,ln)},I=uC(u.element(),{triggerEvent:function(at,ln){return et(at,ln.target(),function(Sn){return tr=_,Lr=at,Li=Sn,fi=(Qo=ln).target(),qf(tr,Lr,Qo,fi,Li);var tr,Lr,Qo,Li,fi})},broadcastEvent:function(at,ln){var Sn=b.filter(at);return Xg(Sn,ln)}}),j=po({debugInfo:l("real"),triggerEvent:function(at,ln,Sn){et(at,ln,function(tr){qf(_,at,Sn,ln,tr)})},triggerFocus:function(at,ln){bc(at).fold(function(){Rs(at)},function(Sn){et(tn(),at,function(tr){var Lr,Qo,Li,fi,Ls,Nu;Lr=_,Qo=tn(),Li={originator:l(ln),kill:r,prevent:r,target:l(at)},Ls=tr,Nu=up(Li,fi=at),Kg(Lr,Qo,Li,fi,Nu,Ls)})})},triggerEscape:function(at,ln){j.triggerEvent("keydown",at.element(),ln.event())},getByUid:function(at){return wt(at)},getByDom:function(at){return ct(at)},build:wc,addToGui:function(at){de(at)},removeFromGui:function(at){Pe(at)},addToWorld:function(at){Q(at)},removeFromWorld:function(at){ue(at)},broadcast:function(at){_e(at)},broadcastOn:function(at,ln){Ue(at,ln)},isConnected:l(!0)}),Q=function(at){at.connect(j),_n(at.element())||(b.register(at),sn(at.components(),Q),j.triggerEvent(ci(),at.element(),{target:l(at.element())}))},ue=function(at){_n(at.element())||(sn(at.components(),ue),b.unregister(at)),at.disconnect()},de=function(at){Di(u,at)},Pe=function(at){st(at)},Se=function(at){var ln=b.filter(ir());sn(ln,function(Sn){var tr=Sn.descHandler();yl(tr)(at)})},_e=function(at){Se({universal:l(!0),data:l(at)})},Ue=function(at,ln){Se({universal:l(!1),channels:l(at),data:l(ln)})},wt=function(at){return b.getById(at).fold(function(){return no.error(new Error('Could not find component with uid: "'+at+'" in system.'))},no.value)},ct=function(at){var ln=bc(at).getOr("not found");return wt(ln)};return Q(u),{root:l(u),element:u.element,destroy:function(){I.unbind(),bo(u.element())},add:de,remove:Pe,getByUid:wt,getByDom:ct,addToWorld:Q,removeFromWorld:ue,broadcast:_e,broadcastOn:Ue}},m1=l(S.resolve("readonly-mode")),Jg=l(S.resolve("edit-mode"));function U0(u){var m=wc(Is.sketch({dom:{classes:[S.resolve("outer-container")].concat(u.classes)},containerBehaviours:Xr([ss.config({alpha:m1(),omega:Jg()})])}));return cC(m)}var sp,$0,lp,_m,h1=function(u,m){var b=oe.fromTag("input");ht(b,{opacity:"0",position:"absolute",top:"-1000px",left:"-1000px"}),yr(u,b),Rs(b),m(b),bo(b)},Qg=function(u){var m=u.getSelection();if(0<m.rangeCount){var b=m.getRangeAt(0),_=u.document.createRange();_.setStart(b.startContainer,b.startOffset),_.setEnd(b.endContainer,b.endOffset),m.removeAllRanges(),m.addRange(_)}},Zg=function(u,m){uu().each(function(b){Dt(b,m)||Ri(b)}),u.focus(),Rs(oe.fromDom(u.document.body)),Qg(u)},V0={stubborn:function(u,m,b,_){var I=function(){Zg(m,_)},j=da(b,"keydown",function(Q){Qr(["input","textarea"],Zt(Q.target()))||I()});return{toReading:function(){h1(u,Ri)},toEditing:I,onToolbarTouch:function(){},destroy:function(){j.unbind()}}},timid:function(u,m,b,_){var I=function(){Ri(_)};return{toReading:function(){I()},toEditing:function(){Zg(m,_)},onToolbarTouch:function(){I()},destroy:r}}},p1=function(u,m,b,_,I){var j=function(){m.run(function(Ue){Ue.refreshSelection()})},Q=function(Ue,wt){var ct=Ue-_.dom().scrollTop;m.run(function(at){at.scrollIntoView(ct,ct+wt)})},ue=function(){m.run(function(Ue){Ue.clearSelection()})},de=function(){u.getCursorBox().each(function(Ue){Q(Ue.top(),Ue.height())}),m.run(function(Ue){Ue.syncHeight()})},Pe=Jh(u),Se=i1(de,300),_e=[u.onKeyup(function(){ue(),Se.throttle()}),u.onNodeChanged(j),u.onDomChanged(Se.throttle),u.onDomChanged(j),u.onScrollToCursor(function(Ue){Ue.preventDefault(),Se.throttle()}),u.onScrollToElement(function(Ue){Ue.element(),Q(m,_)}),u.onToEditing(function(){m.run(function(Ue){Ue.toEditing()})}),u.onToReading(function(){m.run(function(Ue){Ue.toReading()})}),da(u.doc(),"touchend",function(Ue){Dt(u.html(),Ue.target())||Dt(u.body(),Ue.target())}),da(b,"transitionend",function(Ue){var wt;Ue.raw().propertyName==="height"&&(wt=ho(b),m.run(function(ct){ct.setViewportOffset(wt)}),j(),de())}),y0(b,"touchstart",function(Ue){var wt;m.run(function(ct){ct.highlightSelection()}),wt=Ue,m.run(function(ct){ct.onToolbarTouch(wt)}),u.onTouchToolstrip()}),da(u.body(),"touchstart",function(Ue){ue(),u.onTouchContent(),Pe.fireTouchstart(Ue)}),Pe.onTouchmove(),Pe.onTouchend(),da(u.body(),"click",function(Ue){Ue.kill()}),da(b,"touchmove",function(){u.onToolbarScrollStart()})];return{destroy:function(){sn(_e,function(Ue){Ue.unbind()})}}},cp={},q0={exports:cp};sp=void 0,$0=cp,lp=q0,_m=void 0,function(u){typeof $0=="object"&&lp!==void 0?lp.exports=u():typeof sp=="function"&&sp.amd?sp([],u):(typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:this).EphoxContactWrapper=u()}(function(){return function u(m,b,_){function I(ue,de){if(!b[ue]){if(!m[ue]){var Pe=typeof _m=="function"&&_m;if(!de&&Pe)return Pe(ue,!0);if(j)return j(ue,!0);var Se=new Error("Cannot find module '"+ue+"'");throw Se.code="MODULE_NOT_FOUND",Se}var _e=b[ue]={exports:{}};m[ue][0].call(_e.exports,function(Ue){return I(m[ue][1][Ue]||Ue)},_e,_e.exports,u,m,b,_)}return b[ue].exports}for(var j=typeof _m=="function"&&_m,Q=0;Q<_.length;Q++)I(_[Q]);return I}({1:[function(u,m,b){var _,I,j=m.exports={};function Q(){throw new Error("setTimeout has not been defined")}function ue(){throw new Error("clearTimeout has not been defined")}function de(Sn){if(_===setTimeout)return setTimeout(Sn,0);if((_===Q||!_)&&setTimeout)return _=setTimeout,setTimeout(Sn,0);try{return _(Sn,0)}catch{try{return _.call(null,Sn,0)}catch{return _.call(this,Sn,0)}}}(function(){try{_=typeof setTimeout=="function"?setTimeout:Q}catch{_=Q}try{I=typeof clearTimeout=="function"?clearTimeout:ue}catch{I=ue}})();var Pe,Se=[],_e=!1,Ue=-1;function wt(){_e&&Pe&&(_e=!1,Pe.length?Se=Pe.concat(Se):Ue=-1,Se.length&&ct())}function ct(){if(!_e){var Sn=de(wt);_e=!0;for(var tr=Se.length;tr;){for(Pe=Se,Se=[];++Ue<tr;)Pe&&Pe[Ue].run();Ue=-1,tr=Se.length}Pe=null,_e=!1,function(Lr){if(I===clearTimeout)return clearTimeout(Lr);if((I===ue||!I)&&clearTimeout)return I=clearTimeout,clearTimeout(Lr);try{I(Lr)}catch{try{return I.call(null,Lr)}catch{return I.call(this,Lr)}}}(Sn)}}function at(Sn,tr){this.fun=Sn,this.array=tr}function ln(){}j.nextTick=function(Sn){var tr=new Array(arguments.length-1);if(1<arguments.length)for(var Lr=1;Lr<arguments.length;Lr++)tr[Lr-1]=arguments[Lr];Se.push(new at(Sn,tr)),Se.length!==1||_e||de(ct)},at.prototype.run=function(){this.fun.apply(null,this.array)},j.title="browser",j.browser=!0,j.env={},j.argv=[],j.version="",j.versions={},j.on=ln,j.addListener=ln,j.once=ln,j.off=ln,j.removeListener=ln,j.removeAllListeners=ln,j.emit=ln,j.prependListener=ln,j.prependOnceListener=ln,j.listeners=function(Sn){return[]},j.binding=function(Sn){throw new Error("process.binding is not supported")},j.cwd=function(){return"/"},j.chdir=function(Sn){throw new Error("process.chdir is not supported")},j.umask=function(){return 0}},{}],2:[function(u,m,b){(function(_){(function(I){var j=setTimeout;function Q(){}function ue(ct){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof ct!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],wt(ct,this)}function de(ct,at){for(;ct._state===3;)ct=ct._value;ct._state!==0?(ct._handled=!0,ue._immediateFn(function(){var ln=ct._state===1?at.onFulfilled:at.onRejected;if(ln!==null){var Sn;try{Sn=ln(ct._value)}catch(tr){return void Se(at.promise,tr)}Pe(at.promise,Sn)}else(ct._state===1?Pe:Se)(at.promise,ct._value)})):ct._deferreds.push(at)}function Pe(ct,at){try{if(at===ct)throw new TypeError("A promise cannot be resolved with itself.");if(at&&(typeof at=="object"||typeof at=="function")){var ln=at.then;if(at instanceof ue)return ct._state=3,ct._value=at,void _e(ct);if(typeof ln=="function")return void wt((Sn=ln,tr=at,function(){Sn.apply(tr,arguments)}),ct)}ct._state=1,ct._value=at,_e(ct)}catch(Lr){Se(ct,Lr)}var Sn,tr}function Se(ct,at){ct._state=2,ct._value=at,_e(ct)}function _e(ct){ct._state===2&&ct._deferreds.length===0&&ue._immediateFn(function(){ct._handled||ue._unhandledRejectionFn(ct._value)});for(var at=0,ln=ct._deferreds.length;at<ln;at++)de(ct,ct._deferreds[at]);ct._deferreds=null}function Ue(ct,at,ln){this.onFulfilled=typeof ct=="function"?ct:null,this.onRejected=typeof at=="function"?at:null,this.promise=ln}function wt(ct,at){var ln=!1;try{ct(function(Sn){ln||(ln=!0,Pe(at,Sn))},function(Sn){ln||(ln=!0,Se(at,Sn))})}catch(Sn){if(ln)return;ln=!0,Se(at,Sn)}}ue.prototype.catch=function(ct){return this.then(null,ct)},ue.prototype.then=function(ct,at){var ln=new this.constructor(Q);return de(this,new Ue(ct,at,ln)),ln},ue.all=function(ct){var at=Array.prototype.slice.call(ct);return new ue(function(ln,Sn){if(at.length===0)return ln([]);var tr=at.length;function Lr(Li,fi){try{if(fi&&(typeof fi=="object"||typeof fi=="function")){var Ls=fi.then;if(typeof Ls=="function")return void Ls.call(fi,function(Nu){Lr(Li,Nu)},Sn)}at[Li]=fi,--tr==0&&ln(at)}catch(Nu){Sn(Nu)}}for(var Qo=0;Qo<at.length;Qo++)Lr(Qo,at[Qo])})},ue.resolve=function(ct){return ct&&typeof ct=="object"&&ct.constructor===ue?ct:new ue(function(at){at(ct)})},ue.reject=function(ct){return new ue(function(at,ln){ln(ct)})},ue.race=function(ct){return new ue(function(at,ln){for(var Sn=0,tr=ct.length;Sn<tr;Sn++)ct[Sn].then(at,ln)})},ue._immediateFn=typeof _=="function"?function(ct){_(ct)}:function(ct){j(ct,0)},ue._unhandledRejectionFn=function(ct){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",ct)},ue._setImmediateFn=function(ct){ue._immediateFn=ct},ue._setUnhandledRejectionFn=function(ct){ue._unhandledRejectionFn=ct},m!==void 0&&m.exports?m.exports=ue:I.Promise||(I.Promise=ue)})(this)}).call(this,u("timers").setImmediate)},{timers:3}],3:[function(u,m,b){(function(_,I){var j=u("process/browser.js").nextTick,Q=Function.prototype.apply,ue=Array.prototype.slice,de={},Pe=0;function Se(_e,Ue){this._id=_e,this._clearFn=Ue}b.setTimeout=function(){return new Se(Q.call(setTimeout,window,arguments),clearTimeout)},b.setInterval=function(){return new Se(Q.call(setInterval,window,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(_e){_e.close()},Se.prototype.unref=Se.prototype.ref=function(){},Se.prototype.close=function(){this._clearFn.call(window,this._id)},b.enroll=function(_e,Ue){clearTimeout(_e._idleTimeoutId),_e._idleTimeout=Ue},b.unenroll=function(_e){clearTimeout(_e._idleTimeoutId),_e._idleTimeout=-1},b._unrefActive=b.active=function(_e){clearTimeout(_e._idleTimeoutId);var Ue=_e._idleTimeout;0<=Ue&&(_e._idleTimeoutId=setTimeout(function(){_e._onTimeout&&_e._onTimeout()},Ue))},b.setImmediate=typeof _=="function"?_:function(_e){var Ue=Pe++,wt=!(arguments.length<2)&&ue.call(arguments,1);return de[Ue]=!0,j(function(){de[Ue]&&(wt?_e.apply(null,wt):_e.call(null),b.clearImmediate(Ue))}),Ue},b.clearImmediate=typeof I=="function"?I:function(_e){delete de[_e]}}).call(this,u("timers").setImmediate,u("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(u,m,b){var _=u("promise-polyfill"),I=typeof window!="undefined"?window:Function("return this;")();m.exports={boltExport:I.Promise||_}},{"promise-polyfill":2}]},{},[4])(4)});var Y0=q0.exports.boltExport,K0=function(u){var m=fe.none(),b=[],_=function(ue){I()?Q(ue):b.push(ue)},I=function(){return m.isSome()},j=function(ue){sn(ue,Q)},Q=function(ue){m.each(function(de){t.setTimeout(function(){ue(de)},0)})};return u(function(ue){m=fe.some(ue),j(b),b=[]}),{get:_,map:function(ue){return K0(function(de){_(function(Pe){de(ue(Pe))})})},isReady:I}},X0={nu:K0,pure:function(u){return K0(function(m){m(u)})}},fC=function(u){t.setTimeout(function(){throw u},0)},Nm=function(u){var m=function(b){u().then(b,fC)};return{map:function(b){return Nm(function(){return u().then(b)})},bind:function(b){return Nm(function(){return u().then(function(_){return b(_).toPromise()})})},anonBind:function(b){return Nm(function(){return u().then(function(){return b.toPromise()})})},toLazy:function(){return X0.nu(m)},toCached:function(){var b=null;return Nm(function(){return b===null&&(b=u()),b})},toPromise:u,get:m}},Rm=function(u){return Nm(function(){return new Y0(u)})},dC=function(u){return Nm(function(){return Y0.resolve(u)})},mC=function(u,m,b){return Math.abs(u-m)<=b?fe.none():u<m?fe.some(u+b):fe.some(u-b)},g1=function(){var u=null;return{animate:function(m,b,_,I,j,Q){var ue=!1,de=function(Se){ue=!0,j(Se)};clearInterval(u);var Pe=function(Se){clearInterval(u),de(Se)};u=setInterval(function(){var Se=m();mC(Se,b,_).fold(function(){clearInterval(u),de(b)},function(_e){if(I(_e,Pe),!ue){var Ue=m();(Ue!==_e||Math.abs(Ue-b)>Math.abs(Se-b))&&(clearInterval(u),de(b))}})},Q)}}},hC=function(u,m){return function(b,_){for(var I=0;I<b.length;I++){var j=_(b[I],I);if(j.isSome())return j}return fe.none()}([{width:320,height:480,keyboard:{portrait:300,landscape:240}},{width:320,height:568,keyboard:{portrait:300,landscape:240}},{width:375,height:667,keyboard:{portrait:305,landscape:240}},{width:414,height:736,keyboard:{portrait:320,landscape:240}},{width:768,height:1024,keyboard:{portrait:320,landscape:400}},{width:1024,height:1366,keyboard:{portrait:380,landscape:460}}],function(b){return _=u<=b.width&&m<=b.height,I=b.keyboard,_?fe.some(I):fe.none();var _,I}).getOr({portrait:m/5,landscape:u/4})},G0=function(u){var m,b=Ub(u).isPortrait(),_=hC((m=u).screen.width,m.screen.height),I=b?_.portrait:_.landscape;return(b?u.screen.height:u.screen.width)-u.innerHeight>I?0:I},v1=function(u,m){var b=cn(u).dom().defaultView;return ho(u)+ho(m)-G0(b)},ev=v1,J0=function(u,m,b){var _=v1(m,b),I=ho(m)+ho(b)-_;rt(u,"padding-bottom",I+"px")},y1=Vo([{fixed:["element","property","offsetY"]},{scroller:["element","offsetY"]}]),Vl="data-"+S.resolve("position-y-fixed"),Sd="data-"+S.resolve("y-property"),tv="data-"+S.resolve("scrolling"),Q0="data-"+S.resolve("last-window-height"),b1=function(u){return Qh(u,Vl)},pC=function(u,m){var b=hi(u,Sd);return y1.fixed(u,b,m)},gC=function(u,m){return y1.scroller(u,m)},vC=function(u){var m=b1(u);return(hi(u,tv)==="true"?gC:pC)(u,m)},w1=function(u,m,b){var _=cn(u).dom().defaultView.innerHeight;return jo(u,Q0,_+"px"),_-m-b},yC=function(u){var m=Ci(u,"["+Vl+"]");return kr(m,vC)},x1=function(u,m,b,_){var I,j,Q,ue,de,Pe,Se,_e,Ue=cn(u).dom().defaultView,wt=(_e=hi(Se=b,"style"),ht(Se,{position:"absolute",top:"0px"}),jo(Se,Vl,"0px"),jo(Se,Sd,"top"),{restore:function(){jo(Se,"style",_e||""),fa(Se,Vl),fa(Se,Sd)}}),ct=ho(b),at=ho(_),ln=(ue=w1(u,Q=ct,at),Pe=hi(de=u,"style"),wd.register(de),ht(de,{position:"absolute",height:ue+"px",width:"100%",top:Q+"px"}),jo(de,Vl,Q+"px"),jo(de,tv,"true"),jo(de,Sd,"top"),{restore:function(){wd.deregister(de),jo(de,"style",Pe||""),fa(de,Vl),fa(de,tv),fa(de,Sd)}}),Sn=(j=hi(I=_,"style"),ht(I,{position:"absolute",bottom:"0px"}),jo(I,Vl,"0px"),jo(I,Sd,"bottom"),{restore:function(){jo(I,"style",j||""),fa(I,Vl),fa(I,Sd)}}),tr=!0,Lr=function(){var Li=Ue.innerHeight;return Qh(u,Q0)<Li},Qo=function(){if(tr){var Li=ho(b),fi=ho(_),Ls=w1(u,Li,fi);jo(u,Vl,Li+"px"),rt(u,"height",Ls+"px"),J0(m,u,_)}};return J0(m,u,_),{setViewportOffset:function(Li){jo(u,Vl,Li+"px"),Qo()},isExpanding:Lr,isShrinking:Me(Lr),refresh:Qo,restore:function(){tr=!1,wt.restore(),ln.restore(),Sn.restore()}}},nv=b1,Z0=g1(),fp="data-"+S.resolve("last-scroll-top"),ey=function(u){var m=rn(u,"top").getOr("0");return parseInt(m,10)},C1=function(u){return parseInt(u.dom().scrollTop,10)},S1=function(u,m){var b=m+nv(u)+"px";rt(u,"top",b)},rv=function(u,m,b){return Rm(function(_){var I=x(C1,u);Z0.animate(I,m,15,function(j){u.dom().scrollTop=j,rt(u,"top",ey(u)+15+"px")},function(){u.dom().scrollTop=m,rt(u,"top",b+"px"),_(m)},10)})},k1=function(u,m){return Rm(function(b){var _=x(C1,u);jo(u,fp,_());var I=Math.abs(m-_()),j=Math.ceil(I/10);Z0.animate(_,m,j,function(Q,ue){Qh(u,fp)!==u.dom().scrollTop?ue(u.dom().scrollTop):(u.dom().scrollTop=Q,jo(u,fp,Q))},function(){u.dom().scrollTop=m,jo(u,fp,m),b(m)},10)})},bC=function(u,m){return Rm(function(b){var _=x(ey,u),I=function(ue){rt(u,"top",ue+"px")},j=Math.abs(m-_()),Q=Math.ceil(j/10);Z0.animate(_,m,Q,I,function(){I(m),b(m)},10)})},wC=function(u,m,b){var _=cn(u).dom().defaultView;return Rm(function(I){S1(u,b),S1(m,b),_.scrollTo(0,b),I(b)})},E1=function(u,m,b,_,I){var j=ev(m,b),Q=x(Qg,u);j<_||j<I?k1(m,m.dom().scrollTop-j+I).get(Q):_<0&&k1(m,m.dom().scrollTop+_).get(Q)},xC=function(u,m){return m(function(b){var _=[],I=0;u.length===0?b([]):sn(u,function(j,Q){var ue;j.get((ue=Q,function(de){_[ue]=de,++I>=u.length&&b(_)}))})})},ov=function(u,m){return u.fold(function(b,_,I){return rt(b,_,m+(j=I)+"px"),dC(j);var j},function(b,_){return Q=m+(j=_),ue=rn(I=b,"top").getOr(j),de=Q-parseInt(ue,10),Pe=I.dom().scrollTop+de,rv(I,Pe,Q);var I,j,Q,ue,de,Pe})},Yf=function(u,m){var b=yC(u),_=kr(b,function(I){return ov(I,m)});return xC(_,Rm)},dp=function(u,m,b,_,I,j){var Q,ue,de=(Q=function(_e){return wC(u,m,_e)},ue=wi(X0.pure({})),{start:function(_e){var Ue=X0.nu(function(wt){return Q(_e).get(wt)});ue.set(Ue)},idle:function(_e){ue.get().get(function(){_e()})}}),Pe=i1(function(){de.idle(function(){Yf(b,_.pageYOffset).get(function(){var _e;(_e=T0(j),fe.from(_e[0]).bind(function(Ue){var wt=Ue.top()-m.dom().scrollTop;return wt>_.innerHeight+5||wt<-5?fe.some({top:l(wt),bottom:l(wt+Ue.height())}):fe.none()})).each(function(Ue){m.dom().scrollTop=m.dom().scrollTop+Ue.top()}),de.start(0),I.refresh()})})},1e3),Se=da(oe.fromDom(_),"scroll",function(){_.pageYOffset<0||Pe.throttle()});return Yf(b,_.pageYOffset).get(g),{unbind:Se.unbind}},iv=function(u){var m=u.cWin(),b=u.ceBody(),_=u.socket(),I=u.toolstrip(),j=u.toolbar(),Q=u.contentElement(),ue=u.keyboardType(),de=u.outerWindow(),Pe=u.dropup(),Se=x1(_,b,I,Pe),_e=ue(u.outerBody(),m,zn(),Q,I,j),Ue=$b(de,{onChange:r,onReady:Se.refresh});Ue.onAdjustment(function(){Se.refresh()});var wt=da(oe.fromDom(de),"resize",function(){Se.isExpanding()&&Se.refresh()}),ct=dp(I,_,u.outerBody(),de,Se,m),at=function(Sn,tr){var Lr=Sn.document,Qo=oe.fromTag("div");Ii(Qo,S.resolve("unfocused-selections")),yr(oe.fromDom(Lr.documentElement),Qo);var Li=da(Qo,"touchstart",function(Nu){Nu.prevent(),Zg(Sn,tr),Ls()}),fi=function(Nu){var kd=oe.fromTag("span");return u0(kd,[S.resolve("layer-editor"),S.resolve("unfocused-selection")]),ht(kd,{left:Nu.left()+"px",top:Nu.top()+"px",width:Nu.width()+"px",height:Nu.height()+"px"}),kd},Ls=function(){Sr(Qo)};return{update:function(){Ls();var Nu=T0(Sn),kd=kr(Nu,fi);_r(Qo,kd)},isActive:function(){return 0<$n(Qo).length},destroy:function(){Li.unbind(),bo(Qo)},clear:Ls}}(m,Q),ln=function(){at.clear()};return{toEditing:function(){_e.toEditing(),ln()},toReading:function(){_e.toReading()},onToolbarTouch:function(Sn){_e.onToolbarTouch(Sn)},refreshSelection:function(){at.isActive()&&at.update()},clearSelection:ln,highlightSelection:function(){at.update()},scrollIntoView:function(Sn,tr){E1(m,_,Pe,Sn,tr)},updateToolbarPadding:r,setViewportOffset:function(Sn){Se.setViewportOffset(Sn),bC(_,Sn).get(g)},syncHeight:function(){rt(Q,"height",Q.dom().contentWindow.document.body.scrollHeight+"px")},refreshStructure:Se.refresh,destroy:function(){Se.restore(),Ue.destroy(),ct.unbind(),wt.unbind(),_e.destroy(),at.destroy(),h1(zn(),Ri)}}},CC=function(u,m){var b=A0(),_=we(),I=we(),j=ie(),Q=ie();return{enter:function(){m.hide();var ue=oe.fromDom(t.document);zg.getActiveApi(u.editor).each(function(de){_.set({socketHeight:rn(u.socket,"height"),iframeHeight:rn(de.frame(),"height"),outerScroll:t.document.body.scrollTop}),I.set({exclusives:L0.exclusive(ue,"."+wd.scrollable())}),Ii(u.container,S.resolve("fullscreen-maximized")),o1(u.container,de.body()),b.maximize(),rt(u.socket,"overflow","scroll"),rt(u.socket,"-webkit-overflow-scrolling","touch"),Rs(de.body());var Pe=fo(["cWin","ceBody","socket","toolstrip","toolbar","dropup","contentElement","cursor","keyboardType","isScrolling","outerWindow","outerBody"],[]);j.set(iv(Pe({cWin:de.win(),ceBody:de.body(),socket:u.socket,toolstrip:u.toolstrip,toolbar:u.toolbar,dropup:u.dropup.element(),contentElement:de.frame(),cursor:r,outerBody:u.body,outerWindow:u.win,keyboardType:V0.stubborn,isScrolling:function(){return I.get().exists(function(Se){return Se.socket.isScrolling()})}}))),j.run(function(Se){Se.syncHeight()}),Q.set(p1(de,j,u.toolstrip,u.socket,u.dropup))})},refreshStructure:function(){j.run(function(ue){ue.refreshStructure()})},exit:function(){b.restore(),Q.clear(),j.clear(),m.show(),_.on(function(ue){ue.socketHeight.each(function(de){rt(u.socket,"height",de)}),ue.iframeHeight.each(function(de){rt(u.editor.getFrame(),"height",de)}),t.document.body.scrollTop=ue.scrollTop}),_.clear(),I.on(function(ue){ue.exclusives.unbind()}),I.clear(),qi(u.container,S.resolve("fullscreen-maximized")),D0(),wd.deregister(u.toolbar),zr(u.socket,"overflow"),zr(u.socket,"-webkit-overflow-scrolling"),Ri(u.editor.getFrame()),zg.getActiveApi(u.editor).each(function(ue){ue.clearSelection()})}}},SC=function(u){var m=va("Getting IosWebapp schema",Wg,u);rt(m.toolstrip,"width","100%"),rt(m.container,"position","relative");var b=wc(M0(function(){m.setReadOnly(m.readOnlyOnInit()),_.enter()},m.translate));m.alloy.add(b);var _=CC(m,{show:function(){m.alloy.add(b)},hide:function(){m.alloy.remove(b)}});return{setReadOnly:m.setReadOnly,refreshStructure:_.refreshStructure,enter:_.enter,exit:_.exit,destroy:r}},kC=tinymce.util.Tools.resolve("tinymce.EditorManager"),EC=function(u){var m=go(u.settings,"skin_url").fold(function(){return kC.baseURL+"/skins/lightgray"},function(b){return b});return{content:m+"/content.mobile.min.css",ui:m+"/skin.mobile.min.css"}},T1=function(u,m,b){u.system().broadcastOn([Aa.formatChanged()],{command:m,state:b})},TC=function(u,m){var b=jt(m.formatter.get());sn(b,function(_){m.formatter.formatChanged(_,function(I){T1(u,_,I)})}),sn(["ul","ol"],function(_){m.selection.selectorChanged(_,function(I,j){T1(u,_,I)})})},_1=function(u){var m=function(){u._skinLoaded=!0,u.fire("SkinLoaded")};return function(){u.initialized?m():u.on("init",m)}},av=l("toReading"),N1=l("toEditing");Iu.add("mobile",function(u){return{getNotificationManagerImpl:function(){return{open:l({progressBar:{value:r},close:r}),close:r,reposition:r,getArgs:g}},renderUI:function(m){var b=EC(u);u.settings.skin===!1==0?(u.contentCSS.push(b.content),Lc.DOM.styleSheetLoader.load(b.ui,_1(u))):_1(u)();var _,I,j,Q,ue,de,Pe,Se,_e,Ue,wt,ct,at,ln,Sn,tr,Lr,Qo=function(){u.fire("scrollIntoView")},Li=oe.fromTag("div"),fi=gt.detect().os.isAndroid()?(Se=Qo,_e=U0({classes:[S.resolve("android-container")]}),Ue=np(),wt=ie(),ct=rp(wt),at=Cd(),ln=j0(r,Se),_e.add(Ue.wrapper()),_e.add(at),_e.add(ln.component()),{system:l(_e),element:_e.element,init:function(Jo){wt.set(Ug(Jo))},exit:function(){wt.run(function(Jo){Jo.exit(),du.remove(at,ct)})},setToolbarGroups:function(Jo){var ua=Ue.createGroups(Jo);Ue.setGroups(ua)},setContextToolbar:function(Jo){var ua=Ue.createGroups(Jo);Ue.setContextToolbar(ua)},focusToolbar:function(){Ue.focus()},restoreToolbar:function(){Ue.restoreToolbar()},updateMode:function(Jo){F0(at,ct,Jo,_e.root())},socket:l(at),dropup:l(ln)}):(_=Qo,I=U0({classes:[S.resolve("ios-container")]}),j=np(),Q=ie(),ue=rp(Q),de=Cd(),Pe=j0(function(){Q.run(function(Jo){Jo.refreshStructure()})},_),I.add(j.wrapper()),I.add(de),I.add(Pe.component()),{system:l(I),element:I.element,init:function(Jo){Q.set(SC(Jo))},exit:function(){Q.run(function(Jo){du.remove(de,ue),Jo.exit()})},setToolbarGroups:function(Jo){var ua=j.createGroups(Jo);j.setGroups(ua)},setContextToolbar:function(Jo){var ua=j.createGroups(Jo);j.setContextToolbar(ua)},focusToolbar:function(){j.focus()},restoreToolbar:function(){j.restoreToolbar()},updateMode:function(Jo){F0(de,ue,Jo,I.root())},socket:l(de),dropup:l(Pe)}),Ls=oe.fromDom(m.targetNode);Nn("element","offset"),tr=Li,(Lr=Sn=Ls,fe.from(Lr.dom().nextSibling).map(oe.fromDom)).fold(function(){sr(Sn).each(function(Jo){yr(Jo,tr)})},function(Jo){var ua,wl;wl=tr,sr(ua=Jo).each(function(Ru){Ru.dom().insertBefore(wl.dom(),ua.dom())})}),function(Jo,ua){yr(Jo,ua.element());var wl=$n(ua.element());sn(wl,function(Ru){ua.getByDom(Ru).each(Ro)})}(Li,fi.system());var Nu=m.targetNode.ownerDocument.defaultView,kd=$b(Nu,{onChange:function(){fi.system().broadcastOn([Aa.orientationChanged()],{width:Gx(Nu)})},onReady:r}),ty=function(Jo,ua,wl,Ru){Ru===!1&&u.selection.collapse();var mp=ny(Jo,ua,wl);fi.setToolbarGroups(Ru===!0?mp.readOnly:mp.main),u.setMode(Ru===!0?"readonly":"design"),u.fire(Ru===!0?av():N1()),fi.updateMode(Ru)},ny=function(Jo,ua,wl){var Ru=Jo.get();return{readOnly:Ru.backToMask.concat(ua.get()),main:Ru.backToMask.concat(wl.get())}},R1=function(Jo,ua){return u.on(Jo,ua),{unbind:function(){u.off(Jo)}}};return u.on("init",function(){fi.init({editor:{getFrame:function(){return oe.fromDom(u.contentAreaContainer.querySelector("iframe"))},onDomChanged:function(){return{unbind:r}},onToReading:function(rl){return R1(av(),rl)},onToEditing:function(rl){return R1(N1(),rl)},onScrollToCursor:function(rl){return u.on("scrollIntoView",function(cf){rl(cf)}),{unbind:function(){u.off("scrollIntoView"),kd.destroy()}}},onTouchToolstrip:function(){Jo()},onTouchContent:function(){var rl,cf=oe.fromDom(u.editorContainer.querySelector("."+S.resolve("toolbar")));(rl=cf,Cu(rl).bind(function(oy){return fi.system().getByDom(oy).toOption()})).each(Fa),fi.restoreToolbar(),Jo()},onTapContent:function(rl){var cf=rl.target();Zt(cf)==="img"?(u.selection.select(cf.dom()),rl.kill()):Zt(cf)==="a"&&fi.system().getByDom(oe.fromDom(u.editorContainer)).each(function(oy){ss.isAlpha(oy)&&Bu(cf.dom())})}},container:oe.fromDom(u.editorContainer),socket:oe.fromDom(u.contentAreaContainer),toolstrip:oe.fromDom(u.editorContainer.querySelector("."+S.resolve("toolstrip"))),toolbar:oe.fromDom(u.editorContainer.querySelector("."+S.resolve("toolbar"))),dropup:fi.dropup(),alloy:fi.system(),translate:r,setReadOnly:function(rl){ty(D1,P1,O1,rl)},readOnlyOnInit:function(){return!1}});var Jo=function(){fi.dropup().disappear(function(){fi.system().broadcastOn([Aa.dropupDismissed()],{})})},ua={label:"The first group",scrollable:!1,items:[zl.forToolbar("back",function(){u.selection.collapse(),fi.exit()},{})]},wl={label:"Back to read only",scrollable:!1,items:[zl.forToolbar("readonly-back",function(){ty(D1,P1,O1,!0)},{})]},Ru=Xx(fi,u),mp=zb(u.settings,Ru),ry={label:"The extra group",scrollable:!1,items:[]},O1=wi([{label:"the action group",scrollable:!0,items:mp},ry]),P1=wi([{label:"The read only mode group",scrollable:!0,items:[]},ry]),D1=wi({backToMask:[ua],backToReadOnly:[wl]});TC(fi,u)}),u.on("remove",function(){fi.exit()}),u.on("detach",function(){var Jo,ua;Jo=fi.system(),ua=$n(Jo.element()),sn(ua,function(wl){Jo.getByDom(wl).each(Mr)}),bo(Jo.element()),fi.system().destroy(),bo(Li)}),{iframeContainer:fi.socket().element().dom(),editorContainer:fi.element().dom()}}}})})(window);(function(t){var r,a,l,g,x,D=tinymce.util.Tools.resolve("tinymce.ThemeManager"),L=tinymce.util.Tools.resolve("tinymce.Env"),U=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),X=tinymce.util.Tools.resolve("tinymce.util.Delay"),se=function(c){return c.reduce(function(p,S){return Array.isArray(S)?p.concat(se(S)):p.concat(S)},[])},re={flatten:se},ee=function(c,p){for(var S=0;S<p.length;S++){var P=(0,p[S])(c);if(P)return P}return null},Me=function(c,p){return{id:c,rect:p}},De=function(c){return{x:c.left,y:c.top,w:c.width,h:c.height}},ze=function(c){return{left:c.x,top:c.y,width:c.w,height:c.h,right:c.x+c.w,bottom:c.y+c.h}},mt=function(c){var p=U.DOM.getViewPort();return{x:c.x+p.x,y:c.y+p.y,w:c.w,h:c.h}},G=function(c){var p=c.getBoundingClientRect();return mt({x:p.left,y:p.top,w:Math.max(c.clientWidth,c.offsetWidth),h:Math.max(c.clientHeight,c.offsetHeight)})},ve=function(c,p){return G(p)},Ae=function(c){return G(c.getContentAreaContainer()||c.getBody())},Ke=function(c){var p=c.selection.getBoundingClientRect();return p?mt(De(p)):null},vt=function(c,p){return function(S){for(var P=0;P<p.length;P++)if(p[P].predicate(c))return Me(p[P].id,ve(S,c));return null}},Ie=function(c,p){return function(S){for(var P=0;P<c.length;P++)for(var H=0;H<p.length;H++)if(p[H].predicate(c[P]))return Me(p[H].id,ve(S,c[P]));return null}},Ce=tinymce.util.Tools.resolve("tinymce.util.Tools"),ut=function(c,p){return{id:c,predicate:p}},$e=function(c){return Ce.map(c,function(p){return ut(p.id,p.predicate)})},Je=function(c){return function(p){return p.selection.isCollapsed()?null:Me(c,Ke(p))}},Le=function(c,p){return function(S){var P,H=S.schema.getTextBlockElements();for(P=0;P<c.length;P++)if(c[P].nodeName==="TABLE")return null;for(P=0;P<c.length;P++)if(c[P].nodeName in H)return S.dom.isEmpty(c[P])?Me(p,Ke(S)):null;return null}},J=function(c){c.fire("SkinLoaded")},Ge=function(c){return c.fire("BeforeRenderUI")},Ze=tinymce.util.Tools.resolve("tinymce.EditorManager"),Wt=function(c){return function(p){return typeof p===c}},fe=function(c){return Array.isArray(c)},jt=function(c){return Wt("string")(c)},At=function(c){return Wt("number")(c)},Vt=function(c){return Wt("boolean")(c)},qt=function(c){return Wt("function")(c)},yn=fe,Yn=function(c,p){if(p(c))return!0;throw new Error("Default value doesn't match requested type.")},Pn=function(c){return function(p,S,P){var H=p.settings;return Yn(P,c),S in H&&c(H[S])?H[S]:P}},dr={getStringOr:Pn(jt),getBoolOr:Pn(Vt),getNumberOr:Pn(At),getHandlerOr:Pn(qt),getToolbarItemsOr:(r=yn,function(c,p,S){var P,H,$,ce,he,We=p in c.settings?c.settings[p]:S;return Yn(S,r),H=S,yn(P=We)?P:jt(P)?typeof(ce=P)=="string"?(he=/[ ,]/,ce.split(he).filter(function(lt){return 0<lt.length})):ce:Vt(P)?($=H,P===!1?[]:$):H})},Zn=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Cr=function(c,p){return{rect:c,position:p}},er=function(c,p){return{x:p.x,y:p.y,w:c.w,h:c.h}},Qt=function(c,p,S,P,H){var $,ce,he,We={x:P.x,y:P.y,w:P.w+(P.w<H.w+S.w?H.w:0),h:P.h+(P.h<H.h+S.h?H.h:0)};return $=Zn.findBestRelativePosition(H,S,We,c),S=Zn.clamp(S,We),$?(ce=Zn.relativePosition(H,S,$),he=er(H,ce),Cr(he,$)):(S=Zn.intersect(We,S))?(($=Zn.findBestRelativePosition(H,S,We,p))?(ce=Zn.relativePosition(H,S,$),he=er(H,ce)):he=er(H,S),Cr(he,$)):null},Te=function(c,p,S){return Qt(["cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr"],c,p,S)},qe=function(c,p,S){return Qt(["tc-bc","bc-tc","tl-bl","bl-tl","tr-br","br-tr","cr-cl","cl-cr"],["bc-tc","bl-tl","br-tr","cr-cl"],c,p,S)},Rt=function(c,p,S,P){var H;return typeof c=="function"?(H=c({elementRect:ze(p),contentAreaRect:ze(S),panelRect:ze(P)}),De(H)):P},Kt=function(c){return c.panelRect},mn=function(c){return dr.getToolbarItemsOr(c,"selection_toolbar",["bold","italic","|","quicklink","h2","h3","blockquote"])},xn=function(c){return dr.getToolbarItemsOr(c,"insert_toolbar",["quickimage","quicktable"])},Un=function(c){return dr.getHandlerOr(c,"inline_toolbar_position_handler",Kt)},Or=function(c){var p,S,P,H,$=c.settings;return $.skin_url?(P=c,H=$.skin_url,P.documentBaseURI.toAbsolute(H)):(p=$.skin,S=Ze.baseURL+"/skins/",p?S+p:S+"lightgray")},Jn=function(c){return c.settings.skin===!1},Jr=function(c,p){var S=Or(c),P=function(){var H,$,ce;$=p,ce=function(){H._skinLoaded=!0,J(H),$()},(H=c).initialized?ce():H.on("init",ce)};Jn(c)?P():(U.DOM.styleSheetLoader.load(S+"/src/public/tinymce/skin.min.css",P),c.contentCSS.push(S+"/content.inline.min.css"))},co=function(c){var p,S,P,H,$=c.contextToolbars;return re.flatten([$||[],(p=c,S="img",P="image",H="alignleft aligncenter alignright",{predicate:function(ce){return p.dom.is(ce,S)},id:P,items:H})])},eo=function(c,p){var S,P,H,$,ce;return ce=($=c).selection.getNode(),P=$.dom.getParents(ce,"*"),H=$e(p),(S=ee(c,[vt(P[0],H),Je("text"),Le(P,"insert"),Ie(P,H)]))&&S.rect?S:null},Ao=function(c,p){return function(){var S,P,H;c.removed||(H=c,t.document.activeElement!==H.getBody())||(S=co(c),(P=eo(c,S))?p.show(c,P.id,P.rect,S):p.hide())}},qr=function(c,p){var S,P,H,$,ce,he=X.throttle(Ao(c,p),0),We=X.throttle((H=Ao(S=c,P=p),function(){S.removed||P.inForm()||H()}),0),lt=($=c,ce=p,function(){var rt=co($),ht=eo($,rt);ht&&ce.reposition($,ht.id,ht.rect)});c.on("blur hide ObjectResizeStart",p.hide),c.on("click",he),c.on("nodeChange mouseup",We),c.on("ResizeEditor keyup",he),c.on("ResizeWindow",lt),U.DOM.bind(L.container,"scroll",lt),c.on("remove",function(){U.DOM.unbind(L.container,"scroll",lt),p.remove()}),c.shortcuts.add("Alt+F10,F10","",p.focus)},it=function(c,p){return Jr(c,function(){var S,P;qr(c,p),P=p,(S=c).shortcuts.remove("meta+k"),S.shortcuts.add("meta+k","",function(){var H=co(S),$=ee(S,[Je("quicklink")]);$&&P.show(S,$.id,$.rect,H)})}),{}},Fn=function(c,p){return c.inline?it(c,p):function(S){throw new Error(S)}("inlite theme only supports inline mode.")},Wn=function(){},Tn=function(c){return function(){return c}},or=Tn(!1),Kr=Tn(!0),Dn=function(){return yo},yo=(a=function(c){return c.isNone()},x={fold:function(c,p){return c()},is:or,isSome:or,isNone:Kr,getOr:g=function(c){return c},getOrThunk:l=function(c){return c()},getOrDie:function(c){throw new Error(c||"error: getOrDie called on none.")},getOrNull:Tn(null),getOrUndefined:Tn(void 0),or:g,orThunk:l,map:Dn,each:Wn,bind:Dn,exists:or,forall:Kr,filter:Dn,equals:a,equals_:a,toArray:function(){return[]},toString:Tn("none()")},Object.freeze&&Object.freeze(x),x),Ho=function(c){var p=Tn(c),S=function(){return H},P=function($){return $(c)},H={fold:function($,ce){return ce(c)},is:function($){return c===$},isSome:Kr,isNone:or,getOr:p,getOrThunk:p,getOrDie:p,getOrNull:p,getOrUndefined:p,or:S,orThunk:S,map:function($){return Ho($(c))},each:function($){$(c)},bind:P,exists:P,forall:P,filter:function($){return $(c)?H:yo},toArray:function(){return[c]},toString:function(){return"some("+c+")"},equals:function($){return $.is(c)},equals_:function($,ce){return $.fold(or,function(he){return ce(c,he)})}};return H},Wo={some:Ho,none:Dn,from:function(c){return c==null?yo:Ho(c)}},Xo=function(c){return function(p){return function(S){if(S===null)return"null";var P=typeof S;return P==="object"&&(Array.prototype.isPrototypeOf(S)||S.constructor&&S.constructor.name==="Array")?"array":P==="object"&&(String.prototype.isPrototypeOf(S)||S.constructor&&S.constructor.name==="String")?"string":P}(p)===c}},Qr=Xo("array"),kr=Xo("function"),sn=Xo("number"),qo=Array.prototype.indexOf,wr=Array.prototype.push,Bn=function(c,p){var S,P,H=(S=c,P=p,qo.call(S,P));return H===-1?Wo.none():Wo.some(H)},Zo=function(c,p){for(var S=0,P=c.length;S<P;S++)if(p(c[S],S))return!0;return!1},Xe=function(c,p){for(var S=c.length,P=new Array(S),H=0;H<S;H++){var $=c[H];P[H]=p($,H)}return P},zt=function(c,p){for(var S=0,P=c.length;S<P;S++)p(c[S],S)},xt=function(c,p){for(var S=[],P=0,H=c.length;P<H;P++){var $=c[P];p($,P)&&S.push($)}return S},Jt=(kr(Array.from)&&Array.from,0),kt={id:function(){return"mceu_"+Jt++},create:function(c,p,S){var P=t.document.createElement(c);return U.DOM.setAttribs(P,p),typeof S=="string"?P.innerHTML=S:Ce.each(S,function(H){H.nodeType&&P.appendChild(H)}),P},createFragment:function(c){return U.DOM.createFragment(c)},getWindowSize:function(){return U.DOM.getViewPort()},getSize:function(c){var p,S;if(c.getBoundingClientRect){var P=c.getBoundingClientRect();p=Math.max(P.width||P.right-P.left,c.offsetWidth),S=Math.max(P.height||P.bottom-P.bottom,c.offsetHeight)}else p=c.offsetWidth,S=c.offsetHeight;return{width:p,height:S}},getPos:function(c,p){return U.DOM.getPos(c,p||kt.getContainer())},getContainer:function(){return L.container?L.container:t.document.body},getViewPort:function(c){return U.DOM.getViewPort(c)},get:function(c){return t.document.getElementById(c)},addClass:function(c,p){return U.DOM.addClass(c,p)},removeClass:function(c,p){return U.DOM.removeClass(c,p)},hasClass:function(c,p){return U.DOM.hasClass(c,p)},toggleClass:function(c,p,S){return U.DOM.toggleClass(c,p,S)},css:function(c,p,S){return U.DOM.setStyle(c,p,S)},getRuntimeStyle:function(c,p){return U.DOM.getStyle(c,p,!0)},on:function(c,p,S,P){return U.DOM.bind(c,p,S,P)},off:function(c,p,S){return U.DOM.unbind(c,p,S)},fire:function(c,p,S){return U.DOM.fire(c,p,S)},innerHtml:function(c,p){U.DOM.setHTML(c,p)}},yt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),lr=tinymce.util.Tools.resolve("tinymce.util.Class"),mr=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Ur=function(c){var p;if(c)return typeof c=="number"?{top:c=c||0,left:c,bottom:c,right:c}:((p=(c=c.split(" ")).length)===1?c[1]=c[2]=c[3]=c[0]:p===2?(c[2]=c[0],c[3]=c[1]):p===3&&(c[3]=c[1]),{top:parseInt(c[0],10)||0,right:parseInt(c[1],10)||0,bottom:parseInt(c[2],10)||0,left:parseInt(c[3],10)||0})},uo=function(c,p){function S(P){var H=parseFloat(function($){var ce=c.ownerDocument.defaultView;if(ce){var he=ce.getComputedStyle(c,null);return he?($=$.replace(/[A-Z]/g,function(We){return"-"+We}),he.getPropertyValue($)):null}return c.currentStyle[$]}(P));return isNaN(H)?0:H}return{top:S(p+"TopWidth"),right:S(p+"RightWidth"),bottom:S(p+"BottomWidth"),left:S(p+"LeftWidth")}};function Eo(){}function Vr(c){this.cls=[],this.cls._map={},this.onchange=c||Eo,this.prefix=""}Ce.extend(Vr.prototype,{add:function(c){return c&&!this.contains(c)&&(this.cls._map[c]=!0,this.cls.push(c),this._change()),this},remove:function(c){if(this.contains(c)){var p=void 0;for(p=0;p<this.cls.length&&this.cls[p]!==c;p++);this.cls.splice(p,1),delete this.cls._map[c],this._change()}return this},toggle:function(c,p){var S=this.contains(c);return S!==p&&(S?this.remove(c):this.add(c),this._change()),this},contains:function(c){return!!this.cls._map[c]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),Vr.prototype.toString=function(){var c;if(this.clsValue)return this.clsValue;c="";for(var p=0;p<this.cls.length;p++)0<p&&(c+=" "),c+=this.prefix+this.cls[p];return c};var lo,Mo,ai,Ee=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,gt=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Pt=/^\s*|\s*$/g,tn=lr.extend({init:function(c){var p=this.match;function S(H,$,ce){var he;function We(lt){lt&&$.push(lt)}return We(function(lt){if(lt)return lt=lt.toLowerCase(),function(rt){return lt==="*"||rt.type===lt}}((he=Ee.exec(H.replace(Pt,"")))[1])),We(function(lt){if(lt)return function(rt){return rt._name===lt}}(he[2])),We(function(lt){if(lt)return lt=lt.split("."),function(rt){for(var ht=lt.length;ht--;)if(!rt.classes.contains(lt[ht]))return!1;return!0}}(he[3])),We(function(lt,rt,ht){if(lt)return function(Lt){var on=Lt[lt]?Lt[lt]():"";return rt?rt==="="?on===ht:rt==="*="?0<=on.indexOf(ht):rt==="~="?0<=(" "+on+" ").indexOf(" "+ht+" "):rt==="!="?on!==ht:rt==="^="?on.indexOf(ht)===0:rt==="$="&&on.substr(on.length-ht.length)===ht:!!ht}}(he[4],he[5],he[6])),We(function(lt){var rt;if(lt)return(lt=/(?:not\((.+)\))|(.+)/i.exec(lt))[1]?(rt=P(lt[1],[]),function(ht){return!p(ht,rt)}):(lt=lt[2],function(ht,Lt,on){return lt==="first"?Lt===0:lt==="last"?Lt===on-1:lt==="even"?Lt%2==0:lt==="odd"?Lt%2==1:!!ht[lt]&&ht[lt]()})}(he[7])),$.pseudo=!!he[7],$.direct=ce,$}function P(H,$){var ce,he,We,lt=[];do if(gt.exec(""),(he=gt.exec(H))&&(H=he[3],lt.push(he[1]),he[2])){ce=he[3];break}while(he);for(ce&&P(ce,$),H=[],We=0;We<lt.length;We++)lt[We]!==">"&&H.push(S(lt[We],[],lt[We-1]===">"));return $.push(H),$}this._selectors=P(c,[])},match:function(c,p){var S,P,H,$,ce,he,We,lt,rt,ht,Lt,on,rn;for(S=0,P=(p=p||this._selectors).length;S<P;S++){for(rn=c,on=0,H=($=(ce=p[S]).length)-1;0<=H;H--)for(lt=ce[H];rn;){if(lt.pseudo)for(rt=ht=(Lt=rn.parent().items()).length;rt--&&Lt[rt]!==rn;);for(he=0,We=lt.length;he<We;he++)if(!lt[he](rn,rt,ht)){he=We+1;break}if(he===We){on++;break}if(H===$-1)break;rn=rn.parent()}if(on===$)return!0}return!1},find:function(c){var p,S,P=[],H=this._selectors;function $(ce,he,We){var lt,rt,ht,Lt,on,rn=he[We];for(lt=0,rt=ce.length;lt<rt;lt++){for(on=ce[lt],ht=0,Lt=rn.length;ht<Lt;ht++)if(!rn[ht](on,lt,rt)){ht=Lt+1;break}if(ht===Lt)We===he.length-1?P.push(on):on.items&&$(on.items(),he,We+1);else if(rn.direct)return;on.items&&$(on.items(),he,We)}}if(c.items){for(p=0,S=H.length;p<S;p++)$(c.items(),H[p],0);1<S&&(P=function(ce){for(var he,We=[],lt=ce.length;lt--;)(he=ce[lt]).__checked||(We.push(he),he.__checked=1);for(lt=We.length;lt--;)delete We[lt].__checked;return We}(P))}return lo||(lo=tn.Collection),new lo(P)}}),bn=Array.prototype.push,ir=Array.prototype.slice;ai={length:0,init:function(c){c&&this.add(c)},add:function(c){return Ce.isArray(c)?bn.apply(this,c):c instanceof Mo?this.add(c.toArray()):bn.call(this,c),this},set:function(c){var p,S=this,P=S.length;for(S.length=0,S.add(c),p=S.length;p<P;p++)delete S[p];return S},filter:function(c){var p,S,P,H,$=[];for(typeof c=="string"?(c=new tn(c),H=function(ce){return c.match(ce)}):H=c,p=0,S=this.length;p<S;p++)H(P=this[p])&&$.push(P);return new Mo($)},slice:function(){return new Mo(ir.apply(this,arguments))},eq:function(c){return c===-1?this.slice(c):this.slice(c,+c+1)},each:function(c){return Ce.each(this,c),this},toArray:function(){return Ce.toArray(this)},indexOf:function(c){for(var p=this.length;p--&&this[p]!==c;);return p},reverse:function(){return new Mo(Ce.toArray(this).reverse())},hasClass:function(c){return!!this[0]&&this[0].classes.contains(c)},prop:function(c,p){var S;return p!==void 0?(this.each(function(P){P[c]&&P[c](p)}),this):(S=this[0])&&S[c]?S[c]():void 0},exec:function(c){var p=Ce.toArray(arguments).slice(1);return this.each(function(S){S[c]&&S[c].apply(S,p)}),this},remove:function(){for(var c=this.length;c--;)this[c].remove();return this},addClass:function(c){return this.each(function(p){p.classes.add(c)})},removeClass:function(c){return this.each(function(p){p.classes.remove(c)})}},Ce.each("fire on off show hide append prepend before after reflow".split(" "),function(c){ai[c]=function(){var p=Ce.toArray(arguments);return this.each(function(S){c in S&&S[c].apply(S,p)}),this}}),Ce.each("text name disabled active selected checked visible parent value data".split(" "),function(c){ai[c]=function(p){return this.prop(c,p)}}),Mo=lr.extend(ai);var Cn=tn.Collection=Mo,$r=function(c){this.create=c.create};$r.create=function(c,p){return new $r({create:function(S,P){var H,$=function(ce){S.set(P,ce.value)};return S.on("change:"+P,function(ce){c.set(p,ce.value)}),c.on("change:"+p,$),(H=S._bindings)||(H=S._bindings=[],S.on("destroy",function(){for(var ce=H.length;ce--;)H[ce]()})),H.push(function(){c.off("change:"+p,$)}),c.get(p)}})};var To=tinymce.util.Tools.resolve("tinymce.util.Observable");function ui(c){return 0<c.nodeType}var Pi,ci,Xi=lr.extend({Mixins:[To],init:function(c){var p,S;for(p in c=c||{})(S=c[p])instanceof $r&&(c[p]=S.create(this,p));this.data=c},set:function(c,p){var S,P,H=this.data[c];if(p instanceof $r&&(p=p.create(this,c)),typeof c=="object"){for(S in c)this.set(S,c[S]);return this}return function $(ce,he){var We,lt;if(ce===he)return!0;if(ce===null||he===null||typeof ce!="object"||typeof he!="object")return ce===he;if(Ce.isArray(he)){if(ce.length!==he.length)return!1;for(We=ce.length;We--;)if(!$(ce[We],he[We]))return!1}if(ui(ce)||ui(he))return ce===he;for(We in lt={},he){if(!$(ce[We],he[We]))return!1;lt[We]=!0}for(We in ce)if(!lt[We]&&!$(ce[We],he[We]))return!1;return!0}(H,p)||(this.data[c]=p,P={target:this,name:c,value:p,oldValue:H},this.fire("change:"+c,P),this.fire("change",P)),this},get:function(c){return this.data[c]},has:function(c){return c in this.data},bind:function(c){return $r.create(this,c)},destroy:function(){this.fire("destroy")}}),Ui={},ma={add:function(c){var p=c.parent();if(p){if(!p._layout||p._layout.isNative())return;Ui[p._id]||(Ui[p._id]=p),Pi||(Pi=!0,X.requestAnimationFrame(function(){var S,P;for(S in Pi=!1,Ui)(P=Ui[S]).state.get("rendered")&&P.reflow();Ui={}},t.document.body))}},remove:function(c){Ui[c._id]&&delete Ui[c._id]}},Ya=function(c){return c?c.getRoot().uiContainer:null},si={getUiContainerDelta:function(c){var p=Ya(c);if(p&&U.DOM.getStyle(p,"position",!0)!=="static"){var S=U.DOM.getPos(p),P=p.scrollLeft-S.x,H=p.scrollTop-S.y;return Wo.some({x:P,y:H})}return Wo.none()},setUiContainer:function(c,p){var S=U.DOM.select(c.settings.ui_container)[0];p.getRoot().uiContainer=S},getUiContainer:Ya,inheritUiContainer:function(c,p){return p.uiContainer=Ya(c)}},Fa="onmousewheel"in t.document,pu=!1,di=0,Ha={Statics:{classPrefix:"mce-"},isRtl:function(){return ci.rtl},classPrefix:"mce-",init:function(c){var p,S,P=this;function H($){var ce;for($=$.split(" "),ce=0;ce<$.length;ce++)P.classes.add($[ce])}P.settings=c=Ce.extend({},P.Defaults,c),P._id=c.id||"mceu_"+di++,P._aria={role:c.role},P._elmCache={},P.$=yt,P.state=new Xi({visible:!0,active:!1,disabled:!1,value:""}),P.data=new Xi(c.data),P.classes=new Vr(function(){P.state.get("rendered")&&(P.getEl().className=this.toString())}),P.classes.prefix=P.classPrefix,(p=c.classes)&&(P.Defaults&&(S=P.Defaults.classes)&&p!==S&&H(S),H(p)),Ce.each("title text name visible disabled active value".split(" "),function($){$ in c&&P[$](c[$])}),P.on("click",function(){if(P.disabled())return!1}),P.settings=c,P.borderBox=Ur(c.border),P.paddingBox=Ur(c.padding),P.marginBox=Ur(c.margin),c.hidden&&P.hide()},Properties:"parent,name",getContainerElm:function(){var c=si.getUiContainer(this);return c||kt.getContainer()},getParentCtrl:function(c){for(var p,S=this.getRoot().controlIdLookup;c&&S&&!(p=S[c.id]);)c=c.parentNode;return p},initLayoutRect:function(){var c,p,S,P,H,$,ce,he,We,lt,rt=this,ht=rt.settings,Lt=rt.getEl();c=rt.borderBox=rt.borderBox||uo(Lt,"border"),rt.paddingBox=rt.paddingBox||uo(Lt,"padding"),rt.marginBox=rt.marginBox||uo(Lt,"margin"),lt=kt.getSize(Lt),he=ht.minWidth,We=ht.minHeight,H=he||lt.width,$=We||lt.height,S=ht.width,P=ht.height,ce=(ce=ht.autoResize)!==void 0?ce:!S&&!P,S=S||H,P=P||$;var on=c.left+c.right,rn=c.top+c.bottom,zr=ht.maxWidth||65535,jr=ht.maxHeight||65535;return rt._layoutRect=p={x:ht.x||0,y:ht.y||0,w:S,h:P,deltaW:on,deltaH:rn,contentW:S-on,contentH:P-rn,innerW:S-on,innerH:P-rn,startMinWidth:he||0,startMinHeight:We||0,minW:Math.min(H,zr),minH:Math.min($,jr),maxW:zr,maxH:jr,autoResize:ce,scrollW:0},rt._lastLayoutRect={},p},layoutRect:function(c){var p,S,P,H,$,ce=this,he=ce._layoutRect;return he||(he=ce.initLayoutRect()),c?(P=he.deltaW,H=he.deltaH,c.x!==void 0&&(he.x=c.x),c.y!==void 0&&(he.y=c.y),c.minW!==void 0&&(he.minW=c.minW),c.minH!==void 0&&(he.minH=c.minH),(S=c.w)!==void 0&&(S=(S=S<he.minW?he.minW:S)>he.maxW?he.maxW:S,he.w=S,he.innerW=S-P),(S=c.h)!==void 0&&(S=(S=S<he.minH?he.minH:S)>he.maxH?he.maxH:S,he.h=S,he.innerH=S-H),(S=c.innerW)!==void 0&&(S=(S=S<he.minW-P?he.minW-P:S)>he.maxW-P?he.maxW-P:S,he.innerW=S,he.w=S+P),(S=c.innerH)!==void 0&&(S=(S=S<he.minH-H?he.minH-H:S)>he.maxH-H?he.maxH-H:S,he.innerH=S,he.h=S+H),c.contentW!==void 0&&(he.contentW=c.contentW),c.contentH!==void 0&&(he.contentH=c.contentH),(p=ce._lastLayoutRect).x===he.x&&p.y===he.y&&p.w===he.w&&p.h===he.h||(($=ci.repaintControls)&&$.map&&!$.map[ce._id]&&($.push(ce),$.map[ce._id]=!0),p.x=he.x,p.y=he.y,p.w=he.w,p.h=he.h),ce):he},repaint:function(){var c,p,S,P,H,$,ce,he,We,lt,rt=this;We=t.document.createRange?function(ht){return ht}:Math.round,c=rt.getEl().style,P=rt._layoutRect,he=rt._lastRepaintRect||{},$=(H=rt.borderBox).left+H.right,ce=H.top+H.bottom,P.x!==he.x&&(c.left=We(P.x)+"px",he.x=P.x),P.y!==he.y&&(c.top=We(P.y)+"px",he.y=P.y),P.w!==he.w&&(lt=We(P.w-$),c.width=(0<=lt?lt:0)+"px",he.w=P.w),P.h!==he.h&&(lt=We(P.h-ce),c.height=(0<=lt?lt:0)+"px",he.h=P.h),rt._hasBody&&P.innerW!==he.innerW&&(lt=We(P.innerW),(S=rt.getEl("body"))&&((p=S.style).width=(0<=lt?lt:0)+"px"),he.innerW=P.innerW),rt._hasBody&&P.innerH!==he.innerH&&(lt=We(P.innerH),(S=S||rt.getEl("body"))&&((p=p||S.style).height=(0<=lt?lt:0)+"px"),he.innerH=P.innerH),rt._lastRepaintRect=he,rt.fire("repaint",{},!1)},updateLayoutRect:function(){var c=this;c.parent()._lastRect=null,kt.css(c.getEl(),{width:"",height:""}),c._layoutRect=c._lastRepaintRect=c._lastLayoutRect=null,c.initLayoutRect()},on:function(c,p){var S,P,H,$=this;return oe($).on(c,typeof(S=p)!="string"?S:function(ce){return P||$.parentsAndSelf().each(function(he){var We=he.settings.callbacks;if(We&&(P=We[S]))return H=he,!1}),P?P.call(H,ce):(ce.action=S,void this.fire("execute",ce))}),$},off:function(c,p){return oe(this).off(c,p),this},fire:function(c,p,S){if((p=p||{}).control||(p.control=this),p=oe(this).fire(c,p),S!==!1&&this.parent)for(var P=this.parent();P&&!p.isPropagationStopped();)P.fire(c,p,!1),P=P.parent();return p},hasEventListeners:function(c){return oe(this).has(c)},parents:function(c){var p,S=new Cn;for(p=this.parent();p;p=p.parent())S.add(p);return c&&(S=S.filter(c)),S},parentsAndSelf:function(c){return new Cn(this).add(this.parents(c))},next:function(){var c=this.parent().items();return c[c.indexOf(this)+1]},prev:function(){var c=this.parent().items();return c[c.indexOf(this)-1]},innerHtml:function(c){return this.$el.html(c),this},getEl:function(c){var p=c?this._id+"-"+c:this._id;return this._elmCache[p]||(this._elmCache[p]=yt("#"+p)[0]),this._elmCache[p]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch{}return this},blur:function(){return this.getEl().blur(),this},aria:function(c,p){var S=this,P=S.getEl(S.ariaTarget);return p===void 0?S._aria[c]:(S._aria[c]=p,S.state.get("rendered")&&P.setAttribute(c==="role"?c:"aria-"+c,p),S)},encode:function(c,p){return p!==!1&&(c=this.translate(c)),(c||"").replace(/[&<>"]/g,function(S){return"&#"+S.charCodeAt(0)+";"})},translate:function(c){return ci.translate?ci.translate(c):c},before:function(c){var p=this.parent();return p&&p.insert(c,p.items().indexOf(this),!0),this},after:function(c){var p=this.parent();return p&&p.insert(c,p.items().indexOf(this)),this},remove:function(){var c,p,S=this,P=S.getEl(),H=S.parent();if(S.items){var $=S.items().toArray();for(p=$.length;p--;)$[p].remove()}H&&H.items&&(c=[],H.items().each(function(he){he!==S&&c.push(he)}),H.items().set(c),H._lastRect=null),S._eventsRoot&&S._eventsRoot===S&&yt(P).off();var ce=S.getRoot().controlIdLookup;return ce&&delete ce[S._id],P&&P.parentNode&&P.parentNode.removeChild(P),S.state.set("rendered",!1),S.state.destroy(),S.fire("remove"),S},renderBefore:function(c){return yt(c).before(this.renderHtml()),this.postRender(),this},renderTo:function(c){return yt(c||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var c,p,S,P,H,$=this,ce=$.settings;for(P in $.$el=yt($.getEl()),$.state.set("rendered",!0),ce)P.indexOf("on")===0&&$.on(P.substr(2),ce[P]);if($._eventsRoot){for(S=$.parent();!H&&S;S=S.parent())H=S._eventsRoot;if(H)for(P in H._nativeEvents)$._nativeEvents[P]=!0}Fe($),ce.style&&(c=$.getEl())&&(c.setAttribute("style",ce.style),c.style.cssText=ce.style),$.settings.border&&(p=$.borderBox,$.$el.css({"border-top-width":p.top,"border-right-width":p.right,"border-bottom-width":p.bottom,"border-left-width":p.left}));var he=$.getRoot();for(var We in he.controlIdLookup||(he.controlIdLookup={}),(he.controlIdLookup[$._id]=$)._aria)$.aria(We,$._aria[We]);$.state.get("visible")===!1&&($.getEl().style.display="none"),$.bindStates(),$.state.on("change:visible",function(lt){var rt,ht=lt.value;$.state.get("rendered")&&($.getEl().style.display=ht===!1?"none":"",$.getEl().getBoundingClientRect()),(rt=$.parent())&&(rt._lastRect=null),$.fire(ht?"show":"hide"),ma.add($)}),$.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(c){var p,S,P,H,$,ce,he=this.getEl(),We=he.parentNode,lt=function(rt,ht){var Lt,on,rn=rt;for(Lt=on=0;rn&&rn!==ht&&rn.nodeType;)Lt+=rn.offsetLeft||0,on+=rn.offsetTop||0,rn=rn.offsetParent;return{x:Lt,y:on}}(he,We);return p=lt.x,S=lt.y,P=he.offsetWidth,H=he.offsetHeight,$=We.clientWidth,ce=We.clientHeight,c==="end"?(p-=$-P,S-=ce-H):c==="center"&&(p-=$/2-P/2,S-=ce/2-H/2),We.scrollLeft=p,We.scrollTop=S,this},getRoot:function(){for(var c,p=this,S=[];p;){if(p.rootControl){c=p.rootControl;break}S.push(p),p=(c=p).parent()}c||(c=this);for(var P=S.length;P--;)S[P].rootControl=c;return c},reflow:function(){ma.remove(this);var c=this.parent();return c&&c._layout&&!c._layout.isNative()&&c.reflow(),this}};function oe(c){return c._eventDispatcher||(c._eventDispatcher=new mr({scope:c,toggleEvent:function(p,S){S&&mr.isNative(p)&&(c._nativeEvents||(c._nativeEvents={}),c._nativeEvents[p]=!0,c.state.get("rendered")&&Fe(c))}})),c._eventDispatcher}function Fe(c){var p,S,P,H,$,ce;function he(Lt){var on=c.getParentCtrl(Lt.target);on&&on.fire(Lt.type,Lt)}function We(){var Lt=H._lastHoverCtrl;Lt&&(Lt.fire("mouseleave",{target:Lt.getEl()}),Lt.parents().each(function(on){on.fire("mouseleave",{target:on.getEl()})}),H._lastHoverCtrl=null)}function lt(Lt){var on,rn,zr,jr=c.getParentCtrl(Lt.target),Po=H._lastHoverCtrl,Do=0;if(jr!==Po){if((rn=(H._lastHoverCtrl=jr).parents().toArray().reverse()).push(jr),Po){for((zr=Po.parents().toArray().reverse()).push(Po),Do=0;Do<zr.length&&rn[Do]===zr[Do];Do++);for(on=zr.length-1;Do<=on;on--)(Po=zr[on]).fire("mouseleave",{target:Po.getEl()})}for(on=Do;on<rn.length;on++)(jr=rn[on]).fire("mouseenter",{target:jr.getEl()})}}function rt(Lt){Lt.preventDefault(),Lt.type==="mousewheel"?(Lt.deltaY=-.025*Lt.wheelDelta,Lt.wheelDeltaX&&(Lt.deltaX=-.025*Lt.wheelDeltaX)):(Lt.deltaX=0,Lt.deltaY=Lt.detail),Lt=c.fire("wheel",Lt)}if($=c._nativeEvents){for((P=c.parents().toArray()).unshift(c),p=0,S=P.length;!H&&p<S;p++)H=P[p]._eventsRoot;for(H||(H=P[P.length-1]||c),c._eventsRoot=H,S=p,p=0;p<S;p++)P[p]._eventsRoot=H;var ht=H._delegates;for(ce in ht||(ht=H._delegates={}),$){if(!$)return!1;ce!=="wheel"||pu?(ce==="mouseenter"||ce==="mouseleave"?H._hasMouseEnter||(yt(H.getEl()).on("mouseleave",We).on("mouseover",lt),H._hasMouseEnter=1):ht[ce]||(yt(H.getEl()).on(ce,he),ht[ce]=!0),$[ce]=!1):Fa?yt(c.getEl()).on("mousewheel",rt):yt(c.getEl()).on("DOMMouseScroll",rt)}}}Ce.each("text title visible disabled active value".split(" "),function(c){Ha[c]=function(p){return arguments.length===0?this.state.get(c):(p!==void 0&&this.state.set(c,p),this)}});var ft=ci=lr.extend(Ha),dt=function(c){return kt.getRuntimeStyle(c,"position")==="static"},Ft=function(c){return c.state.get("fixed")};function Bt(c,p,S){var P,H,$,ce,he,We,lt,rt,ht,Lt;return ht=ur(),$=(H=kt.getPos(p,si.getUiContainer(c))).x,ce=H.y,Ft(c)&&dt(t.document.body)&&($-=ht.x,ce-=ht.y),P=c.getEl(),he=(Lt=kt.getSize(P)).width,We=Lt.height,lt=(Lt=kt.getSize(p)).width,rt=Lt.height,(S=(S||"").split(""))[0]==="b"&&(ce+=rt),S[1]==="r"&&($+=lt),S[0]==="c"&&(ce+=Math.round(rt/2)),S[1]==="c"&&($+=Math.round(lt/2)),S[3]==="b"&&(ce-=We),S[4]==="r"&&($-=he),S[3]==="c"&&(ce-=Math.round(We/2)),S[4]==="c"&&($-=Math.round(he/2)),{x:$,y:ce,w:he,h:We}}var ur=function(){var c=t.window;return{x:Math.max(c.pageXOffset,t.document.body.scrollLeft,t.document.documentElement.scrollLeft),y:Math.max(c.pageYOffset,t.document.body.scrollTop,t.document.documentElement.scrollTop),w:c.innerWidth||t.document.documentElement.clientWidth,h:c.innerHeight||t.document.documentElement.clientHeight}},Zt=function(c){var p,S=si.getUiContainer(c);return S&&!Ft(c)?{x:0,y:0,w:(p=S).scrollWidth-1,h:p.scrollHeight-1}:ur()},Hn={testMoveRel:function(c,p){for(var S=Zt(this),P=0;P<p.length;P++){var H=Bt(this,c,p[P]);if(Ft(this)){if(0<H.x&&H.x+H.w<S.w&&0<H.y&&H.y+H.h<S.h)return p[P]}else if(H.x>S.x&&H.x+H.w<S.w+S.x&&H.y>S.y&&H.y+H.h<S.h+S.y)return p[P]}return p[0]},moveRel:function(c,p){typeof p!="string"&&(p=this.testMoveRel(c,p));var S=Bt(this,c,p);return this.moveTo(S.x,S.y)},moveBy:function(c,p){var S=this.layoutRect();return this.moveTo(S.x+c,S.y+p),this},moveTo:function(c,p){var S=this;function P(he,We,lt){return he<0||We<he+lt&&(he=We-lt)<0?0:he}if(S.settings.constrainToViewport){var H=Zt(this),$=S.layoutRect();c=P(c,H.w+H.x,$.w),p=P(p,H.h+H.y,$.h)}var ce=si.getUiContainer(S);return ce&&dt(ce)&&!Ft(S)&&(c-=ce.scrollLeft,p-=ce.scrollTop),ce&&(c+=1,p+=1),S.state.get("rendered")?S.layoutRect({x:c,y:p}).repaint():(S.settings.x=c,S.settings.y=p),S.fire("move",{x:c,y:p}),S}},Kn=ft.extend({Mixins:[Hn],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var c=this,p=c.classPrefix;return'<div id="'+c._id+'" class="'+c.classes+'" role="presentation"><div class="'+p+'tooltip-arrow"></div><div class="'+p+'tooltip-inner">'+c.encode(c.state.get("text"))+"</div></div>"},bindStates:function(){var c=this;return c.state.on("change:text",function(p){c.getEl().lastChild.innerHTML=c.encode(p.value)}),c._super()},repaint:function(){var c,p;c=this.getEl().style,p=this._layoutRect,c.left=p.x+"px",c.top=p.y+"px",c.zIndex=131070}}),_n=ft.extend({init:function(c){var p=this;p._super(c),c=p.settings,p.canFocus=!0,c.tooltip&&_n.tooltips!==!1&&(p.on("mouseenter",function(S){var P=p.tooltip().moveTo(-65535);if(S.control===p){var H=P.text(c.tooltip).show().testMoveRel(p.getEl(),["bc-tc","bc-tl","bc-tr"]);P.classes.toggle("tooltip-n",H==="bc-tc"),P.classes.toggle("tooltip-nw",H==="bc-tl"),P.classes.toggle("tooltip-ne",H==="bc-tr"),P.moveRel(p.getEl(),H)}else P.hide()}),p.on("mouseleave mousedown click",function(){p.tooltip().remove(),p._tooltip=null})),p.aria("label",c.ariaLabel||c.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Kn({type:"tooltip"}),si.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var c=this,p=c.settings;c._super(),c.parent()||!p.width&&!p.height||(c.initLayoutRect(),c.repaint()),p.autofocus&&c.focus()},bindStates:function(){var c=this;function p(P){c.aria("disabled",P),c.classes.toggle("disabled",P)}function S(P){c.aria("pressed",P),c.classes.toggle("active",P)}return c.state.on("change:disabled",function(P){p(P.value)}),c.state.on("change:active",function(P){S(P.value)}),c.state.get("disabled")&&p(!0),c.state.get("active")&&S(!0),c._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),gn=_n.extend({Defaults:{value:0},init:function(c){this._super(c),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(p){return Math.round(p)})},renderHtml:function(){var c=this._id,p=this.classPrefix;return'<div id="'+c+'" class="'+this.classes+'"><div class="'+p+'bar-container"><div class="'+p+'bar"></div></div><div class="'+p+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var c=this;function p(S){S=c.settings.filter(S),c.getEl().lastChild.innerHTML=S+"%",c.getEl().firstChild.firstChild.style.width=S+"%"}return c.state.on("change:value",function(S){p(S.value)}),p(c.state.get("value")),c._super()}}),zn=function(c,p){c.getEl().lastChild.textContent=p+(c.progressBar?" "+c.progressBar.value()+"%":"")},Qn=ft.extend({Mixins:[Hn],Defaults:{classes:"widget notification"},init:function(c){var p=this;p._super(c),p.maxWidth=c.maxWidth,c.text&&p.text(c.text),c.icon&&(p.icon=c.icon),c.color&&(p.color=c.color),c.type&&p.classes.add("notification-"+c.type),c.timeout&&(c.timeout<0||0<c.timeout)&&!c.closeButton?p.closeButton=!1:(p.classes.add("has-close"),p.closeButton=!0),c.progressBar&&(p.progressBar=new gn),p.on("click",function(S){S.target.className.indexOf(p.classPrefix+"close")!==-1&&p.close()})},renderHtml:function(){var c,p=this,S=p.classPrefix,P="",H="",$="";return p.icon&&(P='<i class="'+S+"ico "+S+"i-"+p.icon+'"></i>'),c=' style="max-width: '+p.maxWidth+"px;"+(p.color?"background-color: "+p.color+';"':'"'),p.closeButton&&(H='<button type="button" class="'+S+'close" aria-hidden="true">\xD7</button>'),p.progressBar&&($=p.progressBar.renderHtml()),'<div id="'+p._id+'" class="'+p.classes+'"'+c+' role="presentation">'+P+'<div class="'+S+'notification-inner">'+p.state.get("text")+"</div>"+$+H+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var c=this;return X.setTimeout(function(){c.$el.addClass(c.classPrefix+"in"),zn(c,c.state.get("text"))},100),c._super()},bindStates:function(){var c=this;return c.state.on("change:text",function(p){c.getEl().firstChild.innerHTML=p.value,zn(c,p.value)}),c.progressBar&&(c.progressBar.bindStates(),c.progressBar.state.on("change:value",function(p){zn(c,c.state.get("text"))})),c._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var c,p;c=this.getEl().style,p=this._layoutRect,c.left=p.x+"px",c.top=p.y+"px",c.zIndex=65534}});function Nn(c){var p=function(S){return S.inline?S.getElement():S.getContentAreaContainer()};return{open:function(S,P){var H,$=Ce.extend(S,{maxWidth:(H=p(c),kt.getSize(H).width)}),ce=new Qn($);return 0<(ce.args=$).timeout&&(ce.timer=setTimeout(function(){ce.close(),P()},$.timeout)),ce.on("close",function(){P()}),ce.renderTo(),ce},close:function(S){S.close()},reposition:function(S){zt(S,function(P){P.moveTo(0,0)}),function(P){if(0<P.length){var H=P.slice(0,1)[0],$=p(c);H.moveRel($,"tc-tc"),zt(P,function(ce,he){0<he&&ce.moveRel(P[he-1].getEl(),"bc-tc")})}}(S)},getArgs:function(S){return S.args}}}function xr(c){var p,S;if(c.changedTouches)for(p="screenX screenY pageX pageY clientX clientY".split(" "),S=0;S<p.length;S++)c[p[S]]=c.changedTouches[0][p[S]]}function Hr(c,p){var S,P,H,$,ce,he,We,lt=p.document||t.document;p=p||{};var rt=lt.getElementById(p.handle||c);H=function(ht){var Lt,on,rn,zr,jr,Po,Do,vn,Dr,ho,ri,xi=(Lt=lt,Dr=Math.max,on=Lt.documentElement,rn=Lt.body,zr=Dr(on.scrollWidth,rn.scrollWidth),jr=Dr(on.clientWidth,rn.clientWidth),Po=Dr(on.offsetWidth,rn.offsetWidth),Do=Dr(on.scrollHeight,rn.scrollHeight),vn=Dr(on.clientHeight,rn.clientHeight),{width:zr<Po?jr:zr,height:Do<Dr(on.offsetHeight,rn.offsetHeight)?vn:Do});xr(ht),ht.preventDefault(),P=ht.button,ho=rt,he=ht.screenX,We=ht.screenY,ri=t.window.getComputedStyle?t.window.getComputedStyle(ho,null).getPropertyValue("cursor"):ho.runtimeStyle.cursor,S=yt("<div></div>").css({position:"absolute",top:0,left:0,width:xi.width,height:xi.height,zIndex:2147483647,opacity:1e-4,cursor:ri}).appendTo(lt.body),yt(lt).on("mousemove touchmove",ce).on("mouseup touchend",$),p.start(ht)},ce=function(ht){if(xr(ht),ht.button!==P)return $(ht);ht.deltaX=ht.screenX-he,ht.deltaY=ht.screenY-We,ht.preventDefault(),p.drag(ht)},$=function(ht){xr(ht),yt(lt).off("mousemove touchmove",ce).off("mouseup touchend",$),S.remove(),p.stop&&p.stop(ht)},this.destroy=function(){yt(rt).off()},yt(rt).on("mousedown touchstart",H)}var Yr=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Er=function(c){return!!c.getAttribute("data-mce-tabstop")};function ei(c){var p,S,P=c.root;function H(vn){return vn&&vn.nodeType===1}try{p=t.document.activeElement}catch{p=t.document.body}function $(vn){return H(vn=vn||p)?vn.getAttribute("role"):null}function ce(vn){for(var Dr,ho=vn||p;ho=ho.parentNode;)if(Dr=$(ho))return Dr}function he(vn){var Dr=p;if(H(Dr))return Dr.getAttribute("aria-"+vn)}function We(vn){var Dr=vn.tagName.toUpperCase();return Dr==="INPUT"||Dr==="TEXTAREA"||Dr==="SELECT"}function lt(vn){var Dr=[];return function ho(ri){if(ri.nodeType===1&&ri.style.display!=="none"&&!ri.disabled){var xi;(We(xi=ri)&&!xi.hidden||Er(xi)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test($(xi)))&&Dr.push(ri);for(var Ci=0;Ci<ri.childNodes.length;Ci++)ho(ri.childNodes[Ci])}}(vn||P.getEl()),Dr}function rt(vn){var Dr,ho;(ho=(vn=vn||S).parents().toArray()).unshift(vn);for(var ri=0;ri<ho.length&&!(Dr=ho[ri]).settings.ariaRoot;ri++);return Dr}function ht(vn,Dr){return vn<0?vn=Dr.length-1:vn>=Dr.length&&(vn=0),Dr[vn]&&Dr[vn].focus(),vn}function Lt(vn,Dr){var ho=-1,ri=rt();Dr=Dr||lt(ri.getEl());for(var xi=0;xi<Dr.length;xi++)Dr[xi]===p&&(ho=xi);ho+=vn,ri.lastAriaIndex=ht(ho,Dr)}function on(){ce()==="tablist"?Lt(-1,lt(p.parentNode)):S.parent().submenu?Po():Lt(-1)}function rn(){var vn=$(),Dr=ce();Dr==="tablist"?Lt(1,lt(p.parentNode)):vn==="menuitem"&&Dr==="menu"&&he("haspopup")?Do():Lt(1)}function zr(){Lt(-1)}function jr(){var vn=$(),Dr=ce();vn==="menuitem"&&Dr==="menubar"?Do():vn==="button"&&he("haspopup")?Do({key:"down"}):Lt(1)}function Po(){S.fire("cancel")}function Do(vn){vn=vn||{},S.fire("click",{target:p,aria:vn})}return S=P.getParentCtrl(p),P.on("keydown",function(vn){function Dr(ho,ri){We(p)||Er(p)||$(p)!=="slider"&&ri(ho)!==!1&&ho.preventDefault()}if(!vn.isDefaultPrevented())switch(vn.keyCode){case 37:Dr(vn,on);break;case 39:Dr(vn,rn);break;case 38:Dr(vn,zr);break;case 40:Dr(vn,jr);break;case 27:Po();break;case 14:case 13:case 32:Dr(vn,Do);break;case 9:(function(ho){if(ce()==="tablist"){var ri=lt(S.getEl("body"))[0];ri&&ri.focus()}else Lt(ho.shiftKey?-1:1)})(vn),vn.preventDefault()}}),P.on("focusin",function(vn){p=vn.target,S=vn.control}),{focusFirst:function(vn){var Dr=rt(vn),ho=lt(Dr.getEl());Dr.settings.ariaRemember&&"lastAriaIndex"in Dr?ht(Dr.lastAriaIndex,ho):ht(0,ho)}}}var fo,$i,ye,Re,tt={},bt=ft.extend({init:function(c){var p=this;p._super(c),(c=p.settings).fixed&&p.state.set("fixed",!0),p._items=new Cn,p.isRtl()&&p.classes.add("rtl"),p.bodyClasses=new Vr(function(){p.state.get("rendered")&&(p.getEl("body").className=this.toString())}),p.bodyClasses.prefix=p.classPrefix,p.classes.add("container"),p.bodyClasses.add("container-body"),c.containerCls&&p.classes.add(c.containerCls),p._layout=Yr.create((c.layout||"")+"layout"),p.settings.items?p.add(p.settings.items):p.add(p.render()),p._hasBody=!0},items:function(){return this._items},find:function(c){return(c=tt[c]=tt[c]||new tn(c)).find(this)},add:function(c){return this.items().add(this.create(c)).parent(this),this},focus:function(c){var p,S,P,H=this;if(!c||!(S=H.keyboardNav||H.parents().eq(-1)[0].keyboardNav))return P=H.find("*"),H.statusbar&&P.add(H.statusbar.items()),P.each(function($){if($.settings.autofocus)return p=null,!1;$.canFocus&&(p=p||$)}),p&&p.focus(),H;S.focusFirst(H)},replace:function(c,p){for(var S,P=this.items(),H=P.length;H--;)if(P[H]===c){P[H]=p;break}0<=H&&((S=p.getEl())&&S.parentNode.removeChild(S),(S=c.getEl())&&S.parentNode.removeChild(S)),p.parent(this)},create:function(c){var p,S=this,P=[];return Ce.isArray(c)||(c=[c]),Ce.each(c,function(H){H&&(H instanceof ft||(typeof H=="string"&&(H={type:H}),p=Ce.extend({},S.settings.defaults,H),H.type=p.type=p.type||H.type||S.settings.defaultType||(p.defaults?p.defaults.type:null),H=Yr.create(p)),P.push(H))}),P},renderNew:function(){var c=this;return c.items().each(function(p,S){var P;p.parent(c),p.state.get("rendered")||((P=c.getEl("body")).hasChildNodes()&&S<=P.childNodes.length-1?yt(P.childNodes[S]).before(p.renderHtml()):yt(P).append(p.renderHtml()),p.postRender(),ma.add(p))}),c._layout.applyClasses(c.items().filter(":visible")),c._lastRect=null,c},append:function(c){return this.add(c).renderNew()},prepend:function(c){return this.items().set(this.create(c).concat(this.items().toArray())),this.renderNew()},insert:function(c,p,S){var P,H,$;return c=this.create(c),P=this.items(),!S&&p<P.length-1&&(p+=1),0<=p&&p<P.length&&(H=P.slice(0,p).toArray(),$=P.slice(p).toArray(),P.set(H.concat(c,$))),this.renderNew()},fromJSON:function(c){for(var p in c)this.find("#"+p).value(c[p]);return this},toJSON:function(){var c={};return this.find("*").each(function(p){var S=p.name(),P=p.value();S&&P!==void 0&&(c[S]=P)}),c},renderHtml:function(){var c=this,p=c._layout,S=this.settings.role;return c.preRender(),p.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"'+(S?' role="'+this.settings.role+'"':"")+'><div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+p.renderHtml(c)+"</div></div>"},postRender:function(){var c,p=this;return p.items().exec("postRender"),p._super(),p._layout.postRender(p),p.state.set("rendered",!0),p.settings.style&&p.$el.css(p.settings.style),p.settings.border&&(c=p.borderBox,p.$el.css({"border-top-width":c.top,"border-right-width":c.right,"border-bottom-width":c.bottom,"border-left-width":c.left})),p.parent()||(p.keyboardNav=ei({root:p})),p},initLayoutRect:function(){var c=this._super();return this._layout.recalc(this),c},recalc:function(){var c=this,p=c._layoutRect,S=c._lastRect;if(!S||S.w!==p.w||S.h!==p.h)return c._layout.recalc(c),p=c.layoutRect(),c._lastRect={x:p.x,y:p.y,w:p.w,h:p.h},!0},reflow:function(){var c;if(ma.remove(this),this.visible()){for(ft.repaintControls=[],ft.repaintControls.map={},this.recalc(),c=ft.repaintControls.length;c--;)ft.repaintControls[c].repaint();this.settings.layout!=="flow"&&this.settings.layout!=="stack"&&this.repaint(),ft.repaintControls=[]}return this}}),Ot={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var c=this,p=2;function S(){var P,H,$;function ce(he,We,lt,rt,ht,Lt){var on,rn,zr,jr,Po,Do,vn,Dr;if(rn=c.getEl("scroll"+he)){if(vn=We.toLowerCase(),Dr=lt.toLowerCase(),yt(c.getEl("absend")).css(vn,c.layoutRect()[rt]-1),!ht)return void yt(rn).css("display","none");yt(rn).css("display","block"),on=c.getEl("body"),zr=c.getEl("scroll"+he+"t"),jr=on["client"+lt]-2*p,Po=(jr-=P&&H?rn["client"+Lt]:0)/on["scroll"+lt],(Do={})[vn]=on["offset"+We]+p,Do[Dr]=jr,yt(rn).css(Do),(Do={})[vn]=on["scroll"+We]*Po,Do[Dr]=jr*Po,yt(zr).css(Do)}}$=c.getEl("body"),P=$.scrollWidth>$.clientWidth,H=$.scrollHeight>$.clientHeight,ce("h","Left","Width","contentW",P,"Height"),ce("v","Top","Height","contentH",H,"Width")}c.settings.autoScroll&&(c._hasScroll||(c._hasScroll=!0,function(){function P(H,$,ce,he,We){var lt,rt=c._id+"-scroll"+H,ht=c.classPrefix;yt(c.getEl()).append('<div id="'+rt+'" class="'+ht+"scrollbar "+ht+"scrollbar-"+H+'"><div id="'+rt+'t" class="'+ht+'scrollbar-thumb"></div></div>'),c.draghelper=new Hr(rt+"t",{start:function(){lt=c.getEl("body")["scroll"+$],yt("#"+rt).addClass(ht+"active")},drag:function(Lt){var on,rn,zr,jr,Po=c.layoutRect();rn=Po.contentW>Po.innerW,zr=Po.contentH>Po.innerH,jr=c.getEl("body")["client"+ce]-2*p,on=(jr-=rn&&zr?c.getEl("scroll"+H)["client"+We]:0)/c.getEl("body")["scroll"+ce],c.getEl("body")["scroll"+$]=lt+Lt["delta"+he]/on},stop:function(){yt("#"+rt).removeClass(ht+"active")}})}c.classes.add("scroll"),P("v","Top","Height","Y","Width"),P("h","Left","Width","X","Height")}(),c.on("wheel",function(P){var H=c.getEl("body");H.scrollLeft+=10*(P.deltaX||0),H.scrollTop+=10*P.deltaY,S()}),yt(c.getEl("body")).on("scroll",S)),S())}},Dt=bt.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Ot],renderHtml:function(){var c=this,p=c._layout,S=c.settings.html;return c.preRender(),p.preRender(c),S===void 0?S='<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+p.renderHtml(c)+"</div>":(typeof S=="function"&&(S=S.call(c)),c._hasBody=!1),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1" role="group">'+(c._preBodyHtml||"")+S+"</div>"}}),cn={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(c,p){if(c<=1||p<=1){var S=kt.getWindowSize();c=c<=1?c*S.w:c,p=p<=1?p*S.h:p}return this._layoutRect.autoResize=!1,this.layoutRect({minW:c,minH:p,w:c,h:p}).reflow()},resizeBy:function(c,p){var S=this.layoutRect();return this.resizeTo(S.w+c,S.h+p)}},On=[],sr=[];function $n(c,p){for(;c;){if(c===p)return!0;c=c.parent()}}function An(){fo||(fo=function(c){c.button!==2&&function(p){for(var S=On.length;S--;){var P=On[S],H=P.getParentCtrl(p.target);if(P.settings.autohide){if(H&&($n(H,P)||P.parent()===H))continue;(p=P.fire("autohide",{target:p.target})).isDefaultPrevented()||P.hide()}}}(c)},yt(t.document).on("click touchstart",fo))}function hr(c){var p=kt.getViewPort().y;function S(P,H){for(var $,ce=0;ce<On.length;ce++)if(On[ce]!==c)for($=On[ce].parent();$&&($=$.parent());)$===c&&On[ce].fixed(P).moveBy(0,H).repaint()}c.settings.autofix&&(c.state.get("fixed")?c._autoFixY>p&&(c.fixed(!1).layoutRect({y:c._autoFixY}).repaint(),S(!1,c._autoFixY-p)):(c._autoFixY=c.layoutRect().y,c._autoFixY<p&&(c.fixed(!0).layoutRect({y:0}).repaint(),S(!0,p-c._autoFixY))))}function yr(c,p){var S,P,H=_r.zIndex||65535;if(c)sr.push(p);else for(S=sr.length;S--;)sr[S]===p&&sr.splice(S,1);if(sr.length)for(S=0;S<sr.length;S++)sr[S].modal&&(H++,P=sr[S]),sr[S].getEl().style.zIndex=H,sr[S].zIndex=H,H++;var $=yt("#"+p.classPrefix+"modal-block",p.getContainerElm())[0];P?yt($).css("z-index",P.zIndex-1):$&&($.parentNode.removeChild($),Re=!1),_r.currentZIndex=H}var _r=Dt.extend({Mixins:[Hn,cn],init:function(c){var p=this;p._super(c),(p._eventsRoot=p).classes.add("floatpanel"),c.autohide&&(An(),function(){if(!ye){var S=t.document.documentElement,P=S.clientWidth,H=S.clientHeight;ye=function(){t.document.all&&P===S.clientWidth&&H===S.clientHeight||(P=S.clientWidth,H=S.clientHeight,_r.hideAll())},yt(t.window).on("resize",ye)}}(),On.push(p)),c.autofix&&($i||($i=function(){var S;for(S=On.length;S--;)hr(On[S])},yt(t.window).on("scroll",$i)),p.on("move",function(){hr(this)})),p.on("postrender show",function(S){if(S.control===p){var P,H=p.classPrefix;p.modal&&!Re&&((P=yt("#"+H+"modal-block",p.getContainerElm()))[0]||(P=yt('<div id="'+H+'modal-block" class="'+H+"reset "+H+'fade"></div>').appendTo(p.getContainerElm())),X.setTimeout(function(){P.addClass(H+"in"),yt(p.getEl()).addClass(H+"in")}),Re=!0),yr(!0,p)}}),p.on("show",function(){p.parents().each(function(S){if(S.state.get("fixed"))return p.fixed(!0),!1})}),c.popover&&(p._preBodyHtml='<div class="'+p.classPrefix+'arrow"></div>',p.classes.add("popover").add("bottom").add(p.isRtl()?"end":"start")),p.aria("label",c.ariaLabel),p.aria("labelledby",p._id),p.aria("describedby",p.describedBy||p._id+"-none")},fixed:function(c){var p=this;if(p.state.get("fixed")!==c){if(p.state.get("rendered")){var S=kt.getViewPort();c?p.layoutRect().y-=S.y:p.layoutRect().y+=S.y}p.classes.toggle("fixed",c),p.state.set("fixed",c)}return p},show:function(){var c,p=this._super();for(c=On.length;c--&&On[c]!==this;);return c===-1&&On.push(this),p},hide:function(){return Sr(this),yr(!1,this),this._super()},hideAll:function(){_r.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),yr(!1,this)),this},remove:function(){Sr(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function Sr(c){var p;for(p=On.length;p--;)On[p]===c&&On.splice(p,1);for(p=sr.length;p--;)sr[p]===c&&sr.splice(p,1)}_r.hideAll=function(){for(var c=On.length;c--;){var p=On[c];p&&p.settings.autohide&&(p.hide(),On.splice(c,1))}};var bo=[],Mr="";function Ro(c){var p,S=yt("meta[name=viewport]")[0];L.overrideViewPort!==!1&&(S||((S=t.document.createElement("meta")).setAttribute("name","viewport"),t.document.getElementsByTagName("head")[0].appendChild(S)),(p=S.getAttribute("content"))&&Mr!==void 0&&(Mr=p),S.setAttribute("content",c?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":Mr))}function Di(c,p){(function(){for(var S=0;S<bo.length;S++)if(bo[S]._fullscreen)return!0;return!1})()&&p===!1&&yt([t.document.documentElement,t.document.body]).removeClass(c+"fullscreen")}var Go=_r.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(c){var p=this;p._super(c),p.isRtl()&&p.classes.add("rtl"),p.classes.add("window"),p.bodyClasses.add("window-body"),p.state.set("fixed",!0),c.buttons&&(p.statusbar=new Dt({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:p.isRtl()?"start":"end",defaults:{type:"button"},items:c.buttons}),p.statusbar.classes.add("foot"),p.statusbar.parent(p)),p.on("click",function(S){var P=p.classPrefix+"close";(kt.hasClass(S.target,P)||kt.hasClass(S.target.parentNode,P))&&p.close()}),p.on("cancel",function(){p.close()}),p.on("move",function(S){S.control===p&&_r.hideAll()}),p.aria("describedby",p.describedBy||p._id+"-none"),p.aria("label",c.title),p._fullscreen=!1},recalc:function(){var c,p,S,P,H=this,$=H.statusbar;H._fullscreen&&(H.layoutRect(kt.getWindowSize()),H.layoutRect().contentH=H.layoutRect().innerH),H._super(),c=H.layoutRect(),H.settings.title&&!H._fullscreen&&(p=c.headerW)>c.w&&(S=c.x-Math.max(0,p/2),H.layoutRect({w:p,x:S}),P=!0),$&&($.layoutRect({w:H.layoutRect().innerW}).recalc(),(p=$.layoutRect().minW+c.deltaW)>c.w&&(S=c.x-Math.max(0,p-c.w),H.layoutRect({w:p,x:S}),P=!0)),P&&H.recalc()},initLayoutRect:function(){var c,p=this,S=p._super(),P=0;if(p.settings.title&&!p._fullscreen){c=p.getEl("head");var H=kt.getSize(c);S.headerW=H.width,S.headerH=H.height,P+=S.headerH}p.statusbar&&(P+=p.statusbar.layoutRect().h),S.deltaH+=P,S.minH+=P,S.h+=P;var $=kt.getWindowSize();return S.x=p.settings.x||Math.max(0,$.w/2-S.w/2),S.y=p.settings.y||Math.max(0,$.h/2-S.h/2),S},renderHtml:function(){var c=this,p=c._layout,S=c._id,P=c.classPrefix,H=c.settings,$="",ce="",he=H.html;return c.preRender(),p.preRender(c),H.title&&($='<div id="'+S+'-head" class="'+P+'window-head"><div id="'+S+'-title" class="'+P+'title">'+c.encode(H.title)+'</div><div id="'+S+'-dragh" class="'+P+'dragh"></div><button type="button" class="'+P+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),H.url&&(he='<iframe src="'+H.url+'" tabindex="-1"></iframe>'),he===void 0&&(he=p.renderHtml(c)),c.statusbar&&(ce=c.statusbar.renderHtml()),'<div id="'+S+'" class="'+c.classes+'" hidefocus="1"><div class="'+c.classPrefix+'reset" role="application">'+$+'<div id="'+S+'-body" class="'+c.bodyClasses+'">'+he+"</div>"+ce+"</div></div>"},fullscreen:function(c){var p,S,P=this,H=t.document.documentElement,$=P.classPrefix;if(c!==P._fullscreen)if(yt(t.window).on("resize",function(){var he;if(P._fullscreen)if(p)P._timer||(P._timer=X.setTimeout(function(){var lt=kt.getWindowSize();P.moveTo(0,0).resizeTo(lt.w,lt.h),P._timer=0},50));else{he=new Date().getTime();var We=kt.getWindowSize();P.moveTo(0,0).resizeTo(We.w,We.h),50<new Date().getTime()-he&&(p=!0)}}),S=P.layoutRect(),P._fullscreen=c){P._initial={x:S.x,y:S.y,w:S.w,h:S.h},P.borderBox=Ur("0"),P.getEl("head").style.display="none",S.deltaH-=S.headerH+2,yt([H,t.document.body]).addClass($+"fullscreen"),P.classes.add("fullscreen");var ce=kt.getWindowSize();P.moveTo(0,0).resizeTo(ce.w,ce.h)}else P.borderBox=Ur(P.settings.border),P.getEl("head").style.display="",S.deltaH+=S.headerH,yt([H,t.document.body]).removeClass($+"fullscreen"),P.classes.remove("fullscreen"),P.moveTo(P._initial.x,P._initial.y).resizeTo(P._initial.w,P._initial.h);return P.reflow()},postRender:function(){var c,p=this;setTimeout(function(){p.classes.add("in"),p.fire("open")},0),p._super(),p.statusbar&&p.statusbar.postRender(),p.focus(),this.dragHelper=new Hr(p._id+"-dragh",{start:function(){c={x:p.layoutRect().x,y:p.layoutRect().y}},drag:function(S){p.moveTo(c.x+S.deltaX,c.y+S.deltaY)}}),p.on("submit",function(S){S.isDefaultPrevented()||p.close()}),bo.push(p),Ro(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var c,p=this;for(p.dragHelper.destroy(),p._super(),p.statusbar&&this.statusbar.remove(),Di(p.classPrefix,!1),c=bo.length;c--;)bo[c]===p&&bo.splice(c,1);Ro(0<bo.length)},getContentWindow:function(){var c=this.getEl().getElementsByTagName("iframe")[0];return c?c.contentWindow:null}});(function(){if(!L.desktop){var c={w:t.window.innerWidth,h:t.window.innerHeight};X.setInterval(function(){var p=t.window.innerWidth,S=t.window.innerHeight;c.w===p&&c.h===S||(c={w:p,h:S},yt(t.window).trigger("resize"))},100)}yt(t.window).on("resize",function(){var p,S,P=kt.getWindowSize();for(p=0;p<bo.length;p++)S=bo[p].layoutRect(),bo[p].moveTo(bo[p].settings.x||Math.max(0,P.w/2-S.w/2),bo[p].settings.y||Math.max(0,P.h/2-S.h/2))})})();var ar,st,xo,mo=Go.extend({init:function(c){c={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(c)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(c){var p,S=c.callback||function(){};function P(H,$,ce){return{type:"button",text:H,subtype:ce?"primary":"",onClick:function(he){he.control.parents()[1].close(),S($)}}}switch(c.buttons){case mo.OK_CANCEL:p=[P("Ok",!0,!0),P("Cancel",!1)];break;case mo.YES_NO:case mo.YES_NO_CANCEL:p=[P("Yes",1,!0),P("No",0)],c.buttons===mo.YES_NO_CANCEL&&p.push(P("Cancel",-1));break;default:p=[P("Ok",!0,!0)]}return new Go({padding:20,x:c.x,y:c.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:p,title:c.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:c.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:c.onClose,onCancel:function(){S(!1)}}).renderTo(t.document.body).reflow()},alert:function(c,p){return typeof c=="string"&&(c={text:c}),c.callback=p,mo.msgBox(c)},confirm:function(c,p){return typeof c=="string"&&(c={text:c}),c.callback=p,c.buttons=mo.OK_CANCEL,mo.msgBox(c)}}}),no=function(c,p){return{renderUI:function(){return Fn(c,p)},getNotificationManagerImpl:function(){return Nn(c)},getWindowManagerImpl:function(){return{open:function(S,P,H){var $;return S.title=S.title||" ",S.url=S.url||S.file,S.url&&(S.width=parseInt(S.width||320,10),S.height=parseInt(S.height||240,10)),S.body&&(S.items={defaults:S.defaults,type:S.bodyType||"form",items:S.body,data:S.data,callbacks:S.commands}),S.url||S.buttons||(S.buttons=[{text:"Ok",subtype:"primary",onclick:function(){$.find("form")[0].submit()}},{text:"Cancel",onclick:function(){$.close()}}]),($=new Go(S)).on("close",function(){H($)}),S.data&&$.on("postRender",function(){this.find("*").each(function(ce){var he=ce.name();he in S.data&&ce.value(S.data[he])})}),$.features=S||{},$.params=P||{},$=$.renderTo(t.document.body).reflow()},alert:function(S,P,H){var $;return($=mo.alert(S,function(){P()})).on("close",function(){H($)}),$},confirm:function(S,P,H){var $;return($=mo.confirm(S,function(ce){P(ce)})).on("close",function(){H($)}),$},close:function(S){S.close()},getParams:function(S){return S.params},setParams:function(S,P){S.params=P}}}}},Vo=typeof t.window!="undefined"?t.window:Function("return this;")(),Oo=function(c,p){return function(S,P){for(var H=P!=null?P:Vo,$=0;$<S.length&&H!==void 0&&H!==null;++$)H=H[S[$]];return H}(c.split("."),p)},mi=function(c,p){var S=Oo(c,p);if(S==null)throw new Error(c+" not available on this browser");return S},Uo=tinymce.util.Tools.resolve("tinymce.util.Promise"),ra=function(c){return new Uo(function(p){var S=new(mi("FileReader"));S.onloadend=function(){p(S.result.split(",")[1])},S.readAsDataURL(c)})},_a=function(){return new Uo(function(c){var p;(p=t.document.createElement("input")).type="file",p.style.position="fixed",p.style.left=0,p.style.top=0,p.style.opacity=.001,t.document.body.appendChild(p),p.onchange=function(S){c(Array.prototype.slice.call(S.target.files))},p.click(),p.parentNode.removeChild(p)})},Ni=0,oa=function(c){return c+Ni+++(p=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+Date.now().toString(36)+p()+p()+p());var p},ga=function(c,p){var S={};function P(H){var $,ce,he;ce=p[H?"startContainer":"endContainer"],he=p[H?"startOffset":"endOffset"],ce.nodeType===1&&($=c.create("span",{"data-mce-type":"bookmark"}),ce.hasChildNodes()?(he=Math.min(he,ce.childNodes.length-1),H?ce.insertBefore($,ce.childNodes[he]):c.insertAfter($,ce.childNodes[he])):ce.appendChild($),ce=$,he=0),S[H?"startContainer":"endContainer"]=ce,S[H?"startOffset":"endOffset"]=he}return P(!0),p.collapsed||P(),S},vi=function(c,p){function S(H){var $,ce,he;$=he=p[H?"startContainer":"endContainer"],ce=p[H?"startOffset":"endOffset"],$&&($.nodeType===1&&(ce=function(We){for(var lt=We.parentNode.firstChild,rt=0;lt;){if(lt===We)return rt;lt.nodeType===1&&lt.getAttribute("data-mce-type")==="bookmark"||rt++,lt=lt.nextSibling}return-1}($),$=$.parentNode,c.remove(he)),p[H?"startContainer":"endContainer"]=$,p[H?"startOffset":"endOffset"]=ce)}S(!0),S();var P=c.createRng();return P.setStart(p.startContainer,p.startOffset),p.endContainer&&P.setEnd(p.endContainer,p.endOffset),P},Si=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Ka=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Gi=function(c){return c.nodeName==="A"&&c.hasAttribute("href")},ki=function(c){var p,S,P,H,$,ce,he,We;return H=c.selection,$=c.dom,ce=H.getRng(),he=$,We=Ka.getNode(ce.startContainer,ce.startOffset),p=he.getParent(We,Gi)||We,S=Ka.getNode(ce.endContainer,ce.endOffset),P=c.getBody(),Ce.grep(function(lt,rt,ht){var Lt,on,rn=[];for(Lt=new Si(rt,lt),on=rt;on&&(on.nodeType===1&&rn.push(on),on!==ht);on=Lt.next());return rn}(P,p,S),Gi)},ti=function(c){var p,S,P,H,$;S=ki(p=c),H=p.dom,$=p.selection,P=ga(H,$.getRng()),Ce.each(S,function(ce){p.dom.remove(ce,!0)}),$.setRng(vi(H,P))},br=function(c){c.selection.collapse(!1)},gu=function(c){c.focus(),ti(c),br(c)},vu=function(c,p){var S,P,H,$,ce,he=c.dom.getParent(c.selection.getStart(),"a[href]");he?($=he,ce=p,(H=c).focus(),H.dom.setAttrib($,"href",ce),br(H)):(P=p,(S=c).execCommand("mceInsertLink",!1,{href:P}),br(S))},go=function(c,p,S){var P,H,$;c.plugins.table?c.plugins.table.insertTable(p,S):(H=p,$=S,(P=c).undoManager.transact(function(){var ce,he;P.insertContent(function(We,lt){var rt,ht,Lt;for(Lt='<table data-mce-id="mce" style="width: 100%">',Lt+="<tbody>",ht=0;ht<lt;ht++){for(Lt+="<tr>",rt=0;rt<We;rt++)Lt+="<td><br></td>";Lt+="</tr>"}return Lt+="</tbody>",Lt+="</table>"}(H,$)),(ce=P.dom.select("*[data-mce-id]")[0]).removeAttribute("data-mce-id"),he=P.dom.select("td,th",ce),P.selection.setCursorLocation(he[0],0)}))},zo=function(c,p){c.execCommand("FormatBlock",!1,p)},Ei=function(c,p,S){var P,H;H=(P=c.editorUpload.blobCache).create(oa("mceu"),S,p),P.add(H),c.insertContent(c.dom.createHTML("img",{src:H.blobUri()}))},Vi=function(c,p){p.trim().length===0?gu(c):vu(c,p)},ne=gu,be=function(c,p){c.addButton("quicklink",{icon:"link",tooltip:"Insert/Edit link",stateSelector:"a[href]",onclick:function(){p.showForm(c,"quicklink")}}),c.addButton("quickimage",{icon:"image",tooltip:"Insert image",onclick:function(){_a().then(function(S){var P=S[0];ra(P).then(function(H){Ei(c,H,P)})})}}),c.addButton("quicktable",{icon:"table",tooltip:"Insert table",onclick:function(){p.hide(),go(c,2,2)}}),function(S){for(var P=function(ce){return function(){zo(S,ce)}},H=1;H<6;H++){var $="h"+H;S.addButton($,{text:$.toUpperCase(),tooltip:"Heading "+H,stateSelector:$,onclick:P($),onPostRender:function(){this.getEl().firstChild.firstChild.style.fontWeight="bold"}})}}(c)},me=function(){var c=L.container;if(c&&U.DOM.getStyle(c,"position",!0)!=="static"){var p=U.DOM.getPos(c),S=p.x-c.scrollLeft,P=p.y-c.scrollTop;return Wo.some({x:S,y:P})}return Wo.none()},Ye=function(c){return/^www\.|\.(com|org|edu|gov|uk|net|ca|de|jp|fr|au|us|ru|ch|it|nl|se|no|es|mil)$/i.test(c.trim())},Qe=function(c){return/^https?:\/\//.test(c.trim())},Et=function(c,p){return!Qe(p)&&Ye(p)?(S=c,P=p,new Uo(function(H){S.windowManager.confirm("The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function($){H($===!0?"http://"+P:P)})})):Uo.resolve(p);var S,P},Ut=function(c,p){var S,P,H,$={};return S="quicklink",P={items:[{type:"button",name:"unlink",icon:"unlink",onclick:function(){c.focus(),ne(c),p()},tooltip:"Remove link"},{type:"filepicker",name:"linkurl",placeholder:"Paste or type a link",filetype:"file",onchange:function(ce){var he=ce.meta;he&&he.attach&&($={href:this.value(),attach:he.attach})}},{type:"button",icon:"checkmark",subtype:"primary",tooltip:"Ok",onclick:"submit"}],onshow:function(ce){if(ce.control===this){var he,We="";(he=c.dom.getParent(c.selection.getStart(),"a[href]"))&&(We=c.dom.getAttrib(he,"href")),this.fromJSON({linkurl:We}),lt=this.find("#unlink"),he?lt.show():lt.hide(),this.find("#linkurl")[0].focus()}var lt},onsubmit:function(ce){Et(c,ce.data.linkurl).then(function(he){c.undoManager.transact(function(){he===$.href&&($.attach(),$={}),Vi(c,he)}),p()})}},(H=Yr.create(Ce.extend({type:"form",layout:"flex",direction:"row",padding:5,name:S,spacing:3},P))).on("show",function(){H.find("textbox").eq(0).each(function(ce){ce.focus()})}),H},Mn=function(c,p,S){var P,H,$=[];if(S)return Ce.each(yn(H=S)?H:jt(H)?H.split(/[ ,]/):[],function(ce){if(ce==="|")P=null;else if(c.buttons[ce]){P||(P={type:"buttongroup",items:[]},$.push(P));var he=c.buttons[ce];qt(he)&&(he=he()),he.type=he.type||"button",(he=Yr.create(he)).on("postRender",(We=c,lt=he,function(){var rt,ht,Lt=(ht=function(on,rn){return{selector:on,handler:rn}},(rt=lt).settings.stateSelector?ht(rt.settings.stateSelector,function(on){rt.active(on)}):rt.settings.disabledStateSelector?ht(rt.settings.disabledStateSelector,function(on){rt.disabled(on)}):null);Lt!==null&&We.selection.selectorChanged(Lt.selector,Lt.handler)})),P.items.push(he)}var We,lt}),Yr.create({type:"toolbar",layout:"flow",name:p,items:$})},qn=function(){var c,p,S=function(rt){return 0<rt.items().length},P=function(rt,ht){var Lt,on,rn=(Lt=rt,on=ht,Ce.map(on,function(zr){return Mn(Lt,zr.id,zr.items)})).concat([Mn(rt,"text",mn(rt)),Mn(rt,"insert",xn(rt)),Ut(rt,lt)]);return Yr.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:Ce.grep(rn,S),oncancel:function(){rt.focus()}})},H=function(rt){rt&&rt.show()},$=function(rt,ht){rt.moveTo(ht.x,ht.y)},ce=function(rt,ht){ht=ht?ht.substr(0,2):"",Ce.each({t:"down",b:"up",c:"center"},function(Lt,on){rt.classes.toggle("arrow-"+Lt,on===ht.substr(0,1))}),ht==="cr"?(rt.classes.toggle("arrow-left",!0),rt.classes.toggle("arrow-right",!1)):ht==="cl"?(rt.classes.toggle("arrow-left",!1),rt.classes.toggle("arrow-right",!0)):Ce.each({l:"left",r:"right"},function(Lt,on){rt.classes.toggle("arrow-"+Lt,on===ht.substr(1,1))})},he=function(rt,ht){var Lt=rt.items().filter("#"+ht);return 0<Lt.length&&(Lt[0].show(),rt.reflow(),!0)},We=function(rt,ht,Lt,on){var rn,zr,jr,Po;if(Po=Un(Lt),rn=Ae(Lt),zr=U.DOM.getRect(rt.getEl()),jr=ht==="insert"?Te(on,rn,zr):qe(on,rn,zr)){var Do=me().getOr({x:0,y:0}),vn={x:jr.rect.x-Do.x,y:jr.rect.y-Do.y,w:jr.rect.w,h:jr.rect.h};return $(rt,Rt(Po,p=on,rn,vn)),ce(rt,jr.position),!0}return!1},lt=function(){c&&c.hide()};return{show:function(rt,ht,Lt,on){var rn,zr,jr,Po;c||(Ge(rt),(c=P(rt,on)).renderTo().reflow().moveTo(Lt.x,Lt.y),rt.nodeChanged()),zr=ht,jr=rt,Po=Lt,H(rn=c),rn.items().hide(),he(rn,zr)?We(rn,zr,jr,Po)===!1&&lt():lt()},showForm:function(rt,ht){if(c){if(c.items().hide(),!he(c,ht))return void lt();var Lt,on,rn,zr=void 0;H(c),c.items().hide(),he(c,ht),rn=Un(rt),Lt=Ae(rt),zr=U.DOM.getRect(c.getEl()),(on=qe(p,Lt,zr))&&(zr=on.rect,$(c,Rt(rn,p,Lt,zr)),ce(c,on.position))}},reposition:function(rt,ht,Lt){c&&We(c,ht,rt,Lt)},inForm:function(){return c&&c.visible()&&0<c.items().filter("form:visible").length},hide:lt,focus:function(){c&&c.find("toolbar:visible").eq(0).each(function(rt){rt.focus(!0)})},remove:function(){c&&(c.remove(),c=null)}}},pr=lr.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(c){this.settings=Ce.extend({},this.Defaults,c)},preRender:function(c){c.bodyClasses.add(this.settings.containerClass)},applyClasses:function(c){var p,S,P,H,$=this.settings;p=$.firstControlClass,S=$.lastControlClass,c.each(function(ce){ce.classes.remove(p).remove(S).add($.controlClass),ce.visible()&&(P||(P=ce),H=ce)}),P&&P.classes.add(p),H&&H.classes.add(S)},renderHtml:function(c){var p="";return this.applyClasses(c.items()),c.items().each(function(S){p+=S.renderHtml()}),p},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Zr=pr.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(c){c.items().filter(":visible").each(function(p){var S=p.settings;p.layoutRect({x:S.x,y:S.y,w:S.w,h:S.h}),p.recalc&&p.recalc()})},renderHtml:function(c){return'<div id="'+c._id+'-absend" class="'+c.classPrefix+'abs-end"></div>'+this._super(c)}}),Co=_n.extend({Defaults:{classes:"widget btn",role:"button"},init:function(c){var p,S=this;S._super(c),c=S.settings,p=S.settings.size,S.on("click mousedown",function(P){P.preventDefault()}),S.on("touchstart",function(P){S.fire("click",P),P.preventDefault()}),c.subtype&&S.classes.add(c.subtype),p&&S.classes.add("btn-"+p),c.icon&&S.icon(c.icon)},icon:function(c){return arguments.length?(this.state.set("icon",c),this):this.state.get("icon")},repaint:function(){var c,p=this.getEl().firstChild;p&&((c=p.style).width=c.height="100%"),this._super()},renderHtml:function(){var c,p,S=this,P=S._id,H=S.classPrefix,$=S.state.get("icon"),ce=S.state.get("text"),he="",We=S.settings;return(c=We.image)?($="none",typeof c!="string"&&(c=t.window.getSelection?c[0]:c[1]),c=` style="background-image: url('`+c+`')"`):c="",ce&&(S.classes.add("btn-has-text"),he='<span class="'+H+'txt">'+S.encode(ce)+"</span>"),$=$?H+"ico "+H+"i-"+$:"",p=typeof We.active=="boolean"?' aria-pressed="'+We.active+'"':"",'<div id="'+P+'" class="'+S.classes+'" tabindex="-1"'+p+'><button id="'+P+'-button" role="presentation" type="button" tabindex="-1">'+($?'<i class="'+$+'"'+c+"></i>":"")+he+"</button></div>"},bindStates:function(){var c=this,p=c.$,S=c.classPrefix+"txt";function P(H){var $=p("span."+S,c.getEl());H?($[0]||(p("button:first",c.getEl()).append('<span class="'+S+'"></span>'),$=p("span."+S,c.getEl())),$.html(c.encode(H))):$.remove(),c.classes.toggle("btn-has-text",!!H)}return c.state.on("change:text",function(H){P(H.value)}),c.state.on("change:icon",function(H){var $=H.value,ce=c.classPrefix;$=(c.settings.icon=$)?ce+"ico "+ce+"i-"+c.settings.icon:"";var he=c.getEl().firstChild,We=he.getElementsByTagName("i")[0];$?(We&&We===he.firstChild||(We=t.document.createElement("i"),he.insertBefore(We,he.firstChild)),We.className=$):We&&he.removeChild(We),P(c.state.get("text"))}),c._super()}}),So=Co.extend({init:function(c){c=Ce.extend({text:"Browse...",multiple:!1,accept:null},c),this._super(c),this.classes.add("browsebutton"),c.multiple&&this.classes.add("multiple")},postRender:function(){var c=this,p=kt.create("input",{type:"file",id:c._id+"-browse",accept:c.settings.accept});c._super(),yt(p).on("change",function(S){var P=S.target.files;c.value=function(){return P.length?c.settings.multiple?P:P[0]:null},S.preventDefault(),P.length&&c.fire("change",S)}),yt(p).on("click",function(S){S.stopPropagation()}),yt(c.getEl("button")).on("click touchstart",function(S){S.stopPropagation(),p.click(),S.preventDefault()}),c.getEl().appendChild(p)},remove:function(){yt(this.getEl("button")).off(),yt(this.getEl("input")).off(),this._super()}}),Ko=bt.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var c=this,p=c._layout;return c.classes.add("btn-group"),c.preRender(),p.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+(c.settings.html||"")+p.renderHtml(c)+"</div></div>"}}),Io=_n.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(c){var p=this;p._super(c),p.on("click mousedown",function(S){S.preventDefault()}),p.on("click",function(S){S.preventDefault(),p.disabled()||p.checked(!p.checked())}),p.checked(p.settings.checked)},checked:function(c){return arguments.length?(this.state.set("checked",c),this):this.state.get("checked")},value:function(c){return arguments.length?this.checked(c):this.checked()},renderHtml:function(){var c=this,p=c._id,S=c.classPrefix;return'<div id="'+p+'" class="'+c.classes+'" unselectable="on" aria-labelledby="'+p+'-al" tabindex="-1"><i class="'+S+"ico "+S+'i-checkbox"></i><span id="'+p+'-al" class="'+S+'label">'+c.encode(c.state.get("text"))+"</span></div>"},bindStates:function(){var c=this;function p(S){c.classes.toggle("checked",S),c.aria("checked",S)}return c.state.on("change:text",function(S){c.getEl("al").firstChild.data=c.translate(S.value)}),c.state.on("change:checked change:value",function(S){c.fire("change"),p(S.value)}),c.state.on("change:icon",function(S){var P=S.value,H=c.classPrefix;if(P===void 0)return c.settings.icon;P=(c.settings.icon=P)?H+"ico "+H+"i-"+c.settings.icon:"";var $=c.getEl().firstChild,ce=$.getElementsByTagName("i")[0];P?(ce&&ce===$.firstChild||(ce=t.document.createElement("i"),$.insertBefore(ce,$.firstChild)),ce.className=P):ce&&$.removeChild(ce)}),c.state.get("checked")&&p(!0),c._super()}}),Ai=tinymce.util.Tools.resolve("tinymce.util.VK"),Hi=_n.extend({init:function(c){var p=this;p._super(c),c=p.settings,p.classes.add("combobox"),p.subinput=!0,p.ariaTarget="inp",c.menu=c.menu||c.values,c.menu&&(c.icon="caret"),p.on("click",function(S){var P=S.target,H=p.getEl();if(yt.contains(H,P)||P===H)for(;P&&P!==H;)P.id&&P.id.indexOf("-open")!==-1&&(p.fire("action"),c.menu&&(p.showMenu(),S.aria&&p.menu.items()[0].focus())),P=P.parentNode}),p.on("keydown",function(S){var P;S.keyCode===13&&S.target.nodeName==="INPUT"&&(S.preventDefault(),p.parents().reverse().each(function(H){if(H.toJSON)return P=H,!1}),p.fire("submit",{data:P.toJSON()}))}),p.on("keyup",function(S){if(S.target.nodeName==="INPUT"){var P=p.state.get("value"),H=S.target.value;H!==P&&(p.state.set("value",H),p.fire("autocomplete",S))}}),p.on("mouseover",function(S){var P=p.tooltip().moveTo(-65535);if(p.statusLevel()&&S.target.className.indexOf(p.classPrefix+"status")!==-1){var H=p.statusMessage()||"Ok",$=P.text(H).show().testMoveRel(S.target,["bc-tc","bc-tl","bc-tr"]);P.classes.toggle("tooltip-n",$==="bc-tc"),P.classes.toggle("tooltip-nw",$==="bc-tl"),P.classes.toggle("tooltip-ne",$==="bc-tr"),P.moveRel(S.target,$)}})},statusLevel:function(c){return 0<arguments.length&&this.state.set("statusLevel",c),this.state.get("statusLevel")},statusMessage:function(c){return 0<arguments.length&&this.state.set("statusMessage",c),this.state.get("statusMessage")},showMenu:function(){var c,p=this,S=p.settings;p.menu||((c=S.menu||[]).length?c={type:"menu",items:c}:c.type=c.type||"menu",p.menu=Yr.create(c).parent(p).renderTo(p.getContainerElm()),p.fire("createmenu"),p.menu.reflow(),p.menu.on("cancel",function(P){P.control===p.menu&&p.focus()}),p.menu.on("show hide",function(P){P.control.items().each(function(H){H.active(H.value()===p.value())})}).fire("show"),p.menu.on("select",function(P){p.value(P.control.value())}),p.on("focusin",function(P){P.target.tagName.toUpperCase()==="INPUT"&&p.menu.hide()}),p.aria("expanded",!0)),p.menu.show(),p.menu.layoutRect({w:p.layoutRect().w}),p.menu.moveRel(p.getEl(),p.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var c,p,S=this,P=S.getEl(),H=S.getEl("open"),$=S.layoutRect(),ce=0,he=P.firstChild;S.statusLevel()&&S.statusLevel()!=="none"&&(ce=parseInt(kt.getRuntimeStyle(he,"padding-right"),10)-parseInt(kt.getRuntimeStyle(he,"padding-left"),10)),c=H?$.w-kt.getSize(H).width-10:$.w-10;var We=t.document;return We.all&&(!We.documentMode||We.documentMode<=8)&&(p=S.layoutRect().h-2+"px"),yt(he).css({width:c-ce,lineHeight:p}),S._super(),S},postRender:function(){var c=this;return yt(this.getEl("inp")).on("change",function(p){c.state.set("value",p.target.value),c.fire("change",p)}),c._super()},renderHtml:function(){var c,p,S,P=this,H=P._id,$=P.settings,ce=P.classPrefix,he=P.state.get("value")||"",We="",lt="";return"spellcheck"in $&&(lt+=' spellcheck="'+$.spellcheck+'"'),$.maxLength&&(lt+=' maxlength="'+$.maxLength+'"'),$.size&&(lt+=' size="'+$.size+'"'),$.subtype&&(lt+=' type="'+$.subtype+'"'),S='<i id="'+H+'-status" class="mce-status mce-ico" style="display: none"></i>',P.disabled()&&(lt+=' disabled="disabled"'),(c=$.icon)&&c!=="caret"&&(c=ce+"ico "+ce+"i-"+$.icon),p=P.state.get("text"),(c||p)&&(We='<div id="'+H+'-open" class="'+ce+"btn "+ce+'open" tabIndex="-1" role="button"><button id="'+H+'-action" type="button" hidefocus="1" tabindex="-1">'+(c!=="caret"?'<i class="'+c+'"></i>':'<i class="'+ce+'caret"></i>')+(p?(c?" ":"")+p:"")+"</button></div>",P.classes.add("has-open")),'<div id="'+H+'" class="'+P.classes+'"><input id="'+H+'-inp" class="'+ce+'textbox" value="'+P.encode(he,!1)+'" hidefocus="1"'+lt+' placeholder="'+P.encode($.placeholder)+'" />'+S+We+"</div>"},value:function(c){return arguments.length?(this.state.set("value",c),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(c,p){var S=this;if(c.length!==0){S.menu?S.menu.items().remove():S.menu=Yr.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(S).renderTo(),Ce.each(c,function(H){var $,ce;S.menu.add({text:H.title,url:H.previewUrl,match:p,classes:"menu-item-ellipsis",onclick:($=H.value,ce=H.title,function(){S.fire("selectitem",{title:ce,value:$})})})}),S.menu.renderNew(),S.hideMenu(),S.menu.on("cancel",function(H){H.control.parent()===S.menu&&(H.stopPropagation(),S.focus(),S.hideMenu())}),S.menu.on("select",function(){S.focus()});var P=S.layoutRect().w;S.menu.layoutRect({w:P,minW:0,maxW:P}),S.menu.repaint(),S.menu.reflow(),S.menu.show(),S.menu.moveRel(S.getEl(),S.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else S.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var c=this;c.state.on("change:value",function(S){c.getEl("inp").value!==S.value&&(c.getEl("inp").value=S.value)}),c.state.on("change:disabled",function(S){c.getEl("inp").disabled=S.value}),c.state.on("change:statusLevel",function(S){var P=c.getEl("status"),H=c.classPrefix,$=S.value;kt.css(P,"display",$==="none"?"none":""),kt.toggleClass(P,H+"i-checkmark",$==="ok"),kt.toggleClass(P,H+"i-warning",$==="warn"),kt.toggleClass(P,H+"i-error",$==="error"),c.classes.toggle("has-status",$!=="none"),c.repaint()}),kt.on(c.getEl("status"),"mouseleave",function(){c.tooltip().hide()}),c.on("cancel",function(S){c.menu&&c.menu.visible()&&(S.stopPropagation(),c.hideMenu())});var p=function(S,P){P&&0<P.items().length&&P.items().eq(S)[0].focus()};return c.on("keydown",function(S){var P=S.keyCode;S.target.nodeName==="INPUT"&&(P===Ai.DOWN?(S.preventDefault(),c.fire("autocomplete"),p(0,c.menu)):P===Ai.UP&&(S.preventDefault(),p(-1,c.menu)))}),c._super()},remove:function(){yt(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),yi=Hi.extend({init:function(c){var p=this;c.spellcheck=!1,c.onaction&&(c.icon="none"),p._super(c),p.classes.add("colorbox"),p.on("change keyup postrender",function(){p.repaintColor(p.value())})},repaintColor:function(c){var p=this.getEl("open"),S=p?p.getElementsByTagName("i")[0]:null;if(S)try{S.style.background=c}catch{}},bindStates:function(){var c=this;return c.state.on("change:value",function(p){c.state.get("rendered")&&c.repaintColor(p.value)}),c._super()}}),Bi=Co.extend({showPanel:function(){var c=this,p=c.settings;if(c.classes.add("opened"),c.panel)c.panel.show();else{var S=p.panel;S.type&&(S={layout:"grid",items:S}),S.role=S.role||"dialog",S.popover=!0,S.autohide=!0,S.ariaRoot=!0,c.panel=new _r(S).on("hide",function(){c.classes.remove("opened")}).on("cancel",function($){$.stopPropagation(),c.focus(),c.hidePanel()}).parent(c).renderTo(c.getContainerElm()),c.panel.fire("show"),c.panel.reflow()}var P=c.panel.testMoveRel(c.getEl(),p.popoverAlign||(c.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]));c.panel.classes.toggle("start",P.substr(-1)==="l"),c.panel.classes.toggle("end",P.substr(-1)==="r");var H=P.substr(0,1)==="t";c.panel.classes.toggle("bottom",!H),c.panel.classes.toggle("top",H),c.panel.moveRel(c.getEl(),P)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var c=this;return c.aria("haspopup",!0),c.on("click",function(p){p.control===c&&(c.panel&&c.panel.visible()?c.hidePanel():(c.showPanel(),c.panel.focus(!!p.aria)))}),c._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),tu=U.DOM,tc=Bi.extend({init:function(c){this._super(c),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(c){return c?(this._color=c,this.getEl("preview").style.backgroundColor=c,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var c=this,p=c._id,S=c.classPrefix,P=c.state.get("text"),H=c.settings.icon?S+"ico "+S+"i-"+c.settings.icon:"",$=c.settings.image?` style="background-image: url('`+c.settings.image+`')"`:"",ce="";return P&&(c.classes.add("btn-has-text"),ce='<span class="'+S+'txt">'+c.encode(P)+"</span>"),'<div id="'+p+'" class="'+c.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(H?'<i class="'+H+'"'+$+"></i>":"")+'<span id="'+p+'-preview" class="'+S+'preview"></span>'+ce+'</button><button type="button" class="'+S+'open" hidefocus="1" tabindex="-1"> <i class="'+S+'caret"></i></button></div>'},postRender:function(){var c=this,p=c.settings.onclick;return c.on("click",function(S){S.aria&&S.aria.key==="down"||S.control!==c||tu.getParent(S.target,"."+c.classPrefix+"open")||(S.stopImmediatePropagation(),p.call(c,S))}),delete c.settings.onclick,c._super()}}),Cs=tinymce.util.Tools.resolve("tinymce.util.Color"),nu=_n.extend({Defaults:{classes:"widget colorpicker"},init:function(c){this._super(c)},postRender:function(){var c,p,S,P,H,$=this,ce=$.color();function he(ht,Lt){var on,rn,zr=kt.getPos(ht);return on=Lt.pageX-zr.x,rn=Lt.pageY-zr.y,{x:on=Math.max(0,Math.min(on/ht.clientWidth,1)),y:rn=Math.max(0,Math.min(rn/ht.clientHeight,1))}}function We(ht,Lt){var on=(360-ht.h)/360;kt.css(S,{top:100*on+"%"}),Lt||kt.css(H,{left:ht.s+"%",top:100-ht.v+"%"}),P.style.background=Cs({s:100,v:100,h:ht.h}).toHex(),$.color().parse({s:ht.s,v:ht.v,h:ht.h})}function lt(ht){var Lt;Lt=he(P,ht),c.s=100*Lt.x,c.v=100*(1-Lt.y),We(c),$.fire("change")}function rt(ht){var Lt;Lt=he(p,ht),(c=ce.toHsv()).h=360*(1-Lt.y),We(c,!0),$.fire("change")}p=$.getEl("h"),S=$.getEl("hp"),P=$.getEl("sv"),H=$.getEl("svp"),$._repaint=function(){We(c=ce.toHsv())},$._super(),$._svdraghelper=new Hr($._id+"-sv",{start:lt,drag:lt}),$._hdraghelper=new Hr($._id+"-h",{start:rt,drag:rt}),$._repaint()},rgb:function(){return this.color().toRgb()},value:function(c){if(!arguments.length)return this.color().toHex();this.color().parse(c),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=Cs()),this._color},renderHtml:function(){var c,p=this._id,S=this.classPrefix,P="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return c='<div id="'+p+'-h" class="'+S+'colorpicker-h" style="background: -ms-linear-gradient(top,'+P+");background: linear-gradient(to bottom,"+P+');">'+function(){var H,$,ce,he,We="";for(ce="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",H=0,$=(he=P.split(",")).length-1;H<$;H++)We+='<div class="'+S+'colorpicker-h-chunk" style="height:'+100/$+"%;"+ce+he[H]+",endColorstr="+he[H+1]+");-ms-"+ce+he[H]+",endColorstr="+he[H+1]+')"></div>';return We}()+'<div id="'+p+'-hp" class="'+S+'colorpicker-h-marker"></div></div>','<div id="'+p+'" class="'+this.classes+'"><div id="'+p+'-sv" class="'+S+'colorpicker-sv"><div class="'+S+'colorpicker-overlay1"><div class="'+S+'colorpicker-overlay2"><div id="'+p+'-svp" class="'+S+'colorpicker-selector1"><div class="'+S+'colorpicker-selector2"></div></div></div></div></div>'+c+"</div>"}}),Ol=_n.extend({init:function(c){c=Ce.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},c),this._super(c),this.classes.add("dropzone"),c.multiple&&this.classes.add("multiple")},renderHtml:function(){var c,p,S=this.settings;return c={id:this._id,hidefocus:"1"},p=kt.create("div",c,"<span>"+this.translate(S.text)+"</span>"),S.height&&kt.css(p,"height",S.height+"px"),S.width&&kt.css(p,"width",S.width+"px"),p.className=this.classes,p.outerHTML},postRender:function(){var c=this,p=function(S){S.preventDefault(),c.classes.toggle("dragenter"),c.getEl().className=c.classes};c._super(),c.$el.on("dragover",function(S){S.preventDefault()}),c.$el.on("dragenter",p),c.$el.on("dragleave",p),c.$el.on("drop",function(S){if(S.preventDefault(),!c.state.get("disabled")){var P=function(H){var $=c.settings.accept;if(typeof $!="string")return H;var ce=new RegExp("("+$.split(/\s*,\s*/).join("|")+")$","i");return Ce.grep(H,function(he){return ce.test(he.name)})}(S.dataTransfer.files);c.value=function(){return P.length?c.settings.multiple?P:P[0]:null},P.length&&c.fire("change",S)}})},remove:function(){this.$el.off(),this._super()}}),va=_n.extend({init:function(c){var p=this;c.delimiter||(c.delimiter="\xBB"),p._super(c),p.classes.add("path"),p.canFocus=!0,p.on("click",function(S){var P;(P=S.target.getAttribute("data-index"))&&p.fire("select",{value:p.row()[P],index:P})}),p.row(p.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(c){return arguments.length?(this.state.set("row",c),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var c=this;return c.state.on("change:row",function(p){c.innerHtml(c._getDataPathHtml(p.value))}),c._super()},_getDataPathHtml:function(c){var p,S,P=c||[],H="",$=this.classPrefix;for(p=0,S=P.length;p<S;p++)H+=(0<p?'<div class="'+$+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+$+"path-item"+(p===S-1?" "+$+"last":"")+'" data-index="'+p+'" tabindex="-1" id="'+this._id+"-"+p+'" aria-level="'+(p+1)+'">'+P[p].name+"</div>";return H||(H='<div class="'+$+'path-item">\xA0</div>'),H}}),Us=va.extend({postRender:function(){var c=this,p=c.settings.editor;function S(P){return!!(P.nodeType===1&&(P.nodeName==="BR"||P.getAttribute("data-mce-bogus")||P.getAttribute("data-mce-type")==="bookmark"))}return p.settings.elementpath!==!1&&(c.on("select",function(P){p.focus(),p.selection.select(this.row()[P.index].element),p.nodeChanged()}),p.on("nodeChange",function(P){for(var H=[],$=P.parents,ce=$.length;ce--;)if($[ce].nodeType===1&&!S($[ce])){var he=p.fire("ResolveName",{name:$[ce].nodeName.toLowerCase(),target:$[ce]});if(he.isDefaultPrevented()||H.push({name:he.name,element:$[ce]}),he.isPropagationStopped())break}c.row(H)})),c._super()}}),nc=bt.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var c=this,p=c._layout,S=c.classPrefix;return c.classes.add("formitem"),p.preRender(c),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<div id="'+c._id+'-title" class="'+S+'title">'+c.settings.title+"</div>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+p.renderHtml(c)+"</div></div>"}}),us=bt.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var c=this,p=c.items();c.settings.formItemDefaults||(c.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),p.each(function(S){var P,H=S.settings.label;H&&((P=new nc(Ce.extend({items:{type:"label",id:S._id+"-l",text:H,flex:0,forId:S._id,disabled:S.disabled()}},c.settings.formItemDefaults))).type="formitem",S.aria("labelledby",S._id+"-l"),typeof S.settings.flex=="undefined"&&(S.settings.flex=1),c.replace(S,P),P.add(S))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var c=this;function p(){var S,P,H=0,$=[];if(c.settings.labelGapCalc!==!1)for((c.settings.labelGapCalc==="children"?c.find("formitem"):c.items()).filter("formitem").each(function(ce){var he=ce.items()[0],We=he.getEl().clientWidth;H=H<We?We:H,$.push(he)}),P=c.settings.labelGap||0,S=$.length;S--;)$[S].settings.minWidth=H+P}c._super(),c.on("show",p),p()}}),ya=us.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var c=this,p=c._layout,S=c.classPrefix;return c.preRender(),p.preRender(c),'<fieldset id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1">'+(c.settings.title?'<legend id="'+c._id+'-title" class="'+S+'fieldset-title">'+c.settings.title+"</legend>":"")+'<div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+(c.settings.html||"")+p.renderHtml(c)+"</div></fieldset>"}}),Cf=0,Xn=function(c){if(c==null)throw new Error("Node cannot be null or undefined");return{dom:Tn(c)}},Du={fromHtml:function(c,p){var S=(p||t.document).createElement("div");if(S.innerHTML=c,!S.hasChildNodes()||1<S.childNodes.length)throw t.console.error("HTML does not have a single root node",c),new Error("HTML must have a single root node");return Xn(S.childNodes[0])},fromTag:function(c,p){var S=(p||t.document).createElement(c);return Xn(S)},fromText:function(c,p){var S=(p||t.document).createTextNode(c);return Xn(S)},fromDom:Xn,fromPoint:function(c,p,S){var P=c.dom();return Wo.from(P.elementFromPoint(p,S)).map(Xn)}},Ku=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),Xu=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),bi=(t.Node.TEXT_NODE,t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,function(c,p){var S=function(H,$){for(var ce=0;ce<H.length;ce++){var he=H[ce];if(he.test($))return he}}(c,p);if(!S)return{major:0,minor:0};var P=function(H){return Number(p.replace(S,"$"+H))};return sl(P(1),P(2))}),Pl=function(){return sl(0,0)},sl=function(c,p){return{major:c,minor:p}},kn={nu:sl,detect:function(c,p){var S=String(p).toLowerCase();return c.length===0?Pl():bi(c,S)},unknown:Pl},ru="Firefox",$t=function(c,p){return function(){return p===c}},Gu=function(c){var p=c.current;return{current:p,version:c.version,isEdge:$t("Edge",p),isChrome:$t("Chrome",p),isIE:$t("IE",p),isOpera:$t("Opera",p),isFirefox:$t(ru,p),isSafari:$t("Safari",p)}},yu={unknown:function(){return Gu({current:void 0,version:kn.unknown()})},nu:Gu,edge:Tn("Edge"),chrome:Tn("Chrome"),ie:Tn("IE"),opera:Tn("Opera"),firefox:Tn(ru),safari:Tn("Safari")},Ti="Windows",la="Android",Lo="Solaris",bu="FreeBSD",ba=function(c,p){return function(){return p===c}},Ss=function(c){var p=c.current;return{current:p,version:c.version,isWindows:ba(Ti,p),isiOS:ba("iOS",p),isAndroid:ba(la,p),isOSX:ba("OSX",p),isLinux:ba("Linux",p),isSolaris:ba(Lo,p),isFreeBSD:ba(bu,p)}},Pc={unknown:function(){return Ss({current:void 0,version:kn.unknown()})},nu:Ss,windows:Tn(Ti),ios:Tn("iOS"),android:Tn(la),linux:Tn("Linux"),osx:Tn("OSX"),solaris:Tn(Lo),freebsd:Tn(bu)},Au=function(c,p){var S=String(p).toLowerCase();return function(P,H){for(var $=0,ce=P.length;$<ce;$++){var he=P[$];if(H(he,$))return Wo.some(he)}return Wo.none()}(c,function(P){return P.search(S)})},Sf=function(c,p){return Au(c,p).map(function(S){var P=kn.detect(S.versionRegexes,p);return{current:S.name,version:P}})},Dc=function(c,p){return Au(c,p).map(function(S){var P=kn.detect(S.versionRegexes,p);return{current:S.name,version:P}})},ca=function(c,p){return c.indexOf(p)!==-1},ou=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Mi=function(c){return function(p){return ca(p,c)}},Ju=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(c){return ca(c,"edge/")&&ca(c,"chrome")&&ca(c,"safari")&&ca(c,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ou],search:function(c){return ca(c,"chrome")&&!ca(c,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(c){return ca(c,"msie")||ca(c,"trident")}},{name:"Opera",versionRegexes:[ou,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Mi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Mi("firefox")},{name:"Safari",versionRegexes:[ou,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(c){return(ca(c,"safari")||ca(c,"mobile/"))&&ca(c,"applewebkit")}}],iu=[{name:"Windows",search:Mi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(c){return ca(c,"iphone")||ca(c,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Mi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Mi("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Mi("linux"),versionRegexes:[]},{name:"Solaris",search:Mi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Mi("freebsd"),versionRegexes:[]}],Pa={browsers:Tn(Ju),oses:Tn(iu)},ks=function(c){var p,S,P,H,$,ce,he,We,lt,rt,ht,Lt=Pa.browsers(),on=Pa.oses(),rn=Sf(Lt,c).fold(yu.unknown,yu.nu),zr=Dc(on,c).fold(Pc.unknown,Pc.nu);return{browser:rn,os:zr,deviceType:(S=rn,P=c,H=(p=zr).isiOS()&&/ipad/i.test(P)===!0,$=p.isiOS()&&!H,ce=p.isAndroid()&&p.version.major===3,he=p.isAndroid()&&p.version.major===4,We=H||ce||he&&/mobile/i.test(P)===!0,lt=p.isiOS()||p.isAndroid(),rt=lt&&!We,ht=S.isSafari()&&p.isiOS()&&/safari/i.test(P)===!1,{isiPad:Tn(H),isiPhone:Tn($),isTablet:Tn(We),isPhone:Tn(rt),isTouch:Tn(lt),isAndroid:p.isAndroid,isiOS:p.isiOS,isWebView:Tn(ht)})}},rc=(xo=!(ar=function(){var c=t.navigator.userAgent;return ks(c)}),function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p];return xo||(xo=!0,st=ar.apply(null,c)),st}),oc=Xu,Ac=Ku,Mu=function(c){return c.nodeType!==oc&&c.nodeType!==Ac||c.childElementCount===0},Es=(rc().browser.isIE(),function(){for(var c=[],p=0;p<arguments.length;p++)c[p]=arguments[p]}("element","offset"),Ce.trim),Mc=function(c){return function(p){return!!(p&&p.nodeType===1&&(p.contentEditable===c||p.getAttribute("data-mce-contenteditable")===c))}},kf=Mc("true"),Ic=Mc("false"),ll=function(c,p,S,P,H){return{type:c,title:p,url:S,level:P,attach:H}},ic=function(c){return c.innerText||c.textContent},Da=function(c){return c.id?c.id:(p="h",S=new Date().getTime(),p+"_"+Math.floor(1e9*Math.random())+ ++Cf+String(S));var p,S},au=function(c){return(p=c)&&p.nodeName==="A"&&(p.id||p.name)&&wu(c);var p},Xr=function(c){return c&&/^(H[1-6])$/.test(c.nodeName)},wu=function(c){return function(p){for(;p=p.parentNode;){var S=p.contentEditable;if(S&&S!=="inherit")return kf(p)}return!1}(c)&&!Ic(c)},ia=function(c){return Xr(c)&&wu(c)},Ef=function(c){var p,S=Da(c);return ll("header",ic(c),"#"+S,Xr(p=c)?parseInt(p.nodeName.substr(1),10):0,function(){c.id=S})},Ts=function(c){var p=c.id||c.name,S=ic(c);return ll("anchor",S||"#"+p,"#"+p,0,Wn)},$s=function(c){var p,S,P,H,$,ce;return p="h1,h2,h3,h4,h5,h6,a:not([href])",S=c,Xe((rc().browser.isIE(),function(){for(var he=[],We=0;We<arguments.length;We++)he[We]=arguments[We]}("element","offset"),P=Du.fromDom(S),H=p,ce=($=P)===void 0?t.document:$.dom(),Mu(ce)?[]:Xe(ce.querySelectorAll(H),Du.fromDom)),function(he){return he.dom()})},jo=function(c){return 0<Es(c.title).length},Vs=function(c){var p,S=$s(c);return xt((p=S,Xe(xt(p,ia),Ef)).concat(Xe(xt(S,au),Ts)),jo)},hi={},Xa=function(c){return{title:c.title,value:{title:{raw:c.title},url:c.url,attach:c.attach}}},fa=function(c,p){return{title:c,value:{title:c,url:p,attach:Wn}}},_s=function(c,p,S){var P=p in c?c[p]:S;return P===!1?null:P},qs=function(c,p,S,P){var H,$,ce,he,We,lt,rt={title:"-"},ht=function(on){var rn=on.hasOwnProperty(S)?on[S]:[],zr=xt(rn,function(jr){return Po=jr,!Zo(p,function(Do){return Do.url===Po});var Po});return Ce.map(zr,function(jr){return{title:jr,value:{title:jr,url:jr,attach:Wn}}})},Lt=function(on){var rn,zr=xt(p,function(jr){return jr.type===on});return rn=zr,Ce.map(rn,Xa)};return P.typeahead_urls===!1?[]:S==="file"?(H=[Ji(c,ht(hi)),Ji(c,Lt("header")),Ji(c,(he=Lt("anchor"),We=_s(P,"anchor_top","#top"),lt=_s(P,"anchor_bottom","#bottom"),We!==null&&he.unshift(fa("<top>",We)),lt!==null&&he.push(fa("<bottom>",lt)),he))],$=function(on,rn){return on.length===0||rn.length===0?on.concat(rn):on.concat(rt,rn)},ce=[],zt(H,function(on){ce=$(ce,on)}),ce):Ji(c,ht(hi))},Ji=function(c,p){var S=c.toLowerCase(),P=Ce.grep(p,function(H){return H.title.toLowerCase().indexOf(S)!==-1});return P.length===1&&P[0].title===c?[]:P},ac=function(c,p,S,P){var H=function($){var ce=Vs(S),he=qs($,ce,P,p);c.showAutoComplete(he,$)};c.on("autocomplete",function(){H(c.value())}),c.on("selectitem",function($){var ce=$.value;c.value(ce.url);var he,We=(he=ce.title).raw?he.raw:he;P==="image"?c.fire("change",{meta:{alt:We,attach:ce.attach}}):c.fire("change",{meta:{text:We,attach:ce.attach}}),c.focus()}),c.on("click",function($){c.value().length===0&&$.target.nodeName==="INPUT"&&H("")}),c.on("PostRender",function(){c.getRoot().on("submit",function($){var ce,he,We;$.isDefaultPrevented()||(ce=c.value(),We=hi[he=P],/^https?/.test(ce)&&(We?Bn(We,ce).isNone()&&(hi[he]=We.slice(0,5).concat(ce)):hi[he]=[ce]))})})},uc=function(c,p,S){var P=p.filepicker_validator_handler;P&&c.state.on("change:value",function(H){var $;($=H.value).length!==0?P({url:$,type:S},function(ce){var he,We,lt,rt=(We=(he=ce).status,lt=he.message,We==="valid"?{status:"ok",message:lt}:We==="unknown"?{status:"warn",message:lt}:We==="invalid"?{status:"warn",message:lt}:{status:"none",message:""});c.statusMessage(rt.message),c.statusLevel(rt.status)}):c.statusLevel("none")})},Ii=Hi.extend({Statics:{clearHistory:function(){hi={}}},init:function(c){var p,S,P,H=this,$=window.tinymce?window.tinymce.activeEditor:Ze.activeEditor,ce=$.settings,he=c.filetype;c.spellcheck=!1,(P=ce.file_picker_types||ce.file_browser_callback_types)&&(P=Ce.makeMap(P,/[, ]/)),P&&!P[he]||(!(S=ce.file_picker_callback)||P&&!P[he]?!(S=ce.file_browser_callback)||P&&!P[he]||(p=function(){S(H.getEl("inp").id,H.value(),he,window)}):p=function(){var We=H.fire("beforecall").meta;We=Ce.extend({filetype:he},We),S.call($,function(lt,rt){H.value(lt).fire("change",{meta:rt})},H.value(),We)}),p&&(c.icon="browse",c.onaction=p),H._super(c),H.classes.add("filepicker"),ac(H,ce,$.getBody(),he),uc(H,ce,he)}}),qi=Zr.extend({recalc:function(c){var p=c.layoutRect(),S=c.paddingBox;c.items().filter(":visible").each(function(P){P.layoutRect({x:S.left,y:S.top,w:p.innerW-S.right-S.left,h:p.innerH-S.top-S.bottom}),P.recalc&&P.recalc()})}}),cl=Zr.extend({recalc:function(c){var p,S,P,H,$,ce,he,We,lt,rt,ht,Lt,on,rn,zr,jr,Po,Do,vn,Dr,ho,ri,xi,Ci,Fu,za,pi,ea,ja,Ja,Yi,Hu,ko,oi,Su,sc,aa,Fo=[],ls=Math.max,lc=Math.min;for(P=c.items().filter(":visible"),H=c.layoutRect(),$=c.paddingBox,ce=c.settings,Lt=c.isRtl()?ce.direction||"row-reversed":ce.direction,he=ce.align,We=c.isRtl()?ce.pack||"end":ce.pack,lt=ce.spacing||0,Lt!=="row-reversed"&&Lt!=="column-reverse"||(P=P.set(P.toArray().reverse()),Lt=Lt.split("-")[0]),Lt==="column"?(Ci="y",ri="h",xi="minH",Fu="maxH",pi="innerH",za="top",ea="deltaH",ja="contentH",oi="left",Hu="w",Ja="x",Yi="innerW",ko="minW",Su="right",sc="deltaW",aa="contentW"):(Ci="x",ri="w",xi="minW",Fu="maxW",pi="innerW",za="left",ea="deltaW",ja="contentW",oi="top",Hu="h",Ja="y",Yi="innerH",ko="minH",Su="bottom",sc="deltaH",aa="contentH"),ht=H[pi]-$[za]-$[za],ho=rt=0,p=0,S=P.length;p<S;p++)rn=(on=P[p]).layoutRect(),ht-=p<S-1?lt:0,0<(zr=on.settings.flex)&&(rt+=zr,rn[Fu]&&Fo.push(on),rn.flex=zr),ht-=rn[xi],ho<(jr=$[oi]+rn[ko]+$[Su])&&(ho=jr);if((vn={})[xi]=ht<0?H[xi]-ht+H[ea]:H[pi]-ht+H[ea],vn[ko]=ho+H[sc],vn[ja]=H[pi]-ht,vn[aa]=ho,vn.minW=lc(vn.minW,H.maxW),vn.minH=lc(vn.minH,H.maxH),vn.minW=ls(vn.minW,H.startMinWidth),vn.minH=ls(vn.minH,H.startMinHeight),!H.autoResize||vn.minW===H.minW&&vn.minH===H.minH){for(Do=ht/rt,p=0,S=Fo.length;p<S;p++)(Po=(rn=(on=Fo[p]).layoutRect())[Fu])<(jr=rn[xi]+rn.flex*Do)?(ht-=rn[Fu]-rn[xi],rt-=rn.flex,rn.flex=0,rn.maxFlexSize=Po):rn.maxFlexSize=0;for(Do=ht/rt,Dr=$[za],vn={},rt===0&&(We==="end"?Dr=ht+$[za]:We==="center"?(Dr=Math.round(H[pi]/2-(H[pi]-ht)/2)+$[za])<0&&(Dr=$[za]):We==="justify"&&(Dr=$[za],lt=Math.floor(ht/(P.length-1)))),vn[Ja]=$[oi],p=0,S=P.length;p<S;p++)jr=(rn=(on=P[p]).layoutRect()).maxFlexSize||rn[xi],he==="center"?vn[Ja]=Math.round(H[Yi]/2-rn[Hu]/2):he==="stretch"?(vn[Hu]=ls(rn[ko]||0,H[Yi]-$[oi]-$[Su]),vn[Ja]=$[oi]):he==="end"&&(vn[Ja]=H[Yi]-rn[Hu]-$.top),0<rn.flex&&(jr+=rn.flex*Do),vn[ri]=jr,vn[Ci]=Dr,on.layoutRect(vn),on.recalc&&on.recalc(),Dr+=jr+lt}else if(vn.w=vn.minW,vn.h=vn.minH,c.layoutRect(vn),this.recalc(c),c._lastRect===null){var cc=c.parent();cc&&(cc._lastRect=null,cc.recalc())}}}),Qu=pr.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(c){c.items().filter(":visible").each(function(p){p.recalc&&p.recalc()})},isNative:function(){return!0}}),Bc=function(c,p){return S=p,H=(P=c)===void 0?t.document:P.dom(),Mu(H)?Wo.none():Wo.from(H.querySelector(S)).map(Du.fromDom);var S,P,H},Zu=function(c,p){return function(){c.execCommand("mceToggleFormat",!1,p)}},Ns=function(c,p,S){var P=function(H){S(H,p)};c.formatter?c.formatter.formatChanged(p,P):c.on("init",function(){c.formatter.formatChanged(p,P)})},ss=function(c,p){return function(S){Ns(c,p,function(P){S.control.active(P)})}},wi=function(c){var p=["alignleft","aligncenter","alignright","alignjustify"],S="alignleft",P=[{text:"Left",icon:"alignleft",onclick:Zu(c,"alignleft")},{text:"Center",icon:"aligncenter",onclick:Zu(c,"aligncenter")},{text:"Right",icon:"alignright",onclick:Zu(c,"alignright")},{text:"Justify",icon:"alignjustify",onclick:Zu(c,"alignjustify")}];c.addMenuItem("align",{text:"Align",menu:P}),c.addButton("align",{type:"menubutton",icon:S,menu:P,onShowMenu:function(H){var $=H.control.menu;Ce.each(p,function(ce,he){$.items().eq(he).each(function(We){return We.active(c.formatter.match(ce))})})},onPostRender:function(H){var $=H.control;Ce.each(p,function(ce,he){Ns(c,ce,function(We){$.icon(S),We&&$.icon(ce)})})}}),Ce.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(H,$){c.addButton($,{active:!1,tooltip:H[0],cmd:H[1],onPostRender:ss(c,$)})})},fl=function(c){return c?c.split(",")[0]:""},xu=function(c,p){return function(){var S=this;S.state.set("value",null),c.on("init nodeChange",function(P){var H,$,ce,he,We=c.queryCommandValue("FontName"),lt=(H=p,he=($=We)?$.toLowerCase():"",Ce.each(H,function(rt){rt.value.toLowerCase()===he&&(ce=rt.value)}),Ce.each(H,function(rt){ce||fl(rt.value).toLowerCase()!==fl(he).toLowerCase()||(ce=rt.value)}),ce);S.value(lt||null),!lt&&We&&S.text(fl(We))})}},Ys=function(c){c.addButton("fontselect",function(){var p,S=(p=function(P){for(var H=(P=P.replace(/;$/,"").split(";")).length;H--;)P[H]=P[H].split("=");return P}(c.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),Ce.map(p,function(P){return{text:{raw:P[0]},value:P[1],textStyle:P[1].indexOf("dings")===-1?"font-family:"+P[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:S,fixedWidth:!0,onPostRender:xu(c,S),onselect:function(P){P.control.settings.value&&c.execCommand("FontName",!1,P.control.settings.value)}}})},Rs=function(c){Ys(c)},Ri=function(c,p){return/[0-9.]+px$/.test(c)?(S=72*parseInt(c,10)/96,P=p||0,H=Math.pow(10,P),Math.round(S*H)/H+"pt"):c;var S,P,H},uu=function(c,p,S){var P;return Ce.each(c,function(H){H.value===S?P=S:H.value===p&&(P=p)}),P},Cu=function(c){c.addButton("fontsizeselect",function(){var p,S,P,H=(p=c.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",Ce.map(p.split(" "),function($){var ce=$,he=$,We=$.split("=");return 1<We.length&&(ce=We[0],he=We[1]),{text:ce,value:he}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:H,fixedWidth:!0,onPostRender:(S=c,P=H,function(){var $=this;S.on("init nodeChange",function(ce){var he,We,lt,rt;if(he=S.queryCommandValue("FontSize"))for(lt=3;!rt&&0<=lt;lt--)We=Ri(he,lt),rt=uu(P,We,he);$.value(rt||null),rt||$.text(We)})}),onclick:function($){$.control.settings.value&&c.execCommand("FontSize",!1,$.control.settings.value)}}})},Lc=function(c){Cu(c)},Iu=function(c,p){var S=p.length;return Ce.each(p,function(P){P.menu&&(P.hidden=Iu(c,P.menu)===0);var H=P.format;H&&(P.hidden=!c.formatter.canApply(H)),P.hidden&&S--}),S},Bu=function(c,p){var S=p.items().length;return p.items().each(function(P){P.menu&&P.visible(0<Bu(c,P.menu)),!P.menu&&P.settings.menu&&P.visible(0<Iu(c,P.settings.menu));var H=P.settings.format;H&&P.visible(c.formatter.canApply(H)),P.visible()||S--}),S},Aa=function(c){var p,S,P,H,$,ce,he,We,lt=(S=0,P=[],H=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],$=function(rt){var ht=[];if(rt)return Ce.each(rt,function(Lt){var on={text:Lt.title,icon:Lt.icon};if(Lt.items)on.menu=$(Lt.items);else{var rn=Lt.format||"custom"+S++;Lt.format||(Lt.name=rn,P.push(Lt)),on.format=rn,on.cmd=Lt.cmd}ht.push(on)}),ht},(p=c).on("init",function(){Ce.each(P,function(rt){p.formatter.register(rt.name,rt)})}),{type:"menu",items:p.settings.style_formats_merge?p.settings.style_formats?$(H.concat(p.settings.style_formats)):$(H):$(p.settings.style_formats||H),onPostRender:function(rt){p.fire("renderFormatsMenu",{control:rt.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return p.formatter.getCssText(this.settings.format)},onPostRender:function(){var rt=this;rt.parent().on("show",function(){var ht,Lt;(ht=rt.settings.format)&&(rt.disabled(!p.formatter.canApply(ht)),rt.active(p.formatter.match(ht))),(Lt=rt.settings.cmd)&&rt.active(p.queryCommandState(Lt))})},onclick:function(){this.settings.format&&Zu(p,this.settings.format)(),this.settings.cmd&&p.execCommand(this.settings.cmd)}}});ce=lt,c.addMenuItem("formats",{text:"Formats",menu:ce}),We=lt,(he=c).addButton("styleselect",{type:"menubutton",text:"Formats",menu:We,onShowMenu:function(){he.settings.style_formats_autohide&&Bu(he,this.menu)}})},f=function(c,p){return function(){var S,P,H=[];return Ce.each(p,function($){H.push({text:$[0],value:$[1],textStyle:function(){return c.formatter.getCssText($[1])}})}),{type:"listbox",text:p[0][0],values:H,fixedWidth:!0,onselect:function($){if($.control){var ce=$.control.value();Zu(c,ce)()}},onPostRender:(S=c,P=H,function(){var $=this;S.on("nodeChange",function(ce){var he=S.formatter,We=null;Ce.each(ce.parents,function(lt){if(Ce.each(P,function(rt){if(he.matchNode(lt,rt.value)&&(We=rt.value),We)return!1}),We)return!1}),$.value(We)})})}}},v=function(c){var p,S,P=function(H){for(var $=(H=H.replace(/;$/,"").split(";")).length;$--;)H[$]=H[$].split("=");return H}(c.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");c.addMenuItem("blockformats",{text:"Blocks",menu:(p=c,S=P,Ce.map(S,function(H){return{text:H[0],onclick:Zu(p,H[1]),textStyle:function(){return p.formatter.getCssText(H[1])}}}))}),c.addButton("formatselect",f(c,P))},T=function(c,p){var S,P;if(typeof p=="string")P=p.split(" ");else if(Ce.isArray(p))return function(H){for(var $=[],ce=0,he=H.length;ce<he;++ce){if(!Qr(H[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+H);wr.apply($,H[ce])}return $}(Ce.map(p,function(H){return T(c,H)}));return S=Ce.grep(P,function(H){return H==="|"||H in c.menuItems}),Ce.map(S,function(H){return H==="|"?{text:"-"}:c.menuItems[H]})},A=function(c){return c&&c.text==="-"},W=function(c){var p=xt(c,function(S,P){return!A(S)||!A(c[P-1])});return xt(p,function(S,P){return!A(S)||0<P&&P<p.length-1})},V=function(c){var p,S,P,H,$=c.settings.insert_button_items;return W($?T(c,$):(p=c,S="insert",P=[{text:"-"}],H=Ce.grep(p.menuItems,function(ce){return ce.context===S}),Ce.each(H,function(ce){ce.separator==="before"&&P.push({text:"|"}),ce.prependToContext?P.unshift(ce):P.push(ce),ce.separator==="after"&&P.push({text:"|"})}),P))},pe=function(c){var p;(p=c).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(V(p)),this.menu.renderNew()}})},ke=function(c){var p,S,P;p=c,Ce.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(H,$){p.addButton($,{active:!1,tooltip:H,onPostRender:ss(p,$),onclick:Zu(p,$)})}),S=c,Ce.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(H,$){S.addButton($,{tooltip:H[0],cmd:H[1]})}),P=c,Ce.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(H,$){P.addButton($,{active:!1,tooltip:H[0],cmd:H[1],onPostRender:ss(P,$)})})},Oe=function(c){var p;ke(c),p=c,Ce.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(S,P){p.addMenuItem(P,{text:S[0],icon:P,shortcut:S[2],cmd:S[1]})}),p.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:Zu(p,"code")})},ot=function(c,p){return function(){var S=this,P=function(){var H=p==="redo"?"hasRedo":"hasUndo";return!!c.undoManager&&c.undoManager[H]()};S.disabled(!P()),c.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){S.disabled(c.readonly||!P())})}},It=function(c){var p,S;(p=c).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:ot(p,"undo"),cmd:"undo"}),p.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:ot(p,"redo"),cmd:"redo"}),(S=c).addButton("undo",{tooltip:"Undo",onPostRender:ot(S,"undo"),cmd:"undo"}),S.addButton("redo",{tooltip:"Redo",onPostRender:ot(S,"redo"),cmd:"redo"})},et=function(c){var p,S;(p=c).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(S=p,function(){var P=this;S.on("VisualAid",function(H){P.active(H.hasVisual)}),P.active(S.hasVisual)}),cmd:"mceToggleVisualAid"})},Tt={setup:function(c){var p;c.rtl&&(ft.rtl=!0),c.on("mousedown progressstate",function(){_r.hideAll()}),(p=c).settings.ui_container&&(L.container=Bc(Du.fromDom(t.document.body),p.settings.ui_container).fold(Tn(null),function(S){return S.dom()})),_n.tooltips=!L.iOS,ft.translate=function(S){return Ze.translate(S)},v(c),wi(c),Oe(c),It(c),Lc(c),Rs(c),Aa(c),et(c),pe(c)}},nn=Zr.extend({recalc:function(c){var p,S,P,H,$,ce,he,We,lt,rt,ht,Lt,on,rn,zr,jr,Po,Do,vn,Dr,ho,ri,xi,Ci,Fu,za,pi,ea,ja=[],Ja=[];for(p=c.settings,H=c.items().filter(":visible"),$=c.layoutRect(),P=p.columns||Math.ceil(Math.sqrt(H.length)),S=Math.ceil(H.length/P),Do=p.spacingH||p.spacing||0,vn=p.spacingV||p.spacing||0,Dr=p.alignH||p.align,ho=p.alignV||p.align,jr=c.paddingBox,ea=("reverseRows"in p)?p.reverseRows:c.isRtl(),Dr&&typeof Dr=="string"&&(Dr=[Dr]),ho&&typeof ho=="string"&&(ho=[ho]),ht=0;ht<P;ht++)ja.push(0);for(Lt=0;Lt<S;Lt++)Ja.push(0);for(Lt=0;Lt<S;Lt++)for(ht=0;ht<P&&(rt=H[Lt*P+ht]);ht++)Ci=(lt=rt.layoutRect()).minW,Fu=lt.minH,ja[ht]=Ci>ja[ht]?Ci:ja[ht],Ja[Lt]=Fu>Ja[Lt]?Fu:Ja[Lt];for(za=$.innerW-jr.left-jr.right,ht=ri=0;ht<P;ht++)ri+=ja[ht]+(0<ht?Do:0),za-=(0<ht?Do:0)+ja[ht];for(pi=$.innerH-jr.top-jr.bottom,Lt=xi=0;Lt<S;Lt++)xi+=Ja[Lt]+(0<Lt?vn:0),pi-=(0<Lt?vn:0)+Ja[Lt];if(ri+=jr.left+jr.right,xi+=jr.top+jr.bottom,(We={}).minW=ri+($.w-$.innerW),We.minH=xi+($.h-$.innerH),We.contentW=We.minW-$.deltaW,We.contentH=We.minH-$.deltaH,We.minW=Math.min(We.minW,$.maxW),We.minH=Math.min(We.minH,$.maxH),We.minW=Math.max(We.minW,$.startMinWidth),We.minH=Math.max(We.minH,$.startMinHeight),!$.autoResize||We.minW===$.minW&&We.minH===$.minH){var Yi;$.autoResize&&((We=c.layoutRect(We)).contentW=We.minW-$.deltaW,We.contentH=We.minH-$.deltaH),Yi=p.packV==="start"?0:0<pi?Math.floor(pi/S):0;var Hu=0,ko=p.flexWidths;if(ko)for(ht=0;ht<ko.length;ht++)Hu+=ko[ht];else Hu=P;var oi=za/Hu;for(ht=0;ht<P;ht++)ja[ht]+=ko?ko[ht]*oi:oi;for(rn=jr.top,Lt=0;Lt<S;Lt++){for(on=jr.left,he=Ja[Lt]+Yi,ht=0;ht<P&&(rt=H[ea?Lt*P+P-1-ht:Lt*P+ht]);ht++)zr=rt.settings,lt=rt.layoutRect(),ce=Math.max(ja[ht],lt.startMinWidth),lt.x=on,lt.y=rn,(Po=zr.alignH||(Dr?Dr[ht]||Dr[0]:null))==="center"?lt.x=on+ce/2-lt.w/2:Po==="right"?lt.x=on+ce-lt.w:Po==="stretch"&&(lt.w=ce),(Po=zr.alignV||(ho?ho[ht]||ho[0]:null))==="center"?lt.y=rn+he/2-lt.h/2:Po==="bottom"?lt.y=rn+he-lt.h:Po==="stretch"&&(lt.h=he),rt.layoutRect(lt),on+=ce+Do,rt.recalc&&rt.recalc();rn+=he+vn}}else if(We.w=We.minW,We.h=We.minH,c.layoutRect(We),this.recalc(c),c._lastRect===null){var Su=c.parent();Su&&(Su._lastRect=null,Su.recalc())}}}),an=_n.extend({renderHtml:function(){var c=this;return c.classes.add("iframe"),c.canFocus=!1,'<iframe id="'+c._id+'" class="'+c.classes+'" tabindex="-1" src="'+(c.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(c){this.getEl().src=c},html:function(c,p){var S=this,P=this.getEl().contentWindow.document.body;return P?(P.innerHTML=c,p&&p()):X.setTimeout(function(){S.html(c)}),this}}),Gr=_n.extend({init:function(c){this._super(c),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(c){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(c)},help:function(c){this.state.set("help",c)},renderHtml:function(){var c=this,p=c.classPrefix;return'<div id="'+c._id+'" class="'+c.classes+'"><div id="'+c._id+'-body">'+c.encode(c.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+p+"ico "+p+'i-help"></i></button></div></div>'},bindStates:function(){var c=this;return c.state.on("change:text",function(p){c.getEl("body").firstChild.data=c.encode(p.value),c.state.get("rendered")&&c.updateLayoutRect()}),c.state.on("change:help",function(p){c.classes.toggle("has-help",p.value),c.state.get("rendered")&&c.updateLayoutRect()}),c._super()}}),Wr=_n.extend({init:function(c){var p=this;p._super(c),p.classes.add("widget").add("label"),p.canFocus=!1,c.multiline&&p.classes.add("autoscroll"),c.strong&&p.classes.add("strong")},initLayoutRect:function(){var c=this,p=c._super();return c.settings.multiline&&(kt.getSize(c.getEl()).width>p.maxW&&(p.minW=p.maxW,c.classes.add("multiline")),c.getEl().style.width=p.minW+"px",p.startMinH=p.h=p.minH=Math.min(p.maxH,kt.getSize(c.getEl()).height)),p},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(c){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(c)},renderHtml:function(){var c,p,S=this,P=S.settings.forId,H=S.settings.html?S.settings.html:S.encode(S.state.get("text"));return!P&&(p=S.settings.forName)&&(c=S.getRoot().find("#"+p)[0])&&(P=c._id),P?'<label id="'+S._id+'" class="'+S.classes+'"'+(P?' for="'+P+'"':"")+">"+H+"</label>":'<span id="'+S._id+'" class="'+S.classes+'">'+H+"</span>"},bindStates:function(){var c=this;return c.state.on("change:text",function(p){c.innerHtml(c.encode(p.value)),c.state.get("rendered")&&c.updateLayoutRect()}),c._super()}}),to=bt.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(c){this._super(c),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(c){c.classes.add("toolbar-item")}),this._super()}}),vo=to.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),Ln=Co.extend({init:function(c){var p=this;p._renderOpen=!0,p._super(c),c=p.settings,p.classes.add("menubtn"),c.fixedWidth&&p.classes.add("fixed-width"),p.aria("haspopup",!0),p.state.set("menu",c.menu||p.render())},showMenu:function(c){var p,S=this;if(S.menu&&S.menu.visible()&&c!==!1)return S.hideMenu();S.menu||(p=S.state.get("menu")||[],S.classes.add("opened"),p.length?p={type:"menu",animate:!0,items:p}:(p.type=p.type||"menu",p.animate=!0),p.renderTo?S.menu=p.parent(S).show().renderTo():S.menu=Yr.create(p).parent(S).renderTo(),S.fire("createmenu"),S.menu.reflow(),S.menu.on("cancel",function($){$.control.parent()===S.menu&&($.stopPropagation(),S.focus(),S.hideMenu())}),S.menu.on("select",function(){S.focus()}),S.menu.on("show hide",function($){$.type==="hide"&&$.control.parent()===S&&S.classes.remove("opened-under"),$.control===S.menu&&(S.activeMenu($.type==="show"),S.classes.toggle("opened",$.type==="show")),S.aria("expanded",$.type==="show")}).fire("show")),S.menu.show(),S.menu.layoutRect({w:S.layoutRect().w}),S.menu.repaint(),S.menu.moveRel(S.getEl(),S.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var P=S.menu.layoutRect(),H=S.$el.offset().top+S.layoutRect().h;H>P.y&&H<P.y+P.h&&S.classes.add("opened-under"),S.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(c){c.hideMenu&&c.hideMenu()}),this.menu.hide())},activeMenu:function(c){this.classes.toggle("active",c)},renderHtml:function(){var c,p=this,S=p._id,P=p.classPrefix,H=p.settings.icon,$=p.state.get("text"),ce="";return(c=p.settings.image)?(H="none",typeof c!="string"&&(c=t.window.getSelection?c[0]:c[1]),c=` style="background-image: url('`+c+`')"`):c="",$&&(p.classes.add("btn-has-text"),ce='<span class="'+P+'txt">'+p.encode($)+"</span>"),H=p.settings.icon?P+"ico "+P+"i-"+H:"",p.aria("role",p.parent()instanceof vo?"menuitem":"button"),'<div id="'+S+'" class="'+p.classes+'" tabindex="-1" aria-labelledby="'+S+'"><button id="'+S+'-open" role="presentation" type="button" tabindex="-1">'+(H?'<i class="'+H+'"'+c+"></i>":"")+ce+' <i class="'+P+'caret"></i></button></div>'},postRender:function(){var c=this;return c.on("click",function(p){p.control===c&&function(S,P){for(;S;){if(P===S)return!0;S=S.parentNode}return!1}(p.target,c.getEl())&&(c.focus(),c.showMenu(!p.aria),p.aria&&c.menu.items().filter(":visible")[0].focus())}),c.on("mouseenter",function(p){var S,P=p.control,H=c.parent();P&&H&&P instanceof Ln&&P.parent()===H&&(H.items().filter("MenuButton").each(function($){$.hideMenu&&$!==P&&($.menu&&$.menu.visible()&&(S=!0),$.hideMenu())}),S&&(P.focus(),P.showMenu()))}),c._super()},bindStates:function(){var c=this;return c.state.on("change:menu",function(){c.menu&&c.menu.remove(),c.menu=null}),c._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}});function je(c,p){var S,P,H=this,$=ft.classPrefix;H.show=function(ce,he){function We(){S&&(yt(c).append('<div class="'+$+"throbber"+(p?" "+$+"throbber-inline":"")+'"></div>'),he&&he())}return H.hide(),S=!0,ce?P=X.setTimeout(We,ce):We(),H},H.hide=function(){var ce=c.lastChild;return X.clearTimeout(P),ce&&ce.className.indexOf("throbber")!==-1&&ce.parentNode.removeChild(ce),S=!1,H}}var Br=_r.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(c){if(c.autohide=!0,c.constrainToViewport=!0,typeof c.items=="function"&&(c.itemsFactory=c.items,c.items=[]),c.itemDefaults)for(var p=c.items,S=p.length;S--;)p[S]=Ce.extend({},c.itemDefaults,p[S]);this._super(c),this.classes.add("menu"),c.animate&&L.ie!==11&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var c,p=this;function S(){p.throbber&&(p.throbber.hide(),p.throbber=null)}p.settings.itemsFactory&&(p.throbber||(p.throbber=new je(p.getEl("body"),!0),p.items().length===0?(p.throbber.show(),p.fire("loading")):p.throbber.show(100,function(){p.items().remove(),p.fire("loading")}),p.on("hide close",S)),p.requestTime=c=new Date().getTime(),p.settings.itemsFactory(function(P){P.length!==0?p.requestTime===c&&(p.getEl().style.width="",p.getEl("body").style.width="",S(),p.items().remove(),p.getEl("body").innerHTML="",p.add(P),p.renderNew(),p.fire("loaded")):p.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var c=this;return c.items().each(function(p){var S=p.settings;if(S.icon||S.image||S.selectable)return!(c._hasIcons=!0)}),c.settings.itemsFactory&&c.on("postrender",function(){c.settings.itemsFactory&&c.load()}),c.on("show hide",function(p){p.control===c&&(p.type==="show"?X.setTimeout(function(){c.classes.add("in")},0):c.classes.remove("in"))}),c._super()}}),Bo=Ln.extend({init:function(c){var p,S,P,H,$=this;$._super(c),c=$.settings,$._values=p=c.values,p&&(typeof c.value!="undefined"&&function ce(he){for(var We=0;We<he.length;We++){if(S=he[We].selected||c.value===he[We].value)return P=P||he[We].text,$.state.set("value",he[We].value),!0;if(he[We].menu&&ce(he[We].menu))return!0}}(p),!S&&0<p.length&&(P=p[0].text,$.state.set("value",p[0].value)),$.state.set("menu",p)),$.state.set("text",c.text||P),$.classes.add("listbox"),$.on("select",function(ce){var he=ce.control;H&&(ce.lastControl=H),c.multiple?he.active(!he.active()):$.value(ce.control.value()),H=he})},value:function(c){return arguments.length===0?this.state.get("value"):(c===void 0||(this.settings.values&&!function p(S){return Zo(S,function(P){return P.menu?p(P.menu):P.value===c})}(this.settings.values)?c===null&&this.state.set("value",null):this.state.set("value",c)),this)},bindStates:function(){var c=this;return c.on("show",function(p){var S,P;S=p.control,P=c.value(),S instanceof Br&&S.items().each(function(H){H.hasMenus()||H.active(H.value()===P)})}),c.state.on("change:value",function(p){var S=function P(H,$){var ce;if(H)for(var he=0;he<H.length;he++){if(H[he].value===$)return H[he];if(H[he].menu&&(ce=P(H[he].menu,$)))return ce}}(c.state.get("menu"),p.value);S?c.text(S.text):c.text(c.settings.text)}),c._super()}}),li=_n.extend({Defaults:{border:0,role:"menuitem"},init:function(c){var p,S=this;S._super(c),c=S.settings,S.classes.add("menu-item"),c.menu&&S.classes.add("menu-item-expand"),c.preview&&S.classes.add("menu-item-preview"),(p=S.state.get("text"))!=="-"&&p!=="|"||(S.classes.add("menu-item-sep"),S.aria("role","separator"),S.state.set("text","-")),c.selectable&&(S.aria("role","menuitemcheckbox"),S.classes.add("menu-item-checkbox"),c.icon="selected"),c.preview||c.selectable||S.classes.add("menu-item-normal"),S.on("mousedown",function(P){P.preventDefault()}),c.menu&&!c.ariaHideMenu&&S.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var c,p=this,S=p.settings,P=p.parent();if(P.items().each(function($){$!==p&&$.hideMenu()}),S.menu){(c=p.menu)?c.show():((c=S.menu).length?c={type:"menu",items:c}:c.type=c.type||"menu",P.settings.itemDefaults&&(c.itemDefaults=P.settings.itemDefaults),(c=p.menu=Yr.create(c).parent(p).renderTo()).reflow(),c.on("cancel",function($){$.stopPropagation(),p.focus(),c.hide()}),c.on("show hide",function($){$.control.items&&$.control.items().each(function(ce){ce.active(ce.settings.selected)})}).fire("show"),c.on("hide",function($){$.control===c&&p.classes.remove("selected")}),c.submenu=!0),c._parentMenu=P,c.classes.add("menu-sub");var H=c.testMoveRel(p.getEl(),p.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);c.moveRel(p.getEl(),H),H="menu-sub-"+(c.rel=H),c.classes.remove(c._lastRel).add(H),c._lastRel=H,p.classes.add("selected"),p.aria("expanded",!0)}},hideMenu:function(){var c=this;return c.menu&&(c.menu.items().each(function(p){p.hideMenu&&p.hideMenu()}),c.menu.hide(),c.aria("expanded",!1)),c},renderHtml:function(){var c,p=this,S=p._id,P=p.settings,H=p.classPrefix,$=p.state.get("text"),ce=p.settings.icon,he="",We=P.shortcut,lt=p.encode(P.url);function rt(on){return on.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ht(on){var rn=P.match||"";return rn?on.replace(new RegExp(rt(rn),"gi"),function(zr){return"!mce~match["+zr+"]mce~match!"}):on}function Lt(on){return on.replace(new RegExp(rt("!mce~match["),"g"),"<b>").replace(new RegExp(rt("]mce~match!"),"g"),"</b>")}return ce&&p.parent().classes.add("menu-has-icons"),P.image&&(he=` style="background-image: url('`+P.image+`')"`),We&&(We=function(on){var rn,zr,jr={};for(jr=L.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},on=on.split("+"),rn=0;rn<on.length;rn++)(zr=jr[on[rn].toLowerCase()])&&(on[rn]=zr);return on.join("+")}(We)),ce=H+"ico "+H+"i-"+(p.settings.icon||"none"),c=$!=="-"?'<i class="'+ce+'"'+he+"></i>\xA0":"",$=Lt(p.encode(ht($))),lt=Lt(p.encode(ht(lt))),'<div id="'+S+'" class="'+p.classes+'" tabindex="-1">'+c+($!=="-"?'<span id="'+S+'-text" class="'+H+'text">'+$+"</span>":"")+(We?'<div id="'+S+'-shortcut" class="'+H+'menu-shortcut">'+We+"</div>":"")+(P.menu?'<div class="'+H+'caret"></div>':"")+(lt?'<div class="'+H+'menu-item-link">'+lt+"</div>":"")+"</div>"},postRender:function(){var c=this,p=c.settings,S=p.textStyle;if(typeof S=="function"&&(S=S.call(this)),S){var P=c.getEl("text");P&&(P.setAttribute("style",S),c._textStyle=S)}return c.on("mouseenter click",function(H){H.control===c&&(p.menu||H.type!=="click"?(c.showMenu(),H.aria&&c.menu.focus(!0)):(c.fire("select"),X.requestAnimationFrame(function(){c.parent().hideAll()})))}),c._super(),c},hover:function(){return this.parent().items().each(function(c){c.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(c){return function(p,S){var P=p._textStyle;if(P){var H=p.getEl("text");H.setAttribute("style",P),S&&(H.style.color="",H.style.backgroundColor="")}}(this,c),c!==void 0&&this.aria("checked",c),this._super(c)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),wa=Io.extend({Defaults:{classes:"radio",role:"radio"}}),xa=_n.extend({renderHtml:function(){var c=this,p=c.classPrefix;return c.classes.add("resizehandle"),c.settings.direction==="both"&&c.classes.add("resizehandle-both"),c.canFocus=!1,'<div id="'+c._id+'" class="'+c.classes+'"><i class="'+p+"ico "+p+'i-resize"></i></div>'},postRender:function(){var c=this;c._super(),c.resizeDragHelper=new Hr(this._id,{start:function(){c.fire("ResizeStart")},drag:function(p){c.settings.direction!=="both"&&(p.deltaX=0),c.fire("Resize",p)},stop:function(){c.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function Oi(c){var p="";if(c)for(var S=0;S<c.length;S++)p+='<option value="'+c[S]+'">'+c[S]+"</option>";return p}var ha=_n.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(c){var p=this;p._super(c),p.settings.size&&(p.size=p.settings.size),p.settings.options&&(p._options=p.settings.options),p.on("keydown",function(S){var P;S.keyCode===13&&(S.preventDefault(),p.parents().reverse().each(function(H){if(H.toJSON)return P=H,!1}),p.fire("submit",{data:P.toJSON()}))})},options:function(c){return arguments.length?(this.state.set("options",c),this):this.state.get("options")},renderHtml:function(){var c,p=this,S="";return c=Oi(p._options),p.size&&(S=' size = "'+p.size+'"'),'<select id="'+p._id+'" class="'+p.classes+'"'+S+">"+c+"</select>"},bindStates:function(){var c=this;return c.state.on("change:options",function(p){c.getEl().innerHTML=Oi(p.value)}),c._super()}});function Ca(c,p,S){return c<p&&(c=p),S<c&&(c=S),c}function Qi(c,p,S){c.setAttribute("aria-"+p,S)}function Sa(c,p){var S,P,H,$,ce;c.settings.orientation==="v"?(H="top",P="height",S="h"):(H="left",P="width",S="w"),ce=c.getEl("handle"),$=((c.layoutRect()[S]||100)-kt.getSize(ce)[P])*((p-c._minValue)/(c._maxValue-c._minValue))+"px",ce.style[H]=$,ce.style.height=c.layoutRect().h+"px",Qi(ce,"valuenow",p),Qi(ce,"valuetext",""+c.settings.previewFilter(p)),Qi(ce,"valuemin",c._minValue),Qi(ce,"valuemax",c._maxValue)}var es=_n.extend({init:function(c){var p=this;c.previewFilter||(c.previewFilter=function(S){return Math.round(100*S)/100}),p._super(c),p.classes.add("slider"),c.orientation==="v"&&p.classes.add("vertical"),p._minValue=sn(c.minValue)?c.minValue:0,p._maxValue=sn(c.maxValue)?c.maxValue:100,p._initValue=p.state.get("value")},renderHtml:function(){var c=this._id,p=this.classPrefix;return'<div id="'+c+'" class="'+this.classes+'"><div id="'+c+'-handle" class="'+p+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var c,p,S,P,H,$,ce,he,We,lt,rt,ht,Lt,on,rn=this;c=rn._minValue,p=rn._maxValue,rn.settings.orientation==="v"?(S="screenY",P="top",H="height",$="h"):(S="screenX",P="left",H="width",$="w"),rn._super(),function(zr,jr){function Po(Do){var vn,Dr,ho,ri;vn=Ca(vn=(((vn=rn.value())+(ri=Dr=zr))/((ho=jr)-ri)+.05*Do)*(ho-Dr)-Dr,zr,jr),rn.value(vn),rn.fire("dragstart",{value:vn}),rn.fire("drag",{value:vn}),rn.fire("dragend",{value:vn})}rn.on("keydown",function(Do){switch(Do.keyCode){case 37:case 38:Po(-1);break;case 39:case 40:Po(1)}})}(c,p),ce=c,he=p,We=rn.getEl("handle"),rn._dragHelper=new Hr(rn._id,{handle:rn._id+"-handle",start:function(zr){lt=zr[S],rt=parseInt(rn.getEl("handle").style[P],10),ht=(rn.layoutRect()[$]||100)-kt.getSize(We)[H],rn.fire("dragstart",{value:on})},drag:function(zr){var jr=zr[S]-lt;Lt=Ca(rt+jr,0,ht),We.style[P]=Lt+"px",on=ce+Lt/ht*(he-ce),rn.value(on),rn.tooltip().text(""+rn.settings.previewFilter(on)).show().moveRel(We,"bc tc"),rn.fire("drag",{value:on})},stop:function(){rn.tooltip().hide(),rn.fire("dragend",{value:on})}})},repaint:function(){this._super(),Sa(this,this.value())},bindStates:function(){var c=this;return c.state.on("change:value",function(p){Sa(c,p.value)}),c._super()}}),ts=_n.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),Ga=Ln.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var c,p,S=this.getEl(),P=this.layoutRect();return this._super(),c=S.firstChild,p=S.lastChild,yt(c).css({width:P.w-kt.getSize(p).width,height:P.h-2}),yt(p).css({height:P.h-2}),this},activeMenu:function(c){yt(this.getEl().lastChild).toggleClass(this.classPrefix+"active",c)},renderHtml:function(){var c,p,S=this,P=S._id,H=S.classPrefix,$=S.state.get("icon"),ce=S.state.get("text"),he=S.settings,We="";return(c=he.image)?($="none",typeof c!="string"&&(c=t.window.getSelection?c[0]:c[1]),c=` style="background-image: url('`+c+`')"`):c="",$=he.icon?H+"ico "+H+"i-"+$:"",ce&&(S.classes.add("btn-has-text"),We='<span class="'+H+'txt">'+S.encode(ce)+"</span>"),p=typeof he.active=="boolean"?' aria-pressed="'+he.active+'"':"",'<div id="'+P+'" class="'+S.classes+'" role="button"'+p+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+($?'<i class="'+$+'"'+c+"></i>":"")+We+'</button><button type="button" class="'+H+'open" hidefocus="1" tabindex="-1">'+(S._menuBtnText?($?"\xA0":"")+S._menuBtnText:"")+' <i class="'+H+'caret"></i></button></div>'},postRender:function(){var c=this.settings.onclick;return this.on("click",function(p){var S=p.target;if(p.control===this)for(;S;){if(p.aria&&p.aria.key!=="down"||S.nodeName==="BUTTON"&&S.className.indexOf("open")===-1)return p.stopImmediatePropagation(),void(c&&c.call(this,p));S=S.parentNode}}),delete this.settings.onclick,this._super()}}),Na=Qu.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),ro=Dt.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(c){var p;this.activeTabId&&(p=this.getEl(this.activeTabId),yt(p).removeClass(this.classPrefix+"active"),p.setAttribute("aria-selected","false")),this.activeTabId="t"+c,(p=this.getEl("t"+c)).setAttribute("aria-selected","true"),yt(p).addClass(this.classPrefix+"active"),this.items()[c].show().fire("showtab"),this.reflow(),this.items().each(function(S,P){c!==P&&S.hide()})},renderHtml:function(){var c=this,p=c._layout,S="",P=c.classPrefix;return c.preRender(),p.preRender(c),c.items().each(function(H,$){var ce=c._id+"-t"+$;H.aria("role","tabpanel"),H.aria("labelledby",ce),S+='<div id="'+ce+'" class="'+P+'tab" unselectable="on" role="tab" aria-controls="'+H._id+'" aria-selected="false" tabIndex="-1">'+c.encode(H.settings.title)+"</div>"}),'<div id="'+c._id+'" class="'+c.classes+'" hidefocus="1" tabindex="-1"><div id="'+c._id+'-head" class="'+P+'tabs" role="tablist">'+S+'</div><div id="'+c._id+'-body" class="'+c.bodyClasses+'">'+p.renderHtml(c)+"</div></div>"},postRender:function(){var c=this;c._super(),c.settings.activeTab=c.settings.activeTab||0,c.activateTab(c.settings.activeTab),this.on("click",function(p){var S=p.target.parentNode;if(S&&S.id===c._id+"-head")for(var P=S.childNodes.length;P--;)S.childNodes[P]===p.target&&c.activateTab(P)})},initLayoutRect:function(){var c,p,S,P=this;p=(p=kt.getSize(P.getEl("head")).width)<0?0:p,S=0,P.items().each(function($){p=Math.max(p,$.layoutRect().minW),S=Math.max(S,$.layoutRect().minH)}),P.items().each(function($){$.settings.x=0,$.settings.y=0,$.settings.w=p,$.settings.h=S,$.layoutRect({x:0,y:0,w:p,h:S})});var H=kt.getSize(P.getEl("head")).height;return P.settings.minWidth=p,P.settings.minHeight=S+H,(c=P._super()).deltaH+=H,c.innerH=c.h-c.deltaH,c}}),ni=_n.extend({init:function(c){var p=this;p._super(c),p.classes.add("textbox"),c.multiline?p.classes.add("multiline"):(p.on("keydown",function(S){var P;S.keyCode===13&&(S.preventDefault(),p.parents().reverse().each(function(H){if(H.toJSON)return P=H,!1}),p.fire("submit",{data:P.toJSON()}))}),p.on("keyup",function(S){p.state.set("value",S.target.value)}))},repaint:function(){var c,p,S,P,H,$=this,ce=0;c=$.getEl().style,p=$._layoutRect,H=$._lastRepaintRect||{};var he=t.document;return!$.settings.multiline&&he.all&&(!he.documentMode||he.documentMode<=8)&&(c.lineHeight=p.h-ce+"px"),P=(S=$.borderBox).left+S.right+8,ce=S.top+S.bottom+($.settings.multiline?8:0),p.x!==H.x&&(c.left=p.x+"px",H.x=p.x),p.y!==H.y&&(c.top=p.y+"px",H.y=p.y),p.w!==H.w&&(c.width=p.w-P+"px",H.w=p.w),p.h!==H.h&&(c.height=p.h-ce+"px",H.h=p.h),$._lastRepaintRect=H,$.fire("repaint",{},!1),$},renderHtml:function(){var c,p,S=this,P=S.settings;return c={id:S._id,hidefocus:"1"},Ce.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(H){c[H]=P[H]}),S.disabled()&&(c.disabled="disabled"),P.subtype&&(c.type=P.subtype),(p=kt.create(P.multiline?"textarea":"input",c)).value=S.state.get("value"),p.className=S.classes.toString(),p.outerHTML},value:function(c){return arguments.length?(this.state.set("value",c),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var c=this;c.getEl().value=c.state.get("value"),c._super(),c.$el.on("change",function(p){c.state.set("value",p.target.value),c.fire("change",p)})},bindStates:function(){var c=this;return c.state.on("change:value",function(p){c.getEl().value!==p.value&&(c.getEl().value=p.value)}),c.state.on("change:disabled",function(p){c.getEl().disabled=p.value}),c._super()},remove:function(){this.$el.off(),this._super()}}),Lu=function(){return{Selector:tn,Collection:Cn,ReflowQueue:ma,Control:ft,Factory:Yr,KeyboardNavigation:ei,Container:bt,DragHelper:Hr,Scrollable:Ot,Panel:Dt,Movable:Hn,Resizable:cn,FloatPanel:_r,Window:Go,MessageBox:mo,Tooltip:Kn,Widget:_n,Progress:gn,Notification:Qn,Layout:pr,AbsoluteLayout:Zr,Button:Co,ButtonGroup:Ko,Checkbox:Io,ComboBox:Hi,ColorBox:yi,PanelButton:Bi,ColorButton:tc,ColorPicker:nu,Path:va,ElementPath:Us,FormItem:nc,Form:us,FieldSet:ya,FilePicker:Ii,FitLayout:qi,FlexLayout:cl,FlowLayout:Qu,FormatControls:Tt,GridLayout:nn,Iframe:an,InfoBox:Gr,Label:Wr,Toolbar:to,MenuBar:vo,MenuButton:Ln,MenuItem:li,Throbber:je,Menu:Br,ListBox:Bo,Radio:wa,ResizeHandle:xa,SelectBox:ha,Slider:es,Spacer:ts,SplitButton:Ga,StackLayout:Na,TabPanel:ro,TextBox:ni,DropZone:Ol,BrowseButton:So}},Zi=function(c){c.ui?Ce.each(Lu(),function(p,S){c.ui[S]=p}):c.ui=Lu()};Ce.each(Lu(),function(c,p){Yr.add(p,c)}),Zi(window.tinymce?window.tinymce:{}),D.add("inlite",function(c){var p=qn();return Tt.setup(c),be(c,p),no(c,p)})})(window);(function(t){var r,a,l,g,x=tinymce.util.Tools.resolve("tinymce.ThemeManager"),D=tinymce.util.Tools.resolve("tinymce.EditorManager"),L=tinymce.util.Tools.resolve("tinymce.util.Tools"),U=function(f){return X(f)!==!1},X=function(f){return f.getParam("menubar")},se=function(f){return f.getParam("toolbar_items_size")},re=function(f){return f.getParam("menu")},ee=function(f){return f.settings.skin===!1},Me=function(f){var v=f.getParam("resize","vertical");return v===!1?"none":v==="both"?"both":"vertical"},De=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ze=tinymce.util.Tools.resolve("tinymce.ui.Factory");tinymce.util.Tools.resolve("tinymce.util.I18n");var mt=function(f){return f.fire("SkinLoaded")},G=function(f){return f.fire("ResizeEditor")},ve=function(f){return f.fire("BeforeRenderUI")},Ae=function(f,v){return function(){var T=f.find(v)[0];T&&T.focus(!0)}},Ke=function(f,v){f.shortcuts.add("Alt+F9","",Ae(v,"menubar")),f.shortcuts.add("Alt+F10,F10","",Ae(v,"toolbar")),f.shortcuts.add("Alt+F11","",Ae(v,"elementpath")),v.on("cancel",function(){f.focus()})},vt=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Ie=tinymce.util.Tools.resolve("tinymce.util.Delay"),Ce=function(){},ut=function(f){return function(){return f}},$e=ut(!1),Je=ut(!0),Le=function(){return J},J=(r=function(f){return f.isNone()},g={fold:function(f,v){return f()},is:$e,isSome:$e,isNone:Je,getOr:l=function(f){return f},getOrThunk:a=function(f){return f()},getOrDie:function(f){throw new Error(f||"error: getOrDie called on none.")},getOrNull:ut(null),getOrUndefined:ut(void 0),or:l,orThunk:a,map:Le,each:Ce,bind:Le,exists:$e,forall:Je,filter:Le,equals:r,equals_:r,toArray:function(){return[]},toString:ut("none()")},Object.freeze&&Object.freeze(g),g),Ge=function(f){var v=ut(f),T=function(){return W},A=function(V){return V(f)},W={fold:function(V,pe){return pe(f)},is:function(V){return f===V},isSome:Je,isNone:$e,getOr:v,getOrThunk:v,getOrDie:v,getOrNull:v,getOrUndefined:v,or:T,orThunk:T,map:function(V){return Ge(V(f))},each:function(V){V(f)},bind:A,exists:A,forall:A,filter:function(V){return V(f)?W:J},toArray:function(){return[f]},toString:function(){return"some("+f+")"},equals:function(V){return V.is(f)},equals_:function(V,pe){return V.fold($e,function(ke){return pe(f,ke)})}};return W},Ze={some:Ge,none:Le,from:function(f){return f==null?J:Ge(f)}},Wt=function(f){return f?f.getRoot().uiContainer:null},fe={getUiContainerDelta:function(f){var v=Wt(f);if(v&&De.DOM.getStyle(v,"position",!0)!=="static"){var T=De.DOM.getPos(v),A=v.scrollLeft-T.x,W=v.scrollTop-T.y;return Ze.some({x:A,y:W})}return Ze.none()},setUiContainer:function(f,v){var T=De.DOM.select(f.settings.ui_container)[0];v.getRoot().uiContainer=T},getUiContainer:Wt,inheritUiContainer:function(f,v){return v.uiContainer=Wt(f)}},jt=function(f,v,T){var A,W=[];if(v)return L.each(v.split(/[ ,]/),function(V){var pe,ke=function(){var Oe=f.selection;V.settings.stateSelector&&Oe.selectorChanged(V.settings.stateSelector,function(ot){V.active(ot)},!0),V.settings.disabledStateSelector&&Oe.selectorChanged(V.settings.disabledStateSelector,function(ot){V.disabled(ot)})};V==="|"?A=null:(A||(A={type:"buttongroup",items:[]},W.push(A)),f.buttons[V]&&(pe=V,typeof(V=f.buttons[pe])=="function"&&(V=V()),V.type=V.type||"button",V.size=T,V=ze.create(V),A.items.push(V),f.initialized?ke():f.on("init",ke)))}),{type:"toolbar",layout:"flow",items:W}},At=jt,Vt=function(f,v){var T,A,W=[];if(L.each((A=(T=f).getParam("toolbar"))===!1?[]:L.isArray(A)?L.grep(A,function(V){return 0<V.length}):function(V,pe){for(var ke=[],Oe=1;Oe<10;Oe++){var ot=V["toolbar"+Oe];if(!ot)break;ke.push(ot)}var It=V.toolbar?[V.toolbar]:[pe];return 0<ke.length?ke:It}(T.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"),function(V){var pe;(pe=V)&&W.push(jt(f,pe,v))}),W.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:W}},qt=De.DOM,yn=function(f){return{left:f.x,top:f.y,width:f.w,height:f.h,right:f.x+f.w,bottom:f.y+f.h}},Yn=function(f,v){f.moveTo(v.left,v.top)},Pn=function(f,v,T,A,W,V){return V=yn({x:v,y:T,w:V.w,h:V.h}),f&&(V=f({elementRect:yn(A),contentAreaRect:yn(W),panelRect:V})),V},dr=function(f){var v,T=function(){return f.contextToolbars||[]},A=function(Oe,ot){var It,et,Tt,nn,an,Gr,Wr,to=f.getParam("inline_toolbar_position_handler");if(!f.removed){if(!Oe||!Oe.toolbar.panel)return vo=f,void L.each(vo.contextToolbars,function(Ca){Ca.panel&&Ca.panel.hide()});var vo,Ln,je,Br,Bo;Wr=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],an=Oe.toolbar.panel,ot&&an.show(),Ln=Oe.element,je=qt.getPos(f.getContentAreaContainer()),Br=f.dom.getRect(Ln),(Bo=f.dom.getRoot()).nodeName==="BODY"&&(Br.x-=Bo.ownerDocument.documentElement.scrollLeft||Bo.scrollLeft,Br.y-=Bo.ownerDocument.documentElement.scrollTop||Bo.scrollTop),Br.x+=je.x,Br.y+=je.y,Tt=Br,et=qt.getRect(an.getEl()),nn=qt.getRect(f.getContentAreaContainer()||f.getBody());var li,wa,xa,Oi=fe.getUiContainerDelta(an).getOr({x:0,y:0});if(Tt.x+=Oi.x,Tt.y+=Oi.y,et.x+=Oi.x,et.y+=Oi.y,nn.x+=Oi.x,nn.y+=Oi.y,qt.getStyle(Oe.element,"display",!0)!=="inline"){var ha=Oe.element.getBoundingClientRect();Tt.w=ha.width,Tt.h=ha.height}f.inline||(nn.w=f.getDoc().documentElement.offsetWidth),f.selection.controlSelection.isResizable(Oe.element)&&Tt.w<25&&(Tt=vt.inflate(Tt,0,8)),It=vt.findBestRelativePosition(et,Tt,nn,Wr),Tt=vt.clamp(Tt,nn),It?(Gr=vt.relativePosition(et,Tt,It),Yn(an,Pn(to,Gr.x,Gr.y,Tt,nn,et))):(nn.h+=et.h,(Tt=vt.intersect(nn,Tt))?(It=vt.findBestRelativePosition(et,Tt,nn,["bc-tc","bl-tl","br-tr"]))?(Gr=vt.relativePosition(et,Tt,It),Yn(an,Pn(to,Gr.x,Gr.y,Tt,nn,et))):Yn(an,Pn(to,Tt.x,Tt.y,Tt,nn,et)):an.hide()),li=an,xa=function(Ca,Qi){return Ca===Qi},wa=(wa=It)?wa.substr(0,2):"",L.each({t:"down",b:"up"},function(Ca,Qi){li.classes.toggle("arrow-"+Ca,xa(Qi,wa.substr(0,1)))}),L.each({l:"left",r:"right"},function(Ca,Qi){li.classes.toggle("arrow-"+Ca,xa(Qi,wa.substr(1,1)))})}},W=function(Oe){return function(){Ie.requestAnimationFrame(function(){f.selection&&A(ke(f.selection.getNode()),Oe)})}},V=function(Oe){var ot;if(Oe.toolbar.panel)return Oe.toolbar.panel.show(),void A(Oe);ot=ze.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:At(f,Oe.toolbar.items),oncancel:function(){f.focus()}}),fe.setUiContainer(f,ot),function(It){if(!v){var et=W(!0),Tt=fe.getUiContainer(It);v=f.selection.getScrollContainer()||f.getWin(),qt.bind(v,"scroll",et),qt.bind(Tt,"scroll",et),f.on("remove",function(){qt.unbind(v,"scroll",et),qt.unbind(Tt,"scroll",et)})}}(ot),(Oe.toolbar.panel=ot).renderTo().reflow(),A(Oe)},pe=function(){L.each(T(),function(Oe){Oe.panel&&Oe.panel.hide()})},ke=function(Oe){var ot,It,et,Tt=T();for(ot=(et=f.$(Oe).parents().add(Oe)).length-1;0<=ot;ot--)for(It=Tt.length-1;0<=It;It--)if(Tt[It].predicate(et[ot]))return{toolbar:Tt[It],element:et[ot]};return null};f.on("click keyup setContent ObjectResized",function(Oe){(Oe.type!=="setcontent"||Oe.selection)&&Ie.setEditorTimeout(f,function(){var ot;(ot=ke(f.selection.getNode()))?(pe(),V(ot)):pe()})}),f.on("blur hide contextmenu",pe),f.on("ObjectResizeStart",function(){var Oe=ke(f.selection.getNode());Oe&&Oe.toolbar.panel&&Oe.toolbar.panel.hide()}),f.on("ResizeEditor ResizeWindow",W(!0)),f.on("nodeChange",W(!1)),f.on("remove",function(){L.each(T(),function(Oe){Oe.panel&&Oe.panel.remove()}),f.contextToolbars={}}),f.shortcuts.add("ctrl+F9","",function(){var Oe=ke(f.selection.getNode());Oe&&Oe.toolbar.panel&&Oe.toolbar.panel.items()[0].focus()})},Zn=function(f){return function(v){return function(T){if(T===null)return"null";var A=typeof T;return A==="object"&&(Array.prototype.isPrototypeOf(T)||T.constructor&&T.constructor.name==="Array")?"array":A==="object"&&(String.prototype.isPrototypeOf(T)||T.constructor&&T.constructor.name==="String")?"string":A}(v)===f}},Cr=Zn("array"),er=Zn("function"),Qt=Zn("number"),Te=Array.prototype.indexOf,qe=Array.prototype.push,Rt=function(f,v){var T,A,W=(T=f,A=v,Te.call(T,A));return W===-1?Ze.none():Ze.some(W)},Kt=function(f,v){for(var T=0,A=f.length;T<A;T++)if(v(f[T],T))return!0;return!1},mn=function(f,v){for(var T=f.length,A=new Array(T),W=0;W<T;W++){var V=f[W];A[W]=v(V,W)}return A},xn=function(f,v){for(var T=0,A=f.length;T<A;T++)v(f[T],T)},Un=function(f,v){for(var T=[],A=0,W=f.length;A<W;A++){var V=f[A];v(V,A)&&T.push(V)}return T},Or=(er(Array.from)&&Array.from,{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),Jn=function(f,v){return f==="|"?{name:"|",item:{text:"|"}}:v?{name:f,item:v}:null},Jr=function(f,v){return function(T,A){for(var W=0,V=T.length;W<V;W++)if(A(T[W],W))return Ze.some(W);return Ze.none()}(f,function(T){return T.name===v}).isSome()},co=function(f){return f&&f.item.text==="|"},eo=function(f,v,T,A){var W,V,pe,ke,Oe,ot,It;return v?(V=v[A],ke=!0):V=Or[A],V&&(W={text:V.title},pe=[],L.each((V.items||"").split(/[ ,]/),function(et){var Tt=Jn(et,f[et]);Tt&&pe.push(Tt)}),ke||L.each(f,function(et,Tt){et.context!==A||Jr(pe,Tt)||(et.separator==="before"&&pe.push({name:"|",item:{text:"|"}}),et.prependToContext?pe.unshift(Jn(Tt,et)):pe.push(Jn(Tt,et)),et.separator==="after"&&pe.push({name:"|",item:{text:"|"}}))}),W.menu=mn((Oe=T,ot=Un(pe,function(et){return Oe.hasOwnProperty(et.name)===!1}),It=Un(ot,function(et,Tt){return!co(et)||!co(ot[Tt-1])}),Un(It,function(et,Tt){return!co(et)||0<Tt&&Tt<It.length-1})),function(et){return et.item}),!W.menu.length)?null:W},Ao=function(f){for(var v,T=[],A=function(It){var et,Tt=[],nn=re(It);if(nn)for(et in nn)Tt.push(et);else for(et in Or)Tt.push(et);return Tt}(f),W=L.makeMap((v=f,v.getParam("removed_menuitems","")).split(/[ ,]/)),V=X(f),pe=typeof V=="string"?V.split(/[ ,]/):A,ke=0;ke<pe.length;ke++){var Oe=pe[ke],ot=eo(f.menuItems,re(f),W,Oe);ot&&T.push(ot)}return T},qr=De.DOM,it=function(f){return{width:f.clientWidth,height:f.clientHeight}},Fn=function(f,v,T){var A,W,V,pe;A=f.getContainer(),W=f.getContentAreaContainer().firstChild,V=it(A),pe=it(W),v!==null&&(v=Math.max(f.getParam("min_width",100,"number"),v),v=Math.min(f.getParam("max_width",65535,"number"),v),qr.setStyle(A,"width",v+(V.width-pe.width)),qr.setStyle(W,"width",v)),T=Math.max(f.getParam("min_height",100,"number"),T),T=Math.min(f.getParam("max_height",65535,"number"),T),qr.setStyle(W,"height",T),G(f)},Wn=Fn,Tn=function(f,v,T){var A=f.getContentAreaContainer();Fn(f,A.clientWidth+v,A.clientHeight+T)},or=tinymce.util.Tools.resolve("tinymce.Env"),Kr=function(f,v,T){var A,W=f.settings[T];W&&W((A=v.getEl("body"),{element:function(){return A}}))},Dn=function(f,v,T){return function(A){var W,V,pe,ke,Oe,ot=A.control,It=ot.parents().filter("panel")[0],et=It.find("#"+v)[0],Tt=(W=T,V=v,L.grep(W,function(nn){return nn.name===V})[0]);pe=v,ke=It,Oe=T,L.each(Oe,function(nn){var an=ke.items().filter("#"+nn.name)[0];an&&an.visible()&&nn.name!==pe&&(Kr(nn,an,"onhide"),an.visible(!1))}),ot.parent().items().each(function(nn){nn.active(!1)}),et&&et.visible()?(Kr(Tt,et,"onhide"),et.hide(),ot.active(!1)):(et?et.show():(et=ze.create({type:"container",name:v,layout:"stack",classes:"sidebar-panel",html:""}),It.prepend(et),Kr(Tt,et,"onrender")),Kr(Tt,et,"onshow"),ot.active(!0)),G(f)}},yo=function(f){return!(or.ie&&!(11<=or.ie)||!f.sidebars)&&0<f.sidebars.length},Ho=function(f){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:L.map(f.sidebars,function(v){var T=v.settings;return{type:"button",icon:T.icon,image:T.image,tooltip:T.tooltip,onclick:Dn(f,v.name,f.sidebars)}})}]}},Wo=function(f){var v=function(){f._skinLoaded=!0,mt(f)};return function(){f.initialized?v():f.on("init",v)}},Xo=De.DOM,Qr=function(f){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:f,html:""}},kr=function(f,v,T){var A,W,V,pe,ke;return ee(f)===!1&&T.skinUiCss?Xo.styleSheetLoader.load(T.skinUiCss,Wo(f)):Wo(f)(),A=v.panel=ze.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[U(f)===!1?null:{type:"menubar",border:"0 0 1 0",items:Ao(f)},Vt(f,se(f))]},yo(f)?(pe=f,{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[Qr("0"),Ho(pe)]}):Qr("1 0 0 0")]}),fe.setUiContainer(f,A),Me(f)!=="none"&&(W={type:"resizehandle",direction:Me(f),onResizeStart:function(){var Oe=f.getContentAreaContainer().firstChild;V={width:Oe.clientWidth,height:Oe.clientHeight}},onResize:function(Oe){Me(f)==="both"?Wn(f,V.width+Oe.deltaX,V.height+Oe.deltaY):Wn(f,null,V.height+Oe.deltaY)}}),f.getParam("statusbar",!0,"boolean")&&A.add({type:"panel",classes:"statusbar",layout:"flow",ariaRoot:!0,items:[{type:"elementpath",editor:f},W]}),ve(f),f.on("SwitchMode",(ke=A,function(Oe){ke.find("*").disabled(Oe.mode==="readonly")})),A.renderBefore(T.targetNode).reflow(),f.getParam("readonly",!1,"boolean")&&f.setMode("readonly"),T.width&&Xo.setStyle(A.getEl(),"width",T.width),f.on("remove",function(){A.remove(),A=null}),Ke(f,A),dr(f),{iframeContainer:A.find("#iframe")[0].getEl(),editorContainer:A.getEl()}},sn=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),qo=0,wr={id:function(){return"mceu_"+qo++},create:function(f,v,T){var A=t.document.createElement(f);return De.DOM.setAttribs(A,v),typeof T=="string"?A.innerHTML=T:L.each(T,function(W){W.nodeType&&A.appendChild(W)}),A},createFragment:function(f){return De.DOM.createFragment(f)},getWindowSize:function(){return De.DOM.getViewPort()},getSize:function(f){var v,T;if(f.getBoundingClientRect){var A=f.getBoundingClientRect();v=Math.max(A.width||A.right-A.left,f.offsetWidth),T=Math.max(A.height||A.bottom-A.bottom,f.offsetHeight)}else v=f.offsetWidth,T=f.offsetHeight;return{width:v,height:T}},getPos:function(f,v){return De.DOM.getPos(f,v||wr.getContainer())},getContainer:function(){return or.container?or.container:t.document.body},getViewPort:function(f){return De.DOM.getViewPort(f)},get:function(f){return t.document.getElementById(f)},addClass:function(f,v){return De.DOM.addClass(f,v)},removeClass:function(f,v){return De.DOM.removeClass(f,v)},hasClass:function(f,v){return De.DOM.hasClass(f,v)},toggleClass:function(f,v,T){return De.DOM.toggleClass(f,v,T)},css:function(f,v,T){return De.DOM.setStyle(f,v,T)},getRuntimeStyle:function(f,v){return De.DOM.getStyle(f,v,!0)},on:function(f,v,T,A){return De.DOM.bind(f,v,T,A)},off:function(f,v,T){return De.DOM.unbind(f,v,T)},fire:function(f,v,T){return De.DOM.fire(f,v,T)},innerHtml:function(f,v){De.DOM.setHTML(f,v)}},Bn=function(f){return wr.getRuntimeStyle(f,"position")==="static"},Zo=function(f){return f.state.get("fixed")};function Xe(f,v,T){var A,W,V,pe,ke,Oe,ot,It,et,Tt;return et=zt(),V=(W=wr.getPos(v,fe.getUiContainer(f))).x,pe=W.y,Zo(f)&&Bn(t.document.body)&&(V-=et.x,pe-=et.y),A=f.getEl(),ke=(Tt=wr.getSize(A)).width,Oe=Tt.height,ot=(Tt=wr.getSize(v)).width,It=Tt.height,(T=(T||"").split(""))[0]==="b"&&(pe+=It),T[1]==="r"&&(V+=ot),T[0]==="c"&&(pe+=Math.round(It/2)),T[1]==="c"&&(V+=Math.round(ot/2)),T[3]==="b"&&(pe-=Oe),T[4]==="r"&&(V-=ke),T[3]==="c"&&(pe-=Math.round(Oe/2)),T[4]==="c"&&(V-=Math.round(ke/2)),{x:V,y:pe,w:ke,h:Oe}}var zt=function(){var f=t.window;return{x:Math.max(f.pageXOffset,t.document.body.scrollLeft,t.document.documentElement.scrollLeft),y:Math.max(f.pageYOffset,t.document.body.scrollTop,t.document.documentElement.scrollTop),w:f.innerWidth||t.document.documentElement.clientWidth,h:f.innerHeight||t.document.documentElement.clientHeight}},xt=function(f){var v,T=fe.getUiContainer(f);return T&&!Zo(f)?{x:0,y:0,w:(v=T).scrollWidth-1,h:v.scrollHeight-1}:zt()},Jt={testMoveRel:function(f,v){for(var T=xt(this),A=0;A<v.length;A++){var W=Xe(this,f,v[A]);if(Zo(this)){if(0<W.x&&W.x+W.w<T.w&&0<W.y&&W.y+W.h<T.h)return v[A]}else if(W.x>T.x&&W.x+W.w<T.w+T.x&&W.y>T.y&&W.y+W.h<T.h+T.y)return v[A]}return v[0]},moveRel:function(f,v){typeof v!="string"&&(v=this.testMoveRel(f,v));var T=Xe(this,f,v);return this.moveTo(T.x,T.y)},moveBy:function(f,v){var T=this.layoutRect();return this.moveTo(T.x+f,T.y+v),this},moveTo:function(f,v){var T=this;function A(ke,Oe,ot){return ke<0||Oe<ke+ot&&(ke=Oe-ot)<0?0:ke}if(T.settings.constrainToViewport){var W=xt(this),V=T.layoutRect();f=A(f,W.w+W.x,V.w),v=A(v,W.h+W.y,V.h)}var pe=fe.getUiContainer(T);return pe&&Bn(pe)&&!Zo(T)&&(f-=pe.scrollLeft,v-=pe.scrollTop),pe&&(f+=1,v+=1),T.state.get("rendered")?T.layoutRect({x:f,y:v}).repaint():(T.settings.x=f,T.settings.y=v),T.fire("move",{x:f,y:v}),T}},kt=tinymce.util.Tools.resolve("tinymce.util.Class"),yt=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),lr=function(f){var v;if(f)return typeof f=="number"?{top:f=f||0,left:f,bottom:f,right:f}:((v=(f=f.split(" ")).length)===1?f[1]=f[2]=f[3]=f[0]:v===2?(f[2]=f[0],f[3]=f[1]):v===3&&(f[3]=f[1]),{top:parseInt(f[0],10)||0,right:parseInt(f[1],10)||0,bottom:parseInt(f[2],10)||0,left:parseInt(f[3],10)||0})},mr=function(f,v){function T(A){var W=parseFloat(function(V){var pe=f.ownerDocument.defaultView;if(pe){var ke=pe.getComputedStyle(f,null);return ke?(V=V.replace(/[A-Z]/g,function(Oe){return"-"+Oe}),ke.getPropertyValue(V)):null}return f.currentStyle[V]}(A));return isNaN(W)?0:W}return{top:T(v+"TopWidth"),right:T(v+"RightWidth"),bottom:T(v+"BottomWidth"),left:T(v+"LeftWidth")}};function Ur(){}function uo(f){this.cls=[],this.cls._map={},this.onchange=f||Ur,this.prefix=""}L.extend(uo.prototype,{add:function(f){return f&&!this.contains(f)&&(this.cls._map[f]=!0,this.cls.push(f),this._change()),this},remove:function(f){if(this.contains(f)){var v=void 0;for(v=0;v<this.cls.length&&this.cls[v]!==f;v++);this.cls.splice(v,1),delete this.cls._map[f],this._change()}return this},toggle:function(f,v){var T=this.contains(f);return T!==v&&(T?this.remove(f):this.add(f),this._change()),this},contains:function(f){return!!this.cls._map[f]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),uo.prototype.toString=function(){var f;if(this.clsValue)return this.clsValue;f="";for(var v=0;v<this.cls.length;v++)0<v&&(f+=" "),f+=this.prefix+this.cls[v];return f};var Eo,Vr,lo,Mo=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,ai=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Ee=/^\s*|\s*$/g,gt=kt.extend({init:function(f){var v=this.match;function T(W,V,pe){var ke;function Oe(ot){ot&&V.push(ot)}return Oe(function(ot){if(ot)return ot=ot.toLowerCase(),function(It){return ot==="*"||It.type===ot}}((ke=Mo.exec(W.replace(Ee,"")))[1])),Oe(function(ot){if(ot)return function(It){return It._name===ot}}(ke[2])),Oe(function(ot){if(ot)return ot=ot.split("."),function(It){for(var et=ot.length;et--;)if(!It.classes.contains(ot[et]))return!1;return!0}}(ke[3])),Oe(function(ot,It,et){if(ot)return function(Tt){var nn=Tt[ot]?Tt[ot]():"";return It?It==="="?nn===et:It==="*="?0<=nn.indexOf(et):It==="~="?0<=(" "+nn+" ").indexOf(" "+et+" "):It==="!="?nn!==et:It==="^="?nn.indexOf(et)===0:It==="$="&&nn.substr(nn.length-et.length)===et:!!et}}(ke[4],ke[5],ke[6])),Oe(function(ot){var It;if(ot)return(ot=/(?:not\((.+)\))|(.+)/i.exec(ot))[1]?(It=A(ot[1],[]),function(et){return!v(et,It)}):(ot=ot[2],function(et,Tt,nn){return ot==="first"?Tt===0:ot==="last"?Tt===nn-1:ot==="even"?Tt%2==0:ot==="odd"?Tt%2==1:!!et[ot]&&et[ot]()})}(ke[7])),V.pseudo=!!ke[7],V.direct=pe,V}function A(W,V){var pe,ke,Oe,ot=[];do if(ai.exec(""),(ke=ai.exec(W))&&(W=ke[3],ot.push(ke[1]),ke[2])){pe=ke[3];break}while(ke);for(pe&&A(pe,V),W=[],Oe=0;Oe<ot.length;Oe++)ot[Oe]!==">"&&W.push(T(ot[Oe],[],ot[Oe-1]===">"));return V.push(W),V}this._selectors=A(f,[])},match:function(f,v){var T,A,W,V,pe,ke,Oe,ot,It,et,Tt,nn,an;for(T=0,A=(v=v||this._selectors).length;T<A;T++){for(an=f,nn=0,W=(V=(pe=v[T]).length)-1;0<=W;W--)for(ot=pe[W];an;){if(ot.pseudo)for(It=et=(Tt=an.parent().items()).length;It--&&Tt[It]!==an;);for(ke=0,Oe=ot.length;ke<Oe;ke++)if(!ot[ke](an,It,et)){ke=Oe+1;break}if(ke===Oe){nn++;break}if(W===V-1)break;an=an.parent()}if(nn===V)return!0}return!1},find:function(f){var v,T,A=[],W=this._selectors;function V(pe,ke,Oe){var ot,It,et,Tt,nn,an=ke[Oe];for(ot=0,It=pe.length;ot<It;ot++){for(nn=pe[ot],et=0,Tt=an.length;et<Tt;et++)if(!an[et](nn,ot,It)){et=Tt+1;break}if(et===Tt)Oe===ke.length-1?A.push(nn):nn.items&&V(nn.items(),ke,Oe+1);else if(an.direct)return;nn.items&&V(nn.items(),ke,Oe)}}if(f.items){for(v=0,T=W.length;v<T;v++)V(f.items(),W[v],0);1<T&&(A=function(pe){for(var ke,Oe=[],ot=pe.length;ot--;)(ke=pe[ot]).__checked||(Oe.push(ke),ke.__checked=1);for(ot=Oe.length;ot--;)delete Oe[ot].__checked;return Oe}(A))}return Eo||(Eo=gt.Collection),new Eo(A)}}),Pt=Array.prototype.push,tn=Array.prototype.slice;lo={length:0,init:function(f){f&&this.add(f)},add:function(f){return L.isArray(f)?Pt.apply(this,f):f instanceof Vr?this.add(f.toArray()):Pt.call(this,f),this},set:function(f){var v,T=this,A=T.length;for(T.length=0,T.add(f),v=T.length;v<A;v++)delete T[v];return T},filter:function(f){var v,T,A,W,V=[];for(typeof f=="string"?(f=new gt(f),W=function(pe){return f.match(pe)}):W=f,v=0,T=this.length;v<T;v++)W(A=this[v])&&V.push(A);return new Vr(V)},slice:function(){return new Vr(tn.apply(this,arguments))},eq:function(f){return f===-1?this.slice(f):this.slice(f,+f+1)},each:function(f){return L.each(this,f),this},toArray:function(){return L.toArray(this)},indexOf:function(f){for(var v=this.length;v--&&this[v]!==f;);return v},reverse:function(){return new Vr(L.toArray(this).reverse())},hasClass:function(f){return!!this[0]&&this[0].classes.contains(f)},prop:function(f,v){var T;return v!==void 0?(this.each(function(A){A[f]&&A[f](v)}),this):(T=this[0])&&T[f]?T[f]():void 0},exec:function(f){var v=L.toArray(arguments).slice(1);return this.each(function(T){T[f]&&T[f].apply(T,v)}),this},remove:function(){for(var f=this.length;f--;)this[f].remove();return this},addClass:function(f){return this.each(function(v){v.classes.add(f)})},removeClass:function(f){return this.each(function(v){v.classes.remove(f)})}},L.each("fire on off show hide append prepend before after reflow".split(" "),function(f){lo[f]=function(){var v=L.toArray(arguments);return this.each(function(T){f in T&&T[f].apply(T,v)}),this}}),L.each("text name disabled active selected checked visible parent value data".split(" "),function(f){lo[f]=function(v){return this.prop(f,v)}}),Vr=kt.extend(lo);var bn=gt.Collection=Vr,ir=function(f){this.create=f.create};ir.create=function(f,v){return new ir({create:function(T,A){var W,V=function(pe){T.set(A,pe.value)};return T.on("change:"+A,function(pe){f.set(v,pe.value)}),f.on("change:"+v,V),(W=T._bindings)||(W=T._bindings=[],T.on("destroy",function(){for(var pe=W.length;pe--;)W[pe]()})),W.push(function(){f.off("change:"+v,V)}),f.get(v)}})};var Cn=tinymce.util.Tools.resolve("tinymce.util.Observable");function $r(f){return 0<f.nodeType}var To,ui,Pi=kt.extend({Mixins:[Cn],init:function(f){var v,T;for(v in f=f||{})(T=f[v])instanceof ir&&(f[v]=T.create(this,v));this.data=f},set:function(f,v){var T,A,W=this.data[f];if(v instanceof ir&&(v=v.create(this,f)),typeof f=="object"){for(T in f)this.set(T,f[T]);return this}return function V(pe,ke){var Oe,ot;if(pe===ke)return!0;if(pe===null||ke===null||typeof pe!="object"||typeof ke!="object")return pe===ke;if(L.isArray(ke)){if(pe.length!==ke.length)return!1;for(Oe=pe.length;Oe--;)if(!V(pe[Oe],ke[Oe]))return!1}if($r(pe)||$r(ke))return pe===ke;for(Oe in ot={},ke){if(!V(pe[Oe],ke[Oe]))return!1;ot[Oe]=!0}for(Oe in pe)if(!ot[Oe]&&!V(pe[Oe],ke[Oe]))return!1;return!0}(W,v)||(this.data[f]=v,A={target:this,name:f,value:v,oldValue:W},this.fire("change:"+f,A),this.fire("change",A)),this},get:function(f){return this.data[f]},has:function(f){return f in this.data},bind:function(f){return ir.create(this,f)},destroy:function(){this.fire("destroy")}}),ci={},Xi={add:function(f){var v=f.parent();if(v){if(!v._layout||v._layout.isNative())return;ci[v._id]||(ci[v._id]=v),To||(To=!0,Ie.requestAnimationFrame(function(){var T,A;for(T in To=!1,ci)(A=ci[T]).state.get("rendered")&&A.reflow();ci={}},t.document.body))}},remove:function(f){ci[f._id]&&delete ci[f._id]}},Ui="onmousewheel"in t.document,ma=!1,Ya=0,si={Statics:{classPrefix:"mce-"},isRtl:function(){return ui.rtl},classPrefix:"mce-",init:function(f){var v,T,A=this;function W(V){var pe;for(V=V.split(" "),pe=0;pe<V.length;pe++)A.classes.add(V[pe])}A.settings=f=L.extend({},A.Defaults,f),A._id=f.id||"mceu_"+Ya++,A._aria={role:f.role},A._elmCache={},A.$=sn,A.state=new Pi({visible:!0,active:!1,disabled:!1,value:""}),A.data=new Pi(f.data),A.classes=new uo(function(){A.state.get("rendered")&&(A.getEl().className=this.toString())}),A.classes.prefix=A.classPrefix,(v=f.classes)&&(A.Defaults&&(T=A.Defaults.classes)&&v!==T&&W(T),W(v)),L.each("title text name visible disabled active value".split(" "),function(V){V in f&&A[V](f[V])}),A.on("click",function(){if(A.disabled())return!1}),A.settings=f,A.borderBox=lr(f.border),A.paddingBox=lr(f.padding),A.marginBox=lr(f.margin),f.hidden&&A.hide()},Properties:"parent,name",getContainerElm:function(){var f=fe.getUiContainer(this);return f||wr.getContainer()},getParentCtrl:function(f){for(var v,T=this.getRoot().controlIdLookup;f&&T&&!(v=T[f.id]);)f=f.parentNode;return v},initLayoutRect:function(){var f,v,T,A,W,V,pe,ke,Oe,ot,It=this,et=It.settings,Tt=It.getEl();f=It.borderBox=It.borderBox||mr(Tt,"border"),It.paddingBox=It.paddingBox||mr(Tt,"padding"),It.marginBox=It.marginBox||mr(Tt,"margin"),ot=wr.getSize(Tt),ke=et.minWidth,Oe=et.minHeight,W=ke||ot.width,V=Oe||ot.height,T=et.width,A=et.height,pe=(pe=et.autoResize)!==void 0?pe:!T&&!A,T=T||W,A=A||V;var nn=f.left+f.right,an=f.top+f.bottom,Gr=et.maxWidth||65535,Wr=et.maxHeight||65535;return It._layoutRect=v={x:et.x||0,y:et.y||0,w:T,h:A,deltaW:nn,deltaH:an,contentW:T-nn,contentH:A-an,innerW:T-nn,innerH:A-an,startMinWidth:ke||0,startMinHeight:Oe||0,minW:Math.min(W,Gr),minH:Math.min(V,Wr),maxW:Gr,maxH:Wr,autoResize:pe,scrollW:0},It._lastLayoutRect={},v},layoutRect:function(f){var v,T,A,W,V,pe=this,ke=pe._layoutRect;return ke||(ke=pe.initLayoutRect()),f?(A=ke.deltaW,W=ke.deltaH,f.x!==void 0&&(ke.x=f.x),f.y!==void 0&&(ke.y=f.y),f.minW!==void 0&&(ke.minW=f.minW),f.minH!==void 0&&(ke.minH=f.minH),(T=f.w)!==void 0&&(T=(T=T<ke.minW?ke.minW:T)>ke.maxW?ke.maxW:T,ke.w=T,ke.innerW=T-A),(T=f.h)!==void 0&&(T=(T=T<ke.minH?ke.minH:T)>ke.maxH?ke.maxH:T,ke.h=T,ke.innerH=T-W),(T=f.innerW)!==void 0&&(T=(T=T<ke.minW-A?ke.minW-A:T)>ke.maxW-A?ke.maxW-A:T,ke.innerW=T,ke.w=T+A),(T=f.innerH)!==void 0&&(T=(T=T<ke.minH-W?ke.minH-W:T)>ke.maxH-W?ke.maxH-W:T,ke.innerH=T,ke.h=T+W),f.contentW!==void 0&&(ke.contentW=f.contentW),f.contentH!==void 0&&(ke.contentH=f.contentH),(v=pe._lastLayoutRect).x===ke.x&&v.y===ke.y&&v.w===ke.w&&v.h===ke.h||((V=ui.repaintControls)&&V.map&&!V.map[pe._id]&&(V.push(pe),V.map[pe._id]=!0),v.x=ke.x,v.y=ke.y,v.w=ke.w,v.h=ke.h),pe):ke},repaint:function(){var f,v,T,A,W,V,pe,ke,Oe,ot,It=this;Oe=t.document.createRange?function(et){return et}:Math.round,f=It.getEl().style,A=It._layoutRect,ke=It._lastRepaintRect||{},V=(W=It.borderBox).left+W.right,pe=W.top+W.bottom,A.x!==ke.x&&(f.left=Oe(A.x)+"px",ke.x=A.x),A.y!==ke.y&&(f.top=Oe(A.y)+"px",ke.y=A.y),A.w!==ke.w&&(ot=Oe(A.w-V),f.width=(0<=ot?ot:0)+"px",ke.w=A.w),A.h!==ke.h&&(ot=Oe(A.h-pe),f.height=(0<=ot?ot:0)+"px",ke.h=A.h),It._hasBody&&A.innerW!==ke.innerW&&(ot=Oe(A.innerW),(T=It.getEl("body"))&&((v=T.style).width=(0<=ot?ot:0)+"px"),ke.innerW=A.innerW),It._hasBody&&A.innerH!==ke.innerH&&(ot=Oe(A.innerH),(T=T||It.getEl("body"))&&((v=v||T.style).height=(0<=ot?ot:0)+"px"),ke.innerH=A.innerH),It._lastRepaintRect=ke,It.fire("repaint",{},!1)},updateLayoutRect:function(){var f=this;f.parent()._lastRect=null,wr.css(f.getEl(),{width:"",height:""}),f._layoutRect=f._lastRepaintRect=f._lastLayoutRect=null,f.initLayoutRect()},on:function(f,v){var T,A,W,V=this;return Fa(V).on(f,typeof(T=v)!="string"?T:function(pe){return A||V.parentsAndSelf().each(function(ke){var Oe=ke.settings.callbacks;if(Oe&&(A=Oe[T]))return W=ke,!1}),A?A.call(W,pe):(pe.action=T,void this.fire("execute",pe))}),V},off:function(f,v){return Fa(this).off(f,v),this},fire:function(f,v,T){if((v=v||{}).control||(v.control=this),v=Fa(this).fire(f,v),T!==!1&&this.parent)for(var A=this.parent();A&&!v.isPropagationStopped();)A.fire(f,v,!1),A=A.parent();return v},hasEventListeners:function(f){return Fa(this).has(f)},parents:function(f){var v,T=new bn;for(v=this.parent();v;v=v.parent())T.add(v);return f&&(T=T.filter(f)),T},parentsAndSelf:function(f){return new bn(this).add(this.parents(f))},next:function(){var f=this.parent().items();return f[f.indexOf(this)+1]},prev:function(){var f=this.parent().items();return f[f.indexOf(this)-1]},innerHtml:function(f){return this.$el.html(f),this},getEl:function(f){var v=f?this._id+"-"+f:this._id;return this._elmCache[v]||(this._elmCache[v]=sn("#"+v)[0]),this._elmCache[v]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch{}return this},blur:function(){return this.getEl().blur(),this},aria:function(f,v){var T=this,A=T.getEl(T.ariaTarget);return v===void 0?T._aria[f]:(T._aria[f]=v,T.state.get("rendered")&&A.setAttribute(f==="role"?f:"aria-"+f,v),T)},encode:function(f,v){return v!==!1&&(f=this.translate(f)),(f||"").replace(/[&<>"]/g,function(T){return"&#"+T.charCodeAt(0)+";"})},translate:function(f){return ui.translate?ui.translate(f):f},before:function(f){var v=this.parent();return v&&v.insert(f,v.items().indexOf(this),!0),this},after:function(f){var v=this.parent();return v&&v.insert(f,v.items().indexOf(this)),this},remove:function(){var f,v,T=this,A=T.getEl(),W=T.parent();if(T.items){var V=T.items().toArray();for(v=V.length;v--;)V[v].remove()}W&&W.items&&(f=[],W.items().each(function(ke){ke!==T&&f.push(ke)}),W.items().set(f),W._lastRect=null),T._eventsRoot&&T._eventsRoot===T&&sn(A).off();var pe=T.getRoot().controlIdLookup;return pe&&delete pe[T._id],A&&A.parentNode&&A.parentNode.removeChild(A),T.state.set("rendered",!1),T.state.destroy(),T.fire("remove"),T},renderBefore:function(f){return sn(f).before(this.renderHtml()),this.postRender(),this},renderTo:function(f){return sn(f||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var f,v,T,A,W,V=this,pe=V.settings;for(A in V.$el=sn(V.getEl()),V.state.set("rendered",!0),pe)A.indexOf("on")===0&&V.on(A.substr(2),pe[A]);if(V._eventsRoot){for(T=V.parent();!W&&T;T=T.parent())W=T._eventsRoot;if(W)for(A in W._nativeEvents)V._nativeEvents[A]=!0}pu(V),pe.style&&(f=V.getEl())&&(f.setAttribute("style",pe.style),f.style.cssText=pe.style),V.settings.border&&(v=V.borderBox,V.$el.css({"border-top-width":v.top,"border-right-width":v.right,"border-bottom-width":v.bottom,"border-left-width":v.left}));var ke=V.getRoot();for(var Oe in ke.controlIdLookup||(ke.controlIdLookup={}),(ke.controlIdLookup[V._id]=V)._aria)V.aria(Oe,V._aria[Oe]);V.state.get("visible")===!1&&(V.getEl().style.display="none"),V.bindStates(),V.state.on("change:visible",function(ot){var It,et=ot.value;V.state.get("rendered")&&(V.getEl().style.display=et===!1?"none":"",V.getEl().getBoundingClientRect()),(It=V.parent())&&(It._lastRect=null),V.fire(et?"show":"hide"),Xi.add(V)}),V.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(f){var v,T,A,W,V,pe,ke=this.getEl(),Oe=ke.parentNode,ot=function(It,et){var Tt,nn,an=It;for(Tt=nn=0;an&&an!==et&&an.nodeType;)Tt+=an.offsetLeft||0,nn+=an.offsetTop||0,an=an.offsetParent;return{x:Tt,y:nn}}(ke,Oe);return v=ot.x,T=ot.y,A=ke.offsetWidth,W=ke.offsetHeight,V=Oe.clientWidth,pe=Oe.clientHeight,f==="end"?(v-=V-A,T-=pe-W):f==="center"&&(v-=V/2-A/2,T-=pe/2-W/2),Oe.scrollLeft=v,Oe.scrollTop=T,this},getRoot:function(){for(var f,v=this,T=[];v;){if(v.rootControl){f=v.rootControl;break}T.push(v),v=(f=v).parent()}f||(f=this);for(var A=T.length;A--;)T[A].rootControl=f;return f},reflow:function(){Xi.remove(this);var f=this.parent();return f&&f._layout&&!f._layout.isNative()&&f.reflow(),this}};function Fa(f){return f._eventDispatcher||(f._eventDispatcher=new yt({scope:f,toggleEvent:function(v,T){T&&yt.isNative(v)&&(f._nativeEvents||(f._nativeEvents={}),f._nativeEvents[v]=!0,f.state.get("rendered")&&pu(f))}})),f._eventDispatcher}function pu(f){var v,T,A,W,V,pe;function ke(Tt){var nn=f.getParentCtrl(Tt.target);nn&&nn.fire(Tt.type,Tt)}function Oe(){var Tt=W._lastHoverCtrl;Tt&&(Tt.fire("mouseleave",{target:Tt.getEl()}),Tt.parents().each(function(nn){nn.fire("mouseleave",{target:nn.getEl()})}),W._lastHoverCtrl=null)}function ot(Tt){var nn,an,Gr,Wr=f.getParentCtrl(Tt.target),to=W._lastHoverCtrl,vo=0;if(Wr!==to){if((an=(W._lastHoverCtrl=Wr).parents().toArray().reverse()).push(Wr),to){for((Gr=to.parents().toArray().reverse()).push(to),vo=0;vo<Gr.length&&an[vo]===Gr[vo];vo++);for(nn=Gr.length-1;vo<=nn;nn--)(to=Gr[nn]).fire("mouseleave",{target:to.getEl()})}for(nn=vo;nn<an.length;nn++)(Wr=an[nn]).fire("mouseenter",{target:Wr.getEl()})}}function It(Tt){Tt.preventDefault(),Tt.type==="mousewheel"?(Tt.deltaY=-.025*Tt.wheelDelta,Tt.wheelDeltaX&&(Tt.deltaX=-.025*Tt.wheelDeltaX)):(Tt.deltaX=0,Tt.deltaY=Tt.detail),Tt=f.fire("wheel",Tt)}if(V=f._nativeEvents){for((A=f.parents().toArray()).unshift(f),v=0,T=A.length;!W&&v<T;v++)W=A[v]._eventsRoot;for(W||(W=A[A.length-1]||f),f._eventsRoot=W,T=v,v=0;v<T;v++)A[v]._eventsRoot=W;var et=W._delegates;for(pe in et||(et=W._delegates={}),V){if(!V)return!1;pe!=="wheel"||ma?(pe==="mouseenter"||pe==="mouseleave"?W._hasMouseEnter||(sn(W.getEl()).on("mouseleave",Oe).on("mouseover",ot),W._hasMouseEnter=1):et[pe]||(sn(W.getEl()).on(pe,ke),et[pe]=!0),V[pe]=!1):Ui?sn(f.getEl()).on("mousewheel",It):sn(f.getEl()).on("DOMMouseScroll",It)}}}L.each("text title visible disabled active value".split(" "),function(f){si[f]=function(v){return arguments.length===0?this.state.get(f):(v!==void 0&&this.state.set(f,v),this)}});var di=ui=kt.extend(si),Ha=function(f){return!!f.getAttribute("data-mce-tabstop")};function oe(f){var v,T,A=f.root;function W(Ln){return Ln&&Ln.nodeType===1}try{v=t.document.activeElement}catch{v=t.document.body}function V(Ln){return W(Ln=Ln||v)?Ln.getAttribute("role"):null}function pe(Ln){for(var je,Br=Ln||v;Br=Br.parentNode;)if(je=V(Br))return je}function ke(Ln){var je=v;if(W(je))return je.getAttribute("aria-"+Ln)}function Oe(Ln){var je=Ln.tagName.toUpperCase();return je==="INPUT"||je==="TEXTAREA"||je==="SELECT"}function ot(Ln){var je=[];return function Br(Bo){if(Bo.nodeType===1&&Bo.style.display!=="none"&&!Bo.disabled){var li;(Oe(li=Bo)&&!li.hidden||Ha(li)||/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(V(li)))&&je.push(Bo);for(var wa=0;wa<Bo.childNodes.length;wa++)Br(Bo.childNodes[wa])}}(Ln||A.getEl()),je}function It(Ln){var je,Br;(Br=(Ln=Ln||T).parents().toArray()).unshift(Ln);for(var Bo=0;Bo<Br.length&&!(je=Br[Bo]).settings.ariaRoot;Bo++);return je}function et(Ln,je){return Ln<0?Ln=je.length-1:Ln>=je.length&&(Ln=0),je[Ln]&&je[Ln].focus(),Ln}function Tt(Ln,je){var Br=-1,Bo=It();je=je||ot(Bo.getEl());for(var li=0;li<je.length;li++)je[li]===v&&(Br=li);Br+=Ln,Bo.lastAriaIndex=et(Br,je)}function nn(){pe()==="tablist"?Tt(-1,ot(v.parentNode)):T.parent().submenu?to():Tt(-1)}function an(){var Ln=V(),je=pe();je==="tablist"?Tt(1,ot(v.parentNode)):Ln==="menuitem"&&je==="menu"&&ke("haspopup")?vo():Tt(1)}function Gr(){Tt(-1)}function Wr(){var Ln=V(),je=pe();Ln==="menuitem"&&je==="menubar"?vo():Ln==="button"&&ke("haspopup")?vo({key:"down"}):Tt(1)}function to(){T.fire("cancel")}function vo(Ln){Ln=Ln||{},T.fire("click",{target:v,aria:Ln})}return T=A.getParentCtrl(v),A.on("keydown",function(Ln){function je(Br,Bo){Oe(v)||Ha(v)||V(v)!=="slider"&&Bo(Br)!==!1&&Br.preventDefault()}if(!Ln.isDefaultPrevented())switch(Ln.keyCode){case 37:je(Ln,nn);break;case 39:je(Ln,an);break;case 38:je(Ln,Gr);break;case 40:je(Ln,Wr);break;case 27:to();break;case 14:case 13:case 32:je(Ln,vo);break;case 9:(function(Br){if(pe()==="tablist"){var Bo=ot(T.getEl("body"))[0];Bo&&Bo.focus()}else Tt(Br.shiftKey?-1:1)})(Ln),Ln.preventDefault()}}),A.on("focusin",function(Ln){v=Ln.target,T=Ln.control}),{focusFirst:function(Ln){var je=It(Ln),Br=ot(je.getEl());je.settings.ariaRemember&&"lastAriaIndex"in je?et(je.lastAriaIndex,Br):et(0,Br)}}}var Fe={},ft=di.extend({init:function(f){var v=this;v._super(f),(f=v.settings).fixed&&v.state.set("fixed",!0),v._items=new bn,v.isRtl()&&v.classes.add("rtl"),v.bodyClasses=new uo(function(){v.state.get("rendered")&&(v.getEl("body").className=this.toString())}),v.bodyClasses.prefix=v.classPrefix,v.classes.add("container"),v.bodyClasses.add("container-body"),f.containerCls&&v.classes.add(f.containerCls),v._layout=ze.create((f.layout||"")+"layout"),v.settings.items?v.add(v.settings.items):v.add(v.render()),v._hasBody=!0},items:function(){return this._items},find:function(f){return(f=Fe[f]=Fe[f]||new gt(f)).find(this)},add:function(f){return this.items().add(this.create(f)).parent(this),this},focus:function(f){var v,T,A,W=this;if(!f||!(T=W.keyboardNav||W.parents().eq(-1)[0].keyboardNav))return A=W.find("*"),W.statusbar&&A.add(W.statusbar.items()),A.each(function(V){if(V.settings.autofocus)return v=null,!1;V.canFocus&&(v=v||V)}),v&&v.focus(),W;T.focusFirst(W)},replace:function(f,v){for(var T,A=this.items(),W=A.length;W--;)if(A[W]===f){A[W]=v;break}0<=W&&((T=v.getEl())&&T.parentNode.removeChild(T),(T=f.getEl())&&T.parentNode.removeChild(T)),v.parent(this)},create:function(f){var v,T=this,A=[];return L.isArray(f)||(f=[f]),L.each(f,function(W){W&&(W instanceof di||(typeof W=="string"&&(W={type:W}),v=L.extend({},T.settings.defaults,W),W.type=v.type=v.type||W.type||T.settings.defaultType||(v.defaults?v.defaults.type:null),W=ze.create(v)),A.push(W))}),A},renderNew:function(){var f=this;return f.items().each(function(v,T){var A;v.parent(f),v.state.get("rendered")||((A=f.getEl("body")).hasChildNodes()&&T<=A.childNodes.length-1?sn(A.childNodes[T]).before(v.renderHtml()):sn(A).append(v.renderHtml()),v.postRender(),Xi.add(v))}),f._layout.applyClasses(f.items().filter(":visible")),f._lastRect=null,f},append:function(f){return this.add(f).renderNew()},prepend:function(f){return this.items().set(this.create(f).concat(this.items().toArray())),this.renderNew()},insert:function(f,v,T){var A,W,V;return f=this.create(f),A=this.items(),!T&&v<A.length-1&&(v+=1),0<=v&&v<A.length&&(W=A.slice(0,v).toArray(),V=A.slice(v).toArray(),A.set(W.concat(f,V))),this.renderNew()},fromJSON:function(f){for(var v in f)this.find("#"+v).value(f[v]);return this},toJSON:function(){var f={};return this.find("*").each(function(v){var T=v.name(),A=v.value();T&&A!==void 0&&(f[T]=A)}),f},renderHtml:function(){var f=this,v=f._layout,T=this.settings.role;return f.preRender(),v.preRender(f),'<div id="'+f._id+'" class="'+f.classes+'"'+(T?' role="'+this.settings.role+'"':"")+'><div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+(f.settings.html||"")+v.renderHtml(f)+"</div></div>"},postRender:function(){var f,v=this;return v.items().exec("postRender"),v._super(),v._layout.postRender(v),v.state.set("rendered",!0),v.settings.style&&v.$el.css(v.settings.style),v.settings.border&&(f=v.borderBox,v.$el.css({"border-top-width":f.top,"border-right-width":f.right,"border-bottom-width":f.bottom,"border-left-width":f.left})),v.parent()||(v.keyboardNav=oe({root:v})),v},initLayoutRect:function(){var f=this._super();return this._layout.recalc(this),f},recalc:function(){var f=this,v=f._layoutRect,T=f._lastRect;if(!T||T.w!==v.w||T.h!==v.h)return f._layout.recalc(f),v=f.layoutRect(),f._lastRect={x:v.x,y:v.y,w:v.w,h:v.h},!0},reflow:function(){var f;if(Xi.remove(this),this.visible()){for(di.repaintControls=[],di.repaintControls.map={},this.recalc(),f=di.repaintControls.length;f--;)di.repaintControls[f].repaint();this.settings.layout!=="flow"&&this.settings.layout!=="stack"&&this.repaint(),di.repaintControls=[]}return this}});function dt(f){var v,T;if(f.changedTouches)for(v="screenX screenY pageX pageY clientX clientY".split(" "),T=0;T<v.length;T++)f[v[T]]=f.changedTouches[0][v[T]]}function Ft(f,v){var T,A,W,V,pe,ke,Oe,ot=v.document||t.document;v=v||{};var It=ot.getElementById(v.handle||f);W=function(et){var Tt,nn,an,Gr,Wr,to,vo,Ln,je,Br,Bo,li=(Tt=ot,je=Math.max,nn=Tt.documentElement,an=Tt.body,Gr=je(nn.scrollWidth,an.scrollWidth),Wr=je(nn.clientWidth,an.clientWidth),to=je(nn.offsetWidth,an.offsetWidth),vo=je(nn.scrollHeight,an.scrollHeight),Ln=je(nn.clientHeight,an.clientHeight),{width:Gr<to?Wr:Gr,height:vo<je(nn.offsetHeight,an.offsetHeight)?Ln:vo});dt(et),et.preventDefault(),A=et.button,Br=It,ke=et.screenX,Oe=et.screenY,Bo=t.window.getComputedStyle?t.window.getComputedStyle(Br,null).getPropertyValue("cursor"):Br.runtimeStyle.cursor,T=sn("<div></div>").css({position:"absolute",top:0,left:0,width:li.width,height:li.height,zIndex:2147483647,opacity:1e-4,cursor:Bo}).appendTo(ot.body),sn(ot).on("mousemove touchmove",pe).on("mouseup touchend",V),v.start(et)},pe=function(et){if(dt(et),et.button!==A)return V(et);et.deltaX=et.screenX-ke,et.deltaY=et.screenY-Oe,et.preventDefault(),v.drag(et)},V=function(et){dt(et),sn(ot).off("mousemove touchmove",pe).off("mouseup touchend",V),T.remove(),v.stop&&v.stop(et)},this.destroy=function(){sn(It).off()},sn(It).on("mousedown touchstart",W)}var Bt,ur,Zt,Hn,Kn={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var f=this,v=2;function T(){var A,W,V;function pe(ke,Oe,ot,It,et,Tt){var nn,an,Gr,Wr,to,vo,Ln,je;if(an=f.getEl("scroll"+ke)){if(Ln=Oe.toLowerCase(),je=ot.toLowerCase(),sn(f.getEl("absend")).css(Ln,f.layoutRect()[It]-1),!et)return void sn(an).css("display","none");sn(an).css("display","block"),nn=f.getEl("body"),Gr=f.getEl("scroll"+ke+"t"),Wr=nn["client"+ot]-2*v,to=(Wr-=A&&W?an["client"+Tt]:0)/nn["scroll"+ot],(vo={})[Ln]=nn["offset"+Oe]+v,vo[je]=Wr,sn(an).css(vo),(vo={})[Ln]=nn["scroll"+Oe]*to,vo[je]=Wr*to,sn(Gr).css(vo)}}V=f.getEl("body"),A=V.scrollWidth>V.clientWidth,W=V.scrollHeight>V.clientHeight,pe("h","Left","Width","contentW",A,"Height"),pe("v","Top","Height","contentH",W,"Width")}f.settings.autoScroll&&(f._hasScroll||(f._hasScroll=!0,function(){function A(W,V,pe,ke,Oe){var ot,It=f._id+"-scroll"+W,et=f.classPrefix;sn(f.getEl()).append('<div id="'+It+'" class="'+et+"scrollbar "+et+"scrollbar-"+W+'"><div id="'+It+'t" class="'+et+'scrollbar-thumb"></div></div>'),f.draghelper=new Ft(It+"t",{start:function(){ot=f.getEl("body")["scroll"+V],sn("#"+It).addClass(et+"active")},drag:function(Tt){var nn,an,Gr,Wr,to=f.layoutRect();an=to.contentW>to.innerW,Gr=to.contentH>to.innerH,Wr=f.getEl("body")["client"+pe]-2*v,nn=(Wr-=an&&Gr?f.getEl("scroll"+W)["client"+Oe]:0)/f.getEl("body")["scroll"+pe],f.getEl("body")["scroll"+V]=ot+Tt["delta"+ke]/nn},stop:function(){sn("#"+It).removeClass(et+"active")}})}f.classes.add("scroll"),A("v","Top","Height","Y","Width"),A("h","Left","Width","X","Height")}(),f.on("wheel",function(A){var W=f.getEl("body");W.scrollLeft+=10*(A.deltaX||0),W.scrollTop+=10*A.deltaY,T()}),sn(f.getEl("body")).on("scroll",T)),T())}},_n=ft.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Kn],renderHtml:function(){var f=this,v=f._layout,T=f.settings.html;return f.preRender(),v.preRender(f),T===void 0?T='<div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+v.renderHtml(f)+"</div>":(typeof T=="function"&&(T=T.call(f)),f._hasBody=!1),'<div id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1" role="group">'+(f._preBodyHtml||"")+T+"</div>"}}),gn={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(f,v){if(f<=1||v<=1){var T=wr.getWindowSize();f=f<=1?f*T.w:f,v=v<=1?v*T.h:v}return this._layoutRect.autoResize=!1,this.layoutRect({minW:f,minH:v,w:f,h:v}).reflow()},resizeBy:function(f,v){var T=this.layoutRect();return this.resizeTo(T.w+f,T.h+v)}},zn=[],Qn=[];function Nn(f,v){for(;f;){if(f===v)return!0;f=f.parent()}}function xr(){Bt||(Bt=function(f){f.button!==2&&function(v){for(var T=zn.length;T--;){var A=zn[T],W=A.getParentCtrl(v.target);if(A.settings.autohide){if(W&&(Nn(W,A)||A.parent()===W))continue;(v=A.fire("autohide",{target:v.target})).isDefaultPrevented()||A.hide()}}}(f)},sn(t.document).on("click touchstart",Bt))}function Hr(f){var v=wr.getViewPort().y;function T(A,W){for(var V,pe=0;pe<zn.length;pe++)if(zn[pe]!==f)for(V=zn[pe].parent();V&&(V=V.parent());)V===f&&zn[pe].fixed(A).moveBy(0,W).repaint()}f.settings.autofix&&(f.state.get("fixed")?f._autoFixY>v&&(f.fixed(!1).layoutRect({y:f._autoFixY}).repaint(),T(!1,f._autoFixY-v)):(f._autoFixY=f.layoutRect().y,f._autoFixY<v&&(f.fixed(!0).layoutRect({y:0}).repaint(),T(!0,v-f._autoFixY))))}function Yr(f,v){var T,A,W=Er.zIndex||65535;if(f)Qn.push(v);else for(T=Qn.length;T--;)Qn[T]===v&&Qn.splice(T,1);if(Qn.length)for(T=0;T<Qn.length;T++)Qn[T].modal&&(W++,A=Qn[T]),Qn[T].getEl().style.zIndex=W,Qn[T].zIndex=W,W++;var V=sn("#"+v.classPrefix+"modal-block",v.getContainerElm())[0];A?sn(V).css("z-index",A.zIndex-1):V&&(V.parentNode.removeChild(V),Hn=!1),Er.currentZIndex=W}var Er=_n.extend({Mixins:[Jt,gn],init:function(f){var v=this;v._super(f),(v._eventsRoot=v).classes.add("floatpanel"),f.autohide&&(xr(),function(){if(!Zt){var T=t.document.documentElement,A=T.clientWidth,W=T.clientHeight;Zt=function(){t.document.all&&A===T.clientWidth&&W===T.clientHeight||(A=T.clientWidth,W=T.clientHeight,Er.hideAll())},sn(t.window).on("resize",Zt)}}(),zn.push(v)),f.autofix&&(ur||(ur=function(){var T;for(T=zn.length;T--;)Hr(zn[T])},sn(t.window).on("scroll",ur)),v.on("move",function(){Hr(this)})),v.on("postrender show",function(T){if(T.control===v){var A,W=v.classPrefix;v.modal&&!Hn&&((A=sn("#"+W+"modal-block",v.getContainerElm()))[0]||(A=sn('<div id="'+W+'modal-block" class="'+W+"reset "+W+'fade"></div>').appendTo(v.getContainerElm())),Ie.setTimeout(function(){A.addClass(W+"in"),sn(v.getEl()).addClass(W+"in")}),Hn=!0),Yr(!0,v)}}),v.on("show",function(){v.parents().each(function(T){if(T.state.get("fixed"))return v.fixed(!0),!1})}),f.popover&&(v._preBodyHtml='<div class="'+v.classPrefix+'arrow"></div>',v.classes.add("popover").add("bottom").add(v.isRtl()?"end":"start")),v.aria("label",f.ariaLabel),v.aria("labelledby",v._id),v.aria("describedby",v.describedBy||v._id+"-none")},fixed:function(f){var v=this;if(v.state.get("fixed")!==f){if(v.state.get("rendered")){var T=wr.getViewPort();f?v.layoutRect().y-=T.y:v.layoutRect().y+=T.y}v.classes.toggle("fixed",f),v.state.set("fixed",f)}return v},show:function(){var f,v=this._super();for(f=zn.length;f--&&zn[f]!==this;);return f===-1&&zn.push(this),v},hide:function(){return ei(this),Yr(!1,this),this._super()},hideAll:function(){Er.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),Yr(!1,this)),this},remove:function(){ei(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function ei(f){var v;for(v=zn.length;v--;)zn[v]===f&&zn.splice(v,1);for(v=Qn.length;v--;)Qn[v]===f&&Qn.splice(v,1)}Er.hideAll=function(){for(var f=zn.length;f--;){var v=zn[f];v&&v.settings.autohide&&(v.hide(),zn.splice(f,1))}};var fo=function(f,v,T){var A,W,V=De.DOM,pe=f.getParam("fixed_toolbar_container");pe&&(W=V.select(pe)[0]);var ke=function(){if(A&&A.moveRel&&A.visible()&&!A._fixed){var et=f.selection.getScrollContainer(),Tt=f.getBody(),nn=0,an=0;if(et){var Gr=V.getPos(Tt),Wr=V.getPos(et);nn=Math.max(0,Wr.x-Gr.x),an=Math.max(0,Wr.y-Gr.y)}A.fixed(!1).moveRel(Tt,f.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(nn,an)}},Oe=function(){A&&(A.show(),ke(),V.addClass(f.getBody(),"mce-edit-focus"))},ot=function(){A&&(A.hide(),Er.hideAll(),V.removeClass(f.getBody(),"mce-edit-focus"))},It=function(){var et,Tt;A?A.visible()||Oe():(A=v.panel=ze.create({type:W?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:(et=W,Tt=f,!(!et||Tt.settings.ui_container)),border:1,items:[U(f)===!1?null:{type:"menubar",border:"0 0 1 0",items:Ao(f)},Vt(f,se(f))]}),fe.setUiContainer(f,A),ve(f),W?A.renderTo(W).reflow():A.renderTo().reflow(),Ke(f,A),Oe(),dr(f),f.on("nodeChange",ke),f.on("ResizeWindow",ke),f.on("activate",Oe),f.on("deactivate",ot),f.nodeChanged())};return f.settings.content_editable=!0,f.on("focus",function(){ee(f)===!1&&T.skinUiCss?V.styleSheetLoader.load(T.skinUiCss,It,It):It()}),f.on("blur hide",ot),f.on("remove",function(){A&&(A.remove(),A=null)}),ee(f)===!1&&T.skinUiCss?V.styleSheetLoader.load(T.skinUiCss,Wo(f)):Wo(f)(),{}};function $i(f,v){var T,A,W=this,V=di.classPrefix;W.show=function(pe,ke){function Oe(){T&&(sn(f).append('<div class="'+V+"throbber"+(v?" "+V+"throbber-inline":"")+'"></div>'),ke&&ke())}return W.hide(),T=!0,pe?A=Ie.setTimeout(Oe,pe):Oe(),W},W.hide=function(){var pe=f.lastChild;return Ie.clearTimeout(A),pe&&pe.className.indexOf("throbber")!==-1&&pe.parentNode.removeChild(pe),T=!1,W}}var ye=function(f,v){var T;f.on("ProgressState",function(A){T=T||new $i(v.panel.getEl("body")),A.state?T.show(A.time):T.hide()})},Re=function(f,v,T){var A=function(W){var V=W.settings,pe=V.skin,ke=V.skin_url;if(pe!==!1){var Oe=pe||"lightgray";ke=ke?W.documentBaseURI.toAbsolute(ke):D.baseURL+"/skins/"+Oe}return ke}(f);return A&&(T.skinUiCss="/src/public/tinymce/skins/lightgray/skin.min.css",f.contentCSS.push("/src/public/tinymce/skins/lightgray/content"+(f.inline?".inline":"")+".min.css")),ye(f,v),f.getParam("inline",!1,"boolean")?fo(f,v,T):kr(f,v,T)},tt=di.extend({Mixins:[Jt],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var f=this,v=f.classPrefix;return'<div id="'+f._id+'" class="'+f.classes+'" role="presentation"><div class="'+v+'tooltip-arrow"></div><div class="'+v+'tooltip-inner">'+f.encode(f.state.get("text"))+"</div></div>"},bindStates:function(){var f=this;return f.state.on("change:text",function(v){f.getEl().lastChild.innerHTML=f.encode(v.value)}),f._super()},repaint:function(){var f,v;f=this.getEl().style,v=this._layoutRect,f.left=v.x+"px",f.top=v.y+"px",f.zIndex=131070}}),bt=di.extend({init:function(f){var v=this;v._super(f),f=v.settings,v.canFocus=!0,f.tooltip&&bt.tooltips!==!1&&(v.on("mouseenter",function(T){var A=v.tooltip().moveTo(-65535);if(T.control===v){var W=A.text(f.tooltip).show().testMoveRel(v.getEl(),["bc-tc","bc-tl","bc-tr"]);A.classes.toggle("tooltip-n",W==="bc-tc"),A.classes.toggle("tooltip-nw",W==="bc-tl"),A.classes.toggle("tooltip-ne",W==="bc-tr"),A.moveRel(v.getEl(),W)}else A.hide()}),v.on("mouseleave mousedown click",function(){v.tooltip().remove(),v._tooltip=null})),v.aria("label",f.ariaLabel||f.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new tt({type:"tooltip"}),fe.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var f=this,v=f.settings;f._super(),f.parent()||!v.width&&!v.height||(f.initLayoutRect(),f.repaint()),v.autofocus&&f.focus()},bindStates:function(){var f=this;function v(A){f.aria("disabled",A),f.classes.toggle("disabled",A)}function T(A){f.aria("pressed",A),f.classes.toggle("active",A)}return f.state.on("change:disabled",function(A){v(A.value)}),f.state.on("change:active",function(A){T(A.value)}),f.state.get("disabled")&&v(!0),f.state.get("active")&&T(!0),f._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Ot=bt.extend({Defaults:{value:0},init:function(f){this._super(f),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(v){return Math.round(v)})},renderHtml:function(){var f=this._id,v=this.classPrefix;return'<div id="'+f+'" class="'+this.classes+'"><div class="'+v+'bar-container"><div class="'+v+'bar"></div></div><div class="'+v+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var f=this;function v(T){T=f.settings.filter(T),f.getEl().lastChild.innerHTML=T+"%",f.getEl().firstChild.firstChild.style.width=T+"%"}return f.state.on("change:value",function(T){v(T.value)}),v(f.state.get("value")),f._super()}}),Dt=function(f,v){f.getEl().lastChild.textContent=v+(f.progressBar?" "+f.progressBar.value()+"%":"")},cn=di.extend({Mixins:[Jt],Defaults:{classes:"widget notification"},init:function(f){var v=this;v._super(f),v.maxWidth=f.maxWidth,f.text&&v.text(f.text),f.icon&&(v.icon=f.icon),f.color&&(v.color=f.color),f.type&&v.classes.add("notification-"+f.type),f.timeout&&(f.timeout<0||0<f.timeout)&&!f.closeButton?v.closeButton=!1:(v.classes.add("has-close"),v.closeButton=!0),f.progressBar&&(v.progressBar=new Ot),v.on("click",function(T){T.target.className.indexOf(v.classPrefix+"close")!==-1&&v.close()})},renderHtml:function(){var f,v=this,T=v.classPrefix,A="",W="",V="";return v.icon&&(A='<i class="'+T+"ico "+T+"i-"+v.icon+'"></i>'),f=' style="max-width: '+v.maxWidth+"px;"+(v.color?"background-color: "+v.color+';"':'"'),v.closeButton&&(W='<button type="button" class="'+T+'close" aria-hidden="true">\xD7</button>'),v.progressBar&&(V=v.progressBar.renderHtml()),'<div id="'+v._id+'" class="'+v.classes+'"'+f+' role="presentation">'+A+'<div class="'+T+'notification-inner">'+v.state.get("text")+"</div>"+V+W+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var f=this;return Ie.setTimeout(function(){f.$el.addClass(f.classPrefix+"in"),Dt(f,f.state.get("text"))},100),f._super()},bindStates:function(){var f=this;return f.state.on("change:text",function(v){f.getEl().firstChild.innerHTML=v.value,Dt(f,v.value)}),f.progressBar&&(f.progressBar.bindStates(),f.progressBar.state.on("change:value",function(v){Dt(f,f.state.get("text"))})),f._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var f,v;f=this.getEl().style,v=this._layoutRect,f.left=v.x+"px",f.top=v.y+"px",f.zIndex=65534}});function On(f){var v=function(T){return T.inline?T.getElement():T.getContentAreaContainer()};return{open:function(T,A){var W,V=L.extend(T,{maxWidth:(W=v(f),wr.getSize(W).width)}),pe=new cn(V);return 0<(pe.args=V).timeout&&(pe.timer=setTimeout(function(){pe.close(),A()},V.timeout)),pe.on("close",function(){A()}),pe.renderTo(),pe},close:function(T){T.close()},reposition:function(T){xn(T,function(A){A.moveTo(0,0)}),function(A){if(0<A.length){var W=A.slice(0,1)[0],V=v(f);W.moveRel(V,"tc-tc"),xn(A,function(pe,ke){0<ke&&pe.moveRel(A[ke-1].getEl(),"bc-tc")})}}(T)},getArgs:function(T){return T.args}}}var sr=[],$n="";function An(f){var v,T=sn("meta[name=viewport]")[0];or.overrideViewPort!==!1&&(T||((T=t.document.createElement("meta")).setAttribute("name","viewport"),t.document.getElementsByTagName("head")[0].appendChild(T)),(v=T.getAttribute("content"))&&$n!==void 0&&($n=v),T.setAttribute("content",f?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":$n))}function hr(f,v){(function(){for(var T=0;T<sr.length;T++)if(sr[T]._fullscreen)return!0;return!1})()&&v===!1&&sn([t.document.documentElement,t.document.body]).removeClass(f+"fullscreen")}var yr=Er.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(f){var v=this;v._super(f),v.isRtl()&&v.classes.add("rtl"),v.classes.add("window"),v.bodyClasses.add("window-body"),v.state.set("fixed",!0),f.buttons&&(v.statusbar=new _n({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:v.isRtl()?"start":"end",defaults:{type:"button"},items:f.buttons}),v.statusbar.classes.add("foot"),v.statusbar.parent(v)),v.on("click",function(T){var A=v.classPrefix+"close";(wr.hasClass(T.target,A)||wr.hasClass(T.target.parentNode,A))&&v.close()}),v.on("cancel",function(){v.close()}),v.on("move",function(T){T.control===v&&Er.hideAll()}),v.aria("describedby",v.describedBy||v._id+"-none"),v.aria("label",f.title),v._fullscreen=!1},recalc:function(){var f,v,T,A,W=this,V=W.statusbar;W._fullscreen&&(W.layoutRect(wr.getWindowSize()),W.layoutRect().contentH=W.layoutRect().innerH),W._super(),f=W.layoutRect(),W.settings.title&&!W._fullscreen&&(v=f.headerW)>f.w&&(T=f.x-Math.max(0,v/2),W.layoutRect({w:v,x:T}),A=!0),V&&(V.layoutRect({w:W.layoutRect().innerW}).recalc(),(v=V.layoutRect().minW+f.deltaW)>f.w&&(T=f.x-Math.max(0,v-f.w),W.layoutRect({w:v,x:T}),A=!0)),A&&W.recalc()},initLayoutRect:function(){var f,v=this,T=v._super(),A=0;if(v.settings.title&&!v._fullscreen){f=v.getEl("head");var W=wr.getSize(f);T.headerW=W.width,T.headerH=W.height,A+=T.headerH}v.statusbar&&(A+=v.statusbar.layoutRect().h),T.deltaH+=A,T.minH+=A,T.h+=A;var V=wr.getWindowSize();return T.x=v.settings.x||Math.max(0,V.w/2-T.w/2),T.y=v.settings.y||Math.max(0,V.h/2-T.h/2),T},renderHtml:function(){var f=this,v=f._layout,T=f._id,A=f.classPrefix,W=f.settings,V="",pe="",ke=W.html;return f.preRender(),v.preRender(f),W.title&&(V='<div id="'+T+'-head" class="'+A+'window-head"><div id="'+T+'-title" class="'+A+'title">'+f.encode(W.title)+'</div><div id="'+T+'-dragh" class="'+A+'dragh"></div><button type="button" class="'+A+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),W.url&&(ke='<iframe src="'+W.url+'" tabindex="-1"></iframe>'),ke===void 0&&(ke=v.renderHtml(f)),f.statusbar&&(pe=f.statusbar.renderHtml()),'<div id="'+T+'" class="'+f.classes+'" hidefocus="1"><div class="'+f.classPrefix+'reset" role="application">'+V+'<div id="'+T+'-body" class="'+f.bodyClasses+'">'+ke+"</div>"+pe+"</div></div>"},fullscreen:function(f){var v,T,A=this,W=t.document.documentElement,V=A.classPrefix;if(f!==A._fullscreen)if(sn(t.window).on("resize",function(){var ke;if(A._fullscreen)if(v)A._timer||(A._timer=Ie.setTimeout(function(){var ot=wr.getWindowSize();A.moveTo(0,0).resizeTo(ot.w,ot.h),A._timer=0},50));else{ke=new Date().getTime();var Oe=wr.getWindowSize();A.moveTo(0,0).resizeTo(Oe.w,Oe.h),50<new Date().getTime()-ke&&(v=!0)}}),T=A.layoutRect(),A._fullscreen=f){A._initial={x:T.x,y:T.y,w:T.w,h:T.h},A.borderBox=lr("0"),A.getEl("head").style.display="none",T.deltaH-=T.headerH+2,sn([W,t.document.body]).addClass(V+"fullscreen"),A.classes.add("fullscreen");var pe=wr.getWindowSize();A.moveTo(0,0).resizeTo(pe.w,pe.h)}else A.borderBox=lr(A.settings.border),A.getEl("head").style.display="",T.deltaH+=T.headerH,sn([W,t.document.body]).removeClass(V+"fullscreen"),A.classes.remove("fullscreen"),A.moveTo(A._initial.x,A._initial.y).resizeTo(A._initial.w,A._initial.h);return A.reflow()},postRender:function(){var f,v=this;setTimeout(function(){v.classes.add("in"),v.fire("open")},0),v._super(),v.statusbar&&v.statusbar.postRender(),v.focus(),this.dragHelper=new Ft(v._id+"-dragh",{start:function(){f={x:v.layoutRect().x,y:v.layoutRect().y}},drag:function(T){v.moveTo(f.x+T.deltaX,f.y+T.deltaY)}}),v.on("submit",function(T){T.isDefaultPrevented()||v.close()}),sr.push(v),An(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var f,v=this;for(v.dragHelper.destroy(),v._super(),v.statusbar&&this.statusbar.remove(),hr(v.classPrefix,!1),f=sr.length;f--;)sr[f]===v&&sr.splice(f,1);An(0<sr.length)},getContentWindow:function(){var f=this.getEl().getElementsByTagName("iframe")[0];return f?f.contentWindow:null}});(function(){if(!or.desktop){var f={w:t.window.innerWidth,h:t.window.innerHeight};Ie.setInterval(function(){var v=t.window.innerWidth,T=t.window.innerHeight;f.w===v&&f.h===T||(f={w:v,h:T},sn(t.window).trigger("resize"))},100)}sn(t.window).on("resize",function(){var v,T,A=wr.getWindowSize();for(v=0;v<sr.length;v++)T=sr[v].layoutRect(),sr[v].moveTo(sr[v].settings.x||Math.max(0,A.w/2-T.w/2),sr[v].settings.y||Math.max(0,A.h/2-T.h/2))})})();var _r,Sr,bo,Mr=yr.extend({init:function(f){f={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(f)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(f){var v,T=f.callback||function(){};function A(W,V,pe){return{type:"button",text:W,subtype:pe?"primary":"",onClick:function(ke){ke.control.parents()[1].close(),T(V)}}}switch(f.buttons){case Mr.OK_CANCEL:v=[A("Ok",!0,!0),A("Cancel",!1)];break;case Mr.YES_NO:case Mr.YES_NO_CANCEL:v=[A("Yes",1,!0),A("No",0)],f.buttons===Mr.YES_NO_CANCEL&&v.push(A("Cancel",-1));break;default:v=[A("Ok",!0,!0)]}return new yr({padding:20,x:f.x,y:f.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:v,title:f.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:f.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:f.onClose,onCancel:function(){T(!1)}}).renderTo(t.document.body).reflow()},alert:function(f,v){return typeof f=="string"&&(f={text:f}),f.callback=v,Mr.msgBox(f)},confirm:function(f,v){return typeof f=="string"&&(f={text:f}),f.callback=v,f.buttons=Mr.OK_CANCEL,Mr.msgBox(f)}}}),Ro=function(f){return{renderUI:function(v){return Re(f,this,v)},resizeTo:function(v,T){return Wn(f,v,T)},resizeBy:function(v,T){return Tn(f,v,T)},getNotificationManagerImpl:function(){return On(f)},getWindowManagerImpl:function(){return{open:function(v,T,A){var W;return v.title=v.title||" ",v.url=v.url||v.file,v.url&&(v.width=parseInt(v.width||320,10),v.height=parseInt(v.height||240,10)),v.body&&(v.items={defaults:v.defaults,type:v.bodyType||"form",items:v.body,data:v.data,callbacks:v.commands}),v.url||v.buttons||(v.buttons=[{text:"Ok",subtype:"primary",onclick:function(){W.find("form")[0].submit()}},{text:"Cancel",onclick:function(){W.close()}}]),(W=new yr(v)).on("close",function(){A(W)}),v.data&&W.on("postRender",function(){this.find("*").each(function(V){var pe=V.name();pe in v.data&&V.value(v.data[pe])})}),W.features=v||{},W.params=T||{},W=W.renderTo(t.document.body).reflow()},alert:function(v,T,A){var W;return(W=Mr.alert(v,function(){T()})).on("close",function(){A(W)}),W},confirm:function(v,T,A){var W;return(W=Mr.confirm(v,function(V){T(V)})).on("close",function(){A(W)}),W},close:function(v){v.close()},getParams:function(v){return v.params},setParams:function(v,T){v.params=T}}}}},Di=kt.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(f){this.settings=L.extend({},this.Defaults,f)},preRender:function(f){f.bodyClasses.add(this.settings.containerClass)},applyClasses:function(f){var v,T,A,W,V=this.settings;v=V.firstControlClass,T=V.lastControlClass,f.each(function(pe){pe.classes.remove(v).remove(T).add(V.controlClass),pe.visible()&&(A||(A=pe),W=pe)}),A&&A.classes.add(v),W&&W.classes.add(T)},renderHtml:function(f){var v="";return this.applyClasses(f.items()),f.items().each(function(T){v+=T.renderHtml()}),v},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Go=Di.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(f){f.items().filter(":visible").each(function(v){var T=v.settings;v.layoutRect({x:T.x,y:T.y,w:T.w,h:T.h}),v.recalc&&v.recalc()})},renderHtml:function(f){return'<div id="'+f._id+'-absend" class="'+f.classPrefix+'abs-end"></div>'+this._super(f)}}),ar=bt.extend({Defaults:{classes:"widget btn",role:"button"},init:function(f){var v,T=this;T._super(f),f=T.settings,v=T.settings.size,T.on("click mousedown",function(A){A.preventDefault()}),T.on("touchstart",function(A){T.fire("click",A),A.preventDefault()}),f.subtype&&T.classes.add(f.subtype),v&&T.classes.add("btn-"+v),f.icon&&T.icon(f.icon)},icon:function(f){return arguments.length?(this.state.set("icon",f),this):this.state.get("icon")},repaint:function(){var f,v=this.getEl().firstChild;v&&((f=v.style).width=f.height="100%"),this._super()},renderHtml:function(){var f,v,T=this,A=T._id,W=T.classPrefix,V=T.state.get("icon"),pe=T.state.get("text"),ke="",Oe=T.settings;return(f=Oe.image)?(V="none",typeof f!="string"&&(f=t.window.getSelection?f[0]:f[1]),f=` style="background-image: url('`+f+`')"`):f="",pe&&(T.classes.add("btn-has-text"),ke='<span class="'+W+'txt">'+T.encode(pe)+"</span>"),V=V?W+"ico "+W+"i-"+V:"",v=typeof Oe.active=="boolean"?' aria-pressed="'+Oe.active+'"':"",'<div id="'+A+'" class="'+T.classes+'" tabindex="-1"'+v+'><button id="'+A+'-button" role="presentation" type="button" tabindex="-1">'+(V?'<i class="'+V+'"'+f+"></i>":"")+ke+"</button></div>"},bindStates:function(){var f=this,v=f.$,T=f.classPrefix+"txt";function A(W){var V=v("span."+T,f.getEl());W?(V[0]||(v("button:first",f.getEl()).append('<span class="'+T+'"></span>'),V=v("span."+T,f.getEl())),V.html(f.encode(W))):V.remove(),f.classes.toggle("btn-has-text",!!W)}return f.state.on("change:text",function(W){A(W.value)}),f.state.on("change:icon",function(W){var V=W.value,pe=f.classPrefix;V=(f.settings.icon=V)?pe+"ico "+pe+"i-"+f.settings.icon:"";var ke=f.getEl().firstChild,Oe=ke.getElementsByTagName("i")[0];V?(Oe&&Oe===ke.firstChild||(Oe=t.document.createElement("i"),ke.insertBefore(Oe,ke.firstChild)),Oe.className=V):Oe&&ke.removeChild(Oe),A(f.state.get("text"))}),f._super()}}),st=ar.extend({init:function(f){f=L.extend({text:"Browse...",multiple:!1,accept:null},f),this._super(f),this.classes.add("browsebutton"),f.multiple&&this.classes.add("multiple")},postRender:function(){var f=this,v=wr.create("input",{type:"file",id:f._id+"-browse",accept:f.settings.accept});f._super(),sn(v).on("change",function(T){var A=T.target.files;f.value=function(){return A.length?f.settings.multiple?A:A[0]:null},T.preventDefault(),A.length&&f.fire("change",T)}),sn(v).on("click",function(T){T.stopPropagation()}),sn(f.getEl("button")).on("click touchstart",function(T){T.stopPropagation(),v.click(),T.preventDefault()}),f.getEl().appendChild(v)},remove:function(){sn(this.getEl("button")).off(),sn(this.getEl("input")).off(),this._super()}}),xo=ft.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var f=this,v=f._layout;return f.classes.add("btn-group"),f.preRender(),v.preRender(f),'<div id="'+f._id+'" class="'+f.classes+'"><div id="'+f._id+'-body">'+(f.settings.html||"")+v.renderHtml(f)+"</div></div>"}}),mo=bt.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(f){var v=this;v._super(f),v.on("click mousedown",function(T){T.preventDefault()}),v.on("click",function(T){T.preventDefault(),v.disabled()||v.checked(!v.checked())}),v.checked(v.settings.checked)},checked:function(f){return arguments.length?(this.state.set("checked",f),this):this.state.get("checked")},value:function(f){return arguments.length?this.checked(f):this.checked()},renderHtml:function(){var f=this,v=f._id,T=f.classPrefix;return'<div id="'+v+'" class="'+f.classes+'" unselectable="on" aria-labelledby="'+v+'-al" tabindex="-1"><i class="'+T+"ico "+T+'i-checkbox"></i><span id="'+v+'-al" class="'+T+'label">'+f.encode(f.state.get("text"))+"</span></div>"},bindStates:function(){var f=this;function v(T){f.classes.toggle("checked",T),f.aria("checked",T)}return f.state.on("change:text",function(T){f.getEl("al").firstChild.data=f.translate(T.value)}),f.state.on("change:checked change:value",function(T){f.fire("change"),v(T.value)}),f.state.on("change:icon",function(T){var A=T.value,W=f.classPrefix;if(A===void 0)return f.settings.icon;A=(f.settings.icon=A)?W+"ico "+W+"i-"+f.settings.icon:"";var V=f.getEl().firstChild,pe=V.getElementsByTagName("i")[0];A?(pe&&pe===V.firstChild||(pe=t.document.createElement("i"),V.insertBefore(pe,V.firstChild)),pe.className=A):pe&&V.removeChild(pe)}),f.state.get("checked")&&v(!0),f._super()}}),no=tinymce.util.Tools.resolve("tinymce.util.VK"),Vo=bt.extend({init:function(f){var v=this;v._super(f),f=v.settings,v.classes.add("combobox"),v.subinput=!0,v.ariaTarget="inp",f.menu=f.menu||f.values,f.menu&&(f.icon="caret"),v.on("click",function(T){var A=T.target,W=v.getEl();if(sn.contains(W,A)||A===W)for(;A&&A!==W;)A.id&&A.id.indexOf("-open")!==-1&&(v.fire("action"),f.menu&&(v.showMenu(),T.aria&&v.menu.items()[0].focus())),A=A.parentNode}),v.on("keydown",function(T){var A;T.keyCode===13&&T.target.nodeName==="INPUT"&&(T.preventDefault(),v.parents().reverse().each(function(W){if(W.toJSON)return A=W,!1}),v.fire("submit",{data:A.toJSON()}))}),v.on("keyup",function(T){if(T.target.nodeName==="INPUT"){var A=v.state.get("value"),W=T.target.value;W!==A&&(v.state.set("value",W),v.fire("autocomplete",T))}}),v.on("mouseover",function(T){var A=v.tooltip().moveTo(-65535);if(v.statusLevel()&&T.target.className.indexOf(v.classPrefix+"status")!==-1){var W=v.statusMessage()||"Ok",V=A.text(W).show().testMoveRel(T.target,["bc-tc","bc-tl","bc-tr"]);A.classes.toggle("tooltip-n",V==="bc-tc"),A.classes.toggle("tooltip-nw",V==="bc-tl"),A.classes.toggle("tooltip-ne",V==="bc-tr"),A.moveRel(T.target,V)}})},statusLevel:function(f){return 0<arguments.length&&this.state.set("statusLevel",f),this.state.get("statusLevel")},statusMessage:function(f){return 0<arguments.length&&this.state.set("statusMessage",f),this.state.get("statusMessage")},showMenu:function(){var f,v=this,T=v.settings;v.menu||((f=T.menu||[]).length?f={type:"menu",items:f}:f.type=f.type||"menu",v.menu=ze.create(f).parent(v).renderTo(v.getContainerElm()),v.fire("createmenu"),v.menu.reflow(),v.menu.on("cancel",function(A){A.control===v.menu&&v.focus()}),v.menu.on("show hide",function(A){A.control.items().each(function(W){W.active(W.value()===v.value())})}).fire("show"),v.menu.on("select",function(A){v.value(A.control.value())}),v.on("focusin",function(A){A.target.tagName.toUpperCase()==="INPUT"&&v.menu.hide()}),v.aria("expanded",!0)),v.menu.show(),v.menu.layoutRect({w:v.layoutRect().w}),v.menu.moveRel(v.getEl(),v.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var f,v,T=this,A=T.getEl(),W=T.getEl("open"),V=T.layoutRect(),pe=0,ke=A.firstChild;T.statusLevel()&&T.statusLevel()!=="none"&&(pe=parseInt(wr.getRuntimeStyle(ke,"padding-right"),10)-parseInt(wr.getRuntimeStyle(ke,"padding-left"),10)),f=W?V.w-wr.getSize(W).width-10:V.w-10;var Oe=t.document;return Oe.all&&(!Oe.documentMode||Oe.documentMode<=8)&&(v=T.layoutRect().h-2+"px"),sn(ke).css({width:f-pe,lineHeight:v}),T._super(),T},postRender:function(){var f=this;return sn(this.getEl("inp")).on("change",function(v){f.state.set("value",v.target.value),f.fire("change",v)}),f._super()},renderHtml:function(){var f,v,T,A=this,W=A._id,V=A.settings,pe=A.classPrefix,ke=A.state.get("value")||"",Oe="",ot="";return"spellcheck"in V&&(ot+=' spellcheck="'+V.spellcheck+'"'),V.maxLength&&(ot+=' maxlength="'+V.maxLength+'"'),V.size&&(ot+=' size="'+V.size+'"'),V.subtype&&(ot+=' type="'+V.subtype+'"'),T='<i id="'+W+'-status" class="mce-status mce-ico" style="display: none"></i>',A.disabled()&&(ot+=' disabled="disabled"'),(f=V.icon)&&f!=="caret"&&(f=pe+"ico "+pe+"i-"+V.icon),v=A.state.get("text"),(f||v)&&(Oe='<div id="'+W+'-open" class="'+pe+"btn "+pe+'open" tabIndex="-1" role="button"><button id="'+W+'-action" type="button" hidefocus="1" tabindex="-1">'+(f!=="caret"?'<i class="'+f+'"></i>':'<i class="'+pe+'caret"></i>')+(v?(f?" ":"")+v:"")+"</button></div>",A.classes.add("has-open")),'<div id="'+W+'" class="'+A.classes+'"><input id="'+W+'-inp" class="'+pe+'textbox" value="'+A.encode(ke,!1)+'" hidefocus="1"'+ot+' placeholder="'+A.encode(V.placeholder)+'" />'+T+Oe+"</div>"},value:function(f){return arguments.length?(this.state.set("value",f),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(f,v){var T=this;if(f.length!==0){T.menu?T.menu.items().remove():T.menu=ze.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(T).renderTo(),L.each(f,function(W){var V,pe;T.menu.add({text:W.title,url:W.previewUrl,match:v,classes:"menu-item-ellipsis",onclick:(V=W.value,pe=W.title,function(){T.fire("selectitem",{title:pe,value:V})})})}),T.menu.renderNew(),T.hideMenu(),T.menu.on("cancel",function(W){W.control.parent()===T.menu&&(W.stopPropagation(),T.focus(),T.hideMenu())}),T.menu.on("select",function(){T.focus()});var A=T.layoutRect().w;T.menu.layoutRect({w:A,minW:0,maxW:A}),T.menu.repaint(),T.menu.reflow(),T.menu.show(),T.menu.moveRel(T.getEl(),T.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else T.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var f=this;f.state.on("change:value",function(T){f.getEl("inp").value!==T.value&&(f.getEl("inp").value=T.value)}),f.state.on("change:disabled",function(T){f.getEl("inp").disabled=T.value}),f.state.on("change:statusLevel",function(T){var A=f.getEl("status"),W=f.classPrefix,V=T.value;wr.css(A,"display",V==="none"?"none":""),wr.toggleClass(A,W+"i-checkmark",V==="ok"),wr.toggleClass(A,W+"i-warning",V==="warn"),wr.toggleClass(A,W+"i-error",V==="error"),f.classes.toggle("has-status",V!=="none"),f.repaint()}),wr.on(f.getEl("status"),"mouseleave",function(){f.tooltip().hide()}),f.on("cancel",function(T){f.menu&&f.menu.visible()&&(T.stopPropagation(),f.hideMenu())});var v=function(T,A){A&&0<A.items().length&&A.items().eq(T)[0].focus()};return f.on("keydown",function(T){var A=T.keyCode;T.target.nodeName==="INPUT"&&(A===no.DOWN?(T.preventDefault(),f.fire("autocomplete"),v(0,f.menu)):A===no.UP&&(T.preventDefault(),v(-1,f.menu)))}),f._super()},remove:function(){sn(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),Oo=Vo.extend({init:function(f){var v=this;f.spellcheck=!1,f.onaction&&(f.icon="none"),v._super(f),v.classes.add("colorbox"),v.on("change keyup postrender",function(){v.repaintColor(v.value())})},repaintColor:function(f){var v=this.getEl("open"),T=v?v.getElementsByTagName("i")[0]:null;if(T)try{T.style.background=f}catch{}},bindStates:function(){var f=this;return f.state.on("change:value",function(v){f.state.get("rendered")&&f.repaintColor(v.value)}),f._super()}}),mi=ar.extend({showPanel:function(){var f=this,v=f.settings;if(f.classes.add("opened"),f.panel)f.panel.show();else{var T=v.panel;T.type&&(T={layout:"grid",items:T}),T.role=T.role||"dialog",T.popover=!0,T.autohide=!0,T.ariaRoot=!0,f.panel=new Er(T).on("hide",function(){f.classes.remove("opened")}).on("cancel",function(V){V.stopPropagation(),f.focus(),f.hidePanel()}).parent(f).renderTo(f.getContainerElm()),f.panel.fire("show"),f.panel.reflow()}var A=f.panel.testMoveRel(f.getEl(),v.popoverAlign||(f.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]));f.panel.classes.toggle("start",A.substr(-1)==="l"),f.panel.classes.toggle("end",A.substr(-1)==="r");var W=A.substr(0,1)==="t";f.panel.classes.toggle("bottom",!W),f.panel.classes.toggle("top",W),f.panel.moveRel(f.getEl(),A)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var f=this;return f.aria("haspopup",!0),f.on("click",function(v){v.control===f&&(f.panel&&f.panel.visible()?f.hidePanel():(f.showPanel(),f.panel.focus(!!v.aria)))}),f._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),Uo=De.DOM,ra=mi.extend({init:function(f){this._super(f),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(f){return f?(this._color=f,this.getEl("preview").style.backgroundColor=f,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var f=this,v=f._id,T=f.classPrefix,A=f.state.get("text"),W=f.settings.icon?T+"ico "+T+"i-"+f.settings.icon:"",V=f.settings.image?` style="background-image: url('`+f.settings.image+`')"`:"",pe="";return A&&(f.classes.add("btn-has-text"),pe='<span class="'+T+'txt">'+f.encode(A)+"</span>"),'<div id="'+v+'" class="'+f.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(W?'<i class="'+W+'"'+V+"></i>":"")+'<span id="'+v+'-preview" class="'+T+'preview"></span>'+pe+'</button><button type="button" class="'+T+'open" hidefocus="1" tabindex="-1"> <i class="'+T+'caret"></i></button></div>'},postRender:function(){var f=this,v=f.settings.onclick;return f.on("click",function(T){T.aria&&T.aria.key==="down"||T.control!==f||Uo.getParent(T.target,"."+f.classPrefix+"open")||(T.stopImmediatePropagation(),v.call(f,T))}),delete f.settings.onclick,f._super()}}),_a=tinymce.util.Tools.resolve("tinymce.util.Color"),Ni=bt.extend({Defaults:{classes:"widget colorpicker"},init:function(f){this._super(f)},postRender:function(){var f,v,T,A,W,V=this,pe=V.color();function ke(et,Tt){var nn,an,Gr=wr.getPos(et);return nn=Tt.pageX-Gr.x,an=Tt.pageY-Gr.y,{x:nn=Math.max(0,Math.min(nn/et.clientWidth,1)),y:an=Math.max(0,Math.min(an/et.clientHeight,1))}}function Oe(et,Tt){var nn=(360-et.h)/360;wr.css(T,{top:100*nn+"%"}),Tt||wr.css(W,{left:et.s+"%",top:100-et.v+"%"}),A.style.background=_a({s:100,v:100,h:et.h}).toHex(),V.color().parse({s:et.s,v:et.v,h:et.h})}function ot(et){var Tt;Tt=ke(A,et),f.s=100*Tt.x,f.v=100*(1-Tt.y),Oe(f),V.fire("change")}function It(et){var Tt;Tt=ke(v,et),(f=pe.toHsv()).h=360*(1-Tt.y),Oe(f,!0),V.fire("change")}v=V.getEl("h"),T=V.getEl("hp"),A=V.getEl("sv"),W=V.getEl("svp"),V._repaint=function(){Oe(f=pe.toHsv())},V._super(),V._svdraghelper=new Ft(V._id+"-sv",{start:ot,drag:ot}),V._hdraghelper=new Ft(V._id+"-h",{start:It,drag:It}),V._repaint()},rgb:function(){return this.color().toRgb()},value:function(f){if(!arguments.length)return this.color().toHex();this.color().parse(f),this._rendered&&this._repaint()},color:function(){return this._color||(this._color=_a()),this._color},renderHtml:function(){var f,v=this._id,T=this.classPrefix,A="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return f='<div id="'+v+'-h" class="'+T+'colorpicker-h" style="background: -ms-linear-gradient(top,'+A+");background: linear-gradient(to bottom,"+A+');">'+function(){var W,V,pe,ke,Oe="";for(pe="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",W=0,V=(ke=A.split(",")).length-1;W<V;W++)Oe+='<div class="'+T+'colorpicker-h-chunk" style="height:'+100/V+"%;"+pe+ke[W]+",endColorstr="+ke[W+1]+");-ms-"+pe+ke[W]+",endColorstr="+ke[W+1]+')"></div>';return Oe}()+'<div id="'+v+'-hp" class="'+T+'colorpicker-h-marker"></div></div>','<div id="'+v+'" class="'+this.classes+'"><div id="'+v+'-sv" class="'+T+'colorpicker-sv"><div class="'+T+'colorpicker-overlay1"><div class="'+T+'colorpicker-overlay2"><div id="'+v+'-svp" class="'+T+'colorpicker-selector1"><div class="'+T+'colorpicker-selector2"></div></div></div></div></div>'+f+"</div>"}}),oa=bt.extend({init:function(f){f=L.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},f),this._super(f),this.classes.add("dropzone"),f.multiple&&this.classes.add("multiple")},renderHtml:function(){var f,v,T=this.settings;return f={id:this._id,hidefocus:"1"},v=wr.create("div",f,"<span>"+this.translate(T.text)+"</span>"),T.height&&wr.css(v,"height",T.height+"px"),T.width&&wr.css(v,"width",T.width+"px"),v.className=this.classes,v.outerHTML},postRender:function(){var f=this,v=function(T){T.preventDefault(),f.classes.toggle("dragenter"),f.getEl().className=f.classes};f._super(),f.$el.on("dragover",function(T){T.preventDefault()}),f.$el.on("dragenter",v),f.$el.on("dragleave",v),f.$el.on("drop",function(T){if(T.preventDefault(),!f.state.get("disabled")){var A=function(W){var V=f.settings.accept;if(typeof V!="string")return W;var pe=new RegExp("("+V.split(/\s*,\s*/).join("|")+")$","i");return L.grep(W,function(ke){return pe.test(ke.name)})}(T.dataTransfer.files);f.value=function(){return A.length?f.settings.multiple?A:A[0]:null},A.length&&f.fire("change",T)}})},remove:function(){this.$el.off(),this._super()}}),ga=bt.extend({init:function(f){var v=this;f.delimiter||(f.delimiter="\xBB"),v._super(f),v.classes.add("path"),v.canFocus=!0,v.on("click",function(T){var A;(A=T.target.getAttribute("data-index"))&&v.fire("select",{value:v.row()[A],index:A})}),v.row(v.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(f){return arguments.length?(this.state.set("row",f),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var f=this;return f.state.on("change:row",function(v){f.innerHtml(f._getDataPathHtml(v.value))}),f._super()},_getDataPathHtml:function(f){var v,T,A=f||[],W="",V=this.classPrefix;for(v=0,T=A.length;v<T;v++)W+=(0<v?'<div class="'+V+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+V+"path-item"+(v===T-1?" "+V+"last":"")+'" data-index="'+v+'" tabindex="-1" id="'+this._id+"-"+v+'" aria-level="'+(v+1)+'">'+A[v].name+"</div>";return W||(W='<div class="'+V+'path-item">\xA0</div>'),W}}),vi=ga.extend({postRender:function(){var f=this,v=f.settings.editor;function T(A){return!!(A.nodeType===1&&(A.nodeName==="BR"||A.getAttribute("data-mce-bogus")||A.getAttribute("data-mce-type")==="bookmark"))}return v.settings.elementpath!==!1&&(f.on("select",function(A){v.focus(),v.selection.select(this.row()[A.index].element),v.nodeChanged()}),v.on("nodeChange",function(A){for(var W=[],V=A.parents,pe=V.length;pe--;)if(V[pe].nodeType===1&&!T(V[pe])){var ke=v.fire("ResolveName",{name:V[pe].nodeName.toLowerCase(),target:V[pe]});if(ke.isDefaultPrevented()||W.push({name:ke.name,element:V[pe]}),ke.isPropagationStopped())break}f.row(W)})),f._super()}}),Si=ft.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var f=this,v=f._layout,T=f.classPrefix;return f.classes.add("formitem"),v.preRender(f),'<div id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1">'+(f.settings.title?'<div id="'+f._id+'-title" class="'+T+'title">'+f.settings.title+"</div>":"")+'<div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+(f.settings.html||"")+v.renderHtml(f)+"</div></div>"}}),Ka=ft.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var f=this,v=f.items();f.settings.formItemDefaults||(f.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),v.each(function(T){var A,W=T.settings.label;W&&((A=new Si(L.extend({items:{type:"label",id:T._id+"-l",text:W,flex:0,forId:T._id,disabled:T.disabled()}},f.settings.formItemDefaults))).type="formitem",T.aria("labelledby",T._id+"-l"),typeof T.settings.flex=="undefined"&&(T.settings.flex=1),f.replace(T,A),A.add(T))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var f=this;function v(){var T,A,W=0,V=[];if(f.settings.labelGapCalc!==!1)for((f.settings.labelGapCalc==="children"?f.find("formitem"):f.items()).filter("formitem").each(function(pe){var ke=pe.items()[0],Oe=ke.getEl().clientWidth;W=W<Oe?Oe:W,V.push(ke)}),A=f.settings.labelGap||0,T=V.length;T--;)V[T].settings.minWidth=W+A}f._super(),f.on("show",v),v()}}),Gi=Ka.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var f=this,v=f._layout,T=f.classPrefix;return f.preRender(),v.preRender(f),'<fieldset id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1">'+(f.settings.title?'<legend id="'+f._id+'-title" class="'+T+'fieldset-title">'+f.settings.title+"</legend>":"")+'<div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+(f.settings.html||"")+v.renderHtml(f)+"</div></fieldset>"}}),ki=0,ti=function(f){if(f==null)throw new Error("Node cannot be null or undefined");return{dom:ut(f)}},br={fromHtml:function(f,v){var T=(v||t.document).createElement("div");if(T.innerHTML=f,!T.hasChildNodes()||1<T.childNodes.length)throw t.console.error("HTML does not have a single root node",f),new Error("HTML must have a single root node");return ti(T.childNodes[0])},fromTag:function(f,v){var T=(v||t.document).createElement(f);return ti(T)},fromText:function(f,v){var T=(v||t.document).createTextNode(f);return ti(T)},fromDom:ti,fromPoint:function(f,v,T){var A=f.dom();return Ze.from(A.elementFromPoint(v,T)).map(ti)}},gu=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE,t.Node.DOCUMENT_NODE),vu=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),go=(t.Node.TEXT_NODE,t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,typeof t.window!="undefined"?t.window:Function("return this;")(),function(f,v){var T=function(W,V){for(var pe=0;pe<W.length;pe++){var ke=W[pe];if(ke.test(V))return ke}}(f,v);if(!T)return{major:0,minor:0};var A=function(W){return Number(v.replace(T,"$"+W))};return Ei(A(1),A(2))}),zo=function(){return Ei(0,0)},Ei=function(f,v){return{major:f,minor:v}},Vi={nu:Ei,detect:function(f,v){var T=String(v).toLowerCase();return f.length===0?zo():go(f,T)},unknown:zo},ne="Firefox",be=function(f,v){return function(){return v===f}},me=function(f){var v=f.current;return{current:v,version:f.version,isEdge:be("Edge",v),isChrome:be("Chrome",v),isIE:be("IE",v),isOpera:be("Opera",v),isFirefox:be(ne,v),isSafari:be("Safari",v)}},Ye={unknown:function(){return me({current:void 0,version:Vi.unknown()})},nu:me,edge:ut("Edge"),chrome:ut("Chrome"),ie:ut("IE"),opera:ut("Opera"),firefox:ut(ne),safari:ut("Safari")},Qe="Windows",Et="Android",Ut="Solaris",Mn="FreeBSD",qn=function(f,v){return function(){return v===f}},pr=function(f){var v=f.current;return{current:v,version:f.version,isWindows:qn(Qe,v),isiOS:qn("iOS",v),isAndroid:qn(Et,v),isOSX:qn("OSX",v),isLinux:qn("Linux",v),isSolaris:qn(Ut,v),isFreeBSD:qn(Mn,v)}},Zr={unknown:function(){return pr({current:void 0,version:Vi.unknown()})},nu:pr,windows:ut(Qe),ios:ut("iOS"),android:ut(Et),linux:ut("Linux"),osx:ut("OSX"),solaris:ut(Ut),freebsd:ut(Mn)},Co=function(f,v){var T=String(v).toLowerCase();return function(A,W){for(var V=0,pe=A.length;V<pe;V++){var ke=A[V];if(W(ke,V))return Ze.some(ke)}return Ze.none()}(f,function(A){return A.search(T)})},So=function(f,v){return Co(f,v).map(function(T){var A=Vi.detect(T.versionRegexes,v);return{current:T.name,version:A}})},Ko=function(f,v){return Co(f,v).map(function(T){var A=Vi.detect(T.versionRegexes,v);return{current:T.name,version:A}})},Io=function(f,v){return f.indexOf(v)!==-1},Ai=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Hi=function(f){return function(v){return Io(v,f)}},yi=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(f){return Io(f,"edge/")&&Io(f,"chrome")&&Io(f,"safari")&&Io(f,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ai],search:function(f){return Io(f,"chrome")&&!Io(f,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(f){return Io(f,"msie")||Io(f,"trident")}},{name:"Opera",versionRegexes:[Ai,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Hi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Hi("firefox")},{name:"Safari",versionRegexes:[Ai,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(f){return(Io(f,"safari")||Io(f,"mobile/"))&&Io(f,"applewebkit")}}],Bi=[{name:"Windows",search:Hi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(f){return Io(f,"iphone")||Io(f,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Hi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Hi("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Hi("linux"),versionRegexes:[]},{name:"Solaris",search:Hi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Hi("freebsd"),versionRegexes:[]}],tu={browsers:ut(yi),oses:ut(Bi)},tc=function(f){var v,T,A,W,V,pe,ke,Oe,ot,It,et,Tt=tu.browsers(),nn=tu.oses(),an=So(Tt,f).fold(Ye.unknown,Ye.nu),Gr=Ko(nn,f).fold(Zr.unknown,Zr.nu);return{browser:an,os:Gr,deviceType:(T=an,A=f,W=(v=Gr).isiOS()&&/ipad/i.test(A)===!0,V=v.isiOS()&&!W,pe=v.isAndroid()&&v.version.major===3,ke=v.isAndroid()&&v.version.major===4,Oe=W||pe||ke&&/mobile/i.test(A)===!0,ot=v.isiOS()||v.isAndroid(),It=ot&&!Oe,et=T.isSafari()&&v.isiOS()&&/safari/i.test(A)===!1,{isiPad:ut(W),isiPhone:ut(V),isTablet:ut(Oe),isPhone:ut(It),isTouch:ut(ot),isAndroid:v.isAndroid,isiOS:v.isiOS,isWebView:ut(et)})}},Cs=(bo=!(_r=function(){var f=t.navigator.userAgent;return tc(f)}),function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v];return bo||(bo=!0,Sr=_r.apply(null,f)),Sr}),nu=vu,Ol=gu,va=function(f){return f.nodeType!==nu&&f.nodeType!==Ol||f.childElementCount===0},Us=(Cs().browser.isIE(),function(){for(var f=[],v=0;v<arguments.length;v++)f[v]=arguments[v]}("element","offset"),L.trim),nc=function(f){return function(v){return!!(v&&v.nodeType===1&&(v.contentEditable===f||v.getAttribute("data-mce-contenteditable")===f))}},us=nc("true"),ya=nc("false"),Cf=function(f,v,T,A,W){return{type:f,title:v,url:T,level:A,attach:W}},Xn=function(f){return f.innerText||f.textContent},Du=function(f){return f.id?f.id:(v="h",T=new Date().getTime(),v+"_"+Math.floor(1e9*Math.random())+ ++ki+String(T));var v,T},Ku=function(f){return(v=f)&&v.nodeName==="A"&&(v.id||v.name)&&bi(f);var v},Xu=function(f){return f&&/^(H[1-6])$/.test(f.nodeName)},bi=function(f){return function(v){for(;v=v.parentNode;){var T=v.contentEditable;if(T&&T!=="inherit")return us(v)}return!1}(f)&&!ya(f)},Pl=function(f){return Xu(f)&&bi(f)},sl=function(f){var v,T=Du(f);return Cf("header",Xn(f),"#"+T,Xu(v=f)?parseInt(v.nodeName.substr(1),10):0,function(){f.id=T})},kn=function(f){var v=f.id||f.name,T=Xn(f);return Cf("anchor",T||"#"+v,"#"+v,0,Ce)},ru=function(f){var v,T,A,W,V,pe;return v="h1,h2,h3,h4,h5,h6,a:not([href])",T=f,mn((Cs().browser.isIE(),function(){for(var ke=[],Oe=0;Oe<arguments.length;Oe++)ke[Oe]=arguments[Oe]}("element","offset"),A=br.fromDom(T),W=v,pe=(V=A)===void 0?t.document:V.dom(),va(pe)?[]:mn(pe.querySelectorAll(W),br.fromDom)),function(ke){return ke.dom()})},$t=function(f){return 0<Us(f.title).length},Gu=function(f){var v,T=ru(f);return Un((v=T,mn(Un(v,Pl),sl)).concat(mn(Un(T,Ku),kn)),$t)},yu={},Ti=function(f){return{title:f.title,value:{title:{raw:f.title},url:f.url,attach:f.attach}}},la=function(f,v){return{title:f,value:{title:f,url:v,attach:Ce}}},Lo=function(f,v,T){var A=v in f?f[v]:T;return A===!1?null:A},bu=function(f,v,T,A){var W,V,pe,ke,Oe,ot,It={title:"-"},et=function(nn){var an=nn.hasOwnProperty(T)?nn[T]:[],Gr=Un(an,function(Wr){return to=Wr,!Kt(v,function(vo){return vo.url===to});var to});return L.map(Gr,function(Wr){return{title:Wr,value:{title:Wr,url:Wr,attach:Ce}}})},Tt=function(nn){var an,Gr=Un(v,function(Wr){return Wr.type===nn});return an=Gr,L.map(an,Ti)};return A.typeahead_urls===!1?[]:T==="file"?(W=[ba(f,et(yu)),ba(f,Tt("header")),ba(f,(ke=Tt("anchor"),Oe=Lo(A,"anchor_top","#top"),ot=Lo(A,"anchor_bottom","#bottom"),Oe!==null&&ke.unshift(la("<top>",Oe)),ot!==null&&ke.push(la("<bottom>",ot)),ke))],V=function(nn,an){return nn.length===0||an.length===0?nn.concat(an):nn.concat(It,an)},pe=[],xn(W,function(nn){pe=V(pe,nn)}),pe):ba(f,et(yu))},ba=function(f,v){var T=f.toLowerCase(),A=L.grep(v,function(W){return W.title.toLowerCase().indexOf(T)!==-1});return A.length===1&&A[0].title===f?[]:A},Ss=function(f,v,T,A){var W=function(V){var pe=Gu(T),ke=bu(V,pe,A,v);f.showAutoComplete(ke,V)};f.on("autocomplete",function(){W(f.value())}),f.on("selectitem",function(V){var pe=V.value;f.value(pe.url);var ke,Oe=(ke=pe.title).raw?ke.raw:ke;A==="image"?f.fire("change",{meta:{alt:Oe,attach:pe.attach}}):f.fire("change",{meta:{text:Oe,attach:pe.attach}}),f.focus()}),f.on("click",function(V){f.value().length===0&&V.target.nodeName==="INPUT"&&W("")}),f.on("PostRender",function(){f.getRoot().on("submit",function(V){var pe,ke,Oe;V.isDefaultPrevented()||(pe=f.value(),Oe=yu[ke=A],/^https?/.test(pe)&&(Oe?Rt(Oe,pe).isNone()&&(yu[ke]=Oe.slice(0,5).concat(pe)):yu[ke]=[pe]))})})},Pc=function(f,v,T){var A=v.filepicker_validator_handler;A&&f.state.on("change:value",function(W){var V;(V=W.value).length!==0?A({url:V,type:T},function(pe){var ke,Oe,ot,It=(Oe=(ke=pe).status,ot=ke.message,Oe==="valid"?{status:"ok",message:ot}:Oe==="unknown"?{status:"warn",message:ot}:Oe==="invalid"?{status:"warn",message:ot}:{status:"none",message:""});f.statusMessage(It.message),f.statusLevel(It.status)}):f.statusLevel("none")})},Au=Vo.extend({Statics:{clearHistory:function(){yu={}}},init:function(f){var v,T,A,W=this,V=window.tinymce?window.tinymce.activeEditor:D.activeEditor,pe=V.settings,ke=f.filetype;f.spellcheck=!1,(A=pe.file_picker_types||pe.file_browser_callback_types)&&(A=L.makeMap(A,/[, ]/)),A&&!A[ke]||(!(T=pe.file_picker_callback)||A&&!A[ke]?!(T=pe.file_browser_callback)||A&&!A[ke]||(v=function(){T(W.getEl("inp").id,W.value(),ke,window)}):v=function(){var Oe=W.fire("beforecall").meta;Oe=L.extend({filetype:ke},Oe),T.call(V,function(ot,It){W.value(ot).fire("change",{meta:It})},W.value(),Oe)}),v&&(f.icon="browse",f.onaction=v),W._super(f),W.classes.add("filepicker"),Ss(W,pe,V.getBody(),ke),Pc(W,pe,ke)}}),Sf=Go.extend({recalc:function(f){var v=f.layoutRect(),T=f.paddingBox;f.items().filter(":visible").each(function(A){A.layoutRect({x:T.left,y:T.top,w:v.innerW-T.right-T.left,h:v.innerH-T.top-T.bottom}),A.recalc&&A.recalc()})}}),Dc=Go.extend({recalc:function(f){var v,T,A,W,V,pe,ke,Oe,ot,It,et,Tt,nn,an,Gr,Wr,to,vo,Ln,je,Br,Bo,li,wa,xa,Oi,ha,Ca,Qi,Sa,es,ts,Ga,Na,ro,ni,Lu,Zi=[],c=Math.max,p=Math.min;for(A=f.items().filter(":visible"),W=f.layoutRect(),V=f.paddingBox,pe=f.settings,Tt=f.isRtl()?pe.direction||"row-reversed":pe.direction,ke=pe.align,Oe=f.isRtl()?pe.pack||"end":pe.pack,ot=pe.spacing||0,Tt!=="row-reversed"&&Tt!=="column-reverse"||(A=A.set(A.toArray().reverse()),Tt=Tt.split("-")[0]),Tt==="column"?(wa="y",Bo="h",li="minH",xa="maxH",ha="innerH",Oi="top",Ca="deltaH",Qi="contentH",Na="left",ts="w",Sa="x",es="innerW",Ga="minW",ro="right",ni="deltaW",Lu="contentW"):(wa="x",Bo="w",li="minW",xa="maxW",ha="innerW",Oi="left",Ca="deltaW",Qi="contentW",Na="top",ts="h",Sa="y",es="innerH",Ga="minH",ro="bottom",ni="deltaH",Lu="contentH"),et=W[ha]-V[Oi]-V[Oi],Br=It=0,v=0,T=A.length;v<T;v++)an=(nn=A[v]).layoutRect(),et-=v<T-1?ot:0,0<(Gr=nn.settings.flex)&&(It+=Gr,an[xa]&&Zi.push(nn),an.flex=Gr),et-=an[li],Br<(Wr=V[Na]+an[Ga]+V[ro])&&(Br=Wr);if((Ln={})[li]=et<0?W[li]-et+W[Ca]:W[ha]-et+W[Ca],Ln[Ga]=Br+W[ni],Ln[Qi]=W[ha]-et,Ln[Lu]=Br,Ln.minW=p(Ln.minW,W.maxW),Ln.minH=p(Ln.minH,W.maxH),Ln.minW=c(Ln.minW,W.startMinWidth),Ln.minH=c(Ln.minH,W.startMinHeight),!W.autoResize||Ln.minW===W.minW&&Ln.minH===W.minH){for(vo=et/It,v=0,T=Zi.length;v<T;v++)(to=(an=(nn=Zi[v]).layoutRect())[xa])<(Wr=an[li]+an.flex*vo)?(et-=an[xa]-an[li],It-=an.flex,an.flex=0,an.maxFlexSize=to):an.maxFlexSize=0;for(vo=et/It,je=V[Oi],Ln={},It===0&&(Oe==="end"?je=et+V[Oi]:Oe==="center"?(je=Math.round(W[ha]/2-(W[ha]-et)/2)+V[Oi])<0&&(je=V[Oi]):Oe==="justify"&&(je=V[Oi],ot=Math.floor(et/(A.length-1)))),Ln[Sa]=V[Na],v=0,T=A.length;v<T;v++)Wr=(an=(nn=A[v]).layoutRect()).maxFlexSize||an[li],ke==="center"?Ln[Sa]=Math.round(W[es]/2-an[ts]/2):ke==="stretch"?(Ln[ts]=c(an[Ga]||0,W[es]-V[Na]-V[ro]),Ln[Sa]=V[Na]):ke==="end"&&(Ln[Sa]=W[es]-an[ts]-V.top),0<an.flex&&(Wr+=an.flex*vo),Ln[Bo]=Wr,Ln[wa]=je,nn.layoutRect(Ln),nn.recalc&&nn.recalc(),je+=Wr+ot}else if(Ln.w=Ln.minW,Ln.h=Ln.minH,f.layoutRect(Ln),this.recalc(f),f._lastRect===null){var S=f.parent();S&&(S._lastRect=null,S.recalc())}}}),ca=Di.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(f){f.items().filter(":visible").each(function(v){v.recalc&&v.recalc()})},isNative:function(){return!0}}),ou=function(f,v){return T=v,W=(A=f)===void 0?t.document:A.dom(),va(W)?Ze.none():Ze.from(W.querySelector(T)).map(br.fromDom);var T,A,W},Mi=function(f,v){return function(){f.execCommand("mceToggleFormat",!1,v)}},Ju=function(f,v,T){var A=function(W){T(W,v)};f.formatter?f.formatter.formatChanged(v,A):f.on("init",function(){f.formatter.formatChanged(v,A)})},iu=function(f,v){return function(T){Ju(f,v,function(A){T.control.active(A)})}},Pa=function(f){var v=["alignleft","aligncenter","alignright","alignjustify"],T="alignleft",A=[{text:"Left",icon:"alignleft",onclick:Mi(f,"alignleft")},{text:"Center",icon:"aligncenter",onclick:Mi(f,"aligncenter")},{text:"Right",icon:"alignright",onclick:Mi(f,"alignright")},{text:"Justify",icon:"alignjustify",onclick:Mi(f,"alignjustify")}];f.addMenuItem("align",{text:"Align",menu:A}),f.addButton("align",{type:"menubutton",icon:T,menu:A,onShowMenu:function(W){var V=W.control.menu;L.each(v,function(pe,ke){V.items().eq(ke).each(function(Oe){return Oe.active(f.formatter.match(pe))})})},onPostRender:function(W){var V=W.control;L.each(v,function(pe,ke){Ju(f,pe,function(Oe){V.icon(T),Oe&&V.icon(pe)})})}}),L.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(W,V){f.addButton(V,{active:!1,tooltip:W[0],cmd:W[1],onPostRender:iu(f,V)})})},ks=function(f){return f?f.split(",")[0]:""},rc=function(f,v){return function(){var T=this;T.state.set("value",null),f.on("init nodeChange",function(A){var W,V,pe,ke,Oe=f.queryCommandValue("FontName"),ot=(W=v,ke=(V=Oe)?V.toLowerCase():"",L.each(W,function(It){It.value.toLowerCase()===ke&&(pe=It.value)}),L.each(W,function(It){pe||ks(It.value).toLowerCase()!==ks(ke).toLowerCase()||(pe=It.value)}),pe);T.value(ot||null),!ot&&Oe&&T.text(ks(Oe))})}},oc=function(f){f.addButton("fontselect",function(){var v,T=(v=function(A){for(var W=(A=A.replace(/;$/,"").split(";")).length;W--;)A[W]=A[W].split("=");return A}(f.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats"),L.map(v,function(A){return{text:{raw:A[0]},value:A[1],textStyle:A[1].indexOf("dings")===-1?"font-family:"+A[1]:""}}));return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:T,fixedWidth:!0,onPostRender:rc(f,T),onselect:function(A){A.control.settings.value&&f.execCommand("FontName",!1,A.control.settings.value)}}})},Ac=function(f){oc(f)},Mu=function(f,v){return/[0-9.]+px$/.test(f)?(T=72*parseInt(f,10)/96,A=v||0,W=Math.pow(10,A),Math.round(T*W)/W+"pt"):f;var T,A,W},Es=function(f,v,T){var A;return L.each(f,function(W){W.value===T?A=T:W.value===v&&(A=v)}),A},Mc=function(f){f.addButton("fontsizeselect",function(){var v,T,A,W=(v=f.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt",L.map(v.split(" "),function(V){var pe=V,ke=V,Oe=V.split("=");return 1<Oe.length&&(pe=Oe[0],ke=Oe[1]),{text:pe,value:ke}}));return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:W,fixedWidth:!0,onPostRender:(T=f,A=W,function(){var V=this;T.on("init nodeChange",function(pe){var ke,Oe,ot,It;if(ke=T.queryCommandValue("FontSize"))for(ot=3;!It&&0<=ot;ot--)Oe=Mu(ke,ot),It=Es(A,Oe,ke);V.value(It||null),It||V.text(Oe)})}),onclick:function(V){V.control.settings.value&&f.execCommand("FontSize",!1,V.control.settings.value)}}})},kf=function(f){Mc(f)},Ic=function(f,v){var T=v.length;return L.each(v,function(A){A.menu&&(A.hidden=Ic(f,A.menu)===0);var W=A.format;W&&(A.hidden=!f.formatter.canApply(W)),A.hidden&&T--}),T},ll=function(f,v){var T=v.items().length;return v.items().each(function(A){A.menu&&A.visible(0<ll(f,A.menu)),!A.menu&&A.settings.menu&&A.visible(0<Ic(f,A.settings.menu));var W=A.settings.format;W&&A.visible(f.formatter.canApply(W)),A.visible()||T--}),T},ic=function(f){var v,T,A,W,V,pe,ke,Oe,ot=(T=0,A=[],W=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],V=function(It){var et=[];if(It)return L.each(It,function(Tt){var nn={text:Tt.title,icon:Tt.icon};if(Tt.items)nn.menu=V(Tt.items);else{var an=Tt.format||"custom"+T++;Tt.format||(Tt.name=an,A.push(Tt)),nn.format=an,nn.cmd=Tt.cmd}et.push(nn)}),et},(v=f).on("init",function(){L.each(A,function(It){v.formatter.register(It.name,It)})}),{type:"menu",items:v.settings.style_formats_merge?v.settings.style_formats?V(W.concat(v.settings.style_formats)):V(W):V(v.settings.style_formats||W),onPostRender:function(It){v.fire("renderFormatsMenu",{control:It.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return v.formatter.getCssText(this.settings.format)},onPostRender:function(){var It=this;It.parent().on("show",function(){var et,Tt;(et=It.settings.format)&&(It.disabled(!v.formatter.canApply(et)),It.active(v.formatter.match(et))),(Tt=It.settings.cmd)&&It.active(v.queryCommandState(Tt))})},onclick:function(){this.settings.format&&Mi(v,this.settings.format)(),this.settings.cmd&&v.execCommand(this.settings.cmd)}}});pe=ot,f.addMenuItem("formats",{text:"Formats",menu:pe}),Oe=ot,(ke=f).addButton("styleselect",{type:"menubutton",text:"Formats",menu:Oe,onShowMenu:function(){ke.settings.style_formats_autohide&&ll(ke,this.menu)}})},Da=function(f,v){return function(){var T,A,W=[];return L.each(v,function(V){W.push({text:V[0],value:V[1],textStyle:function(){return f.formatter.getCssText(V[1])}})}),{type:"listbox",text:v[0][0],values:W,fixedWidth:!0,onselect:function(V){if(V.control){var pe=V.control.value();Mi(f,pe)()}},onPostRender:(T=f,A=W,function(){var V=this;T.on("nodeChange",function(pe){var ke=T.formatter,Oe=null;L.each(pe.parents,function(ot){if(L.each(A,function(It){if(ke.matchNode(ot,It.value)&&(Oe=It.value),Oe)return!1}),Oe)return!1}),V.value(Oe)})})}}},au=function(f){var v,T,A=function(W){for(var V=(W=W.replace(/;$/,"").split(";")).length;V--;)W[V]=W[V].split("=");return W}(f.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");f.addMenuItem("blockformats",{text:"Blocks",menu:(v=f,T=A,L.map(T,function(W){return{text:W[0],onclick:Mi(v,W[1]),textStyle:function(){return v.formatter.getCssText(W[1])}}}))}),f.addButton("formatselect",Da(f,A))},Xr=function(f,v){var T,A;if(typeof v=="string")A=v.split(" ");else if(L.isArray(v))return function(W){for(var V=[],pe=0,ke=W.length;pe<ke;++pe){if(!Cr(W[pe]))throw new Error("Arr.flatten item "+pe+" was not an array, input: "+W);qe.apply(V,W[pe])}return V}(L.map(v,function(W){return Xr(f,W)}));return T=L.grep(A,function(W){return W==="|"||W in f.menuItems}),L.map(T,function(W){return W==="|"?{text:"-"}:f.menuItems[W]})},wu=function(f){return f&&f.text==="-"},ia=function(f){var v=Un(f,function(T,A){return!wu(T)||!wu(f[A-1])});return Un(v,function(T,A){return!wu(T)||0<A&&A<v.length-1})},Ef=function(f){var v,T,A,W,V=f.settings.insert_button_items;return ia(V?Xr(f,V):(v=f,T="insert",A=[{text:"-"}],W=L.grep(v.menuItems,function(pe){return pe.context===T}),L.each(W,function(pe){pe.separator==="before"&&A.push({text:"|"}),pe.prependToContext?A.unshift(pe):A.push(pe),pe.separator==="after"&&A.push({text:"|"})}),A))},Ts=function(f){var v;(v=f).addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(Ef(v)),this.menu.renderNew()}})},$s=function(f){var v,T,A;v=f,L.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(W,V){v.addButton(V,{active:!1,tooltip:W,onPostRender:iu(v,V),onclick:Mi(v,V)})}),T=f,L.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(W,V){T.addButton(V,{tooltip:W[0],cmd:W[1]})}),A=f,L.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(W,V){A.addButton(V,{active:!1,tooltip:W[0],cmd:W[1],onPostRender:iu(A,V)})})},jo=function(f){var v;$s(f),v=f,L.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(T,A){v.addMenuItem(A,{text:T[0],icon:A,shortcut:T[2],cmd:T[1]})}),v.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:Mi(v,"code")})},Vs=function(f,v){return function(){var T=this,A=function(){var W=v==="redo"?"hasRedo":"hasUndo";return!!f.undoManager&&f.undoManager[W]()};T.disabled(!A()),f.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){T.disabled(f.readonly||!A())})}},hi=function(f){var v,T;(v=f).addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Vs(v,"undo"),cmd:"undo"}),v.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Vs(v,"redo"),cmd:"redo"}),(T=f).addButton("undo",{tooltip:"Undo",onPostRender:Vs(T,"undo"),cmd:"undo"}),T.addButton("redo",{tooltip:"Redo",onPostRender:Vs(T,"redo"),cmd:"redo"})},Xa=function(f){var v,T;(v=f).addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:(T=v,function(){var A=this;T.on("VisualAid",function(W){A.active(W.hasVisual)}),A.active(T.hasVisual)}),cmd:"mceToggleVisualAid"})},fa={setup:function(f){var v;f.rtl&&(di.rtl=!0),f.on("mousedown progressstate",function(){Er.hideAll()}),(v=f).settings.ui_container&&(or.container=ou(br.fromDom(t.document.body),v.settings.ui_container).fold(ut(null),function(T){return T.dom()})),bt.tooltips=!or.iOS,di.translate=function(T){return D.translate(T)},au(f),Pa(f),jo(f),hi(f),kf(f),Ac(f),ic(f),Xa(f),Ts(f)}},_s=Go.extend({recalc:function(f){var v,T,A,W,V,pe,ke,Oe,ot,It,et,Tt,nn,an,Gr,Wr,to,vo,Ln,je,Br,Bo,li,wa,xa,Oi,ha,Ca,Qi=[],Sa=[];for(v=f.settings,W=f.items().filter(":visible"),V=f.layoutRect(),A=v.columns||Math.ceil(Math.sqrt(W.length)),T=Math.ceil(W.length/A),vo=v.spacingH||v.spacing||0,Ln=v.spacingV||v.spacing||0,je=v.alignH||v.align,Br=v.alignV||v.align,Wr=f.paddingBox,Ca=("reverseRows"in v)?v.reverseRows:f.isRtl(),je&&typeof je=="string"&&(je=[je]),Br&&typeof Br=="string"&&(Br=[Br]),et=0;et<A;et++)Qi.push(0);for(Tt=0;Tt<T;Tt++)Sa.push(0);for(Tt=0;Tt<T;Tt++)for(et=0;et<A&&(It=W[Tt*A+et]);et++)wa=(ot=It.layoutRect()).minW,xa=ot.minH,Qi[et]=wa>Qi[et]?wa:Qi[et],Sa[Tt]=xa>Sa[Tt]?xa:Sa[Tt];for(Oi=V.innerW-Wr.left-Wr.right,et=Bo=0;et<A;et++)Bo+=Qi[et]+(0<et?vo:0),Oi-=(0<et?vo:0)+Qi[et];for(ha=V.innerH-Wr.top-Wr.bottom,Tt=li=0;Tt<T;Tt++)li+=Sa[Tt]+(0<Tt?Ln:0),ha-=(0<Tt?Ln:0)+Sa[Tt];if(Bo+=Wr.left+Wr.right,li+=Wr.top+Wr.bottom,(Oe={}).minW=Bo+(V.w-V.innerW),Oe.minH=li+(V.h-V.innerH),Oe.contentW=Oe.minW-V.deltaW,Oe.contentH=Oe.minH-V.deltaH,Oe.minW=Math.min(Oe.minW,V.maxW),Oe.minH=Math.min(Oe.minH,V.maxH),Oe.minW=Math.max(Oe.minW,V.startMinWidth),Oe.minH=Math.max(Oe.minH,V.startMinHeight),!V.autoResize||Oe.minW===V.minW&&Oe.minH===V.minH){var es;V.autoResize&&((Oe=f.layoutRect(Oe)).contentW=Oe.minW-V.deltaW,Oe.contentH=Oe.minH-V.deltaH),es=v.packV==="start"?0:0<ha?Math.floor(ha/T):0;var ts=0,Ga=v.flexWidths;if(Ga)for(et=0;et<Ga.length;et++)ts+=Ga[et];else ts=A;var Na=Oi/ts;for(et=0;et<A;et++)Qi[et]+=Ga?Ga[et]*Na:Na;for(an=Wr.top,Tt=0;Tt<T;Tt++){for(nn=Wr.left,ke=Sa[Tt]+es,et=0;et<A&&(It=W[Ca?Tt*A+A-1-et:Tt*A+et]);et++)Gr=It.settings,ot=It.layoutRect(),pe=Math.max(Qi[et],ot.startMinWidth),ot.x=nn,ot.y=an,(to=Gr.alignH||(je?je[et]||je[0]:null))==="center"?ot.x=nn+pe/2-ot.w/2:to==="right"?ot.x=nn+pe-ot.w:to==="stretch"&&(ot.w=pe),(to=Gr.alignV||(Br?Br[et]||Br[0]:null))==="center"?ot.y=an+ke/2-ot.h/2:to==="bottom"?ot.y=an+ke-ot.h:to==="stretch"&&(ot.h=ke),It.layoutRect(ot),nn+=pe+vo,It.recalc&&It.recalc();an+=ke+Ln}}else if(Oe.w=Oe.minW,Oe.h=Oe.minH,f.layoutRect(Oe),this.recalc(f),f._lastRect===null){var ro=f.parent();ro&&(ro._lastRect=null,ro.recalc())}}}),qs=bt.extend({renderHtml:function(){var f=this;return f.classes.add("iframe"),f.canFocus=!1,'<iframe id="'+f._id+'" class="'+f.classes+'" tabindex="-1" src="'+(f.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(f){this.getEl().src=f},html:function(f,v){var T=this,A=this.getEl().contentWindow.document.body;return A?(A.innerHTML=f,v&&v()):Ie.setTimeout(function(){T.html(f)}),this}}),Ji=bt.extend({init:function(f){this._super(f),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(f){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(f)},help:function(f){this.state.set("help",f)},renderHtml:function(){var f=this,v=f.classPrefix;return'<div id="'+f._id+'" class="'+f.classes+'"><div id="'+f._id+'-body">'+f.encode(f.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+v+"ico "+v+'i-help"></i></button></div></div>'},bindStates:function(){var f=this;return f.state.on("change:text",function(v){f.getEl("body").firstChild.data=f.encode(v.value),f.state.get("rendered")&&f.updateLayoutRect()}),f.state.on("change:help",function(v){f.classes.toggle("has-help",v.value),f.state.get("rendered")&&f.updateLayoutRect()}),f._super()}}),ac=bt.extend({init:function(f){var v=this;v._super(f),v.classes.add("widget").add("label"),v.canFocus=!1,f.multiline&&v.classes.add("autoscroll"),f.strong&&v.classes.add("strong")},initLayoutRect:function(){var f=this,v=f._super();return f.settings.multiline&&(wr.getSize(f.getEl()).width>v.maxW&&(v.minW=v.maxW,f.classes.add("multiline")),f.getEl().style.width=v.minW+"px",v.startMinH=v.h=v.minH=Math.min(v.maxH,wr.getSize(f.getEl()).height)),v},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(f){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(f)},renderHtml:function(){var f,v,T=this,A=T.settings.forId,W=T.settings.html?T.settings.html:T.encode(T.state.get("text"));return!A&&(v=T.settings.forName)&&(f=T.getRoot().find("#"+v)[0])&&(A=f._id),A?'<label id="'+T._id+'" class="'+T.classes+'"'+(A?' for="'+A+'"':"")+">"+W+"</label>":'<span id="'+T._id+'" class="'+T.classes+'">'+W+"</span>"},bindStates:function(){var f=this;return f.state.on("change:text",function(v){f.innerHtml(f.encode(v.value)),f.state.get("rendered")&&f.updateLayoutRect()}),f._super()}}),uc=ft.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(f){this._super(f),this.classes.add("toolbar")},postRender:function(){return this.items().each(function(f){f.classes.add("toolbar-item")}),this._super()}}),Ii=uc.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),qi=ar.extend({init:function(f){var v=this;v._renderOpen=!0,v._super(f),f=v.settings,v.classes.add("menubtn"),f.fixedWidth&&v.classes.add("fixed-width"),v.aria("haspopup",!0),v.state.set("menu",f.menu||v.render())},showMenu:function(f){var v,T=this;if(T.menu&&T.menu.visible()&&f!==!1)return T.hideMenu();T.menu||(v=T.state.get("menu")||[],T.classes.add("opened"),v.length?v={type:"menu",animate:!0,items:v}:(v.type=v.type||"menu",v.animate=!0),v.renderTo?T.menu=v.parent(T).show().renderTo():T.menu=ze.create(v).parent(T).renderTo(),T.fire("createmenu"),T.menu.reflow(),T.menu.on("cancel",function(V){V.control.parent()===T.menu&&(V.stopPropagation(),T.focus(),T.hideMenu())}),T.menu.on("select",function(){T.focus()}),T.menu.on("show hide",function(V){V.type==="hide"&&V.control.parent()===T&&T.classes.remove("opened-under"),V.control===T.menu&&(T.activeMenu(V.type==="show"),T.classes.toggle("opened",V.type==="show")),T.aria("expanded",V.type==="show")}).fire("show")),T.menu.show(),T.menu.layoutRect({w:T.layoutRect().w}),T.menu.repaint(),T.menu.moveRel(T.getEl(),T.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var A=T.menu.layoutRect(),W=T.$el.offset().top+T.layoutRect().h;W>A.y&&W<A.y+A.h&&T.classes.add("opened-under"),T.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each(function(f){f.hideMenu&&f.hideMenu()}),this.menu.hide())},activeMenu:function(f){this.classes.toggle("active",f)},renderHtml:function(){var f,v=this,T=v._id,A=v.classPrefix,W=v.settings.icon,V=v.state.get("text"),pe="";return(f=v.settings.image)?(W="none",typeof f!="string"&&(f=t.window.getSelection?f[0]:f[1]),f=` style="background-image: url('`+f+`')"`):f="",V&&(v.classes.add("btn-has-text"),pe='<span class="'+A+'txt">'+v.encode(V)+"</span>"),W=v.settings.icon?A+"ico "+A+"i-"+W:"",v.aria("role",v.parent()instanceof Ii?"menuitem":"button"),'<div id="'+T+'" class="'+v.classes+'" tabindex="-1" aria-labelledby="'+T+'"><button id="'+T+'-open" role="presentation" type="button" tabindex="-1">'+(W?'<i class="'+W+'"'+f+"></i>":"")+pe+' <i class="'+A+'caret"></i></button></div>'},postRender:function(){var f=this;return f.on("click",function(v){v.control===f&&function(T,A){for(;T;){if(A===T)return!0;T=T.parentNode}return!1}(v.target,f.getEl())&&(f.focus(),f.showMenu(!v.aria),v.aria&&f.menu.items().filter(":visible")[0].focus())}),f.on("mouseenter",function(v){var T,A=v.control,W=f.parent();A&&W&&A instanceof qi&&A.parent()===W&&(W.items().filter("MenuButton").each(function(V){V.hideMenu&&V!==A&&(V.menu&&V.menu.visible()&&(T=!0),V.hideMenu())}),T&&(A.focus(),A.showMenu()))}),f._super()},bindStates:function(){var f=this;return f.state.on("change:menu",function(){f.menu&&f.menu.remove(),f.menu=null}),f._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),cl=Er.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(f){if(f.autohide=!0,f.constrainToViewport=!0,typeof f.items=="function"&&(f.itemsFactory=f.items,f.items=[]),f.itemDefaults)for(var v=f.items,T=v.length;T--;)v[T]=L.extend({},f.itemDefaults,v[T]);this._super(f),this.classes.add("menu"),f.animate&&or.ie!==11&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var f,v=this;function T(){v.throbber&&(v.throbber.hide(),v.throbber=null)}v.settings.itemsFactory&&(v.throbber||(v.throbber=new $i(v.getEl("body"),!0),v.items().length===0?(v.throbber.show(),v.fire("loading")):v.throbber.show(100,function(){v.items().remove(),v.fire("loading")}),v.on("hide close",T)),v.requestTime=f=new Date().getTime(),v.settings.itemsFactory(function(A){A.length!==0?v.requestTime===f&&(v.getEl().style.width="",v.getEl("body").style.width="",T(),v.items().remove(),v.getEl("body").innerHTML="",v.add(A),v.renderNew(),v.fire("loaded")):v.hide()}))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var f=this;return f.items().each(function(v){var T=v.settings;if(T.icon||T.image||T.selectable)return!(f._hasIcons=!0)}),f.settings.itemsFactory&&f.on("postrender",function(){f.settings.itemsFactory&&f.load()}),f.on("show hide",function(v){v.control===f&&(v.type==="show"?Ie.setTimeout(function(){f.classes.add("in")},0):f.classes.remove("in"))}),f._super()}}),Qu=qi.extend({init:function(f){var v,T,A,W,V=this;V._super(f),f=V.settings,V._values=v=f.values,v&&(typeof f.value!="undefined"&&function pe(ke){for(var Oe=0;Oe<ke.length;Oe++){if(T=ke[Oe].selected||f.value===ke[Oe].value)return A=A||ke[Oe].text,V.state.set("value",ke[Oe].value),!0;if(ke[Oe].menu&&pe(ke[Oe].menu))return!0}}(v),!T&&0<v.length&&(A=v[0].text,V.state.set("value",v[0].value)),V.state.set("menu",v)),V.state.set("text",f.text||A),V.classes.add("listbox"),V.on("select",function(pe){var ke=pe.control;W&&(pe.lastControl=W),f.multiple?ke.active(!ke.active()):V.value(pe.control.value()),W=ke})},value:function(f){return arguments.length===0?this.state.get("value"):(f===void 0||(this.settings.values&&!function v(T){return Kt(T,function(A){return A.menu?v(A.menu):A.value===f})}(this.settings.values)?f===null&&this.state.set("value",null):this.state.set("value",f)),this)},bindStates:function(){var f=this;return f.on("show",function(v){var T,A;T=v.control,A=f.value(),T instanceof cl&&T.items().each(function(W){W.hasMenus()||W.active(W.value()===A)})}),f.state.on("change:value",function(v){var T=function A(W,V){var pe;if(W)for(var ke=0;ke<W.length;ke++){if(W[ke].value===V)return W[ke];if(W[ke].menu&&(pe=A(W[ke].menu,V)))return pe}}(f.state.get("menu"),v.value);T?f.text(T.text):f.text(f.settings.text)}),f._super()}}),Bc=bt.extend({Defaults:{border:0,role:"menuitem"},init:function(f){var v,T=this;T._super(f),f=T.settings,T.classes.add("menu-item"),f.menu&&T.classes.add("menu-item-expand"),f.preview&&T.classes.add("menu-item-preview"),(v=T.state.get("text"))!=="-"&&v!=="|"||(T.classes.add("menu-item-sep"),T.aria("role","separator"),T.state.set("text","-")),f.selectable&&(T.aria("role","menuitemcheckbox"),T.classes.add("menu-item-checkbox"),f.icon="selected"),f.preview||f.selectable||T.classes.add("menu-item-normal"),T.on("mousedown",function(A){A.preventDefault()}),f.menu&&!f.ariaHideMenu&&T.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var f,v=this,T=v.settings,A=v.parent();if(A.items().each(function(V){V!==v&&V.hideMenu()}),T.menu){(f=v.menu)?f.show():((f=T.menu).length?f={type:"menu",items:f}:f.type=f.type||"menu",A.settings.itemDefaults&&(f.itemDefaults=A.settings.itemDefaults),(f=v.menu=ze.create(f).parent(v).renderTo()).reflow(),f.on("cancel",function(V){V.stopPropagation(),v.focus(),f.hide()}),f.on("show hide",function(V){V.control.items&&V.control.items().each(function(pe){pe.active(pe.settings.selected)})}).fire("show"),f.on("hide",function(V){V.control===f&&v.classes.remove("selected")}),f.submenu=!0),f._parentMenu=A,f.classes.add("menu-sub");var W=f.testMoveRel(v.getEl(),v.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);f.moveRel(v.getEl(),W),W="menu-sub-"+(f.rel=W),f.classes.remove(f._lastRel).add(W),f._lastRel=W,v.classes.add("selected"),v.aria("expanded",!0)}},hideMenu:function(){var f=this;return f.menu&&(f.menu.items().each(function(v){v.hideMenu&&v.hideMenu()}),f.menu.hide(),f.aria("expanded",!1)),f},renderHtml:function(){var f,v=this,T=v._id,A=v.settings,W=v.classPrefix,V=v.state.get("text"),pe=v.settings.icon,ke="",Oe=A.shortcut,ot=v.encode(A.url);function It(nn){return nn.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function et(nn){var an=A.match||"";return an?nn.replace(new RegExp(It(an),"gi"),function(Gr){return"!mce~match["+Gr+"]mce~match!"}):nn}function Tt(nn){return nn.replace(new RegExp(It("!mce~match["),"g"),"<b>").replace(new RegExp(It("]mce~match!"),"g"),"</b>")}return pe&&v.parent().classes.add("menu-has-icons"),A.image&&(ke=` style="background-image: url('`+A.image+`')"`),Oe&&(Oe=function(nn){var an,Gr,Wr={};for(Wr=or.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},nn=nn.split("+"),an=0;an<nn.length;an++)(Gr=Wr[nn[an].toLowerCase()])&&(nn[an]=Gr);return nn.join("+")}(Oe)),pe=W+"ico "+W+"i-"+(v.settings.icon||"none"),f=V!=="-"?'<i class="'+pe+'"'+ke+"></i>\xA0":"",V=Tt(v.encode(et(V))),ot=Tt(v.encode(et(ot))),'<div id="'+T+'" class="'+v.classes+'" tabindex="-1">'+f+(V!=="-"?'<span id="'+T+'-text" class="'+W+'text">'+V+"</span>":"")+(Oe?'<div id="'+T+'-shortcut" class="'+W+'menu-shortcut">'+Oe+"</div>":"")+(A.menu?'<div class="'+W+'caret"></div>':"")+(ot?'<div class="'+W+'menu-item-link">'+ot+"</div>":"")+"</div>"},postRender:function(){var f=this,v=f.settings,T=v.textStyle;if(typeof T=="function"&&(T=T.call(this)),T){var A=f.getEl("text");A&&(A.setAttribute("style",T),f._textStyle=T)}return f.on("mouseenter click",function(W){W.control===f&&(v.menu||W.type!=="click"?(f.showMenu(),W.aria&&f.menu.focus(!0)):(f.fire("select"),Ie.requestAnimationFrame(function(){f.parent().hideAll()})))}),f._super(),f},hover:function(){return this.parent().items().each(function(f){f.classes.remove("selected")}),this.classes.toggle("selected",!0),this},active:function(f){return function(v,T){var A=v._textStyle;if(A){var W=v.getEl("text");W.setAttribute("style",A),T&&(W.style.color="",W.style.backgroundColor="")}}(this,f),f!==void 0&&this.aria("checked",f),this._super(f)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Zu=mo.extend({Defaults:{classes:"radio",role:"radio"}}),Ns=bt.extend({renderHtml:function(){var f=this,v=f.classPrefix;return f.classes.add("resizehandle"),f.settings.direction==="both"&&f.classes.add("resizehandle-both"),f.canFocus=!1,'<div id="'+f._id+'" class="'+f.classes+'"><i class="'+v+"ico "+v+'i-resize"></i></div>'},postRender:function(){var f=this;f._super(),f.resizeDragHelper=new Ft(this._id,{start:function(){f.fire("ResizeStart")},drag:function(v){f.settings.direction!=="both"&&(v.deltaX=0),f.fire("Resize",v)},stop:function(){f.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function ss(f){var v="";if(f)for(var T=0;T<f.length;T++)v+='<option value="'+f[T]+'">'+f[T]+"</option>";return v}var wi=bt.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(f){var v=this;v._super(f),v.settings.size&&(v.size=v.settings.size),v.settings.options&&(v._options=v.settings.options),v.on("keydown",function(T){var A;T.keyCode===13&&(T.preventDefault(),v.parents().reverse().each(function(W){if(W.toJSON)return A=W,!1}),v.fire("submit",{data:A.toJSON()}))})},options:function(f){return arguments.length?(this.state.set("options",f),this):this.state.get("options")},renderHtml:function(){var f,v=this,T="";return f=ss(v._options),v.size&&(T=' size = "'+v.size+'"'),'<select id="'+v._id+'" class="'+v.classes+'"'+T+">"+f+"</select>"},bindStates:function(){var f=this;return f.state.on("change:options",function(v){f.getEl().innerHTML=ss(v.value)}),f._super()}});function fl(f,v,T){return f<v&&(f=v),T<f&&(f=T),f}function xu(f,v,T){f.setAttribute("aria-"+v,T)}function Ys(f,v){var T,A,W,V,pe;f.settings.orientation==="v"?(W="top",A="height",T="h"):(W="left",A="width",T="w"),pe=f.getEl("handle"),V=((f.layoutRect()[T]||100)-wr.getSize(pe)[A])*((v-f._minValue)/(f._maxValue-f._minValue))+"px",pe.style[W]=V,pe.style.height=f.layoutRect().h+"px",xu(pe,"valuenow",v),xu(pe,"valuetext",""+f.settings.previewFilter(v)),xu(pe,"valuemin",f._minValue),xu(pe,"valuemax",f._maxValue)}var Rs=bt.extend({init:function(f){var v=this;f.previewFilter||(f.previewFilter=function(T){return Math.round(100*T)/100}),v._super(f),v.classes.add("slider"),f.orientation==="v"&&v.classes.add("vertical"),v._minValue=Qt(f.minValue)?f.minValue:0,v._maxValue=Qt(f.maxValue)?f.maxValue:100,v._initValue=v.state.get("value")},renderHtml:function(){var f=this._id,v=this.classPrefix;return'<div id="'+f+'" class="'+this.classes+'"><div id="'+f+'-handle" class="'+v+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var f,v,T,A,W,V,pe,ke,Oe,ot,It,et,Tt,nn,an=this;f=an._minValue,v=an._maxValue,an.settings.orientation==="v"?(T="screenY",A="top",W="height",V="h"):(T="screenX",A="left",W="width",V="w"),an._super(),function(Gr,Wr){function to(vo){var Ln,je,Br,Bo;Ln=fl(Ln=(((Ln=an.value())+(Bo=je=Gr))/((Br=Wr)-Bo)+.05*vo)*(Br-je)-je,Gr,Wr),an.value(Ln),an.fire("dragstart",{value:Ln}),an.fire("drag",{value:Ln}),an.fire("dragend",{value:Ln})}an.on("keydown",function(vo){switch(vo.keyCode){case 37:case 38:to(-1);break;case 39:case 40:to(1)}})}(f,v),pe=f,ke=v,Oe=an.getEl("handle"),an._dragHelper=new Ft(an._id,{handle:an._id+"-handle",start:function(Gr){ot=Gr[T],It=parseInt(an.getEl("handle").style[A],10),et=(an.layoutRect()[V]||100)-wr.getSize(Oe)[W],an.fire("dragstart",{value:nn})},drag:function(Gr){var Wr=Gr[T]-ot;Tt=fl(It+Wr,0,et),Oe.style[A]=Tt+"px",nn=pe+Tt/et*(ke-pe),an.value(nn),an.tooltip().text(""+an.settings.previewFilter(nn)).show().moveRel(Oe,"bc tc"),an.fire("drag",{value:nn})},stop:function(){an.tooltip().hide(),an.fire("dragend",{value:nn})}})},repaint:function(){this._super(),Ys(this,this.value())},bindStates:function(){var f=this;return f.state.on("change:value",function(v){Ys(f,v.value)}),f._super()}}),Ri=bt.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),uu=qi.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var f,v,T=this.getEl(),A=this.layoutRect();return this._super(),f=T.firstChild,v=T.lastChild,sn(f).css({width:A.w-wr.getSize(v).width,height:A.h-2}),sn(v).css({height:A.h-2}),this},activeMenu:function(f){sn(this.getEl().lastChild).toggleClass(this.classPrefix+"active",f)},renderHtml:function(){var f,v,T=this,A=T._id,W=T.classPrefix,V=T.state.get("icon"),pe=T.state.get("text"),ke=T.settings,Oe="";return(f=ke.image)?(V="none",typeof f!="string"&&(f=t.window.getSelection?f[0]:f[1]),f=` style="background-image: url('`+f+`')"`):f="",V=ke.icon?W+"ico "+W+"i-"+V:"",pe&&(T.classes.add("btn-has-text"),Oe='<span class="'+W+'txt">'+T.encode(pe)+"</span>"),v=typeof ke.active=="boolean"?' aria-pressed="'+ke.active+'"':"",'<div id="'+A+'" class="'+T.classes+'" role="button"'+v+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(V?'<i class="'+V+'"'+f+"></i>":"")+Oe+'</button><button type="button" class="'+W+'open" hidefocus="1" tabindex="-1">'+(T._menuBtnText?(V?"\xA0":"")+T._menuBtnText:"")+' <i class="'+W+'caret"></i></button></div>'},postRender:function(){var f=this.settings.onclick;return this.on("click",function(v){var T=v.target;if(v.control===this)for(;T;){if(v.aria&&v.aria.key!=="down"||T.nodeName==="BUTTON"&&T.className.indexOf("open")===-1)return v.stopImmediatePropagation(),void(f&&f.call(this,v));T=T.parentNode}}),delete this.settings.onclick,this._super()}}),Cu=ca.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Lc=_n.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(f){var v;this.activeTabId&&(v=this.getEl(this.activeTabId),sn(v).removeClass(this.classPrefix+"active"),v.setAttribute("aria-selected","false")),this.activeTabId="t"+f,(v=this.getEl("t"+f)).setAttribute("aria-selected","true"),sn(v).addClass(this.classPrefix+"active"),this.items()[f].show().fire("showtab"),this.reflow(),this.items().each(function(T,A){f!==A&&T.hide()})},renderHtml:function(){var f=this,v=f._layout,T="",A=f.classPrefix;return f.preRender(),v.preRender(f),f.items().each(function(W,V){var pe=f._id+"-t"+V;W.aria("role","tabpanel"),W.aria("labelledby",pe),T+='<div id="'+pe+'" class="'+A+'tab" unselectable="on" role="tab" aria-controls="'+W._id+'" aria-selected="false" tabIndex="-1">'+f.encode(W.settings.title)+"</div>"}),'<div id="'+f._id+'" class="'+f.classes+'" hidefocus="1" tabindex="-1"><div id="'+f._id+'-head" class="'+A+'tabs" role="tablist">'+T+'</div><div id="'+f._id+'-body" class="'+f.bodyClasses+'">'+v.renderHtml(f)+"</div></div>"},postRender:function(){var f=this;f._super(),f.settings.activeTab=f.settings.activeTab||0,f.activateTab(f.settings.activeTab),this.on("click",function(v){var T=v.target.parentNode;if(T&&T.id===f._id+"-head")for(var A=T.childNodes.length;A--;)T.childNodes[A]===v.target&&f.activateTab(A)})},initLayoutRect:function(){var f,v,T,A=this;v=(v=wr.getSize(A.getEl("head")).width)<0?0:v,T=0,A.items().each(function(V){v=Math.max(v,V.layoutRect().minW),T=Math.max(T,V.layoutRect().minH)}),A.items().each(function(V){V.settings.x=0,V.settings.y=0,V.settings.w=v,V.settings.h=T,V.layoutRect({x:0,y:0,w:v,h:T})});var W=wr.getSize(A.getEl("head")).height;return A.settings.minWidth=v,A.settings.minHeight=T+W,(f=A._super()).deltaH+=W,f.innerH=f.h-f.deltaH,f}}),Iu=bt.extend({init:function(f){var v=this;v._super(f),v.classes.add("textbox"),f.multiline?v.classes.add("multiline"):(v.on("keydown",function(T){var A;T.keyCode===13&&(T.preventDefault(),v.parents().reverse().each(function(W){if(W.toJSON)return A=W,!1}),v.fire("submit",{data:A.toJSON()}))}),v.on("keyup",function(T){v.state.set("value",T.target.value)}))},repaint:function(){var f,v,T,A,W,V=this,pe=0;f=V.getEl().style,v=V._layoutRect,W=V._lastRepaintRect||{};var ke=t.document;return!V.settings.multiline&&ke.all&&(!ke.documentMode||ke.documentMode<=8)&&(f.lineHeight=v.h-pe+"px"),A=(T=V.borderBox).left+T.right+8,pe=T.top+T.bottom+(V.settings.multiline?8:0),v.x!==W.x&&(f.left=v.x+"px",W.x=v.x),v.y!==W.y&&(f.top=v.y+"px",W.y=v.y),v.w!==W.w&&(f.width=v.w-A+"px",W.w=v.w),v.h!==W.h&&(f.height=v.h-pe+"px",W.h=v.h),V._lastRepaintRect=W,V.fire("repaint",{},!1),V},renderHtml:function(){var f,v,T=this,A=T.settings;return f={id:T._id,hidefocus:"1"},L.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(W){f[W]=A[W]}),T.disabled()&&(f.disabled="disabled"),A.subtype&&(f.type=A.subtype),(v=wr.create(A.multiline?"textarea":"input",f)).value=T.state.get("value"),v.className=T.classes.toString(),v.outerHTML},value:function(f){return arguments.length?(this.state.set("value",f),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var f=this;f.getEl().value=f.state.get("value"),f._super(),f.$el.on("change",function(v){f.state.set("value",v.target.value),f.fire("change",v)})},bindStates:function(){var f=this;return f.state.on("change:value",function(v){f.getEl().value!==v.value&&(f.getEl().value=v.value)}),f.state.on("change:disabled",function(v){f.getEl().disabled=v.value}),f._super()},remove:function(){this.$el.off(),this._super()}}),Bu=function(){return{Selector:gt,Collection:bn,ReflowQueue:Xi,Control:di,Factory:ze,KeyboardNavigation:oe,Container:ft,DragHelper:Ft,Scrollable:Kn,Panel:_n,Movable:Jt,Resizable:gn,FloatPanel:Er,Window:yr,MessageBox:Mr,Tooltip:tt,Widget:bt,Progress:Ot,Notification:cn,Layout:Di,AbsoluteLayout:Go,Button:ar,ButtonGroup:xo,Checkbox:mo,ComboBox:Vo,ColorBox:Oo,PanelButton:mi,ColorButton:ra,ColorPicker:Ni,Path:ga,ElementPath:vi,FormItem:Si,Form:Ka,FieldSet:Gi,FilePicker:Au,FitLayout:Sf,FlexLayout:Dc,FlowLayout:ca,FormatControls:fa,GridLayout:_s,Iframe:qs,InfoBox:Ji,Label:ac,Toolbar:uc,MenuBar:Ii,MenuButton:qi,MenuItem:Bc,Throbber:$i,Menu:cl,ListBox:Qu,Radio:Zu,ResizeHandle:Ns,SelectBox:wi,Slider:Rs,Spacer:Ri,SplitButton:uu,StackLayout:Cu,TabPanel:Lc,TextBox:Iu,DropZone:oa,BrowseButton:st}},Aa=function(f){f.ui?L.each(Bu(),function(v,T){f.ui[T]=v}):f.ui=Bu()};L.each(Bu(),function(f,v){ze.add(v,f)}),Aa(window.tinymce?window.tinymce:{}),x.add("modern",function(f){return fa.setup(f),Ro(f)})})(window);function lj({field:t,fieldChanged:r,value:a}){const l=wo.exports.useRef(null);var x=t.options[0].tinymce[0].toolbar1.replace(/,/g,"");return _t("div",{className:"fieldset__text",children:ao("div",{className:"fieldset__text-wrapper",children:[_t("div",{className:"fieldset__label-wrap",children:_t("label",{children:t.name})}),_t("div",{className:"fieldset__field-wrap",children:_t(sj,{onInit:(D,L)=>l.current=L,initialValue:a,init:{height:100,elementpath:!1,menubar:!1,plugins:"lists link media table code",toolbar:x||"",max_height:300,content_style:"body { font-family:Helvetica,Arial,sans-serif; font-size:14px }"},name:t.id,id:t.id,onEditorChange:(D,L)=>{r(t.id,D)}})})]})})}function JA({data:t,fieldChanged:r,values:a}){return _t(zd,{children:t.map((l,g)=>ao("div",{className:"fieldset",children:[l.type=="text"?_t(Yz,{field:l,fieldChanged:r,value:a[l.id]}):"",l.type=="wysiwyg"?_t(lj,{field:l,fieldChanged:r,value:a[l.id]}):""]},g))})}const cj=t=>{const[r,a]=wo.exports.useState(1);return wo.exports.useEffect(()=>{Ip.get("http://localhost:4000/posts/get-postid").then(({data:l})=>{a(l)}).catch(l=>{console.log(l)})},[t,r]),r};function QA(t){const r=wb(),a=async g=>{g.preventDefault();for(let[x,D]of Object.entries(t.values)){let L=x,U=D;Ip.put("http://localhost:4000/posts/update-post/"+t.post_id,{meta_key:L,meta_value:U}).then(X=>{X.status===200?console.log(L+" - "+U):Promise.reject()})}},l=async g=>{g.preventDefault(),Ip.delete("http://localhost:4000/posts/delete-post/"+t.post_id).then(x=>{x.status===200||Promise.reject()}).catch(x=>alert("Something went wrong")),r("/dashboard/edit?post_type="+t.post_type)};return ao("div",{className:"content__post-section-2",children:[_t("div",{className:"content__post-header",children:_t("label",{children:"Publish"})}),ao("div",{className:"content__post-publish",children:[_t("div",{className:"content__post-publish-btn--secondary",children:t.type=="update"?ao(zd,{children:[" ",_t("button",{type:"submit",className:"btn--secondary",onClick:a,children:"Update"}),_t("button",{type:"submit",className:"btn--secondary",onClick:l,children:"Move to trash"})]}):_t("button",{type:"submit",className:"btn--secondary",children:"Save Draft"})}),_t("div",{className:"publish-actions",children:ao("div",{className:"publish-action-item",children:[_t(as,{title:"dashicons:post-status",class:"publish-action"})," ",_t("p",{children:"Status: Draft"})]})})]})]})}function fj(t){const r=wb(),a=qA(t.type),[l,g]=wo.exports.useState({}),x=(U,X)=>{g(se=>(se[U]=X,se["post-type"]=t.type,se))};let D=cj(t);const L=async U=>{U.preventDefault();for(let[X,se]of Object.entries(l)){let re=X,ee=se;Ip.post("http://localhost:4000/posts/new-post",{post_id:D,meta_key:re,meta_value:ee}).then(Me=>{Me.status===200?console.log("Post successfully created"):Promise.reject()}).catch(Me=>alert("Something went wrong"))}r("/dashboard/post?post="+D)};return ao(zd,{children:[ao("div",{children:[_t(Id,{title:"Dashboard",url:"/",class:"breadcrumb"})," \xBB ",_t(Id,{title:t.titles,url:"/dashboard/edit?post_type="+t.type,class:"breadcrumb"})]}),_t("h1",{className:"content__heading-inline",children:"Add New "+t.title}),_t("div",{className:"content__post-wrapper",children:_t("div",{className:"content__post-container",children:ao("form",{name:"post",id:"post",onSubmit:L,children:[_t("div",{className:"content__post-section-1",children:ao("div",{className:"content__post-header",children:[_t("label",{children:"Title"}),_t("input",{type:"text",name:"post-title",id:"post-title",value:l["post-title"],onChange:U=>{x(U.target.id,U.target.value)}})]})}),_t(QA,{type:"new",values:l,post_id:D,post_type:t.type}),a.map((U,X)=>U.meta_box?U.meta_box.map((se,re)=>ao("div",{className:"content__post-section-3",children:[_t("div",{className:"content__post-header",children:_t("label",{children:se.title})}),_t(JA,{data:se.fields,fieldChanged:x,values:l})]},re)):"")]})})})]})}const dj=()=>{let t=0;const[r]=dT(),l=ah().pathname.split("/"),g=l[l.length-1];return t=r.get("post")?r.get("post"):g,t},mj=t=>{const[r,a]=wo.exports.useState("");return wo.exports.useEffect(()=>{Ip.get("http://localhost:4000/posts/get-posttype/"+t).then(({data:l})=>{a(l)}).catch(l=>{console.log(l)})},[t,r]),r},hj=t=>{const[r,a]=wo.exports.useState([]);return wo.exports.useEffect(()=>{Ip.get("http://localhost:4000/posts/update-post/"+t).then(l=>{a(l.data)}).catch(l=>console.log(l))},[t]),r},ZA=NT(),pj=()=>{let t;const[r]=dT(),l=ah().pathname.split("/"),g=l[l.length-1];return t=r.get("post_type")?r.get("post_type"):g,t},e2=t=>{let r;return ZA.map((a,l)=>{for(let[g,x]of Object.entries(a.subtitles))x.posttype==t&&(r=x.title)})?r:""},t2=t=>{let r;return ZA.map((a,l)=>{for(let[g,x]of Object.entries(a.subtitles))x.posttype==t&&(r=x.title_singular)})?r:""};function gj(t){const r=dj(),a=hj(r),l=mj(r),g=qA(l),x=t2(l),D=e2(l),[L,U]=wo.exports.useState({});wo.exports.useEffect(()=>{U(se=>(a.map((re,ee)=>{se[re.meta_key]=re.meta_value,se["post-type"]=l}),se))},[a]);const X=(se,re)=>{U(ee=>(ee[se]=re,ee["post-type"]=l,ee))};return ao(zd,{children:[ao("div",{children:[_t(Id,{title:"Dashboard",url:"/",class:"breadcrumb"})," \xBB ",_t(Id,{title:D,url:"/dashboard/edit?post_type="+l,class:"breadcrumb"})]}),_t("h1",{className:"content__heading-inline",children:"Edit "+x}),_t(Id,{title:"Add New",url:"/dashboard/post-new?post_type="+l,class:"green-hollow-white"}),_t("div",{className:"content__post-wrapper",children:_t("div",{className:"content__post-container",children:ao("form",{name:"post",id:"post",children:[_t("div",{className:"content__post-section-1",children:ao("div",{className:"content__post-header",children:[_t("label",{children:"Title"}),_t("input",{type:"text",name:"post-title",id:"post-title",defaultValue:L["post-title"],onChange:se=>{X(se.target.id,se.target.value)}})]})}),_t(QA,{type:"update",values:L,post_id:r,post_type:l}),g.map((se,re)=>se.meta_box?se.meta_box.map((ee,Me)=>ao("div",{className:"content__post-section-3",children:[_t("div",{className:"content__post-header",children:_t("label",{children:ee.title})}),_t(JA,{data:ee.fields,fieldChanged:X,values:L})]},Me)):"")]})})})]})}const vj=()=>{window.scrollTo({top:0,behavior:"smooth"})};function yj(){const t=pj(),r=e2(t),a=t2(t);return ao("div",{className:"dashboard",children:[vj(),_t(Iz,{}),_t(qz,{}),_t("div",{className:"content",children:_t("div",{className:"content__wrapper",children:ao(aA,{children:[_t(Wm,{path:"/*",element:_t(fH,{})}),_t(Wm,{path:"/dashboard/my-sites/",element:_t(Az,{})}),_t(Wm,{path:"/dashboard/edit/",element:_t(Dz,{type:t,title:r})}),_t(Wm,{path:"/dashboard/post-new/",element:_t(fj,{type:t,title:a,titles:r})}),_t(Wm,{path:"/dashboard/post/",element:_t(gj,{title:a,titles:r})})]})})})]})}function bj(){return _t(iF,{children:ao(aA,{children:[_t(Wm,{path:"/",element:_t(tF,{to:"/dashboard"})}),_t(Wm,{path:"/*",element:_t(yj,{})})]})})}dk.createRoot(document.getElementById("root")).render(_t(Zm.StrictMode,{children:_t(bj,{})}))});export default wj();
